"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[5872],{47466:(A,D,t)=>{t.d(D,{o:()=>c});var s=t(74848),o=t(22803),h=t(63142),_=t(77239);const c=({items:p,children:x,isPinned:e,scrollable:m=!1,maxHeight:O})=>{const E=(0,h.of)(v),M=m?{maxHeight:O,overflowY:"auto"}:{};return(0,s.jsxs)("div",{className:E.wrapper,style:M,children:[p.map(({label:r,value:f,color:g,colorIndicator:a,colorPlacement:u,isActive:d,lineStyle:n},l)=>(0,s.jsx)(_.B,{label:r,value:f,color:g,colorIndicator:a,colorPlacement:u,isActive:d,justify:"space-between",isPinned:e,lineStyle:n,showValueScroll:!m},l)),x]})},v=p=>({wrapper:(0,o.css)({display:"flex",flexDirection:"column",flex:1,gap:2,borderTop:`1px solid ${p.colors.border.weak}`,padding:p.spacing(1)})})},39064:(A,D,t)=>{t.d(D,{S:()=>f});var s=t(74848),o=t(22803),h=t(96540),_=t(41654),c=t(30703),v=t(28134),p=t(45861),x=t(63142),e=t(7685),m=t(31210);const O="add-annotation-button";function E(a,u,d){return(l,i)=>{if(l.length===0)return;const T=l.find(C=>C.oneClick===!0);return T!=null?(0,s.jsx)("div",{className:i.dataLinks,children:(0,s.jsx)(_.B,{direction:"column",justifyContent:"flex-start",gap:.5,children:(0,s.jsxs)("span",{className:i.oneClickWrapper,children:[(0,s.jsx)(c.I,{name:"info-circle",size:"lg",className:i.infoIcon}),a(T.title)]})})}):(0,s.jsx)("div",{className:i.dataLinks,children:(0,s.jsx)(_.B,{direction:"column",justifyContent:"flex-start",gap:d,children:l.map((C,j)=>u(C,j,i))})})}}const M=E(a=>(0,s.jsxs)(e.x,{i18nKey:"grafana-ui.viz-tooltip.footer-click-to-navigate",children:["Click to open ",{linkTitle:a}]}),(a,u,d)=>(0,s.jsx)(v.R,{link:a,buttonProps:{className:d.dataLinkButton,fill:"text"}},u),.5),r=E(a=>(0,s.jsxs)(e.x,{i18nKey:"grafana-ui.viz-tooltip.footer-click-to-action",children:["Click to ",{actionTitle:a}]}),(a,u,d)=>(0,s.jsx)(m.r,{action:a,variant:"secondary"},u)),f=({dataLinks:a,actions:u=[],annotate:d})=>{const n=(0,x.of)(g),l=(0,h.useMemo)(()=>a.some(T=>T.oneClick===!0),[a]),i=(0,h.useMemo)(()=>u.some(T=>T.oneClick===!0),[u]);return(0,s.jsxs)("div",{className:n.wrapper,children:[!i&&M(a,n),!l&&r(u,n),!l&&!i&&d!=null&&(0,s.jsx)("div",{className:n.addAnnotations,children:(0,s.jsx)(p.$n,{icon:"comment-alt",variant:"secondary",size:"sm",id:O,onClick:d,children:(0,s.jsx)(e.x,{i18nKey:"grafana-ui.viz-tooltip.footer-add-annotation",children:"Add annotation"})})})]})},g=a=>({wrapper:(0,o.css)({display:"flex",flexDirection:"column",flex:1,padding:a.spacing(0)}),dataLinks:(0,o.css)({borderTop:`1px solid ${a.colors.border.medium}`,padding:a.spacing(1)}),addAnnotations:(0,o.css)({borderTop:`1px solid ${a.colors.border.medium}`,padding:a.spacing(1)}),dataLinkButton:(0,o.css)({cursor:"pointer","&:hover":{textDecoration:"underline",background:"none"},height:"auto","& span":{whiteSpace:"normal",textAlign:"left"}}),oneClickWrapper:(0,o.css)({display:"flex",alignItems:"center"}),infoIcon:(0,o.css)({color:a.colors.primary.main,paddingRight:a.spacing(.5)})})},41530:(A,D,t)=>{t.d(D,{A:()=>c});var s=t(74848),o=t(22803),h=t(63142),_=t(77239);const c=({item:p,isPinned:x})=>{const e=(0,h.of)(v),{label:m,value:O,color:E,colorIndicator:M}=p;return(0,s.jsx)("div",{className:e.wrapper,children:(0,s.jsx)(_.B,{label:m,value:O,color:E,colorIndicator:M,marginRight:"22px",isPinned:x})})},v=p=>({wrapper:(0,o.css)({display:"flex",flexDirection:"column",flex:1,padding:p.spacing(1),lineHeight:1})})},77239:(A,D,t)=>{t.d(D,{B:()=>u});var s=t(74848),o=t(22803),h=t(96540),_=t(63142),c=t(53371),v=t(45967),p=t(64394),x=t(71479),e=t(55978),m=t(55302),O=(n=>(n[n.Leading=0]="Leading",n[n.Trailing=1]="Trailing",n))(O||{});const E=({color:n=p.F,colorIndicator:l=e.Ev,position:i=0,lineStyle:T})=>{const C=(0,_.of)(M);return l===e.fX.series?(0,s.jsx)(x.p,{color:n,lineStyle:T,className:i===0?C.leading:C.trailing}):(0,s.jsx)("span",{style:{backgroundColor:n},className:(0,o.cx)(i===0?C.leading:C.trailing,(0,m.L$)(l,C))})},M=n=>({leading:(0,o.css)({marginRight:n.spacing(.5)}),trailing:(0,o.css)({marginLeft:n.spacing(.5)}),value:(0,o.css)({width:"12px",height:"12px",borderRadius:n.shape.radius.default,fontWeight:500,minWidth:"12px"}),hexagon:(0,o.css)({}),pie_1_4:(0,o.css)({}),pie_2_4:(0,o.css)({}),pie_3_4:(0,o.css)({}),marker_sm:(0,o.css)({width:"4px",height:"4px",borderRadius:n.shape.radius.circle,minWidth:"4px"}),marker_md:(0,o.css)({width:"8px",height:"8px",borderRadius:n.shape.radius.circle,minWidth:"8px"}),marker_lg:(0,o.css)({width:"12px",height:"12px",borderRadius:n.shape.radius.circle,minWidth:"12px"})});var r=(n=>(n.label="label",n.value="value",n))(r||{});const f="Copied to clipboard",g=2*1e3,a=7,u=({label:n,value:l,color:i,colorIndicator:T,colorPlacement:C=e.lJ.first,justify:j="flex-start",isActive:L=!1,marginRight:k="0px",isPinned:I,lineStyle:y,showValueScroll:B})=>{const R=(0,_.of)(d,j,k),$=B?{maxHeight:55,whiteSpace:"wrap",wordBreak:"break-word",overflowY:"auto"}:{whiteSpace:"wrap",wordBreak:"break-word"},[J,F]=(0,h.useState)(!1),[z,K]=(0,h.useState)(null),[U,w]=(0,h.useState)(!1),N=(0,h.useRef)(null),b=(0,h.useRef)(null);(0,h.useEffect)(()=>{let P;return U&&(P=setTimeout(()=>{w(!1)},g)),()=>{window.clearTimeout(P)}},[U]);const G=async(P,S)=>{if(!(navigator?.clipboard&&window.isSecureContext)){V(P,S);return}try{await navigator.clipboard.writeText(P),K({[`${S}`]:P}),w(!0)}catch{K(null)}},V=(P,S)=>{const W=document.createElement("textarea");N.current?.appendChild(W),W.value=P,W.focus(),W.select();try{document.execCommand("copy")&&(K({[`${S}`]:P}),w(!0))}catch(X){console.error("Unable to copy to clipboard",X)}W.remove()},Y=P=>{P.currentTarget.offsetWidth<P.currentTarget.scrollWidth&&F(!0)},Z=()=>F(!1);return n.length*a>window.innerWidth/2&&(n=n.replaceAll("{",`{
  `).replaceAll("}",`
}`).replaceAll(", ",`,
  `)),(0,s.jsxs)("div",{className:R.contentWrapper,children:[(i||n)&&(0,s.jsxs)("div",{className:R.valueWrapper,children:[i&&C===e.lJ.first&&(0,s.jsx)(E,{color:i,colorIndicator:T,lineStyle:y}),I?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(v.m,{content:n,interactive:!1,show:J,children:(0,s.jsxs)(s.Fragment,{children:[U&&z?.label&&(0,s.jsx)(c.r,{placement:"top",referenceElement:N.current,children:f}),(0,s.jsx)("div",{className:(0,o.cx)(R.label,L&&R.activeSeries,navigator?.clipboard&&R.copy),onMouseEnter:Y,onMouseLeave:Z,onClick:()=>G(n,"label"),ref:N,children:n})]})})}):(0,s.jsx)("div",{className:(0,o.cx)(R.label,L&&R.activeSeries),children:n})]}),(0,s.jsxs)("div",{className:R.valueWrapper,children:[i&&C===e.lJ.leading&&(0,s.jsx)(E,{color:i,colorIndicator:T,position:O.Leading,lineStyle:y}),I?(0,s.jsxs)(s.Fragment,{children:[U&&z?.value&&(0,s.jsx)(c.r,{placement:"top",referenceElement:b.current,children:f}),(0,s.jsx)("div",{className:(0,o.cx)(R.value,L,navigator?.clipboard&&R.copy),style:$,onClick:()=>G(l?l.toString():"","value"),ref:b,children:l})]}):(0,s.jsx)("div",{className:(0,o.cx)(R.value,L),style:$,children:l}),i&&C===e.lJ.trailing&&(0,s.jsx)(E,{color:i,colorIndicator:T,position:O.Trailing,lineStyle:y})]})]})},d=(n,l,i)=>({contentWrapper:(0,o.css)({display:"flex",alignItems:"start",justifyContent:l,marginRight:i}),label:(0,o.css)({color:n.colors.text.secondary,fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",marginRight:n.spacing(2)}),value:(0,o.css)({fontWeight:500,textOverflow:"ellipsis",overflow:"hidden"}),valueWrapper:(0,o.css)({display:"flex",alignItems:"center"}),activeSeries:(0,o.css)({fontWeight:n.typography.fontWeightBold,color:n.colors.text.maxContrast}),copy:(0,o.css)({cursor:"pointer"})})},73163:(A,D,t)=>{t.d(D,{X:()=>O,k:()=>e});var s=t(60519),o=t(32899),h=t(95004),_=t(63704),c=t(68143),v=t(73427),p=t(86967),x=t(92367);const e=(r,f,g,a,u,d)=>!u||u.length===0?[]:u.map(l=>{const i=(0,s.vd)(r,f,g),T={...g,__dataContext:i},C=(I,y,B)=>a(I,{...T,...y},B);d.valueRowIndex!==void 0&&!isNaN(d.valueRowIndex)?i.value.rowIndex=d.valueRowIndex:i.value.calculatedValue=d.calculatedValue;const j=a(l.title,T),L=a(l.confirmation||`Are you sure you want to ${l.title}?`,T);return{title:j,confirmation:L,onClick:(I,y)=>{m(l,C)},oneClick:l.oneClick??!1}}).filter(l=>!!l),m=(r,f)=>{try{const g=new URL(E(f(r.fetch.url))),a={};let u={url:g.toString(),method:r.fetch.method,data:M(r,f),headers:a};r.fetch.headers&&r.fetch.headers.forEach(([d,n])=>{a[f(d)]=f(n)}),r.fetch.queryParams&&(r.fetch.queryParams?.forEach(([d,n])=>{g.searchParams.append(f(d),f(n))}),u.url=g.toString()),a["X-Grafana-Action"]="1",u.headers=a,(0,c.AI)().fetch(u).subscribe({error:d=>{v.lE.emit(o.r1.alertError,["An error has occurred. Check console output for more details."]),console.error(d)},complete:()=>{v.lE.emit(o.r1.alertSuccess,["API call was successful"])}})}catch(g){v.lE.emit(o.r1.alertError,["An error has occurred. Check console output for more details."]),console.error(g);return}},O=(r=[],f=[])=>({name:"Default field",type:h.PU.string,config:{links:r,actions:f},values:[]}),E=r=>{if(r.startsWith("/")){const g=_.sQ.sanitizeUrl(r);r=(0,x.z)(g,[])}return r},M=(r,f)=>{let g=r.fetch.body?f(r.fetch.body):"{}";return r.fetch.method===p.DO.GET&&(g=void 0),g}},86967:(A,D,t)=>{t.d(D,{DO:()=>_,en:()=>s,gR:()=>o,xp:()=>h});var s=(e=>(e.Center="center",e.Left="left",e.LeftRight="leftright",e.Right="right",e.Scale="scale",e))(s||{}),o=(e=>(e.Bottom="bottom",e.Center="center",e.Scale="scale",e.Top="top",e.TopBottom="topbottom",e))(o||{}),h=(e=>(e.Contain="contain",e.Cover="cover",e.Fill="fill",e.Original="original",e.Tile="tile",e))(h||{}),_=(e=>(e.GET="GET",e.POST="POST",e.PUT="PUT",e))(_||{}),c=(e=>(e.Straight="straight",e))(c||{});const v={vertices:[]},p={connections:[]},x={infinitePan:!0,inlineEditing:!0,panZoom:!0,showAdvancedTypes:!0}},16913:(A,D,t)=>{t.d(D,{OG:()=>_,u6:()=>o});var s=t(73163);const o=(c,v)=>{const p=[];if((c.config.links?.length??0)>0&&c.getLinks!=null){const x=c.values[v],e=c.display?c.display(x):{text:`${x}`,numeric:+x},m=new Set;c.getLinks({calculatedValue:e,valueRowIndex:v}).forEach(O=>{const E=`${O.title}/${O.href}`;m.has(E)||(p.push(O),m.add(E))})}return p},h=c=>{},_=(c,v,p,x)=>{const e=[],m=new Set;return(0,s.k)(c,v,v.state.scopedVars,p,v.config.actions??[],{valueRowIndex:x}).forEach(E=>{const M=`${E.title}`;m.has(M)||(e.push(E),m.add(M))}),e}}}]);

//# sourceMappingURL=5872.089bd69e76a4c82b5fa0.js.map