"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[265],{59812:(he,Q,f)=>{f.d(Q,{n:()=>en});var n=f(74848),o=f(96540),R=f(63142),W=f(8135),K=f(15245),t=f(22803),te=f(68079),$=f(30703),O=f(45967),b=f(63527),j=f(3343),oe=f(35484),L=f(56840),H=f(69665);const X=(0,o.forwardRef)(({children:e,iconName:s},p)=>{const c=(0,R.of)(Ge);return(0,n.jsxs)("div",{className:c.container,ref:p,children:[s&&(0,n.jsx)($.I,{name:s,size:"xs"}),e]})});X.displayName="ValueContainer";const Ge=e=>{const{prefix:s}=(0,b.n)({theme:e}),{multiValueContainer:p}=(0,H.J)(e);return{container:(0,t.cx)(s,p,(0,t.css)({position:"relative",padding:e.spacing(.5,1,.5,1),svg:{marginRight:e.spacing(.5)}}))}},ye=360,Z=300,Pe=320,V=360,we=320,je=360,Ee=V+je,De=e=>e.stopPropagation(),ve=({appliedRoles:e,basicRole:s,disabled:p,isFocused:c,query:i,showBasicRole:h,width:S,isLoading:G,onOpen:k,onClose:C,onQueryChange:x,...I})=>{const m=(0,R.of)(Le,!1,!!c,!!p,!1,S),P=(0,o.useRef)(null);(0,o.useEffect)(()=>{c&&P.current?.focus()});const M=v=>{const w=v.target?.value;x(w)},a=h&&s!=="None";return c?(0,n.jsxs)("div",{className:m.wrapper,children:[a&&(0,n.jsx)(X,{children:s}),e.map(v=>(0,n.jsx)(X,{children:v.group+":"+(v.displayName||v.name)},v.uid)),!p&&(0,n.jsx)("input",{...I,className:m.input,ref:P,onMouseDown:De,onChange:M,"data-testid":"role-picker-input",placeholder:c?"Select role":"",value:i}),(0,n.jsx)("div",{className:m.suffix,children:(0,n.jsx)($.I,{name:"angle-up",className:m.dropdownIndicator,onMouseDown:C})})]}):(0,n.jsxs)("div",{className:(0,t.cx)(m.wrapper,m.selectedRoles),onMouseDown:k,children:[a&&(0,n.jsx)(X,{children:s}),(0,n.jsx)(Be,{appliedRoles:e,numberOfRoles:e.length,showBuiltInRole:a}),G&&(0,n.jsx)("div",{className:m.spinner,children:(0,n.jsx)(te.y,{size:16,inline:!0})})]})};ve.displayName="RolePickerInput";const Be=({showBuiltInRole:e,numberOfRoles:s,appliedRoles:p})=>{const c=(0,R.of)(i=>Te(i));return(0,n.jsx)(n.Fragment,{children:s?(0,n.jsx)(O.m,{content:(0,n.jsx)("div",{className:c.tooltip,children:p?.map(i=>(0,n.jsx)("p",{children:i.group+":"+(i.displayName||i.name)},i.uid))}),children:(0,n.jsx)(X,{children:`${e?"+":""}${s} role${s>1?"s":""}`})}):!e&&(0,n.jsx)(X,{children:(0,n.jsx)(L.x6,{i18nKey:"role-picker.input.no-roles",children:"No roles assigned"})})})},Le=(e,s,p,c,i,h)=>{const S=(0,b.n)({theme:e,invalid:s});return{wrapper:(0,t.cx)(S.wrapper,(0,j.Xb)(e,s),p&&(0,t.css)((0,oe.getFocusStyles)(e)),c&&S.inputDisabled,(0,t.css)({minWidth:h||ye+"px",width:h,minHeight:"32px",maxHeight:"200px",overflow:"scroll",overflowX:"hidden",overflowY:"auto",height:"auto",flexDirection:"row",paddingRight:e.spacing(1),maxWidth:"100%",alignItems:"center",display:"flex",flexWrap:"wrap",justifyContent:"flex-start",position:"relative",boxSizing:"border-box",cursor:"default"}),i&&(0,t.css)({paddingLeft:0})),input:(0,t.cx)((0,j.Xb)(e,s),(0,t.css)({maxWidth:"120px",border:"none",cursor:p?"default":"pointer"})),suffix:S.suffix,dropdownIndicator:(0,t.css)({cursor:"pointer"}),selectedRoles:(0,t.css)({display:"flex",alignItems:"center",cursor:c?"not-allowed":"pointer"}),tooltip:(0,t.css)({p:{marginBottom:e.spacing(.5)}}),spinner:(0,t.css)({display:"flex",flexGrow:1,justifyContent:"flex-end"})}},Te=e=>({tooltip:(0,t.css)({p:{marginBottom:e.spacing(.5)}})});var Ue=f(89640),Ce=f(92807),Ne=f(41654),ae=f(45861),Ae=f(16203),Re=f(96673);const J=e=>({hideScrollBar:(0,t.css)({".scrollbar-view":{"&::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none"}}),menuWrapper:(0,t.css)({display:"flex",maxHeight:"650px",position:"absolute",zIndex:e.zIndex.dropdown,overflow:"hidden",minWidth:"auto"}),menu:(0,t.css)({minWidth:`${Pe}px`,maxWidth:`${V}px`,"& > div":{paddingTop:e.spacing(1)}}),menuLeft:(0,t.css)({flexDirection:"row-reverse"}),subMenu:(0,t.css)({height:"100%",minWidth:`${we}px`,maxWidth:`${je}px`,display:"flex",flexDirection:"column",borderLeft:`1px solid ${e.components.input.borderColor}`,"& > div":{paddingTop:e.spacing(1)}}),subMenuLeft:(0,t.css)({borderRight:`1px solid ${e.components.input.borderColor}`,borderLeft:"unset"}),groupHeader:(0,t.css)({padding:e.spacing(0,4.5),display:"flex",alignItems:"center",color:e.colors.text.primary,fontWeight:e.typography.fontWeightBold}),container:(0,t.css)({padding:e.spacing(1),border:`1px ${e.colors.border.weak} solid`,borderRadius:e.shape.radius.default,backgroundColor:e.colors.background.primary,zIndex:e.zIndex.modal}),menuSection:(0,t.css)({marginBottom:e.spacing(2)}),menuOptionCheckbox:(0,t.css)({display:"flex",margin:e.spacing(0,1,0,.25)}),menuButtonRow:(0,t.css)({backgroundColor:e.colors.background.primary,padding:e.spacing(1)}),menuOptionBody:(0,t.css)({fontWeight:e.typography.fontWeightRegular,padding:e.spacing(0,1.5,0,0)}),menuOptionDisabled:(0,t.css)({color:e.colors.text.disabled,cursor:"not-allowed"}),menuOptionExpand:(0,t.css)({position:"absolute",right:e.spacing(2.5),color:e.colors.text.disabled,"&:after":{content:'">"'}}),menuOptionInfoSign:(0,t.css)({color:e.colors.text.disabled}),basicRoleSelector:(0,t.css)({margin:e.spacing(1,1.25,1,1.5)}),subMenuPortal:(0,t.css)({height:"100%","> div":{height:"100%"}}),subMenuButtonRow:(0,t.css)({backgroundColor:e.colors.background.primary,padding:e.spacing(1)}),checkboxPartiallyChecked:(0,t.css)({input:{"&:checked + span":{"&:after":{borderWidth:"0 3px 0px 0",transform:"rotate(90deg)"}}}}),loadingSpinner:(0,t.css)({marginLeft:e.spacing(1)})}),He=Object.values(Re.OrgRole).map(e=>({label:e===Re.OrgRole.None?"No basic role":e,value:e})),ze=({value:e,onChange:s,disabled:p,disabledMesssage:c,tooltipMessage:i})=>{const h=(0,R.of)(J),S=(0,R.$j)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:h.groupHeader,children:[(0,n.jsx)("span",{style:{marginRight:S.spacing(1)},children:(0,n.jsx)(L.x6,{i18nKey:"role-picker.built-in.basic-roles",children:"Basic roles"})}),p&&c&&(0,n.jsx)(O.m,{placement:"right-end",interactive:!0,content:(0,n.jsx)("div",{children:c}),children:(0,n.jsx)($.I,{name:"question-circle"})}),!p&&i&&(0,n.jsx)(O.m,{placement:"right-end",interactive:!0,content:i,children:(0,n.jsx)($.I,{name:"info-circle",size:"xs"})})]}),(0,n.jsx)(Ae.a,{name:"Basic Role Selector",className:h.basicRoleSelector,options:He,value:e,onChange:s,disabled:p})]})};var be=f(32635);const Se=(0,o.memo)(o.forwardRef(({name:e,value:s,isFocused:p,isSelected:c,partiallySelected:i,disabled:h,onChange:S,onClick:G,onOpenSubMenu:k,onCloseSubMenu:C,children:x,root:I},m)=>{const P=(0,R.$j)(),M=(0,H.J)(P),a=(0,R.of)(J),v=(0,t.cx)(M.option,p&&M.optionFocused,h&&a.menuOptionDisabled),w=U=>{h||s&&S(s)},z=U=>{G&&G(s)},T=()=>{k&&k(s)},B=()=>{C&&C()};return(0,n.jsx)("div",{onMouseEnter:T,onMouseLeave:B,children:(0,n.jsxs)("div",{ref:m,className:v,"aria-label":(0,L.t)("role-picker.menu-group-option-aria-label","Role picker option"),onClick:z,children:[(0,n.jsx)(be.S,{value:c,className:(0,t.cx)(a.menuOptionCheckbox,{[a.checkboxPartiallyChecked]:i}),onChange:w,disabled:h}),(0,n.jsxs)("div",{className:(0,t.cx)(M.optionBody,a.menuOptionBody),children:[(0,n.jsx)("span",{children:e}),(0,n.jsx)("span",{className:a.menuOptionExpand})]}),I&&x&&(0,n.jsx)(K.ZL,{className:a.subMenuPortal,root:I,children:x})]})})}));Se.displayName="RoleMenuGroupOption";const le=(0,o.forwardRef)(({data:e,isFocused:s,isSelected:p,useFilteredDisplayName:c,disabled:i,mapped:h,onChange:S,hideDescription:G},k)=>{const C=(0,R.$j)(),x=(0,H.J)(C),I=(0,R.of)(J);i=i||h;let m="";i&&(m="You do not have permissions to assign this role.",h&&(m="Role assignment cannot be removed because the role is mapped through group sync."));const P=(0,t.cx)(x.option,s&&x.optionFocused,i&&I.menuOptionDisabled),M=a=>{i||(a.preventDefault(),a.stopPropagation(),S(e))};return(0,n.jsxs)("div",{ref:k,className:P,"aria-label":(0,L.t)("role-picker.menu-option-aria-label","Role picker option"),onClick:M,children:[(0,n.jsx)(be.S,{value:p,className:I.menuOptionCheckbox,onChange:M,disabled:i}),(0,n.jsxs)("div",{className:(0,t.cx)(x.optionBody,I.menuOptionBody),children:[(0,n.jsx)("span",{children:c&&e.filteredDisplayName||e.displayName||e.name}),!G&&e.description&&(0,n.jsx)("div",{className:x.optionDescription,children:e.description})]}),m&&(0,n.jsx)(O.m,{content:m,children:(0,n.jsx)($.I,{name:"lock"})}),e.description&&(0,n.jsx)(O.m,{content:e.description,children:(0,n.jsx)($.I,{name:"info-circle",className:I.menuOptionInfoSign})})]})});le.displayName="RoleMenuOption";var ce=f(17411);const Fe=({options:e,selectedOptions:s,disabledOptions:p,onSelect:c,onClear:i,showOnLeft:h})=>{const S=(0,R.$j)(),G=(0,H.J)(S),k=(0,R.of)(J),C=async()=>{i&&i()};return(0,n.jsxs)("div",{className:(0,t.cx)(k.subMenu,{[k.subMenuLeft]:h}),"aria-label":(0,L.t)("role-picker.sub-menu-aria-label","Role picker submenu"),children:[(0,n.jsx)(Ce.P,{maxHeight:`${Z}px`,children:(0,n.jsx)("div",{className:G.optionBody,children:e.map((x,I)=>(0,n.jsx)(le,{data:x,useFilteredDisplayName:!1,isSelected:!!(x.uid&&(s.find(m=>m.uid===x.uid)||p?.find(m=>m.uid===x.uid))),disabled:!!(x.uid&&p?.find(m=>m.uid===x.uid))||(0,ce.WV)(x),mapped:!!(x.uid&&s.find(m=>m.uid===x.uid&&m.mapped)),onChange:c,hideDescription:!0},I))})}),(0,n.jsx)("div",{className:k.subMenuButtonRow,children:(0,n.jsx)(Ne.B,{justifyContent:"flex-end",children:(0,n.jsx)(ae.$n,{size:"sm",fill:"text",onClick:C,children:(0,n.jsx)(L.x6,{i18nKey:"role-picker.sub-menu.clear-button",children:"Clear"})})})})]})},Me=(0,o.forwardRef)(({roles:e,isFiltered:s,renderedName:p,showGroups:c,optionGroups:i,onGroupChange:h,groupSelected:S,groupPartiallySelected:G,subMenuNode:k,selectedOptions:C,onRoleChange:x,onClearSubMenu:I,showOnLeftSubMenu:m},P)=>{const[M,a]=(0,o.useState)(!1),[v,w]=(0,o.useState)(""),z=(0,R.$j)(),T=(0,H.J)(z),B=(0,R.of)(J),U=(0,o.useCallback)(y=>{w(y),a(!0)},[]),q=(0,o.useCallback)(()=>{a(!1),w("")},[]);return(0,n.jsx)("div",{children:e.length>0&&(0,n.jsxs)("div",{className:B.menuSection,children:[(0,n.jsx)("div",{className:B.groupHeader,children:p}),(0,n.jsx)("div",{className:T.optionBody}),c&&i?.length?i.map(y=>(0,n.jsx)(Se,{name:y.name,value:y.value,isSelected:S(y.value)||G(y.value),partiallySelected:G(y.value),disabled:y.options?.every(E=>(0,ce.WV)(E)||C.find(F=>F.uid===E.uid&&F.mapped)),onChange:h,onOpenSubMenu:U,onCloseSubMenu:q,root:k,isFocused:M&&v===y.value,children:M&&v===y.value&&(0,n.jsx)(Fe,{options:y.options,selectedOptions:C,onSelect:x,onClear:()=>I(v),showOnLeft:m})},y.value)):e.map(y=>(0,n.jsx)(le,{useFilteredDisplayName:s,data:y,isSelected:!!(y.uid&&C.find(E=>E.uid===y.uid)),disabled:(0,ce.WV)(y),mapped:!!(y.uid&&C.find(E=>E.uid===y.uid&&E.mapped)),onChange:x,hideDescription:!0},y.uid))]})})});Me.displayName="RoleMenuGroupsSection";var Ke=(e=>(e.fixed="fixed",e.custom="custom",e.plugin="plugin",e))(Ke||{});const Xe={ldap:"LDAP",current:"Current org"},Ve=(0,n.jsxs)(L.x6,{i18nKey:"role-picker.menu.tooltip",children:['You can now select the "No basic role" option and add permissions to your custom needs. You can find more information in\xA0',(0,n.jsx)(Ue.Y,{href:"https://grafana.com/docs/grafana/latest/administration/roles-and-permissions/#organization-roles",variant:"bodySmall",external:!0,children:"our documentation"}),"."]}),Je=({basicRole:e,options:s,isFiltered:p,appliedRoles:c,showGroups:i,basicRoleDisabled:h,disabledMessage:S,showBasicRole:G,onSelect:k,onBasicRoleSelect:C,onUpdate:x,updateDisabled:I,offset:m,menuLeft:P,apply:M})=>{const[a,v]=(0,o.useState)(c),[w,z]=(0,o.useState)(e),[T,B]=(0,o.useState)({}),U=(0,o.useRef)(null),q=(0,R.$j)(),y=(0,H.J)(q),E=(0,R.of)(J);(0,o.useEffect)(()=>{k(a)},[a,k]),(0,o.useEffect)(()=>{C&&w&&C(w)},[w,C]),(0,o.useEffect)(()=>{const g=s.filter(Ye).sort(ie),l=s.filter(Qe).sort(ie),u=s.filter(Ze).sort(ie),N={fixed:ue(l).sort((r,d)=>r.name.localeCompare(d.name)),custom:ue(g).sort((r,d)=>r.name.localeCompare(d.name)),plugin:ue(u).sort((r,d)=>r.name.localeCompare(d.name))};B({fixed:{groupType:"fixed",optionGroup:N.fixed,renderedName:"Fixed roles",roles:l},custom:{groupType:"custom",optionGroup:N.custom,renderedName:"Custom roles",roles:g},plugin:{groupType:"plugin",optionGroup:N.plugin,renderedName:"Plugin roles",roles:u}})},[s]);const F=g=>{const l=[];for(const u of a)de(u)===g&&l.push(u);return l},_=(g,l)=>{const u=F(l),N=T[g]?.optionGroup.find(r=>r.value===l);return u.length>0&&u.length>=N.options.length},pe=(g,l)=>{const u=F(l),N=T[g]?.optionGroup.find(r=>r.value===l);return u.length>0&&u.length<N.options.length},ee=(g,l)=>{const N=F(l).filter(d=>d.delegatable&&!d.mapped),r=T[g]?.optionGroup.find(d=>d.value===l);return N.length>0&&N.length<r.options.length},Y=g=>{a.find(l=>l.uid===g.uid&&!l.mapped)?v(a.filter(l=>l.uid!==g.uid)):v([...a,g])},me=(g,l)=>{const u=T[g]?.optionGroup.find(N=>N.value===l);if(u)if(_(g,l)||ee(g,l)){const N=a.filter(d=>u.options.find(D=>D.uid===d.uid&&d.mapped)),r=a.filter(d=>!u.options.find(D=>d.uid===D.uid));v([...r,...N])}else{const N=a.filter(D=>u.options.find(A=>A.uid===D.uid&&A.delegatable)),r=u.options.filter(D=>D.delegatable&&!a.find(A=>D.uid===A.uid&&A.mapped)),d=a.filter(D=>!u.options.find(A=>D.uid===A.uid));v([...d,...r,...N])}},fe=g=>{z(g)},re=async()=>{const g=a.filter(u=>u.mapped),l=s.filter(u=>a.find(N=>u.uid===N.uid&&!u.delegatable));v([...g,...l])},xe=g=>{const l=a.filter(u=>de(u)!==g||u.mapped);v(l)},ge=()=>{x(a,w)};return(0,n.jsxs)("div",{className:(0,t.cx)(y.menu,E.menuWrapper,{[E.menuLeft]:P},(0,t.css)({top:`${m.vertical}px`,left:P?"unset":`${m.horizontal}px`,right:P?`${m.horizontal}px`:"unset"})),children:[(0,n.jsxs)("div",{className:E.menu,"aria-label":(0,L.t)("role-picker.menu-aria-label","Role picker menu"),children:[(0,n.jsxs)(Ce.P,{maxHeight:`${Z}px`,scrollbarWidth:"none",children:[G&&(0,n.jsx)("div",{className:E.menuSection,children:(0,n.jsx)(ze,{value:w,onChange:fe,disabled:h,disabledMesssage:S,tooltipMessage:Ve})}),Object.entries(T).map(([g,l])=>(0,n.jsx)(Me,{roles:l.roles,isFiltered:p,renderedName:l.renderedName,showGroups:i,optionGroups:l.optionGroup,groupSelected:u=>_(l.groupType,u),groupPartiallySelected:u=>pe(l.groupType,u),onGroupChange:u=>me(l.groupType,u),subMenuNode:U?.current,selectedOptions:a,onRoleChange:Y,onClearSubMenu:xe,showOnLeftSubMenu:P},g))]}),(0,n.jsx)("div",{className:E.menuButtonRow,children:(0,n.jsxs)(Ne.B,{justifyContent:"flex-end",children:[(0,n.jsx)(ae.$n,{size:"sm",fill:"text",onClick:re,disabled:I,children:(0,n.jsx)(L.x6,{i18nKey:"role-picker.menu.clear-button",children:"Clear all"})}),(0,n.jsx)(ae.$n,{size:"sm",onClick:ge,disabled:I,children:M?"Apply":"Update"})]})})]}),(0,n.jsx)("div",{ref:U})]})},Ye=e=>!e.name?.startsWith("fixed:")&&!e.name.startsWith("plugins:"),Qe=e=>e.name?.startsWith("fixed:"),Ze=e=>e.name?.startsWith("plugins:"),ue=e=>{const s={};return e.forEach(c=>{const i=de(c),h=Oe(c);s[i]||(s[i]={name:h,roles:[]}),s[i].roles.push(c)}),Object.entries(s).map(([c,i])=>({name:Xe[c]||_e(i.name),value:c,options:i.roles.sort(ie)}))},de=e=>{const s=qe(e),p=Oe(e);return`${s}:${p}`},Oe=e=>e.group||"Other",qe=e=>{const s=e.name.indexOf(":");return s<0?"unknown":e.name.substring(0,s)},ie=(e,s)=>e.name.localeCompare(s.name),_e=e=>e.slice(0,1).toUpperCase()+e.slice(1),en=({basicRole:e,appliedRoles:s,roleOptions:p,disabled:c,isLoading:i,basicRoleDisabled:h,basicRoleDisabledMessage:S,showBasicRole:G,onRolesChange:k,onBasicRoleChange:C,canUpdateRoles:x=!0,apply:I=!1,maxWidth:m=ye,width:P})=>{const[M,a]=(0,o.useState)(!1),[v,w]=(0,o.useState)(s),[z,T]=(0,o.useState)(e),[B,U]=(0,o.useState)(""),[q,y]=(0,o.useState)({vertical:0,horizontal:0}),[E,F]=(0,o.useState)(!1),_=(0,o.useRef)(null),pe=(0,R.$j)(),ee=typeof P=="number"?pe.spacing(P):P;(0,o.useEffect)(()=>{T(e),w(s)},[s,e,C]);const Y=(0,o.useCallback)(()=>{const{horizontal:r,vertical:d,menuToLeft:D}=me();r&&d&&(y({horizontal:r,vertical:d}),F(D))},[]);(0,o.useEffect)(()=>{M&&Y()},[M,v,Y]);const me=()=>{const r=_?.current?.getBoundingClientRect();if(!r)return{};const{bottom:d,top:D,left:A,right:Ie}=r,We=window.innerHeight-d,nn=D,sn=window.innerWidth-Ie,tn=A;let ne=A,se=d,$e=!1,ke=!1;return We<Z&&nn>We&&(se=D-Z,ke=!0),sn<V&&tn<V?(ne=Ie-V,$e=!0):ne=Math.max(0,A+(r.width-V)/2),ne=Math.max(0,Math.min(ne,window.innerWidth-Ee)),se=Math.max(0,Math.min(se,window.innerHeight-Z)),ke&&(se-=48),{horizontal:ne,vertical:se,menuToLeft:$e}},fe=(0,o.useCallback)(r=>{c||(r.preventDefault(),r.stopPropagation(),Y(),a(!0))},[c,Y]),re=(0,o.useCallback)(()=>{a(!1),U(""),w(s),T(e)},[s,e]),xe=()=>M&&re(),ge=r=>{U(r||"")},g=r=>{w(r)},l=r=>{T(r)},u=(r,d)=>{C&&d&&d!==e&&C(d),x&&k(r),U(""),a(!1)},N=()=>{const r=p.map(d=>({...d,delegatable:x&&d.delegatable}));return B&&B.trim()!==""?r.filter(d=>d.name?.toLowerCase().includes(B.toLowerCase())):r};return(0,n.jsx)("div",{"data-testid":"role-picker",style:{position:"relative",maxWidth:ee||m,width:ee},ref:_,children:(0,n.jsxs)(W.N,{onClick:xe,useCapture:!1,children:[(0,n.jsx)(ve,{basicRole:z,appliedRoles:v,query:B,onQueryChange:ge,onOpen:fe,onClose:re,isFocused:M,disabled:c,showBasicRole:G,width:ee,isLoading:i}),M&&(0,n.jsx)(K.ZL,{children:(0,n.jsx)("div",{onClick:r=>r.stopPropagation(),children:(0,n.jsx)(Je,{options:N(),isFiltered:B.trim()!=="",basicRole:z,appliedRoles:s,onBasicRoleSelect:l,onSelect:g,onUpdate:u,showGroups:B.length===0||B.trim()==="",basicRoleDisabled:h,disabledMessage:S,showBasicRole:G,updateDisabled:h&&!x,apply:I,offset:q,menuLeft:E})})})]})})}},12037:(he,Q,f)=>{f.d(Q,{G3:()=>te,RL:()=>R,Xh:()=>W,eA:()=>K,xN:()=>t});var n=f(68143),o=f(17411);const R=async $=>{let O="/api/access-control/roles?delegatable=true";$&&(O+=`&targetOrgId=${$}`);const b=await(0,n.AI)().get(O);return!b||!b.length?[]:b.map(o.cG).map(o.A$)},W=async($,O)=>{let b=`/api/access-control/users/${$}/roles?includeMapped=true`;O&&(b+=`&targetOrgId=${O}`);try{const j=await(0,n.AI)().get(b);return!j||!j.length?[]:j.map(o.cG).map(o.A$)}catch(j){return(0,n.NF)(j)&&(j.isHandled=!0),[]}},K=($,O,b)=>{let j=`/api/access-control/users/${O}/roles`;b&&(j+=`?targetOrgId=${b}`);const L=$.filter(H=>!H.mapped).flatMap(H=>H.uid);return(0,n.AI)().put(j,{orgId:b,roleUids:L})},t=async($,O)=>{let b=`/api/access-control/teams/${$}/roles`;O&&(b+=`?targetOrgId=${O}`);try{const j=await(0,n.AI)().get(b);return!j||!j.length?[]:j.map(o.cG).map(o.A$)}catch(j){return(0,n.NF)(j)&&(j.isHandled=!0),[]}},te=($,O,b)=>{let j=`/api/access-control/teams/${O}/roles`;b&&(j+=`?targetOrgId=${b}`);const oe=$.flatMap(L=>L.uid);return(0,n.AI)().put(j,{orgId:b,roleUids:oe})}},17411:(he,Q,f)=>{f.d(Q,{A$:()=>R,WV:()=>n,cG:()=>o});const n=W=>W.delegatable!==void 0&&!W.delegatable,o=W=>{const K="fixed:";if(!W.displayName&&W.name.startsWith(K)){let t="";t=W.name.replace(K,"").replace(/:/g," "),W.displayName=t}return W},R=W=>(W.filteredDisplayName=W.group+":"+W.displayName,W)}}]);

//# sourceMappingURL=265.67796f15c2977f98e7e5.js.map