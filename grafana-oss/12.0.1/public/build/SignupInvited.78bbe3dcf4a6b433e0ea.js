"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[8576],{74410:(f,r,a)=>{a.d(r,{l:()=>_});var e=a(74848),d=a(22803),t=a(96540),E=a(49785);function _({defaultValues:u,onSubmit:P,validateOnMount:l=!1,validateFieldsOnMount:o,children:D,validateOn:h="onSubmit",maxWidth:m=600,...M}){const{handleSubmit:s,trigger:g,formState:p,...v}=(0,E.mN)({mode:h,defaultValues:u});return(0,t.useEffect)(()=>{l&&g(o)},[g,o,l]),(0,e.jsx)("form",{className:(0,d.css)({maxWidth:m!=="none"?m+"px":m,width:"100%"}),onSubmit:s(P),...M,children:D({errors:p.errors,formState:p,trigger:g,...v})})}},42939:(f,r,a)=>{a.d(r,{pL:()=>d,z5:()=>E});var e=a(43173);const d=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function t(){const _=e.$.licenseInfo?.trialExpiry;return!!(_&&_>0)}const E=()=>t()&&e.$.featureToggles.featureHighlights},68620:(f,r,a)=>{a.r(r),a.d(r,{SignupInvitedPage:()=>v,default:()=>x});var e=a(74848),d=a(22803),t=a(96540),E=a(54148),_=a(16817),u=a(68143),P=a(63142),l=a(37386),o=a(63527),D=a(45861),h=a(74410),m=a(13791),M=a(65642),s=a(56840),g=a(42939);const p={main:{icon:"grafana",text:"Invite",subTitle:"Register your Grafana account",breadcrumbs:[{title:"Login",url:"login"}]},node:{text:""}},v=()=>{const{code:c}=(0,E.g)(),[O,I]=(0,t.useState)(),[T,B]=(0,t.useState)(),[C,U]=(0,t.useState)(),j=(0,P.of)(A);(0,_.A)(async()=>{const n=await(0,u.AI)().get(`/api/user/invite/${c}`);I({email:n.email,name:n.name,username:n.email,orgName:n.orgName}),B(n.name||n.email||n.username),U(n.invitedBy)},[c]);const L=async n=>{await(0,u.AI)().post("/api/user/invite/complete",{...n,inviteCode:c}),window.location.href=(0,M.zj)().appSubUrl+"/"};return O?(0,e.jsx)(m.Y,{navModel:p,children:(0,e.jsxs)(m.Y.Contents,{children:[(0,e.jsxs)("h3",{className:"page-sub-heading",children:["Hello ",T||"there","."]}),(0,e.jsxs)("div",{className:(0,d.cx)("modal-tagline",j.tagline),children:[(0,e.jsx)("em",{children:C||"Someone"})," has invited you to join Grafana and the organization"," ",(0,e.jsx)("span",{className:"highlight-word",children:O.orgName}),(0,e.jsx)("br",{}),"Please complete the following and choose a password to accept your invitation and continue:"]}),(0,e.jsx)(h.l,{defaultValues:O,onSubmit:L,children:({register:n,errors:i})=>(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l.D,{invalid:!!i.email,error:i.email&&i.email.message,label:(0,s.t)("invites.signup-invited-page.label-email","Email"),children:(0,e.jsx)(o.p,{placeholder:"email@example.com",...n("email",{required:"Email is required",pattern:{value:g.pL,message:"Email is invalid"}})})}),(0,e.jsx)(l.D,{invalid:!!i.name,error:i.name&&i.name.message,label:(0,s.t)("invites.signup-invited-page.label-name","Name"),children:(0,e.jsx)(o.p,{placeholder:(0,s.t)("invites.signup-invited-page.placeholder-name-optional","Name (optional)"),...n("name")})}),(0,e.jsx)(l.D,{invalid:!!i.username,error:i.username&&i.username.message,label:(0,s.t)("invites.signup-invited-page.label-username","Username"),children:(0,e.jsx)(o.p,{...n("username",{required:"Username is required"}),placeholder:(0,s.t)("invites.signup-invited-page.placeholder-username","Username")})}),(0,e.jsx)(l.D,{invalid:!!i.password,error:i.password&&i.password.message,label:(0,s.t)("invites.signup-invited-page.label-password","Password"),children:(0,e.jsx)(o.p,{...n("password",{required:"Password is required"}),type:"password",placeholder:(0,s.t)("invites.signup-invited-page.placeholder-password","Password")})}),(0,e.jsx)(D.$n,{type:"submit",children:(0,e.jsx)(s.x6,{i18nKey:"invites.signup-invited-page.sign-up",children:"Sign up"})})]})})]})}):null},A=c=>({tagline:(0,d.css)({paddingBottom:c.spacing(3)})}),x=v}}]);

//# sourceMappingURL=SignupInvited.78bbe3dcf4a6b433e0ea.js.map