(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[5074],{65074:(z,e,t)=>{"use strict";t.d(e,{NN:()=>D,_r:()=>U});var r=t(96540),c=t(37386),f=t(18857),s=t(63527),l=t(93256),n=t(7895),o=t(89599),i=t(48480),a=t(43173);const u=["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-south-2","ap-southeast-1","ap-southeast-2","ap-southeast-3","ap-southeast-4","ca-central-1","ca-west-1","cn-north-1","cn-northwest-1","eu-central-1","eu-central-2","eu-north-1","eu-south-1","eu-south-2","eu-west-1","eu-west-2","eu-west-3","il-central-1","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-iso-east-1","us-isob-east-1","us-west-1","us-west-2"];var d=(de=>(de.Keys="keys",de.Credentials="credentials",de.Default="default",de.EC2IAMRole="ec2_iam_role",de.ARN="arn",de.GrafanaAssumeRole="grafana_assume_role",de))(d||{});const v=[{label:"Workspace IAM Role",value:d.EC2IAMRole},{label:"Grafana Assume Role",value:d.GrafanaAssumeRole},{label:"AWS SDK Default",value:d.Default},{label:"Access & secret key",value:d.Keys},{label:"Credentials file",value:d.Credentials}];var p=t(22803);const m=(0,p.css)({maxWidth:"715px"});var P=t(79674);const E=28,L=["cloudwatch","grafana-athena-datasource"],F=de=>({value:de,label:de}),j=de=>typeof de=="string"&&v.some(we=>we.value===de),D=de=>{var we,Fe,ze,et,st,xe,At,pt,It;const[wt,or]=(0,r.useState)(!1),[Mt,Zt]=(0,r.useState)((de.standardRegions||u).map(F)),{loadRegions:Rr,onOptionsChange:ur,skipHeader:xt=!1,skipEndpoint:gr=!1,options:Vt}=de;let Mr=Vt.jsonData.profile;Mr===void 0&&(Mr=Vt.database);const Ur=a.$.featureToggles.awsDatasourcesTempCredentials&&L.includes(Vt.type),Dr=(we=a.$.awsAssumeRoleEnabled)!=null?we:!0,Vr=(0,r.useMemo)(()=>a.$.awsAllowedAuthProviders.filter(dr=>dr===d.GrafanaAssumeRole?Ur:!0).filter(j),[Ur]),Ir=v.find(dr=>dr.value===Vt.jsonData.authType);return(0,r.useEffect)(()=>{!Ir&&Vr.length&&ur({...Vt,jsonData:{...Vt.jsonData,authType:Vr[0]}})},[Ir,Vt,ur,Vr]),(0,r.useEffect)(()=>{Rr&&Rr().then(dr=>Zt(dr.map(F)))},[Rr]),r.createElement("div",{"data-testid":"connection-config"},r.createElement(P.ConfigSection,{title:xt?"":"Connection Details","data-testid":"connection-config"},r.createElement(P.ConfigSubSection,{title:"Authentication"},r.createElement(c.D,{label:"Authentication Provider",description:"Specify which AWS credentials chain to use.",htmlFor:"authProvider"},r.createElement(f.l6,{"aria-label":"Authentication Provider",inputId:"authProvider",value:Ir,options:v.filter(dr=>Vr.includes(dr.value)),defaultValue:Vt.jsonData.authType,onChange:dr=>{(0,i.BD)(de,"authType")(dr)},menuShouldPortal:!0})),Vt.jsonData.authType==="credentials"&&r.createElement(c.D,{label:"Credentials Profile Name",description:"Credentials profile name, as specified in ~/.aws/credentials, leave blank for default.",htmlFor:"credentialsProfileName"},r.createElement(s.p,{id:"credentialsProfileName",placeholder:"default",value:Vt.jsonData.profile,onChange:(0,i.PG)(de,"profile")})),Vt.jsonData.authType==="keys"&&r.createElement(r.Fragment,null,r.createElement(c.D,{label:"Access Key ID",htmlFor:"accessKeyId"},(Fe=de.options.secureJsonFields)!=null&&Fe.accessKey?r.createElement(l.e,null,r.createElement(s.p,{disabled:!0,placeholder:"Configured",id:"accessKeyId"}),r.createElement(n.I,{icon:"edit",tooltip:"Edit Access Key ID",type:"button",onClick:(0,i.yV)(de,"accessKey")})):r.createElement(s.p,{id:"accessKeyId",value:(et=(ze=Vt.secureJsonData)==null?void 0:ze.accessKey)!=null?et:"",onChange:(0,i.mn)(de,"accessKey")})),r.createElement(c.D,{label:"Secret Access Key",htmlFor:"secretKey"},(st=de.options.secureJsonFields)!=null&&st.secretKey?r.createElement(l.e,null,r.createElement(s.p,{disabled:!0,placeholder:"Configured"}),r.createElement(n.I,{id:"secretKey",icon:"edit",type:"button",tooltip:"Edit Secret Access Key",onClick:(0,i.yV)(de,"secretKey")})):r.createElement(s.p,{id:"secretKey",value:(At=(xe=Vt.secureJsonData)==null?void 0:xe.secretKey)!=null?At:"",onChange:(0,i.mn)(de,"secretKey")})))),r.createElement(P.ConfigSubSection,{title:"Assume Role"},Vt.jsonData.authType===d.GrafanaAssumeRole&&r.createElement("div",{className:m},r.createElement(o.S,{label:"How to create an IAM role for grafana to assume:",collapsible:!0,isOpen:wt,onToggle:()=>or(!wt)},r.createElement("ol",null,r.createElement("li",null,r.createElement("p",null,"1. Create a new IAM role in the AWS console, and select ",r.createElement("code",null,"Another AWS account")," as the"," ",r.createElement("code",null,"Trusted entity"),".")),r.createElement("li",null,r.createElement("p",null,"2. Enter the account ID of the Grafana account that has permission to assume this role:",r.createElement("code",null," 008923505280 ")," and check the ",r.createElement("code",null,"Require external ID")," box.")),r.createElement("li",null,r.createElement("p",null,"3. Enter the following external ID:"," ",r.createElement("code",null,de.externalId||"External Id is currently unavailable")," and click"," ",r.createElement("code",null,"Next"),".")),r.createElement("li",null,r.createElement("p",null,"4. Add any required permissions you would like Grafana to be able to access on your behalf. For more details on our permissions please"," ",r.createElement("a",{href:"https://grafana.com/docs/grafana/latest/datasources/aws-cloudwatch/",target:"_blank",rel:"noreferrer"},"read through our documentation"),".")),r.createElement("li",null,r.createElement("p",null,"5. Give the role a name and description, and click ",r.createElement("code",null,"Create role"),".")),r.createElement("li",null,r.createElement("p",null,"6. Copy the ARN of the role you just created and paste it into the ",r.createElement("code",null,"Assume Role ARN")," ","field below."))))),Dr&&r.createElement(r.Fragment,null,r.createElement(c.D,{htmlFor:"assumeRoleArn",label:"Assume Role ARN",description:`Optional. Specifying the ARN of a role will ensure that the
                     selected authentication provider is used to assume the role rather than the
                     credentials directly.`},r.createElement(s.p,{id:"assumeRoleArn",placeholder:"arn:aws:iam:*",value:Vt.jsonData.assumeRoleArn||"",onChange:(0,i.PG)(de,"assumeRoleArn")})),Vt.jsonData.authType!==d.GrafanaAssumeRole&&r.createElement(c.D,{htmlFor:"externalId",label:"External ID",description:"If you are assuming a role in another account, that has been created with an external ID, specify the external ID here."},r.createElement(s.p,{id:"externalId",placeholder:"External ID",value:Vt.jsonData.externalId||"",onChange:(0,i.PG)(de,"externalId")})))),r.createElement(P.ConfigSubSection,{title:"Additional Settings"},!gr&&Vt.jsonData.authType!==d.GrafanaAssumeRole&&r.createElement(c.D,{label:"Endpoint",description:"Optionally, specify a custom endpoint for the service",htmlFor:"endpoint"},r.createElement(s.p,{id:"endpoint",placeholder:(pt=de.defaultEndpoint)!=null?pt:"https://{service}.{region}.amazonaws.com",value:Vt.jsonData.endpoint||"",onChange:(0,i.PG)(de,"endpoint")})),r.createElement(c.D,{label:"Default Region",description:"Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region.",htmlFor:"defaultRegion"},r.createElement(f.l6,{inputId:"defaultRegion",value:(It=Mt.find(dr=>dr.value===Vt.jsonData.defaultRegion))!=null?It:Vt.jsonData.defaultRegion?{label:Vt.jsonData.defaultRegion,value:Vt.jsonData.defaultRegion}:void 0,options:Mt,defaultValue:Vt.jsonData.defaultRegion,allowCustomValue:!0,onChange:(0,i.BD)(de,"defaultRegion"),formatCreateLabel:dr=>`Use region: ${dr}`,menuShouldPortal:!0}))),de.children))};var B=t(2543);const G=/^(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:-([0-9A-Za-z\.]+))?/;class K{constructor(we){this.major=0,this.minor=0,this.patch=0,this.meta="";const Fe=G.exec(we);Fe&&(this.major=Number(Fe[1]),this.minor=Number(Fe[2]||0),this.patch=Number(Fe[3]||0),this.meta=Fe[4])}isGtOrEq(we){const Fe=new K(we);for(let ze=0;ze<this.comparable.length;++ze){if(this.comparable[ze]>Fe.comparable[ze])return!0;if(this.comparable[ze]<Fe.comparable[ze])return!1}return!0}isValid(){return isNumber(this.major)}get comparable(){return[this.major,this.minor,this.patch]}}function Y(de,we){return new K(de).isGtOrEq(we)}function $(){const de=useTheme2();return isVersionGtOrEq(config.buildInfo.version,"10.1.0")?React.createElement(Divider$1,null):React.createElement("div",{style:{borderTop:`1px solid ${de.colors.border.weak}`,margin:de.spacing(2,0),width:"100%"}})}const U=de=>{var we,Fe,ze,et;const{onOptionsChange:st,options:xe}=de,At={onOptionsChange:pt=>{var It,wt,or,Mt;const Zt={...xe,jsonData:{...xe.jsonData,sigV4AuthType:pt.jsonData.authType,sigV4Profile:pt.jsonData.profile,sigV4AssumeRoleArn:pt.jsonData.assumeRoleArn,sigV4ExternalId:pt.jsonData.externalId,sigV4Region:pt.jsonData.defaultRegion,sigV4Endpoint:pt.jsonData.endpoint},secureJsonFields:{sigV4AccessKey:(It=pt.secureJsonFields)==null?void 0:It.accessKey,sigV4SecretKey:(wt=pt.secureJsonFields)==null?void 0:wt.secretKey},secureJsonData:{sigV4AccessKey:(or=pt.secureJsonData)==null?void 0:or.accessKey,sigV4SecretKey:(Mt=pt.secureJsonData)==null?void 0:Mt.secretKey}};st(Zt)},options:{...xe,jsonData:{...xe.jsonData,authType:xe.jsonData.sigV4AuthType,profile:xe.jsonData.sigV4Profile,assumeRoleArn:xe.jsonData.sigV4AssumeRoleArn,externalId:xe.jsonData.sigV4ExternalId,defaultRegion:xe.jsonData.sigV4Region,endpoint:xe.jsonData.sigV4Endpoint},secureJsonFields:{accessKey:(we=xe.secureJsonFields)==null?void 0:we.sigV4AccessKey,secretKey:(Fe=xe.secureJsonFields)==null?void 0:Fe.sigV4SecretKey},secureJsonData:{accessKey:(ze=xe.secureJsonData)==null?void 0:ze.sigV4AccessKey,secretKey:(et=xe.secureJsonData)==null?void 0:et.sigV4SecretKey}},inExperimentalAuthComponent:de.inExperimentalAuthComponent};return r.createElement(r.Fragment,null,r.createElement("div",{className:"gf-form"},r.createElement("h6",null,"SigV4 Auth Details")),r.createElement(D,{...At,skipHeader:!0,skipEndpoint:!0}))};function M(de){const we=de.dependencies,Fe=de.onChange,ze=useRef(de.dependencies),et=useRef(!1),st=useRef(de.value||de.default||null),[xe,At]=useState(st.current?[st.current]:[]),[pt,It]=useState(!1),wt=useMemo(()=>{const xt=[{label:`default (${de.default})`,value:defaultKey,description:"Default value set in the data source"}];return de.value&&de.value!==defaultKey&&xt.push({label:de.value,value:de.value}),xt},[de.default,de.value]),[or,Mt]=useState(de.default?wt:[]);useEffect(()=>{de.resources!==void 0&&At(de.resources)},[de.resources]),useEffect(()=>{const xt=de.default?wt:[];xe.length?(xe.forEach(gr=>{const Vt=typeof gr=="string"?gr:gr.value;xt.find(Mr=>Mr.value===Vt)||(typeof gr=="string"?xt.push({label:gr,value:gr}):xt.push(gr))}),Mt(xt)):Mt([])},[xe,wt,de.default]),useEffect(()=>{isEqual(we,ze.current)||(et.current=!1,st.current=null,ze.current=we,Fe(null))},[we,Fe]);const Zt=async()=>{var xt;if(!et.current){de.saveOptions&&await de.saveOptions();try{const gr=await((xt=de.fetch)==null?void 0:xt.call(de))||[];At(gr)}finally{et.current=!0}}},Rr=xt=>{Fe(xt),xt.value&&(st.current=xt.value)},ur=async()=>{It(!0);try{await Zt()}finally{It(!1)}};return React.createElement(Select,{...de,id:de.id,inputId:de.id,"aria-label":de.label,options:or,onChange:Rr,isLoading:pt,className:de.className||"min-width-6",onOpenMenu:()=>de.fetch&&ur(),menuShouldPortal:!0})}function C(de){var we,Fe,ze;const{jsonData:et}=de.options,st={title:et.defaultRegion?"":"select a default region",labelWidth:(we=de.labelWidth)!=null?we:DEFAULT_LABEL_WIDTH,className:"width-30"},xe=[de.options.jsonData.assumeRoleArn,de.options.jsonData.authType,de.options.jsonData.defaultRegion,de.options.jsonData.endpoint,de.options.jsonData.externalId,de.options.jsonData.profile,(Fe=de.options.secureJsonData)==null?void 0:Fe.accessKey,(ze=de.options.secureJsonData)==null?void 0:ze.secretKey].concat(de.dependencies);return React.createElement(ResourceSelector,{id:de.id,label:de.label,"data-testid":de["data-testid"],onChange:de.onChange,fetch:de.fetch,value:de.value,saveOptions:de.saveOptions,dependencies:xe,hidden:de.hidden,disabled:de.disabled||!et.defaultRegion,allowCustomValue:de.allowCustomValue,autoFocus:de.autoFocus,backspaceRemovesValue:de.backspaceRemovesValue,invalid:de.invalid,isClearable:de.isClearable,isMulti:de.isMulti,inputId:de.inputId,showAllSelectedWhenOpen:de.showAllSelectedWhenOpen,maxMenuHeight:de.maxMenuHeight,minMenuHeight:de.minMenuHeight,maxVisibleValues:de.maxVisibleValues,menuPlacement:de.menuPlacement,menuPosition:de.menuPosition,noOptionsMessage:de.noOptionsMessage,placeholder:de.placeholder,width:de.width,onBlur:de.onBlur,onCreateOption:de.onCreateOption,onInputChange:de.onInputChange,isOptionDisabled:de.isOptionDisabled,...st})}function y(de){var we;return React.createElement(InlineField,{label:de.label,labelWidth:(we=de.labelWidth)!=null?we:DEFAULT_LABEL_WIDTH,tooltip:de.tooltip,hidden:de.hidden,disabled:de.disabled},React.createElement(Input,{"data-testid":de["data-testid"],className:"width-30",value:de.value,onChange:de.onChange,placeholder:de.placeholder,disabled:de.disabled}))}function b(de){const{getSuggestions:we,query:Fe}=de,{rawSQL:ze}=defaults(de.query,{rawSQL:""}),et=xe=>{const At={...de.query,rawSQL:xe};de.onChange(At),de.onRunQuery()},st=useRef([]);return useEffect(()=>{st.current=we(Fe)},[we,Fe]),React.createElement(CodeEditor,{language:de.language,value:ze,onBlur:et,showMiniMap:!1,showLineNumbers:!0,getSuggestions:()=>st.current,height:"240px",...de.editorProps})}var T=t(36580),R=t(68143),S=t(38866),A=t(62467),W=t(44240),I=t(28105),O=t(88483);const h=10,w=1e4/h;function V(de,we){return new O.c(Fe=>{let ze,et,st=I.Gu.Loading,xe=1,At=1,pt=!1;const It={next:wt=>{st=wt.state;let or=!1;if(st!==I.Gu.Error){ze=we.getNextQuery(wt);const Zt=we.shouldCancel();ze&&Zt&&(pt=Zt,ze=void 0),or=!0}const Mt=we.process(wt.data);or&&(ze?(Mt.length&&Mt[0].length?st=I.Gu.Streaming:st=I.Gu.Loading,xe=xe*2>w?w:xe*2):(st=I.Gu.Done,xe=0)),Fe.next({...wt,data:Mt,state:st,key:de.requestId})},error:wt=>{Fe.error(wt)},complete:()=>{if(et&&(et.unsubscribe(),et=void 0),ze){const wt=ze;setTimeout(()=>{et=we.query({...de,requestId:`${de.requestId}.${++At}`,targets:[wt]}).subscribe(It),ze=void 0},xe*h)}else Fe.complete()}};return et=we.query(de).subscribe(It),function(){It.complete(),(ze||pt)&&we.onCancel(),ze=void 0}})}function H(de){return typeof de=="function"}function _(de){return H(de?.lift)}function oe(de){return function(we){if(_(we))return we.lift(function(Fe){try{return de(Fe,this)}catch(ze){this.error(ze)}});throw new TypeError("Unable to lift unknown Observable type")}}var te=t(31635);function Q(de){var we=function(ze){Error.call(ze),ze.stack=new Error().stack},Fe=de(we);return Fe.prototype=Object.create(Error.prototype),Fe.prototype.constructor=Fe,Fe}var X=Q(function(de){return function(Fe){de(this),this.message=Fe?Fe.length+` errors occurred during unsubscription:
`+Fe.map(function(ze,et){return et+1+") "+ze.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=Fe}});function k(de,we){if(de){var Fe=de.indexOf(we);0<=Fe&&de.splice(Fe,1)}}var re=function(){function de(we){this.initialTeardown=we,this.closed=!1,this._parentage=null,this._finalizers=null}return de.prototype.unsubscribe=function(){var we,Fe,ze,et,st;if(!this.closed){this.closed=!0;var xe=this._parentage;if(xe)if(this._parentage=null,Array.isArray(xe))try{for(var At=(0,te.__values)(xe),pt=At.next();!pt.done;pt=At.next()){var It=pt.value;It.remove(this)}}catch(ur){we={error:ur}}finally{try{pt&&!pt.done&&(Fe=At.return)&&Fe.call(At)}finally{if(we)throw we.error}}else xe.remove(this);var wt=this.initialTeardown;if(H(wt))try{wt()}catch(ur){st=ur instanceof X?ur.errors:[ur]}var or=this._finalizers;if(or){this._finalizers=null;try{for(var Mt=(0,te.__values)(or),Zt=Mt.next();!Zt.done;Zt=Mt.next()){var Rr=Zt.value;try{le(Rr)}catch(ur){st=st??[],ur instanceof X?st=(0,te.__spreadArray)((0,te.__spreadArray)([],(0,te.__read)(st)),(0,te.__read)(ur.errors)):st.push(ur)}}}catch(ur){ze={error:ur}}finally{try{Zt&&!Zt.done&&(et=Mt.return)&&et.call(Mt)}finally{if(ze)throw ze.error}}}if(st)throw new X(st)}},de.prototype.add=function(we){var Fe;if(we&&we!==this)if(this.closed)le(we);else{if(we instanceof de){if(we.closed||we._hasParent(this))return;we._addParent(this)}(this._finalizers=(Fe=this._finalizers)!==null&&Fe!==void 0?Fe:[]).push(we)}},de.prototype._hasParent=function(we){var Fe=this._parentage;return Fe===we||Array.isArray(Fe)&&Fe.includes(we)},de.prototype._addParent=function(we){var Fe=this._parentage;this._parentage=Array.isArray(Fe)?(Fe.push(we),Fe):Fe?[Fe,we]:we},de.prototype._removeParent=function(we){var Fe=this._parentage;Fe===we?this._parentage=null:Array.isArray(Fe)&&k(Fe,we)},de.prototype.remove=function(we){var Fe=this._finalizers;Fe&&k(Fe,we),we instanceof de&&we._removeParent(this)},de.EMPTY=function(){var we=new de;return we.closed=!0,we}(),de}();re.EMPTY;function q(de){return de instanceof re||de&&"closed"in de&&H(de.remove)&&H(de.add)&&H(de.unsubscribe)}function le(de){H(de)?de():de.unsubscribe()}var ee={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ie={setTimeout:function(de,we){for(var Fe=[],ze=2;ze<arguments.length;ze++)Fe[ze-2]=arguments[ze];return setTimeout.apply(void 0,(0,te.__spreadArray)([de,we],(0,te.__read)(Fe)))},clearTimeout:function(de){return clearTimeout(de)},delegate:void 0};function he(de){ie.setTimeout(function(){throw de})}function me(){}var be=function(de){(0,te.__extends)(we,de);function we(Fe){var ze=de.call(this)||this;return ze.isStopped=!1,Fe?(ze.destination=Fe,q(Fe)&&Fe.add(ze)):ze.destination=tt,ze}return we.create=function(Fe,ze,et){return new Ie(Fe,ze,et)},we.prototype.next=function(Fe){this.isStopped||this._next(Fe)},we.prototype.error=function(Fe){this.isStopped||(this.isStopped=!0,this._error(Fe))},we.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},we.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,de.prototype.unsubscribe.call(this),this.destination=null)},we.prototype._next=function(Fe){this.destination.next(Fe)},we.prototype._error=function(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}},we.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},we}(re),Be=Function.prototype.bind;function je(de,we){return Be.call(de,we)}var Ue=function(){function de(we){this.partialObserver=we}return de.prototype.next=function(we){var Fe=this.partialObserver;if(Fe.next)try{Fe.next(we)}catch(ze){$e(ze)}},de.prototype.error=function(we){var Fe=this.partialObserver;if(Fe.error)try{Fe.error(we)}catch(ze){$e(ze)}else $e(we)},de.prototype.complete=function(){var we=this.partialObserver;if(we.complete)try{we.complete()}catch(Fe){$e(Fe)}},de}(),Ie=function(de){(0,te.__extends)(we,de);function we(Fe,ze,et){var st=de.call(this)||this,xe;if(H(Fe)||!Fe)xe={next:Fe??void 0,error:ze??void 0,complete:et??void 0};else{var At;st&&ee.useDeprecatedNextContext?(At=Object.create(Fe),At.unsubscribe=function(){return st.unsubscribe()},xe={next:Fe.next&&je(Fe.next,At),error:Fe.error&&je(Fe.error,At),complete:Fe.complete&&je(Fe.complete,At)}):xe=Fe}return st.destination=new Ue(xe),st}return we}(be);function $e(de){he(de)}function qe(de){throw de}var tt={closed:!0,next:me,error:qe,complete:me};function ct(de,we,Fe,ze,et){return new gt(de,we,Fe,ze,et)}var gt=function(de){(0,te.__extends)(we,de);function we(Fe,ze,et,st,xe,At){var pt=de.call(this,Fe)||this;return pt.onFinalize=xe,pt.shouldUnsubscribe=At,pt._next=ze?function(It){try{ze(It)}catch(wt){Fe.error(wt)}}:de.prototype._next,pt._error=st?function(It){try{st(It)}catch(wt){Fe.error(wt)}finally{this.unsubscribe()}}:de.prototype._error,pt._complete=et?function(){try{et()}catch(It){Fe.error(It)}finally{this.unsubscribe()}}:de.prototype._complete,pt}return we.prototype.unsubscribe=function(){var Fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var ze=this.closed;de.prototype.unsubscribe.call(this),!ze&&((Fe=this.onFinalize)===null||Fe===void 0||Fe.call(this))}},we}(be);function dt(de,we){return oe(function(Fe,ze){var et=0;Fe.subscribe(ct(ze,function(st){ze.next(de.call(we,st,et++))}))})}var Ot=function(de){return de&&typeof de.length=="number"&&typeof de!="function"};function Me(de){return H(de?.then)}var Le=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function He(de){return de}function _e(de){return de.length===0?He:de.length===1?de[0]:function(Fe){return de.reduce(function(ze,et){return et(ze)},Fe)}}function Xe(de){de()}var rt=function(){function de(we){we&&(this._subscribe=we)}return de.prototype.lift=function(we){var Fe=new de;return Fe.source=this,Fe.operator=we,Fe},de.prototype.subscribe=function(we,Fe,ze){var et=this,st=vt(we)?we:new Ie(we,Fe,ze);return Xe(function(){var xe=et,At=xe.operator,pt=xe.source;st.add(At?At.call(st,pt):pt?et._subscribe(st):et._trySubscribe(st))}),st},de.prototype._trySubscribe=function(we){try{return this._subscribe(we)}catch(Fe){we.error(Fe)}},de.prototype.forEach=function(we,Fe){var ze=this;return Fe=ke(Fe),new Fe(function(et,st){var xe=new Ie({next:function(At){try{we(At)}catch(pt){st(pt),xe.unsubscribe()}},error:st,complete:et});ze.subscribe(xe)})},de.prototype._subscribe=function(we){var Fe;return(Fe=this.source)===null||Fe===void 0?void 0:Fe.subscribe(we)},de.prototype[Le]=function(){return this},de.prototype.pipe=function(){for(var we=[],Fe=0;Fe<arguments.length;Fe++)we[Fe]=arguments[Fe];return _e(we)(this)},de.prototype.toPromise=function(we){var Fe=this;return we=ke(we),new we(function(ze,et){var st;Fe.subscribe(function(xe){return st=xe},function(xe){return et(xe)},function(){return ze(st)})})},de.create=function(we){return new de(we)},de}();function ke(de){var we;return(we=de??ee.Promise)!==null&&we!==void 0?we:Promise}function ft(de){return de&&H(de.next)&&H(de.error)&&H(de.complete)}function vt(de){return de&&de instanceof be||ft(de)&&q(de)}function Pt(de){return H(de[Le])}function ht(de){return Symbol.asyncIterator&&H(de?.[Symbol.asyncIterator])}function Rt(de){return new TypeError("You provided "+(de!==null&&typeof de=="object"?"an invalid object":"'"+de+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function jt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ut=jt();function Ft(de){return H(de?.[ut])}function Wt(de){return(0,te.__asyncGenerator)(this,arguments,function(){var Fe,ze,et,st;return(0,te.__generator)(this,function(xe){switch(xe.label){case 0:Fe=de.getReader(),xe.label=1;case 1:xe.trys.push([1,,9,10]),xe.label=2;case 2:return[4,(0,te.__await)(Fe.read())];case 3:return ze=xe.sent(),et=ze.value,st=ze.done,st?[4,(0,te.__await)(void 0)]:[3,5];case 4:return[2,xe.sent()];case 5:return[4,(0,te.__await)(et)];case 6:return[4,xe.sent()];case 7:return xe.sent(),[3,2];case 8:return[3,10];case 9:return Fe.releaseLock(),[7];case 10:return[2]}})})}function Lt(de){return H(de?.getReader)}function $t(de){if(de instanceof rt)return de;if(de!=null){if(Pt(de))return Gt(de);if(Ot(de))return Yt(de);if(Me(de))return Kt(de);if(ht(de))return _t(de);if(Ft(de))return nr(de);if(Lt(de))return Xt(de)}throw Rt(de)}function Gt(de){return new rt(function(we){var Fe=de[Le]();if(H(Fe.subscribe))return Fe.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Yt(de){return new rt(function(we){for(var Fe=0;Fe<de.length&&!we.closed;Fe++)we.next(de[Fe]);we.complete()})}function Kt(de){return new rt(function(we){de.then(function(Fe){we.closed||(we.next(Fe),we.complete())},function(Fe){return we.error(Fe)}).then(null,he)})}function nr(de){return new rt(function(we){var Fe,ze;try{for(var et=(0,te.__values)(de),st=et.next();!st.done;st=et.next()){var xe=st.value;if(we.next(xe),we.closed)return}}catch(At){Fe={error:At}}finally{try{st&&!st.done&&(ze=et.return)&&ze.call(et)}finally{if(Fe)throw Fe.error}}we.complete()})}function _t(de){return new rt(function(we){ar(de,we).catch(function(Fe){return we.error(Fe)})})}function Xt(de){return _t(Wt(de))}function ar(de,we){var Fe,ze,et,st;return(0,te.__awaiter)(this,void 0,void 0,function(){var xe,At;return(0,te.__generator)(this,function(pt){switch(pt.label){case 0:pt.trys.push([0,5,6,11]),Fe=(0,te.__asyncValues)(de),pt.label=1;case 1:return[4,Fe.next()];case 2:if(ze=pt.sent(),!!ze.done)return[3,4];if(xe=ze.value,we.next(xe),we.closed)return[2];pt.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return At=pt.sent(),et={error:At},[3,11];case 6:return pt.trys.push([6,,9,10]),ze&&!ze.done&&(st=Fe.return)?[4,st.call(Fe)]:[3,8];case 7:pt.sent(),pt.label=8;case 8:return[3,10];case 9:if(et)throw et.error;return[7];case 10:return[7];case 11:return we.complete(),[2]}})})}function cr(de){return oe(function(we,Fe){var ze=null,et=!1,st;ze=we.subscribe(ct(Fe,void 0,void 0,function(xe){st=$t(de(xe,cr(de)(we))),ze?(ze.unsubscribe(),ze=null,st.subscribe(Fe)):et=!0})),et&&(ze.unsubscribe(),ze=null,st.subscribe(Fe))})}const wr=["started","submitted","running"],kt=(de="")=>wr.includes(de),hr=de=>!!(typeof de=="object"&&de?.hasOwnProperty("queryID")&&de?.hasOwnProperty("status"));class ir extends T.iy{constructor(we){super(we),this.runningQueries={},this.requestCounter=100,this.cancel=Fe=>{this.storeQuery(Fe,{shouldCancel:!0})},this.requestIdPrefix=we.id}query(we){const Fe=this.filterQuery?we.targets.filter(this.filterQuery):we.targets;if(!Fe.length)return(0,A.of)({data:[]});const ze=[];for(let et of Fe)et.hide||ze.push(this.doSingle(et,we));return(0,W.h)(...ze)}storeQuery(we,Fe){const ze=JSON.stringify(we),et=this.runningQueries[ze]||{};this.runningQueries[ze]={...et,...Fe}}getQuery(we){const Fe=JSON.stringify(we);return this.runningQueries[Fe]||{}}removeQuery(we){const Fe=JSON.stringify(we);delete this.runningQueries[Fe]}doSingle(we,Fe){let ze,et,st=[];return V({...Fe,targets:[we],requestId:`${this.requestIdPrefix}_${this.requestCounter++}`},{getNextQuery:xe=>{var At,pt;if((At=xe.data)!=null&&At.length){const wt=(pt=xe.data[0].meta)==null?void 0:pt.custom;if(hr(wt)&&kt(wt.status))return ze=wt.queryID,et=wt.status,this.storeQuery(we,{queryID:ze}),{...we,queryID:ze}}this.removeQuery(we)},query:xe=>{const{range:At,targets:pt,requestId:It,intervalMs:wt,maxDataPoints:or}=xe,[Mt]=pt,Zt={...Mt,meta:{queryFlow:"async"}},Rr={queries:[{...Zt,intervalMs:wt,maxDataPoints:or,datasource:this==null?void 0:this.getRef(),datasourceId:this.id,...this.applyTemplateVariables(Zt,xe.scopedVars)}],range:At,from:At.from.valueOf().toString(),to:At.to.valueOf().toString()};let ur={};!a.$.featureToggles.awsAsyncQueryCaching&&kt(et)&&(ur={"X-Cache-Skip":!0});const gr={method:"POST",url:"/api/ds/query",data:Rr,requestId:It,headers:ur};return(0,R.AI)().fetch(gr).pipe(dt(Vt=>({data:(0,S.bE)(Vt).data})),cr(Vt=>(0,A.of)((0,S.bE)(Vt))))},process:xe=>{for(const At of xe)At.fields.length>0&&st.push(At);return st},shouldCancel:()=>{const{shouldCancel:xe}=this.getQuery(we);return!!xe},onCancel:()=>{ze&&(this.removeQuery(we),this.postResource("cancel",{queryId:ze}).catch(xe=>{xe.isHandled=!0,console.error(`error cancelling query ID: ${ze}`,xe)}))}})}}const mt=de=>{const{state:we}=de,[Fe,ze]=useState(!1),[et,st]=useState(!1),[xe,At]=useState(we),[pt,It]=useState(de.query);useEffect(()=>{we&&xe!==we&&we!==LoadingState.Loading&&(ze(!1),st(!1)),At(we)},[we,xe]);const wt=()=>{ze(!0),It(de.query),de.onRunQuery()},or=de.onCancelQuery?()=>{var Mt;(Mt=de.onCancelQuery)==null||Mt.call(de,pt),st(!0)}:void 0;return React.createElement(React.Fragment,null,React.createElement(Button,{variant:de.enableRun?"primary":"secondary",size:"sm",onClick:wt,icon:Fe&&!et?"fa fa-spinner":void 0,disabled:we===LoadingState.Loading||!de.enableRun},"Run query"),React.createElement(Button,{variant:Fe&&!et?"primary":"secondary",size:"sm",disabled:!Fe||et,icon:et?"fa fa-spinner":void 0,onClick:or},"Stop query"))};function qt({query:de,showAsyncQueryButtons:we,extraHeaderElementLeft:Fe,extraHeaderElementRight:ze,enableRunButton:et,onRunQuery:st,data:xe,cancel:At}){return React.createElement(EditorHeader,null,Fe,React.createElement(FlexItem,{grow:1}),we?React.createElement(RunQueryButtons,{onRunQuery:st,enableRun:et,query:de,onCancelQuery:pt=>{At?.(pt)},state:xe?.state}):React.createElement(Button,{variant:et?"primary":"secondary",size:"sm",onClick:st,icon:xe?.state===LoadingState.Loading?"fa fa-spinner":void 0,disabled:xe?.state===LoadingState.Loading||!et},"Run queries"),ze)}function pr(de){var we;const Fe=ze=>{var et;de.onChange({...de.query,format:ze.value||0}),(et=de.onRunQuery)==null||et.call(de)};return React.createElement(Select,{"aria-label":"Format data frames as",id:(we=de.id)!=null?we:"formatAs",options:de.options,value:de.query.format,onChange:Fe,menuShouldPortal:!0})}var bt=(de=>(de[de.Previous=0]="Previous",de[de.Null=1]="Null",de[de.Value=2]="Value",de))(bt||{});const fr=[{label:"Previous Value",value:0},{label:"NULL",value:1},{label:"Value",value:2}];function Or(de){var we,Fe,ze;return React.createElement(React.Fragment,null,React.createElement(EditorField,{label:"Fill with",tooltip:"value to fill missing points",htmlFor:"fillWith"},React.createElement(Select,{id:"fillWith","aria-label":"Fill with","data-testid":"table-fill-with-select",options:fr,value:(Fe=(we=de.query.fillMode)==null?void 0:we.mode)!=null?Fe:0,onChange:({value:et})=>{var st;de.onChange({...de.query,fillMode:{...de.query.fillMode,mode:et}}),(st=de.onRunQuery)==null||st.call(de)},menuShouldPortal:!0})),((ze=de.query.fillMode)==null?void 0:ze.mode)===2&&React.createElement(EditorField,{label:"Value",htmlFor:"valueToFill",width:6},React.createElement(Input,{id:"valueToFill","aria-label":"Value",type:"number",value:de.query.fillMode.value,onChange:({currentTarget:et})=>de.onChange({...de.query,fillMode:{mode:2,value:et.valueAsNumber}}),onBlur:()=>{var et;return(et=de.onRunQuery)==null?void 0:et.call(de)}})))}},74460:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncButtonCascader=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(26527),s=t(22803),l=r.__importDefault(t(92593)),n=i=>({popup:(0,s.css)`
      label: popup;
      z-index: ${i.zIndex.dropdown};
    `,icon:(0,s.css)`
      margin: 1px 0 0 4px;
    `}),o=i=>{const{onChange:a,className:u,loadData:d}=i,v=r.__rest(i,["onChange","className","loadData"]),p=(0,f.useTheme2)(),m=n(p);return c.default.createElement(l.default,Object.assign({onChange:a,loadData:d,changeOnSelect:!0,popupClassName:m.popup},v,{expandIcon:null}),c.default.createElement("button",{className:(0,s.cx)("gf-form-label",u),disabled:i.disabled},i.children," ",c.default.createElement(f.Icon,{name:"angle-down",className:m.icon})))};e.AsyncButtonCascader=o,e.AsyncButtonCascader.displayName="AsyncButtonCascader"},4182:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cascader=void 0;var r=t(26527);Object.defineProperty(e,"Cascader",{enumerable:!0,get:function(){return r.Cascader}})},7324:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdvancedHttpSettings=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=t(26489),n=({config:o,onChange:i,className:a})=>{const u=p=>{i(Object.assign(Object.assign({},o),{jsonData:Object.assign(Object.assign({},o.jsonData),{keepCookies:p})}))},d=p=>{i(Object.assign(Object.assign({},o),{jsonData:Object.assign(Object.assign({},o.jsonData),{timeout:parseInt(p.currentTarget.value,10)})}))},v={container:(0,f.css)({maxWidth:578})};return c.default.createElement(l.ConfigSubSection,{title:"Advanced HTTP settings",className:(0,f.cx)(v.container,a)},c.default.createElement(s.InlineField,{htmlFor:"advanced-http-cookies",label:"Allowed cookies",labelWidth:24,tooltip:"Grafana proxy deletes forwarded cookies by default. Specify cookies by name that should be forwarded to the data source.",disabled:o.readOnly,grow:!0},c.default.createElement(s.TagsInput,{id:"advanced-http-cookies",placeholder:"New cookie (hit enter to add)",tags:o.jsonData.keepCookies,onChange:u})),c.default.createElement(s.InlineField,{htmlFor:"advanced-http-timeout",label:"Timeout",labelWidth:24,tooltip:"HTTP request timeout in seconds",disabled:o.readOnly,grow:!0},c.default.createElement(s.Input,{id:"advanced-http-timeout",type:"number",min:0,placeholder:"Timeout in seconds","aria-label":"Timeout in seconds",value:o.jsonData.timeout,onChange:d})))};e.AdvancedHttpSettings=n},93027:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdvancedHttpSettings=void 0;var r=t(7324);Object.defineProperty(e,"AdvancedHttpSettings",{enumerable:!0,get:function(){return r.AdvancedHttpSettings}})},97974:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Auth=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(39347),l=t(31663),n=t(38064),o=t(26489),i=({selectedMethod:a,mostCommonMethod:u,visibleMethods:d,defaultOptionsOverrides:v,customMethods:p,onAuthMethodSelect:m,basicAuth:P,TLS:E,customHeaders:L,readOnly:F=!1})=>{const j={container:(0,f.css)({maxWidth:578})};return c.default.createElement("div",{className:j.container},c.default.createElement(o.ConfigSection,{title:"Authentication"},c.default.createElement(s.AuthMethodSettings,{selectedMethod:a,mostCommonMethod:u,customMethods:p,visibleMethods:d,defaultOptionsOverrides:v,onAuthMethodSelect:m,basicAuth:P,readOnly:F}),E&&c.default.createElement(l.TLSSettings,Object.assign({},E,{readOnly:F})),L&&c.default.createElement(n.CustomHeaders,Object.assign({},L,{readOnly:F}))))};e.Auth=i},39347:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthMethodSettings=void 0;const c=t(31635).__importStar(t(96540)),f=t(22803),s=t(26527),l=t(10961),n=t(26489),o=t(78455),i={[o.AuthMethod.BasicAuth]:{label:"Basic authentication",value:o.AuthMethod.BasicAuth,description:"Authenticate with your data source username and password"},[o.AuthMethod.CrossSiteCredentials]:{label:"Enable cross-site access control requests",value:o.AuthMethod.CrossSiteCredentials,description:"Allow cross-site Access-Control requests with your existing credentials and cookies. This enables the server to authenticate the user and perform authorized requests on their behalf on other domains."},[o.AuthMethod.OAuthForward]:{label:"Forward OAuth Identity",value:o.AuthMethod.OAuthForward,description:"Forward the OAuth access token (and if available: the OIDC ID token) of the user querying to the data source"},[o.AuthMethod.NoAuth]:{label:"No Authentication",value:o.AuthMethod.NoAuth,description:"Data source is available without authentication"}},a=({selectedMethod:u,mostCommonMethod:d,visibleMethods:v,defaultOptionsOverrides:p,customMethods:m,onAuthMethodSelect:P,basicAuth:E,readOnly:L})=>{var F,j,D,B;const[G,K]=(0,c.useState)(!1),{colors:Y,spacing:$}=(0,s.useTheme2)(),U=(0,c.useMemo)(()=>{var A;return v??[o.AuthMethod.BasicAuth,o.AuthMethod.OAuthForward,o.AuthMethod.NoAuth,...(A=m?.map(W=>W.id))!==null&&A!==void 0?A:[]]},[m,v]),M=U.length>1,C=(0,c.useMemo)(()=>{var A;const W=(A=m?.reduce((w,V)=>(w[V.id]={label:V.label,value:V.id,description:V.description},w),{}))!==null&&A!==void 0?A:{},I={};let O;for(O in i)I[O]=Object.assign(Object.assign({},i[O]),p?.[O]);const h=Object.assign(Object.assign({},W),I);return U.filter(w=>!!h[w]).map(w=>{const V=h[w];return w===d&&M?Object.assign(Object.assign({},V),{label:`${V.label} (most common)`}):V})},[U,m,p,d,M]);let y=u;M?u===o.AuthMethod.NoAuth&&d&&!G&&(y=d):y=U[0];let b=null;y===o.AuthMethod.BasicAuth&&E?b=c.default.createElement(l.BasicAuth,Object.assign({},E,{readOnly:L})):y.startsWith("custom-")&&(b=(j=(F=m?.find(A=>A.id===y))===null||F===void 0?void 0:F.component)!==null&&j!==void 0?j:null);const T=M?"Authentication methods":(D=C[0].label)!==null&&D!==void 0?D:"",R=M?"Choose an authentication method to access the data source":(B=C[0].description)!==null&&B!==void 0?B:"",S={authMethods:(0,f.css)(Object.assign({marginTop:$(2.5)},M&&{padding:$(2),border:`1px solid ${Y.border.weak}`})),selectedMethodFields:(0,f.css)({marginTop:$(1.5)})};return c.default.createElement(n.ConfigSubSection,{title:T,description:R},c.default.createElement("div",{className:S.authMethods},M&&c.default.createElement(s.Field,{label:"Authentication method"},c.default.createElement(s.Select,{inputId:"auth-method-select",options:C,value:y,onChange:A=>{K(!0),P(A.value)},disabled:L})),b&&c.default.createElement("div",{className:S.selectedMethodFields},b)))};e.AuthMethodSettings=a},10961:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicAuth=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=t(87190),n=({user:o,passwordConfigured:i,userLabel:a="User",userTooltip:u="The username of the data source account",userPlaceholder:d="User",passwordLabel:v="Password",passwordTooltip:p="The password of the data source account",passwordPlaceholder:m="Password",onUserChange:P,onPasswordChange:E,onPasswordReset:L,readOnly:F})=>{const j=(0,l.useCommonStyles)(),D={lastInlineField:(0,f.css)({marginBottom:0})};return c.default.createElement(c.default.Fragment,null,c.default.createElement(s.InlineField,{className:j.inlineFieldNoMarginRight,label:a,labelWidth:24,tooltip:u,required:!0,htmlFor:"basic-auth-user-input",interactive:!0,grow:!0,disabled:F},c.default.createElement(s.Input,{id:"basic-auth-user-input",placeholder:d,value:o,onChange:B=>P(B.currentTarget.value),required:!0})),c.default.createElement(s.InlineField,{className:(0,f.cx)(j.inlineFieldNoMarginRight,j.inlineFieldWithSecret,D.lastInlineField),label:v,labelWidth:24,tooltip:p,required:!0,htmlFor:"basic-auth-password-input",interactive:!0,grow:!0,disabled:F},c.default.createElement(s.SecretInput,{id:"basic-auth-password-input",isConfigured:i,onReset:F?()=>{}:L,placeholder:m,onChange:B=>E(B.currentTarget.value),required:!0})))};e.BasicAuth=n},79973:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomHeader=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=t(87190),n=({header:o,onChange:i,onBlur:a,onDelete:u,readOnly:d})=>{const{spacing:v}=(0,s.useTheme2)(),p=(0,l.useCommonStyles)(),m={container:(0,f.css)({alignItems:"center"}),input:(0,f.css)({minWidth:"100%"}),headerNameField:(0,f.css)({width:"40%",marginRight:0,paddingRight:v(1)}),headerValueField:(0,f.css)({width:"45%",marginRight:0}),removeHeaderBtn:(0,f.css)({margin:"0 0 3px 10px"})};return c.default.createElement(c.default.Fragment,null,c.default.createElement(s.InlineFieldRow,{className:m.container},c.default.createElement(s.InlineField,{label:"Header",labelWidth:9,grow:!0,className:m.headerNameField,htmlFor:`custom-header-${o.id}-name-input`,disabled:d},c.default.createElement(s.Input,{id:`custom-header-${o.id}-name-input`,placeholder:"X-Custom-Header",value:o.name,width:12,onChange:P=>i(Object.assign(Object.assign({},o),{name:P.currentTarget.value})),onBlur:a,className:m.input})),c.default.createElement(s.InlineField,{label:"Value",labelWidth:9,grow:!0,className:(0,f.cx)(p.inlineFieldWithSecret,m.headerValueField),htmlFor:`custom-header-${o.id}-value-input`,disabled:d},c.default.createElement(s.SecretInput,{id:`custom-header-${o.id}-value-input`,isConfigured:o.configured,placeholder:"Header value",value:o.value,width:12,onChange:P=>i(Object.assign(Object.assign({},o),{value:P.currentTarget.value})),onReset:d?()=>{}:()=>i(Object.assign(Object.assign({},o),{configured:!1,value:""})),onBlur:a,className:m.input})),c.default.createElement(s.IconButton,{name:"trash-alt",tooltip:"Remove header",tooltipPlacement:"top",className:m.removeHeaderBtn,onClick:u,type:"button",disabled:d})))};e.CustomHeader=n},38064:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomHeaders=void 0;const c=t(31635).__importStar(t(96540)),f=t(22803),s=t(26527),l=t(79973),n=t(26489),o=({headers:a,onChange:u,readOnly:d})=>{const{spacing:v}=(0,s.useTheme2)(),[p,m]=(0,c.useState)(a.map(D=>Object.assign(Object.assign({},D),{id:i(),value:""})));(0,c.useEffect)(()=>{m(D=>{let B=!1;const G=D.map(K=>{var Y;const $=(Y=a.find(U=>U.name===K.name))===null||Y===void 0?void 0:Y.configured;return typeof $<"u"&&K.configured!==$?(B=!0,Object.assign(Object.assign({},K),{configured:$})):K});return B?G:D})},[a]);const P=()=>{m([...p,{id:i(),name:"",value:"",configured:!1}])},E=(D,B)=>{m(p.map(G=>G.id===D?Object.assign({},B):G))},L=D=>{const B=p.findIndex(K=>K.id===D);if(B===-1)return;const G=[...p];G.splice(B,1),m(G),u(G.map(({name:K,value:Y,configured:$})=>({name:K,value:Y,configured:$})))},F=()=>{u(p.map(({name:D,value:B,configured:G})=>({name:D,value:B,configured:G})))},j={container:(0,f.css)({marginTop:v(3)}),addHeaderButton:(0,f.css)({marginTop:v(1.5)})};return c.default.createElement("div",{className:j.container},c.default.createElement(n.ConfigSubSection,{title:"HTTP headers",description:"Pass along additional context and metadata about the request/response",isCollapsible:!0,isInitiallyOpen:p.length>0},c.default.createElement("div",null,p.map(D=>c.default.createElement(l.CustomHeader,{key:D.id,header:D,onChange:B=>E(B.id,B),onDelete:()=>L(D.id),onBlur:F,readOnly:d}))),c.default.createElement("div",{className:j.addHeaderButton},c.default.createElement(s.Button,{icon:"plus",variant:"secondary",fill:"outline",onClick:P,disabled:d},p.length===0?"Add header":"Add another header"))))};e.CustomHeaders=o;function i(){return Math.random().toString(16).slice(2)}},43578:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertLegacyAuthProps=e.AuthMethod=e.Auth=void 0;var r=t(97974);Object.defineProperty(e,"Auth",{enumerable:!0,get:function(){return r.Auth}});var c=t(78455);Object.defineProperty(e,"AuthMethod",{enumerable:!0,get:function(){return c.AuthMethod}});var f=t(59627);Object.defineProperty(e,"convertLegacyAuthProps",{enumerable:!0,get:function(){return f.convertLegacyAuthProps}})},87190:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useCommonStyles=void 0;const r=t(22803),c=()=>({inlineFieldNoMarginRight:(0,r.css)({marginRight:0}),inlineFieldWithSecret:(0,r.css)({'[class$="layoutChildrenWrapper"]:first-child':{flexGrow:1}})});e.useCommonStyles=c},28301:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelfSignedCertificate=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=t(41925),n=t(87190),o=({enabled:i,certificateConfigured:a,onToggle:u,onCertificateChange:d,onCertificateReset:v,tooltips:p,readOnly:m})=>{var P;const E=(0,n.useCommonStyles)();return c.default.createElement(l.TLSSettingsSection,{enabled:i,label:"Add self-signed certificate",tooltipText:"Add your own Certificate Authority (CA) certificate on top of one generated by the certificate authorities for additional security measures",onToggle:L=>u(L),readOnly:m},c.default.createElement(s.InlineField,{label:"CA Certificate",labelWidth:24,tooltip:(P=p?.certificateLabel)!==null&&P!==void 0?P:"Your self-signed certificate",required:!0,htmlFor:"self-signed-certificate-input",interactive:!0,grow:!0,className:(0,f.cx)(E.inlineFieldNoMarginRight,E.inlineFieldWithSecret),disabled:m},c.default.createElement(s.SecretTextArea,{id:"self-signed-certificate-input",isConfigured:a,onChange:L=>d(L.currentTarget.value),onReset:m?()=>{}:v,placeholder:"Begins with --- BEGIN CERTIFICATE ---",rows:6,required:!0})))};e.SelfSignedCertificate=o},93747:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkipTLSVerification=void 0;const c=t(31635).__importDefault(t(96540)),f=t(41925),s=({enabled:l,onToggle:n,readOnly:o})=>c.default.createElement(f.TLSSettingsSection,{enabled:l,label:"Skip TLS certificate validation",tooltipText:"Skipping TLS certificate validation is not recommended unless absolutely necessary or for testing",onToggle:i=>n(i),readOnly:o});e.SkipTLSVerification=s},71856:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TLSClientAuth=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=t(41925),n=t(87190),o=({enabled:i,serverName:a,clientCertificateConfigured:u,clientKeyConfigured:d,onToggle:v,onServerNameChange:p,onClientCertificateChange:m,onClientKeyChange:P,onClientCertificateReset:E,onClientKeyReset:L,tooltips:F,readOnly:j})=>{var D,B,G;const K=(0,n.useCommonStyles)();return c.default.createElement(l.TLSSettingsSection,{enabled:i,label:"TLS Client Authentication",tooltipText:"Validate using TLS client authentication, in which the server authenticates the client",onToggle:Y=>v(Y),readOnly:j},c.default.createElement(s.InlineField,{label:"ServerName",labelWidth:24,tooltip:(D=F?.serverNameLabel)!==null&&D!==void 0?D:"A Servername is used to verify the hostname on the returned certificate",required:!0,htmlFor:"client-auth-servername-input",interactive:!0,grow:!0,className:K.inlineFieldNoMarginRight,disabled:j},c.default.createElement(s.Input,{id:"client-auth-servername-input",placeholder:"domain.example.com",value:a,onChange:Y=>p(Y.currentTarget.value),required:!0})),c.default.createElement(s.InlineField,{label:"Client Certificate",labelWidth:24,tooltip:(B=F?.certificateLabel)!==null&&B!==void 0?B:"The client certificate can be generated from a Certificate Authority or be self-signed",required:!0,htmlFor:"client-auth-client-certificate-input",interactive:!0,grow:!0,className:(0,f.cx)(K.inlineFieldNoMarginRight,K.inlineFieldWithSecret),disabled:j},c.default.createElement(s.SecretTextArea,{id:"client-auth-client-certificate-input",isConfigured:u,onChange:Y=>m(Y.currentTarget.value),onReset:j?()=>{}:E,placeholder:"Begins with --- BEGIN CERTIFICATE ---",rows:6,required:!0})),c.default.createElement(s.InlineField,{label:"Client Key",labelWidth:24,tooltip:(G=F?.keyLabel)!==null&&G!==void 0?G:"The client key can be generated from a Certificate Authority or be self-signed",required:!0,htmlFor:"client-auth-client-key-input",interactive:!0,grow:!0,className:(0,f.cx)(K.inlineFieldNoMarginRight,K.inlineFieldWithSecret),disabled:j},c.default.createElement(s.SecretTextArea,{id:"client-auth-client-key-input",isConfigured:d,onChange:Y=>P(Y.currentTarget.value),onReset:j?()=>{}:L,placeholder:"Begins with --- RSA PRIVATE KEY CERTIFICATE ---",rows:6,required:!0})))};e.TLSClientAuth=o},31663:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TLSSettings=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=t(28301),n=t(71856),o=t(93747),i=t(26489),a=({selfSignedCertificate:u,TLSClientAuth:d,skipTLSVerification:v,readOnly:p})=>{const{spacing:m}=(0,s.useTheme2)(),P={container:(0,f.css)({marginTop:m(3)})};return c.default.createElement(i.ConfigSubSection,{className:P.container,title:"TLS settings",description:"Additional security measures that can be applied on top of authentication"},c.default.createElement(l.SelfSignedCertificate,Object.assign({},u,{readOnly:p})),c.default.createElement(n.TLSClientAuth,Object.assign({},d,{readOnly:p})),c.default.createElement(o.SkipTLSVerification,Object.assign({},v,{readOnly:p})))};e.TLSSettings=a},41925:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TLSSettingsSection=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=({children:n,enabled:o,label:i,tooltipText:a,onToggle:u,readOnly:d})=>{const{colors:v,spacing:p}=(0,s.useTheme2)(),m={container:(0,f.css)({marginTop:3}),checkboxContainer:(0,f.css)({display:"flex",alignItems:"center"}),infoIcon:(0,f.css)({marginTop:-2,marginLeft:5,color:v.text.secondary}),content:(0,f.css)({margin:p(1,0,2,3)})};return c.default.createElement("div",{className:m.container},c.default.createElement("div",{className:m.checkboxContainer},c.default.createElement(s.Checkbox,{value:o,label:i,onChange:()=>u(!o),disabled:d}),c.default.createElement(s.Tooltip,{placement:"top",content:a,interactive:!0},c.default.createElement(s.Icon,{name:"info-circle",className:m.infoIcon,size:"sm"}))),o&&n&&c.default.createElement("div",{className:m.content},n))};e.TLSSettingsSection=l},78455:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuthMethod=void 0;var t;(function(r){r.NoAuth="NoAuth",r.BasicAuth="BasicAuth",r.OAuthForward="OAuthForward",r.CrossSiteCredentials="CrossSiteCredentials"})(t=e.AuthMethod||(e.AuthMethod={}))},59627:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCustomHeaders=e.getTLSProps=e.getBasicAuthProps=e.getOnAuthMethodSelectHandler=e.getSelectedMethod=e.convertLegacyAuthProps=void 0;const r=t(78455),c="httpHeaderName",f="httpHeaderValue";function s({config:u,onChange:d}){return{selectedMethod:l(u),onAuthMethodSelect:n(u,d),basicAuth:o(u,d),TLS:i(u,d),customHeaders:a(u,d),readOnly:u.readOnly}}e.convertLegacyAuthProps=s;function l(u){return u.basicAuth?r.AuthMethod.BasicAuth:u.withCredentials?r.AuthMethod.CrossSiteCredentials:u.jsonData.oauthPassThru?r.AuthMethod.OAuthForward:r.AuthMethod.NoAuth}e.getSelectedMethod=l;function n(u,d){return v=>{d(Object.assign(Object.assign({},u),{basicAuth:v===r.AuthMethod.BasicAuth,withCredentials:v===r.AuthMethod.CrossSiteCredentials,jsonData:Object.assign(Object.assign({},u.jsonData),{oauthPassThru:v===r.AuthMethod.OAuthForward})}))}}e.getOnAuthMethodSelectHandler=n;function o(u,d){return{user:u.basicAuthUser,passwordConfigured:u.secureJsonFields.basicAuthPassword,onUserChange:v=>d(Object.assign(Object.assign({},u),{basicAuthUser:v})),onPasswordChange:v=>d(Object.assign(Object.assign({},u),{secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{basicAuthPassword:v})})),onPasswordReset:()=>d(Object.assign(Object.assign({},u),{secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{basicAuthPassword:""}),secureJsonFields:Object.assign(Object.assign({},u.secureJsonFields),{basicAuthPassword:!1})}))}}e.getBasicAuthProps=o;function i(u,d){var v,p,m;return{selfSignedCertificate:{enabled:!!u.jsonData.tlsAuthWithCACert,certificateConfigured:!!(!((v=u.secureJsonFields)===null||v===void 0)&&v.tlsCACert),onToggle:P=>d(P?Object.assign(Object.assign({},u),{jsonData:Object.assign(Object.assign({},u.jsonData),{tlsAuthWithCACert:P})}):Object.assign(Object.assign({},u),{jsonData:Object.assign(Object.assign({},u.jsonData),{tlsAuthWithCACert:P}),secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{tlsCACert:""}),secureJsonFields:Object.assign(Object.assign({},u.secureJsonFields),{tlsCACert:!1})})),onCertificateChange:P=>d(Object.assign(Object.assign({},u),{secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{tlsCACert:P})})),onCertificateReset:()=>d(Object.assign(Object.assign({},u),{secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{tlsCACert:""}),secureJsonFields:Object.assign(Object.assign({},u.secureJsonFields),{tlsCACert:!1})}))},TLSClientAuth:{enabled:u.jsonData.tlsAuth,serverName:u.jsonData.serverName,clientCertificateConfigured:!!(!((p=u.secureJsonFields)===null||p===void 0)&&p.tlsClientCert),clientKeyConfigured:!!(!((m=u.secureJsonFields)===null||m===void 0)&&m.tlsClientKey),onToggle:P=>d(P?Object.assign(Object.assign({},u),{jsonData:Object.assign(Object.assign({},u.jsonData),{tlsAuth:P})}):Object.assign(Object.assign({},u),{jsonData:Object.assign(Object.assign({},u.jsonData),{tlsAuth:P,serverName:""}),secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{tlsClientCert:"",tlsClientKey:""}),secureJsonFields:Object.assign(Object.assign({},u.secureJsonFields),{tlsClientCert:!1,tlsClientKey:!1})})),onServerNameChange:P=>d(Object.assign(Object.assign({},u),{jsonData:Object.assign(Object.assign({},u.jsonData),{serverName:P})})),onClientCertificateChange:P=>d(Object.assign(Object.assign({},u),{secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{tlsClientCert:P})})),onClientCertificateReset:()=>d(Object.assign(Object.assign({},u),{secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{tlsClientCert:""}),secureJsonFields:Object.assign(Object.assign({},u.secureJsonFields),{tlsClientCert:!1})})),onClientKeyChange:P=>d(Object.assign(Object.assign({},u),{secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{tlsClientKey:P})})),onClientKeyReset:()=>d(Object.assign(Object.assign({},u),{secureJsonData:Object.assign(Object.assign({},u.secureJsonData),{tlsClientKey:""}),secureJsonFields:Object.assign(Object.assign({},u.secureJsonFields),{tlsClientKey:!1})}))},skipTLSVerification:{enabled:u.jsonData.tlsSkipVerify,onToggle:P=>d(Object.assign(Object.assign({},u),{jsonData:Object.assign(Object.assign({},u.jsonData),{tlsSkipVerify:P})}))}}}e.getTLSProps=i;function a(u,d){return{headers:Object.keys(u.jsonData).filter(p=>p.startsWith(c)).sort().map(p=>{var m;const P=p.slice(c.length);return{name:u.jsonData[p],configured:(m=u.secureJsonFields[`${f}${P}`])!==null&&m!==void 0?m:!1}}),onChange:p=>{const m=Object.fromEntries(Object.entries(u.jsonData).filter(([L])=>!L.startsWith(c))),P=Object.fromEntries(Object.entries(u.secureJsonData||{}).filter(([L])=>!L.startsWith(f))),E=Object.fromEntries(Object.entries(u.secureJsonFields).filter(([L])=>!L.startsWith(f)));p.forEach((L,F)=>{m[`${c}${F+1}`]=L.name,L.configured?E[`${f}${F+1}`]=!0:P[`${f}${F+1}`]=L.value}),d(Object.assign(Object.assign({},u),{jsonData:m,secureJsonData:P,secureJsonFields:E}))}}}e.getCustomHeaders=a},59678:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigDescriptionLink=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(26527);function l(o){const{description:i,suffix:a,feature:u}=o,d=`Learn more about ${u}`,v=(0,s.useStyles2)(n);return f.default.createElement("span",{className:v.container},i,f.default.createElement("a",{"aria-label":d,href:`https://grafana.com/docs/grafana/next/datasources/${a}`,rel:"noreferrer",target:"_blank"},d))}e.ConfigDescriptionLink=l;const n=o=>({container:(0,c.css)({color:o.colors.text.secondary,a:(0,c.css)({color:o.colors.text.link,textDecoration:"underline",marginLeft:"5px","&:hover":{textDecoration:"none"}})})})},47712:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigSection=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(52047),s=l=>{var{children:n}=l,o=r.__rest(l,["children"]);return c.default.createElement(f.GenericConfigSection,Object.assign({},o,{kind:"section"}),n)};e.ConfigSection=s},51370:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigSubSection=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(52047),s=l=>{var{children:n}=l,o=r.__rest(l,["children"]);return c.default.createElement(f.GenericConfigSection,Object.assign({},o,{kind:"sub-section"}),n)};e.ConfigSubSection=s},52047:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericConfigSection=void 0;const c=t(31635).__importStar(t(96540)),f=t(22803),s=t(26527),l=({children:n,title:o,description:i,isCollapsible:a=!1,isInitiallyOpen:u=!0,kind:d="section",className:v})=>{const{colors:p,typography:m,spacing:P}=(0,s.useTheme2)(),[E,L]=(0,c.useState)(a?u:!0),F=E?"angle-up":"angle-down",j=d==="sub-section",D=`${E?"Collapse":"Expand"} section ${o}`,B={header:(0,f.css)({display:"flex",justifyContent:"space-between",alignItems:"center"}),title:(0,f.css)({margin:0}),subtitle:(0,f.css)({margin:0,fontWeight:m.fontWeightRegular}),descriptionText:(0,f.css)(Object.assign(Object.assign({marginTop:P(j?.25:.5),marginBottom:0},m.bodySmall),{color:p.text.secondary})),content:(0,f.css)({marginTop:P(2)})};return c.default.createElement("div",{className:v},c.default.createElement("div",{className:B.header},d==="section"?c.default.createElement("h3",{className:B.title},o):c.default.createElement("h6",{className:B.subtitle},o),a&&c.default.createElement(s.IconButton,{name:F,onClick:()=>L(!E),type:"button",size:"xl","aria-label":D})),i&&c.default.createElement("p",{className:B.descriptionText},i),E&&c.default.createElement("div",{className:B.content},n))};e.GenericConfigSection=l},26489:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigDescriptionLink=e.ConfigSubSection=e.ConfigSection=void 0;var r=t(47712);Object.defineProperty(e,"ConfigSection",{enumerable:!0,get:function(){return r.ConfigSection}});var c=t(51370);Object.defineProperty(e,"ConfigSubSection",{enumerable:!0,get:function(){return c.ConfigSubSection}});var f=t(59678);Object.defineProperty(e,"ConfigDescriptionLink",{enumerable:!0,get:function(){return f.ConfigDescriptionLink}})},63019:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionSettings=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=t(26489),n=({config:o,onChange:i,description:a,urlPlaceholder:u,urlTooltip:d,urlLabel:v,className:p})=>{const m=o.url!==void 0&&/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/.test(o.url),P={container:(0,f.css)({maxWidth:578})};return c.default.createElement(c.default.Fragment,null,c.default.createElement(l.ConfigSection,{title:"Connection",description:a,className:(0,f.cx)(P.container,p)},c.default.createElement(s.InlineField,{htmlFor:"connection-url",label:v||"URL",labelWidth:24,tooltip:d||c.default.createElement(c.default.Fragment,null,"Specify a complete HTTP URL",c.default.createElement("br",null),"(for example https://example.com:8080)"),grow:!0,disabled:o.readOnly,required:!0,invalid:!m&&!o.readOnly,error:m?"":"Please enter a valid URL",interactive:!0},c.default.createElement(s.Input,{id:"connection-url","aria-label":"Data source connection URL",onChange:E=>i(Object.assign(Object.assign({},o),{url:E.currentTarget.value})),value:o.url||"",placeholder:u||"URL"}))))};e.ConnectionSettings=n},68848:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionSettings=void 0;var r=t(63019);Object.defineProperty(e,"ConnectionSettings",{enumerable:!0,get:function(){return r.ConnectionSettings}})},28522:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataSourceDescription=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=({dataSourceName:n,docsLink:o,hasRequiredFields:i=!0,className:a})=>{const u=(0,s.useTheme2)(),d={container:(0,f.css)({p:{margin:0},"p + p":{marginTop:u.spacing(2)}}),text:(0,f.css)(Object.assign(Object.assign({},u.typography.body),{color:u.colors.text.secondary,a:(0,f.css)({color:u.colors.text.link,textDecoration:"underline","&:hover":{textDecoration:"none"}})}))};return c.default.createElement("div",{className:(0,f.cx)(d.container,a)},c.default.createElement("p",{className:d.text},"Before you can use the ",n," data source, you must configure it below or in the config file. For detailed instructions,"," ",c.default.createElement("a",{href:o,target:"_blank",rel:"noreferrer"},"view the documentation"),"."),i&&c.default.createElement("p",{className:d.text},c.default.createElement("i",null,"Fields marked with * are required")))};e.DataSourceDescription=l},62381:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SecureSocksProxyToggle=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(26527),s=t(92243),l=n=>{var{labelWidth:o=10}=n,i=r.__rest(n,["labelWidth"]);const{dataSourceConfig:a,onChange:u}=i,d=v=>{u(Object.assign(Object.assign({},a),{jsonData:Object.assign(Object.assign({},a.jsonData),{enableSecureSocksProxy:v.target.checked})}))};return s.config.secureSocksDSProxyEnabled&&c.default.createElement("div",null,c.default.createElement("div",{className:"gf-form"},c.default.createElement("div",{className:"gf-form gf-form-inline"},c.default.createElement(f.InlineField,{htmlFor:"secureSocksProxyEnabled",label:"Secure Socks Proxy Enabled",labelWidth:o,tooltip:c.default.createElement(c.default.Fragment,null,"Proxy the datasource connection through the secure socks proxy to a different network. To learn more about configuring the datasource connection proxy,"," ",c.default.createElement("a",{href:"https://grafana.com/docs/grafana/latest/setup-grafana/configure-grafana/proxy/",target:"_blank",rel:"noopener noreferrer"},"click here."))},c.default.createElement(f.InlineSwitch,{id:"secureSocksProxyEnabled",value:a.jsonData.enableSecureSocksProxy,onChange:d})))))};e.SecureSocksProxyToggle=l},40011:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdvancedHttpSettings=e.ConnectionSettings=e.TLSSettings=e.convertLegacyAuthProps=e.AuthMethod=e.Auth=e.ConfigDescriptionLink=e.ConfigSubSection=e.ConfigSection=e.DataSourceDescription=e.SecureSocksProxyToggle=void 0;var r=t(62381);Object.defineProperty(e,"SecureSocksProxyToggle",{enumerable:!0,get:function(){return r.SecureSocksProxyToggle}});var c=t(28522);Object.defineProperty(e,"DataSourceDescription",{enumerable:!0,get:function(){return c.DataSourceDescription}});var f=t(26489);Object.defineProperty(e,"ConfigSection",{enumerable:!0,get:function(){return f.ConfigSection}}),Object.defineProperty(e,"ConfigSubSection",{enumerable:!0,get:function(){return f.ConfigSubSection}}),Object.defineProperty(e,"ConfigDescriptionLink",{enumerable:!0,get:function(){return f.ConfigDescriptionLink}});var s=t(43578);Object.defineProperty(e,"Auth",{enumerable:!0,get:function(){return s.Auth}}),Object.defineProperty(e,"AuthMethod",{enumerable:!0,get:function(){return s.AuthMethod}}),Object.defineProperty(e,"convertLegacyAuthProps",{enumerable:!0,get:function(){return s.convertLegacyAuthProps}});var l=t(31663);Object.defineProperty(e,"TLSSettings",{enumerable:!0,get:function(){return l.TLSSettings}});var n=t(68848);Object.defineProperty(e,"ConnectionSettings",{enumerable:!0,get:function(){return n.ConnectionSettings}});var o=t(93027);Object.defineProperty(e,"AdvancedHttpSettings",{enumerable:!0,get:function(){return o.AdvancedHttpSettings}})},50004:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomHeadersSettings=void 0;const c=t(31635).__importStar(t(96540)),f=t(22803),s=t(2543),l=t(26527),n=(0,l.stylesFactory)(()=>({layout:(0,f.css)`
      display: flex;
      align-items: center;
      margin-bottom: 4px;
      > * {
        margin-left: 4px;
        margin-bottom: 0;
        height: 100%;
        &:first-child,
        &:last-child {
          margin-left: 0;
        }
      }
    `})),o=({header:a,onBlur:u,onChange:d,onRemove:v,onReset:p})=>{const m=n();return c.default.createElement("div",{className:m.layout},c.default.createElement(l.LegacyForms.FormField,{label:"Header",name:"name",placeholder:"X-Custom-Header",labelWidth:5,value:a.name||"",onChange:P=>d(Object.assign(Object.assign({},a),{name:P.target.value})),onBlur:u}),c.default.createElement(l.LegacyForms.SecretFormField,{label:"Value","aria-label":"Value",name:"value",isConfigured:a.configured,value:a.value,labelWidth:5,inputWidth:a.configured?11:12,placeholder:"Header Value",onReset:()=>p(a.id),onChange:P=>d(Object.assign(Object.assign({},a),{value:P.target.value})),onBlur:u}),c.default.createElement(l.Button,{type:"button","aria-label":"Remove header",variant:"secondary",size:"xs",onClick:P=>v(a.id)},c.default.createElement(l.Icon,{name:"trash-alt"})))};o.displayName="CustomHeaderRow";class i extends c.PureComponent{constructor(u){super(u),this.state={headers:[]},this.updateSettings=()=>{const{headers:m}=this.state,P=Object.fromEntries(Object.entries(this.props.dataSourceConfig.jsonData).filter(([L,F])=>!L.startsWith("httpHeaderName"))),E=Object.fromEntries(Object.entries(this.props.dataSourceConfig.secureJsonData||{}).filter(([L,F])=>!L.startsWith("httpHeaderValue")));for(const[L,F]of m.entries())P[`httpHeaderName${L+1}`]=F.name,F.configured||(E[`httpHeaderValue${L+1}`]=F.value);this.props.onChange(Object.assign(Object.assign({},this.props.dataSourceConfig),{jsonData:P,secureJsonData:E}))},this.onHeaderAdd=()=>{this.setState(m=>({headers:[...m.headers,{id:(0,s.uniqueId)(),name:"",value:"",configured:!1}]}))},this.onHeaderChange=(m,P)=>{this.setState(({headers:E})=>({headers:E.map((L,F)=>m!==F?L:Object.assign({},P))}))},this.onHeaderReset=m=>{this.setState(({headers:P})=>({headers:P.map((E,L)=>E.id!==m?E:Object.assign(Object.assign({},E),{value:"",configured:!1}))}))},this.onHeaderRemove=m=>{this.setState(({headers:P})=>({headers:P.filter(E=>E.id!==m)}),this.updateSettings)};const{jsonData:d,secureJsonData:v,secureJsonFields:p}=this.props.dataSourceConfig;this.state={headers:Object.keys(d).sort().filter(m=>m.startsWith("httpHeaderName")).map((m,P)=>({id:(0,s.uniqueId)(),name:d[m],value:v!==void 0?v[m]:"",configured:p&&p[`httpHeaderValue${P+1}`]||!1}))}}render(){const{headers:u}=this.state;return c.default.createElement("div",{className:"gf-form-group"},c.default.createElement("div",{className:"gf-form"},c.default.createElement("h6",null,"Custom HTTP Headers")),c.default.createElement("div",null,u.map((d,v)=>c.default.createElement(o,{key:d.id,header:d,onChange:p=>{this.onHeaderChange(v,p)},onBlur:this.updateSettings,onRemove:this.onHeaderRemove,onReset:this.onHeaderReset}))),c.default.createElement("div",{className:"gf-form"},c.default.createElement(l.Button,{variant:"secondary",icon:"plus",type:"button",onClick:d=>{this.onHeaderAdd()}},"Add header")))}}e.CustomHeadersSettings=i,e.default=i},22533:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataLink=void 0;const c=t(31635).__importStar(t(96540)),f=t(22803),s=t(26527),{FormField:l,Switch:n}=s.LegacyForms,o=t(59503),i=t(73828),a=(0,s.stylesFactory)(()=>({firstRow:(0,f.css)`
    display: flex;
  `,nameField:(0,f.css)`
    flex: 2;
  `,regexField:(0,f.css)`
    flex: 3;
  `,row:(0,f.css)`
    display: flex;
    align-items: baseline;
  `})),u=v=>{const{value:p,onChange:m,onDelete:P,suggestions:E,className:L}=v,F=a(),[j,D]=d(p.datasourceUid),B=G=>K=>{m(Object.assign(Object.assign({},p),{[G]:K.currentTarget.value}))};return c.default.createElement("div",{className:L},c.default.createElement("div",{className:F.firstRow+" gf-form"},c.default.createElement(l,{className:F.nameField,labelWidth:6,inputWidth:null,label:"Field",type:"text",value:p.field,tooltip:"Can be exact field name or a regex pattern that will match on the field name.",onChange:B("field")}),c.default.createElement(s.Button,{variant:"destructive",title:"Remove field",icon:"times",onClick:G=>{G.preventDefault(),P()}})),c.default.createElement("div",{className:"gf-form"},c.default.createElement(l,{className:F.nameField,inputWidth:null,label:"Label",type:"text",value:p.label,onChange:B("label"),tooltip:"Use to provide a meaningful label to the data matched in the regex"}),c.default.createElement(l,{className:F.regexField,inputWidth:null,label:"Regex",type:"text",value:p.matcherRegex,onChange:B("matcherRegex"),tooltip:"Use to parse and capture some part of the log message. You can use the captured groups in the template."})),c.default.createElement("div",{className:"gf-form"},c.default.createElement(l,{label:j?"Query":"URL",labelWidth:6,inputEl:c.default.createElement(s.DataLinkInput,{placeholder:j?"${__value.raw}":"http://example.com/${__value.raw}",value:p.url||"",onChange:G=>m(Object.assign(Object.assign({},p),{url:G})),suggestions:E}),className:(0,f.css)`
            width: 100%;
          `})),c.default.createElement("div",{className:F.row},c.default.createElement(n,{labelClass:"width-6",label:"Internal link",checked:j,onChange:()=>{j&&m(Object.assign(Object.assign({},p),{datasourceUid:void 0})),D(!j)}}),j&&c.default.createElement(i.DataSourcePicker,{onChange:G=>{m(Object.assign(Object.assign({},p),{datasourceUid:G.uid}))},current:p.datasourceUid})))};e.DataLink=u;function d(v){const[p,m]=(0,c.useState)(!!v),P=(0,o.usePrevious)(v);return(0,c.useEffect)(()=>{!P&&v&&!p&&m(!0),P&&!v&&p&&m(!1)},[P,v,p]),[p,m]}},2358:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataLinks=void 0;const c=t(31635).__importDefault(t(96540)),f=t(22803),s=t(26527),l=t(6199),n=t(22533),o=a=>({infoText:(0,f.css)`
    padding-bottom: ${a.v1.spacing.md};
    color: ${a.v1.colors.textWeak};
  `,dataLink:(0,f.css)`
    margin-bottom: ${a.v1.spacing.sm};
  `}),i=a=>{const{value:u,onChange:d}=a,v=(0,s.useTheme2)(),p=o(v);return c.default.createElement(c.default.Fragment,null,c.default.createElement("h3",{className:"page-heading"},"Data links"),c.default.createElement("div",{className:p.infoText},"Add links to existing fields. Links will be shown in log row details next to the field value."),c.default.createElement("div",{className:"gf-form-group"},u&&u.map((m,P)=>c.default.createElement(n.DataLink,{className:p.dataLink,key:P,value:m,onChange:E=>{const L=[...u];L.splice(P,1,E),d(L)},onDelete:()=>{const E=[...u];E.splice(P,1),d(E)},suggestions:[{value:l.DataLinkBuiltInVars.valueRaw,label:"Raw value",documentation:"Raw value of the field",origin:l.VariableOrigin.Value}]})),c.default.createElement("div",null,c.default.createElement(s.Button,{variant:"secondary",className:(0,f.css)`
              margin-right: 10px;
            `,icon:"plus",onClick:m=>{m.preventDefault();const P=[...u||[],{field:"",label:"",matcherRegex:"",url:""}];d(P)}},"Add"))))};e.DataLinks=i},46134:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=t(31635);r.__exportStar(t(83864),e),r.__exportStar(t(2358),e),r.__exportStar(t(22533),e)},83864:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},73828:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataSourcePicker=void 0;const c=t(31635).__importStar(t(96540)),f=t(26527),s=t(57254),l=t(87176),n=t(92243);class o extends c.PureComponent{constructor(a){super(a),this.dataSourceSrv=(0,n.getDataSourceSrv)(),this.state={},this.onChange=u=>{const d=this.dataSourceSrv.getInstanceSettings(u.value);d&&(this.props.onChange(d),this.setState({error:void 0}))}}componentDidMount(){const{current:a}=this.props;this.dataSourceSrv.getInstanceSettings(a)||this.setState({error:"Could not find data source "+a})}getCurrentValue(){const{current:a,hideTextValue:u,noDefault:d}=this.props;if(!a&&d)return{label:"No datasources found"};const v=this.dataSourceSrv.getInstanceSettings(a);return v?{label:v.name.substr(0,37),value:v.name,imgUrl:v.meta.info.logos.small,hideText:u,meta:v.meta}:{label:(a??"no name")+" - not found",value:(a??"no name")+" - not found",imgUrl:"",hideText:u}}getDataSourceOptions(){return this.dataSourceSrv.getList().map(u=>({value:u.uid,label:u.name,imgUrl:u.meta.info.logos.small,meta:u.meta}))}render(){const{autoFocus:a,onBlur:u,openMenuOnFocus:d,placeholder:v}=this.props,{error:p}=this.state,m=this.getDataSourceOptions(),P=this.getCurrentValue();return c.default.createElement("div",{"aria-label":s.selectors.components.DataSourcePicker.container},c.default.createElement(f.Select,{className:"ds-picker select-container",isMulti:!1,isClearable:!1,backspaceRemovesValue:!1,onChange:this.onChange,options:m,autoFocus:a,onBlur:u,openMenuOnFocus:d,maxMenuHeight:500,placeholder:v,noOptionsMessage:"No datasources found",value:P,invalid:!!p,getOptionLabel:E=>E.meta&&(0,l.isUnsignedPluginSignature)(E.meta.signature)&&E!==P?c.default.createElement(f.HorizontalGroup,{align:"center",justify:"space-between"},c.default.createElement("span",null,E.label)," ",c.default.createElement(l.PluginSignatureBadge,{status:E.meta.signature})):E.label||""}))}}e.DataSourcePicker=o,o.defaultProps={autoFocus:!1,openMenuOnFocus:!1,placeholder:"Select datasource"}},4678:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DatePicker=void 0;const r=t(31635),c=r.__importStar(t(96540)),f=r.__importDefault(t(15741)),s=t(26527),l=t(76662);e.DatePicker=(0,c.memo)(o=>{const i=(0,s.useTheme2)(),a=(0,l.getStyles)(i),{isOpen:u,onClose:d}=o;return u?c.default.createElement(s.ClickOutsideWrapper,{useCapture:!0,includeButtonPress:!1,onClick:d},c.default.createElement("div",{className:a.modal,"data-testid":"date-picker"},c.default.createElement(n,Object.assign({},o)))):null}),e.DatePicker.displayName="DatePicker";const n=(0,c.memo)(({value:o,onChange:i})=>{const a=(0,s.useTheme2)(),u=(0,l.getBodyStyles)(a);return c.default.createElement(f.default,{className:u.body,tileClassName:u.title,value:o||new Date,nextLabel:c.default.createElement(s.Icon,{name:"angle-right"}),prevLabel:c.default.createElement(s.Icon,{name:"angle-left"}),onChange:d=>{Array.isArray(d)||i(d)},locale:"en"})});n.displayName="Body"},76662:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBodyStyles=e.getStyles=void 0;const r=t(22803),c=s=>{const l=s.isDark?s.v1.palette.dark9:s.v1.palette.gray5;return{container:(0,r.css)`
      top: -1px;
      position: absolute;
      right: 544px;
      box-shadow: 0px 0px 20px ${s.v1.colors.dropdownShadow};
      background-color: ${s.v1.colors.bodyBg};
      z-index: -1;
      border: 1px solid ${l};
      border-radius: 2px 0 0 2px;

      &:after {
        display: block;
        background-color: ${s.v1.colors.bodyBg};
        width: 19px;
        height: 100%;
        content: '';
        position: absolute;
        top: 0;
        right: -19px;
        border-left: 1px solid ${s.v1.colors.border1};
      }
    `,modal:(0,r.css)`
      z-index: ${s.v1.zIndex.modal};
    `,content:(0,r.css)`
      margin: 0 auto;
      width: 268px;
    `,backdrop:(0,r.css)`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background: #202226;
      opacity: 0.7;
      z-index: ${s.v1.zIndex.modalBackdrop};
      text-align: center;
    `}};e.getStyles=c;const f=s=>{const l=s.isDark?s.v1.palette.dark9:s.v1.palette.gray5;return{title:(0,r.css)`
      color: ${s.colors.text};
      background-color: ${s.v1.colors.bodyBg};
      font-size: ${s.v1.typography.size.md};
      border: 1px solid transparent;

      &:hover {
        position: relative;
      }
    `,body:(0,r.css)`
      z-index: ${s.zIndex.modal};
      position: fixed;
      background-color: ${s.v1.colors.bodyBg};
      width: 268px;

      box-shadow: 0px 0px 20px ${s.v1.colors.dropdownShadow};
      border: 1px solid ${l};
      border-radius: 2px 0 0 2px;

      .react-calendar__navigation__label,
      .react-calendar__navigation__arrow,
      .react-calendar__navigation {
        padding-top: 4px;
        background-color: inherit;
        color: ${s.colors.text};
        border: 0;
        font-weight: ${s.v1.typography.weight.semibold};
      }

      .react-calendar__month-view__weekdays {
        background-color: inherit;
        text-align: center;
        color: ${s.v1.palette.blue77};

        abbr {
          border: 0;
          text-decoration: none;
          cursor: default;
          display: block;
          padding: 4px 0 4px 0;
        }
      }

      .react-calendar__month-view__days {
        background-color: inherit;
      }

      .react-calendar__tile,
      .react-calendar__tile--now {
        margin-bottom: 4px;
        background-color: inherit;
        height: 26px;
      }

      .react-calendar__navigation__label,
      .react-calendar__navigation > button:focus,
      .time-picker-calendar-tile:focus {
        outline: 0;
      }

      .react-calendar__tile--active,
      .react-calendar__tile--active:hover {
        color: ${s.v1.palette.white};
        font-weight: ${s.v1.typography.weight.semibold};
        background: ${s.v1.palette.blue95};
        box-shadow: none;
        border: 0px;
      }

      .react-calendar__tile--rangeEnd,
      .react-calendar__tile--rangeStart {
        padding: 0;
        border: 0px;
        color: ${s.v1.palette.white};
        font-weight: ${s.v1.typography.weight.semibold};
        background: ${s.v1.palette.blue95};

        abbr {
          background-color: ${s.v1.palette.blue77};
          border-radius: 100px;
          display: block;
          padding-top: 2px;
          height: 26px;
        }
      }

      .react-calendar__tile--rangeStart {
        border-top-left-radius: 20px;
        border-bottom-left-radius: 20px;
      }

      .react-calendar__tile--rangeEnd {
        border-top-right-radius: 20px;
        border-bottom-right-radius: 20px;
      }
    `}};e.getBodyStyles=f},72668:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DatePickerWithInput=e.formatDate=void 0;const r=t(31635),c=t(26527),f=r.__importDefault(t(96540)),s=t(4678);t(48203);const l=o=>o.toISOString().split("T")[0];e.formatDate=l;const n=o=>{const{value:i,onChange:a,className:u}=o,d=r.__rest(o,["value","onChange","className"]),[v,p]=f.default.useState(!1);let m="grafana-plugin-ui-date-input";return u&&(m+=` ${u}`),f.default.createElement(f.default.Fragment,null,f.default.createElement(c.Input,Object.assign({type:"date",placeholder:"Date",value:(0,e.formatDate)(i||new Date),onClick:()=>p(!0),onChange:()=>{},className:m},d)),f.default.createElement(s.DatePicker,{isOpen:v,value:i,onChange:P=>a(P),onClose:()=>p(!1)}))};e.DatePickerWithInput=n},86856:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DebounceInput=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(26527),s=t(65473),l=n=>{const{delay:o,onDebounce:i,value:a}=n,u=r.__rest(n,["delay","onDebounce","value"]),[d,v]=c.default.useState(a),p=(0,s.useDebounce)(d,o);return c.default.useEffect(()=>i(p),[p]),c.default.useEffect(()=>v(a),[a]),c.default.createElement(f.Input,Object.assign({onChange:m=>v(m.currentTarget.value),value:d},u))};e.DebounceInput=l},87176:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapPluginErrorCodeToSignatureStatus=e.isUnsignedPluginSignature=e.PluginSignatureBadge=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(26527),s=t(6199),l=a=>{var{status:u}=a,d=r.__rest(a,["status"]);const v=i(u);return c.default.createElement(f.Badge,Object.assign({text:v.text,color:v.color,icon:v.icon,tooltip:v.tooltip},d))};e.PluginSignatureBadge=l;function n(a){return a&&a!==s.PluginSignatureStatus.valid&&a!==s.PluginSignatureStatus.internal}e.isUnsignedPluginSignature=n;function o(a){switch(a){case s.PluginErrorCode.invalidSignature:return s.PluginSignatureStatus.invalid;case s.PluginErrorCode.missingSignature:return s.PluginSignatureStatus.missing;case s.PluginErrorCode.modifiedSignature:return s.PluginSignatureStatus.modified;default:return s.PluginSignatureStatus.missing}}e.mapPluginErrorCodeToSignatureStatus=o;function i(a){switch(a||(a=s.PluginSignatureStatus.invalid),a){case s.PluginSignatureStatus.internal:return{text:"Core",icon:"cube",color:"blue",tooltip:"Core plugin that is bundled with Grafana"};case s.PluginSignatureStatus.valid:return{text:"Signed",icon:"lock",color:"green",tooltip:"Signed and verified plugin"};case s.PluginSignatureStatus.invalid:return{text:"Invalid signature",icon:"exclamation-triangle",color:"red",tooltip:"Invalid plugin signature"};case s.PluginSignatureStatus.modified:return{text:"Modified signature",icon:"exclamation-triangle",color:"red",tooltip:"Valid signature but content has been modified"};case s.PluginSignatureStatus.missing:return{text:"Missing signature",icon:"exclamation-triangle",color:"red",tooltip:"Missing plugin signature"}}return{text:"Unsigned",icon:"exclamation-triangle",color:"red",tooltip:"Unsigned external plugin"}}e.PluginSignatureBadge.displayName="PluginSignatureBadge"},38759:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessoryButton=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(26527),l=o=>{var{className:i}=o,a=r.__rest(o,["className"]);const u=(0,s.useStyles2)(n);return f.default.createElement(s.Button,Object.assign({},a,{className:(0,c.cx)(i,u.button)}))};e.AccessoryButton=l;const n=o=>({button:(0,c.css)({paddingLeft:o.spacing(3/2),paddingRight:o.spacing(3/2)})})},3652:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfirmModal=void 0;const c=t(31635).__importStar(t(96540)),f=t(26527);function s({isOpen:l,onCancel:n,onDiscard:o,onCopy:i}){const a=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var u;l&&((u=a.current)===null||u===void 0||u.focus())},[l]),c.default.createElement(f.Modal,{title:c.default.createElement("div",{className:"modal-header-title"},c.default.createElement(f.Icon,{name:"exclamation-triangle",size:"lg"}),c.default.createElement("span",{className:"p-l-1"},"Warning")),onDismiss:n,isOpen:l},c.default.createElement("p",null,"Builder mode does not display changes made in code. The query builder will display the last changes you made in builder mode."),c.default.createElement("p",null,"Do you want to copy your code to the clipboard?"),c.default.createElement(f.Modal.ButtonRow,null,c.default.createElement(f.Button,{type:"button",variant:"secondary",onClick:n,fill:"outline"},"Cancel"),c.default.createElement(f.Button,{variant:"destructive",type:"button",onClick:o,ref:a},"Discard code and switch"),c.default.createElement(f.Button,{variant:"primary",onClick:i},"Copy code and switch")))}e.ConfirmModal=s},31184:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DatasetSelector=void 0;const r=t(31635),c=r.__importStar(t(96540)),f=t(59503),s=t(26527),l=t(53012),n=({db:o,dataset:i,value:a,onChange:u,disabled:d,className:v,applyDefault:p})=>{const m=(0,f.useAsync)(()=>r.__awaiter(void 0,void 0,void 0,function*(){return i?(u((0,l.toOption)(i)),[(0,l.toOption)(i)]):(yield o.datasets()).map(l.toOption)}),[]);return(0,c.useEffect)(()=>{p&&(a?m.value&&m.value.find(P=>P.value===a)===void 0&&m.value.length>0&&u(m.value[0]):m.value&&m.value[0]&&u(m.value[0]))},[m.value,a,p,u]),c.default.createElement(s.Select,{className:v,"aria-label":"Dataset selector",value:a,options:m.value,onChange:u,disabled:d,isLoading:m.loading,menuShouldPortal:!0})};e.DatasetSelector=n},89114:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorField=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(26527),l=o=>{const{label:i,optional:a,tooltip:u,tooltipInteractive:d,children:v,width:p}=o,m=r.__rest(o,["label","optional","tooltip","tooltipInteractive","children","width"]),P=(0,s.useStyles2)(n,p),E=m?.htmlFor||(s.ReactUtils===null||s.ReactUtils===void 0?void 0:s.ReactUtils.getChildId(v)),L=f.default.createElement(f.default.Fragment,null,f.default.createElement("label",{className:P.label,htmlFor:E},i,a&&f.default.createElement("span",{className:P.optional}," - optional"),u&&f.default.createElement(s.Tooltip,{placement:"top",content:u,theme:"info",interactive:d},f.default.createElement(s.Icon,{tabIndex:0,name:"info-circle",size:"sm",className:P.icon}))),f.default.createElement(s.Space,{v:.5}));return f.default.createElement("div",{className:P.root},f.default.createElement(s.Field,Object.assign({className:P.field,label:L},m),v))};e.EditorField=l;const n=(o,i)=>({root:(0,c.css)({minWidth:o.spacing(i??0)}),label:(0,c.css)({fontSize:12,fontWeight:o.typography.fontWeightMedium}),optional:(0,c.css)({fontStyle:"italic",color:o.colors.text.secondary}),field:(0,c.css)({marginBottom:0}),icon:(0,c.css)({color:o.colors.text.secondary,marginLeft:o.spacing(1),":hover":{color:o.colors.text.primary}})})},73255:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorFieldGroup=void 0;const c=t(31635).__importDefault(t(96540)),f=t(41010),s=({children:l})=>c.default.createElement(f.EditorStack,{gap:1},l);e.EditorFieldGroup=s},18705:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHeader=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(26527),l=({children:o})=>{const i=(0,s.useStyles2)(n);return f.default.createElement("div",{className:i.root},o)};e.EditorHeader=l;const n=o=>({root:(0,c.css)({display:"flex",flexWrap:"wrap",alignItems:"center",gap:o.spacing(3),minHeight:o.spacing(4)})})},6748:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorList=void 0;const r=t(31635),c=t(26527),f=r.__importDefault(t(96540)),s=t(41010);e.EditorList=f.default.forwardRef(function({items:n,renderItem:o,onChange:i},a){const u=()=>{const p=[...n,{}];i(p)},d=(p,m)=>{const P=[...n];P[p]=m,i(P)},v=p=>{const m=[...n];m.splice(p,1),i(m)};return f.default.createElement(s.EditorStack,null,n.map((p,m)=>f.default.createElement("div",{key:m},o(p,P=>d(m,P),()=>v(m)))),f.default.createElement(c.Button,{ref:a,onClick:u,variant:"secondary",size:"md",icon:"plus","aria-label":"Add",type:"button"}))})},94718:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorRow=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(26527),l=t(41010),n=({children:i})=>{const a=(0,s.useStyles2)(o);return f.default.createElement("div",{className:a.root},f.default.createElement(l.EditorStack,{gap:2},i))};e.EditorRow=n;const o=i=>({root:(0,c.css)({padding:i.spacing(1),backgroundColor:i.colors.background.secondary,borderRadius:i.shape.radius.default})})},25269:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorRows=void 0;const c=t(31635).__importDefault(t(96540)),f=t(41010),s=({children:l})=>c.default.createElement(f.EditorStack,{gap:.5,direction:"column"},l);e.EditorRows=s},41010:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorStack=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(26527),s=l=>{var n,o,{children:i,wrap:a=!0}=l,u=r.__rest(l,["children","wrap"]);return c.default.createElement(f.Stack,Object.assign({wrap:a?"wrap":void 0,direction:(n=u.direction)!==null&&n!==void 0?n:"row",gap:(o=u.gap)!==null&&o!==void 0?o:2},u),i)};e.EditorStack=s},66628:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSwitch=void 0;const r=t(31635),c=t(22803),f=t(26527),s=r.__importDefault(t(96540)),l=o=>{const i=n();return s.default.createElement("div",{className:i.switch},s.default.createElement(f.Switch,Object.assign({},o)))};e.EditorSwitch=l;const n=()=>({switch:(0,c.css)({display:"flex",alignItems:"center",minHeight:30})})},7453:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlexItem=void 0;const c=t(31635).__importDefault(t(96540)),f=({grow:s,shrink:l})=>c.default.createElement("div",{style:{display:"block",flexGrow:s,flexShrink:l}});e.FlexItem=f},11800:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineSelect=void 0;const r=t(31635),c=t(22803),f=r.__importStar(t(96540)),s=t(26527);function l(a){var{label:u}=a,d=r.__rest(a,["label"]);const[v]=(0,f.useState)(()=>Math.random().toString(16).slice(2)),p=(0,s.useStyles2)(i),m={SelectContainer:n,ValueContainer:o,SingleValue:o};return f.default.createElement("div",{className:p.root},u&&f.default.createElement("label",{className:p.label,htmlFor:v},u,":","\xA0"),f.default.createElement(s.Select,Object.assign({openMenuOnFocus:!0,inputId:v},d,{components:m})))}e.InlineSelect=l;const n=a=>{const{children:u}=a,d=(0,s.useStyles2)(i);return f.default.createElement(s.SelectContainer,Object.assign({},a,{className:(0,c.cx)(a.className,d.container)}),u)},o=a=>{const{className:u,children:d}=a,v=(0,s.useStyles2)(i);return f.default.createElement("div",{className:(0,c.cx)(u,v.valueContainer)},d)},i=a=>({root:(0,c.css)({display:"flex",fontSize:12,alignItems:"center"}),label:(0,c.css)({color:a.colors.text.secondary,whiteSpace:"nowrap"}),container:(0,c.css)({background:"none",borderColor:"transparent"}),valueContainer:(0,c.css)({display:"flex",alignItems:"center",flex:"initial",color:a.colors.text.secondary,fontSize:12})})},61374:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputGroup=void 0;const r=t(31635),c=t(22803),f=t(26527),s=r.__importStar(t(96540)),l=({children:i})=>{const a=(0,f.useStyles2)(o),u=s.Children.map(i,d=>(0,s.isValidElement)(d)&&d.props.invalid?(0,s.cloneElement)(d,{className:(0,c.cx)(d.props.className,a.invalidChild)}):d);return s.default.createElement("div",{className:a.root},u)};e.InputGroup=l;const n=["","base","hovered","invalid","focused"],o=()=>({root:(0,c.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:n.indexOf("base"),"&:hover":{zIndex:n.indexOf("hovered")},"&:focus-within":{zIndex:n.indexOf("focused")}}}),invalidChild:(0,c.css)({zIndex:n.indexOf("invalid")})})},25656:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SqlQueryEditor=void 0;const r=t(31635),c=r.__importStar(t(96540)),f=t(59503),s=t(71463),l=t(53012),n=t(82196),o=t(8776),i=t(60332),a=t(64488),u=t(79487);function d({datasource:p,query:m,onChange:P,onRunQuery:E,range:L}){var F,j,D,B,G,K,Y;const[$,U]=(0,c.useState)(!0),M=p.getDB(),C=p.dataset,{loading:y,error:b}=(0,f.useAsync)(()=>r.__awaiter(this,void 0,void 0,function*(){return()=>{p.getDB(p.id).init!==void 0&&p.getDB(p.id).init()}}),[p]),T=(0,s.applyQueryDefaults)(m),[R,S]=(0,c.useState)({filter:!!(!((F=T.sql)===null||F===void 0)&&F.whereString),group:!!(!((B=(D=(j=T.sql)===null||j===void 0?void 0:j.groupBy)===null||D===void 0?void 0:D[0])===null||B===void 0)&&B.property.name),order:!!(!((K=(G=T.sql)===null||G===void 0?void 0:G.orderBy)===null||K===void 0)&&K.property.name),preview:!0}),[A,W]=(0,c.useState)(T);(0,c.useEffect)(()=>()=>{p.getDB(p.id).dispose!==void 0&&p.getDB(p.id).dispose()},[p]);const I=(0,c.useCallback)(w=>{v(w)&&E&&E()},[E]),O=(w,V=!0)=>{var H,_;W(w),P(w),(0,n.haveColumns)((H=w.sql)===null||H===void 0?void 0:H.columns)&&(!((_=w.sql)===null||_===void 0)&&_.columns.some(oe=>oe.name))&&!R.group&&S(Object.assign(Object.assign({},R),{group:!0})),V&&I(w)},h=w=>{W(w),P(w)};return y||b?null:c.default.createElement(c.default.Fragment,null,c.default.createElement(o.QueryHeader,{db:M,defaultDataset:C||"",enableDatasets:!M.disableDatasets,onChange:h,onRunQuery:E,onQueryRowChange:S,queryRowFilter:R,query:T,isQueryRunnable:$,labels:(Y=p.getDB(p.id))===null||Y===void 0?void 0:Y.labels}),c.default.createElement(u.Space,{v:.5}),T.editorMode!==l.EditorMode.Code&&c.default.createElement(a.VisualEditor,{db:M,query:T,onChange:w=>O(w,!1),queryRowFilter:R,onValidate:U,range:L}),T.editorMode===l.EditorMode.Code&&c.default.createElement(i.RawEditor,{db:M,query:T,queryToValidate:A,onChange:O,onRunQuery:E,onValidate:U,range:L}))}e.SqlQueryEditor=d;const v=p=>!!p.rawSql},8776:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryHeader=void 0;const c=t(31635).__importStar(t(96540)),f=t(59503),s=t(3652),l=t(31184),n=t(59367),o=t(26527),i=t(89114),a=t(18705),u=t(94718),d=t(7453),v=t(11800),p=t(79487),m=t(34418),P=t(53012),E=t(82196),L=[{label:"Builder",value:P.EditorMode.Builder},{label:"Code",value:P.EditorMode.Code}];function F({db:j,defaultDataset:D,enableDatasets:B,query:G,queryRowFilter:K,onChange:Y,onRunQuery:$,onQueryRowChange:U,isQueryRunnable:M,labels:C=new Map([["dataset","Dataset"]])}){const{editorMode:y}=G,[b,T]=(0,f.useCopyToClipboard)(),[R,S]=(0,c.useState)(!1),A=(0,E.getRawSqlFn)(j),W=(0,c.useCallback)(w=>{if(y===P.EditorMode.Code){S(!0);return}Y(Object.assign(Object.assign({},G),{editorMode:w}))},[y,Y,G]),I=w=>{const V=Object.assign(Object.assign({},G),{format:w.value!==void 0?w.value:P.QueryFormat.Table});Y(V)},O=w=>{if(w.value===G.dataset)return;const V=Object.assign(Object.assign({},G),{dataset:w.value,table:void 0,sql:void 0,rawSql:""});Y(V)},h=w=>{if(w.value===G.table)return;const V=Object.assign(Object.assign({},G),{table:w.value,sql:void 0,rawSql:""});Y(V)};return c.default.createElement(c.default.Fragment,null,c.default.createElement(a.EditorHeader,null,c.default.createElement(v.InlineSelect,{label:"Format",value:G.format,placeholder:"Select format",menuShouldPortal:!0,onChange:I,options:P.QUERY_FORMAT_OPTIONS}),y===P.EditorMode.Builder&&c.default.createElement(c.default.Fragment,null,c.default.createElement(o.InlineSwitch,{id:"sql-filter",label:"Filter",transparent:!0,showLabel:!0,value:K.filter,onChange:w=>w.target instanceof HTMLInputElement&&U(Object.assign(Object.assign({},K),{filter:w.target.checked}))}),c.default.createElement(o.InlineSwitch,{id:"sql-group",label:"Group",transparent:!0,showLabel:!0,value:K.group,onChange:w=>w.target instanceof HTMLInputElement&&U(Object.assign(Object.assign({},K),{group:w.target.checked}))}),c.default.createElement(o.InlineSwitch,{id:"sql-order",label:"Order",transparent:!0,showLabel:!0,value:K.order,onChange:w=>w.target instanceof HTMLInputElement&&U(Object.assign(Object.assign({},K),{order:w.target.checked}))}),c.default.createElement(o.InlineSwitch,{id:"sql-preview",label:"Preview",transparent:!0,showLabel:!0,value:K.preview,onChange:w=>w.target instanceof HTMLInputElement&&U(Object.assign(Object.assign({},K),{preview:w.target.checked}))})),c.default.createElement(d.FlexItem,{grow:1}),c.default.createElement(m.RunQueryButton,{queryInvalid:!M,onClick:()=>$()}),c.default.createElement(o.RadioButtonGroup,{options:L,size:"sm",value:y,onChange:W}),c.default.createElement(s.ConfirmModal,{isOpen:R,onCopy:()=>{S(!1),T(G.rawSql),Y(Object.assign(Object.assign({},G),{rawSql:A(G),editorMode:P.EditorMode.Builder}))},onDiscard:()=>{S(!1),Y(Object.assign(Object.assign({},G),{rawSql:A(G),editorMode:P.EditorMode.Builder}))},onCancel:()=>S(!1)})),y===P.EditorMode.Builder&&c.default.createElement(c.default.Fragment,null,c.default.createElement(p.Space,{v:.5}),c.default.createElement(u.EditorRow,null,B===!0&&c.default.createElement(i.EditorField,{label:C.get("dataset")||"Dataset",width:25},c.default.createElement(l.DatasetSelector,{db:j,dataset:D,value:G.dataset===void 0?null:G.dataset,onChange:O})),c.default.createElement(i.EditorField,{label:"Table",width:25},c.default.createElement(n.TableSelector,{db:j,dataset:G.dataset||D,query:G,value:G.table===void 0?null:G.table,onChange:h,applyDefault:!0})))))}e.QueryHeader=F},34418:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RunQueryButton=void 0;const c=t(31635).__importDefault(t(96540)),f=t(26527),s=({ariaLabel:l="Query editor Run button",queryRunning:n=!1,queryInvalid:o=!1,invalidQueryTooltip:i,disabled:a=!1,onClick:u,dataTestId:d})=>{let v=o?"exclamation-triangle":void 0;n&&(v="fa fa-spinner");const p=c.default.createElement(f.Button,{"aria-label":l,size:"sm",variant:"secondary",icon:v,disabled:a||n,onClick:u,"data-testid":d},"Run query");return o?c.default.createElement(f.Tooltip,{theme:"error",placement:"top",content:i??c.default.createElement(c.default.Fragment,null,"Your query is invalid. Check below for details. ",c.default.createElement("br",null),"However, you can still run this query.")},p):p};e.RunQueryButton=s},79487:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Space=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(26527),l=o=>{const i=(0,s.useTheme2)(),a=n(i,o);return f.default.createElement("span",{className:(0,c.cx)(a.wrapper)})};e.Space=l,e.Space.defaultProps={v:0,h:0,layout:"block"};const n=(0,s.stylesFactory)((o,i)=>{var a,u;return{wrapper:(0,c.css)([{paddingRight:o.spacing((a=i.h)!==null&&a!==void 0?a:0),paddingBottom:o.spacing((u=i.v)!==null&&u!==void 0?u:0)},i.layout==="inline"&&{display:"inline-block"},i.layout==="block"&&{display:"block"}])}})},59367:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TableSelector=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(59503),s=t(6199),l=t(26527),n=({db:o,dataset:i,value:a,className:u,onChange:d})=>{const v=(0,f.useAsync)(()=>r.__awaiter(void 0,void 0,void 0,function*(){return i?(yield o.tables(i)).map(s.toOption):[]}),[i]);return c.default.createElement(l.Select,{className:u,disabled:v.loading,"aria-label":"Table selector",value:a,options:v.value,onChange:d,isLoading:v.loading,menuShouldPortal:!0,placeholder:v.loading?"Loading tables":"Select table"})};e.TableSelector=n},71463:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyQueryDefaults=void 0;const r=t(53012),c=t(82196);function f(s){let l=s?.editorMode||r.EditorMode.Builder;return s?.editorMode===void 0&&s?.rawSql!==void 0&&(l=r.EditorMode.Code),Object.assign(Object.assign({},s),{refId:s?.refId||"A",format:s?.format!==void 0?s.format:r.QueryFormat.Table,rawSql:s?.rawSql||"",editorMode:l,sql:s?.sql||{columns:[(0,c.createFunctionField)()],groupBy:[(0,c.setGroupByField)()],limit:50}})}e.applyQueryDefaults=f},84702:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEditorExpressionType=e.QueryEditorPropertyType=void 0;var t;(function(c){c.String="string"})(t=e.QueryEditorPropertyType||(e.QueryEditorPropertyType={}));var r;(function(c){c.Property="property",c.Operator="operator",c.Or="or",c.And="and",c.GroupBy="groupBy",c.Function="function",c.FunctionParameter="functionParameter"})(r=e.QueryEditorExpressionType||(e.QueryEditorExpressionType={}))},28333:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RunQueryButton=e.SqlQueryEditor=e.Space=e.InputGroup=e.InlineSelect=e.EditorStack=e.FlexItem=e.EditorSwitch=e.EditorRows=e.EditorList=e.EditorRow=e.EditorField=e.EditorHeader=e.EditorFieldGroup=e.AccessoryButton=void 0;const r=t(31635);r.__exportStar(t(8829),e);var c=t(38759);Object.defineProperty(e,"AccessoryButton",{enumerable:!0,get:function(){return c.AccessoryButton}});var f=t(73255);Object.defineProperty(e,"EditorFieldGroup",{enumerable:!0,get:function(){return f.EditorFieldGroup}});var s=t(18705);Object.defineProperty(e,"EditorHeader",{enumerable:!0,get:function(){return s.EditorHeader}});var l=t(89114);Object.defineProperty(e,"EditorField",{enumerable:!0,get:function(){return l.EditorField}});var n=t(94718);Object.defineProperty(e,"EditorRow",{enumerable:!0,get:function(){return n.EditorRow}});var o=t(6748);Object.defineProperty(e,"EditorList",{enumerable:!0,get:function(){return o.EditorList}});var i=t(25269);Object.defineProperty(e,"EditorRows",{enumerable:!0,get:function(){return i.EditorRows}});var a=t(66628);Object.defineProperty(e,"EditorSwitch",{enumerable:!0,get:function(){return a.EditorSwitch}});var u=t(7453);Object.defineProperty(e,"FlexItem",{enumerable:!0,get:function(){return u.FlexItem}});var d=t(41010);Object.defineProperty(e,"EditorStack",{enumerable:!0,get:function(){return d.EditorStack}});var v=t(11800);Object.defineProperty(e,"InlineSelect",{enumerable:!0,get:function(){return v.InlineSelect}});var p=t(61374);Object.defineProperty(e,"InputGroup",{enumerable:!0,get:function(){return p.InputGroup}});var m=t(79487);Object.defineProperty(e,"Space",{enumerable:!0,get:function(){return m.Space}});var P=t(25656);Object.defineProperty(e,"SqlQueryEditor",{enumerable:!0,get:function(){return P.SqlQueryEditor}});var E=t(34418);Object.defineProperty(e,"RunQueryButton",{enumerable:!0,get:function(){return E.RunQueryButton}}),r.__exportStar(t(53012),e)},15426:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEditorRaw=void 0;const c=t(31635).__importStar(t(96540)),f=t(34426),s=t(32621);function l({children:n,onChange:o,query:i,width:a,height:u,completionProvider:d}){const v=(0,c.useRef)(i);(0,c.useEffect)(()=>{v.current=i},[i]);const p=(0,c.useCallback)((m,P)=>{const E=Object.assign(Object.assign({},v.current),{rawQuery:!0,rawSql:m});o(E,P)},[o]);return c.default.createElement(s.SQLEditor,{width:a,height:u,query:i.rawSql,onChange:p,language:{id:"sql",completionProvider:d,formatter:f.formatSQL}},n)}e.QueryEditorRaw=l},23040:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryToolbox=void 0;const r=t(31635),c=t(22803),f=r.__importStar(t(96540)),s=t(26527),l=t(63170);function n(o){var{showTools:i,onFormatCode:a,onExpand:u,isExpanded:d}=o,v=r.__rest(o,["showTools","onFormatCode","onExpand","isExpanded"]);const p=(0,s.useTheme2)(),[m,P]=(0,f.useState)(),E=(0,f.useMemo)(()=>({container:(0,c.css)`
        border: 1px solid ${p.colors.border.medium};
        border-top: none;
        padding: ${p.spacing(.5,.5,.5,.5)};
        display: flex;
        flex-grow: 1;
        justify-content: space-between;
        font-size: ${p.typography.bodySmall.fontSize};
      `,error:(0,c.css)`
        color: ${p.colors.error.text};
        font-size: ${p.typography.bodySmall.fontSize};
        font-family: ${p.typography.fontFamilyMonospace};
      `,valid:(0,c.css)`
        color: ${p.colors.success.text};
      `,info:(0,c.css)`
        color: ${p.colors.text.secondary};
      `,hint:(0,c.css)`
        color: ${p.colors.text.disabled};
        white-space: nowrap;
        cursor: help;
      `}),[p]);let L={};return!i&&m===void 0&&(L={height:0,padding:0,visibility:"hidden"}),f.default.createElement("div",{className:E.container,style:L},f.default.createElement("div",null,v.onValidate&&f.default.createElement(l.QueryValidator,Object.assign({},v,{onValidate:F=>{P(F),v.onValidate(F)}}))),i&&f.default.createElement("div",null,f.default.createElement(s.HorizontalGroup,{spacing:"sm"},a&&f.default.createElement(s.IconButton,{onClick:a,name:"brackets-curly",size:"xs",tooltip:"Format query"}),u&&f.default.createElement(s.IconButton,{onClick:()=>u(!d),name:d?"angle-up":"angle-down",size:"xs",tooltip:d?"Collapse editor":"Expand editor"}),f.default.createElement(s.Tooltip,{content:"Hit CTRL/CMD+Return to run query"},f.default.createElement(s.Icon,{className:E.hint,name:"keyboard"})))))}e.QueryToolbox=n},63170:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryValidator=void 0;const r=t(31635),c=t(22803),f=r.__importStar(t(96540)),s=t(59503),l=r.__importDefault(t(93435)),n=t(6199),o=t(26527);function i({db:u,query:d,onValidate:v,range:p}){var m;const[P,E]=(0,f.useState)(),L=(0,o.useTheme2)(),F=(0,f.useMemo)(()=>(0,n.getValueFormat)("bytes"),[]),j=(0,f.useMemo)(()=>({error:(0,c.css)`
        color: ${L.colors.error.text};
        font-size: ${L.typography.bodySmall.fontSize};
        font-family: ${L.typography.fontFamilyMonospace};
      `,valid:(0,c.css)`
        color: ${L.colors.success.text};
      `,info:(0,c.css)`
        color: ${L.colors.text.secondary};
      `}),[L]),[D,B]=(0,s.useAsyncFn)(K=>r.__awaiter(this,void 0,void 0,function*(){var Y;return((Y=K.rawSql)===null||Y===void 0?void 0:Y.trim())===""?null:yield u.validateQuery(K,p)}),[u]),[,]=(0,l.default)(()=>r.__awaiter(this,void 0,void 0,function*(){const K=yield B(d);return K&&E(K),null}),1e3,[d,B]);if((0,f.useEffect)(()=>{P?.isError&&v(!1),P?.isValid&&v(!0)},[P,v]),!D.value&&!D.loading)return null;const G=!((m=D.value)===null||m===void 0)&&m.error?a(D.value.error):"";return f.default.createElement(f.default.Fragment,null,D.loading&&f.default.createElement("div",{className:j.info},f.default.createElement(o.Spinner,{inline:!0,size:12})," Validating query..."),!D.loading&&D.value&&f.default.createElement(f.default.Fragment,null,f.default.createElement(f.default.Fragment,null,D.value.isValid&&D.value.statistics&&f.default.createElement("div",{className:j.valid},f.default.createElement(o.Icon,{name:"check"})," This query will process"," ",f.default.createElement("strong",null,(0,n.formattedValueToString)(F(D.value.statistics.TotalBytesProcessed)))," ","when run.")),f.default.createElement(f.default.Fragment,null,D.value.isError&&f.default.createElement("div",{className:j.error},G))))}e.QueryValidator=i;function a(u){const d=u.split(":");return d.length>2?d.slice(2).join(":"):u}},60332:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RawEditor=void 0;const r=t(31635),c=t(22803),f=r.__importStar(t(96540)),s=t(59503),l=r.__importDefault(t(70713)),n=t(26527),o=t(15426),i=t(23040);function a({db:d,query:v,onChange:p,onRunQuery:m,onValidate:P,queryToValidate:E,range:L}){const F=(0,n.useTheme2)(),j=(0,n.useStyles2)(u),[D,B]=(0,f.useState)(!1),[G,K]=(0,s.useMeasure)(),[Y,$]=(0,s.useMeasure)(),U=(0,f.useMemo)(()=>d.getSqlCompletionProvider(),[d]),M=(b,T)=>f.default.createElement(o.QueryEditorRaw,{completionProvider:U,query:v,width:b,height:T?T-K.height:void 0,onChange:p},({formatQuery:R})=>f.default.createElement("div",{ref:G},f.default.createElement(i.QueryToolbox,{db:d,query:E,onValidate:P,onFormatCode:R,showTools:!0,range:L,onExpand:B,isExpanded:D}))),C=(b=!1)=>b?f.default.createElement(l.default,null,({width:T,height:R})=>M(T,R)):f.default.createElement("div",{ref:Y},M()),y=()=>f.default.createElement("div",{style:{width:$.width,height:$.height,background:F.colors.background.primary,display:"flex",alignItems:"center",justifyContent:"center"}},"Editing in expanded code editor");return f.default.createElement(f.default.Fragment,null,D?y():C(),D&&f.default.createElement(n.Modal,{title:`Query ${v.refId}`,closeOnBackdropClick:!1,closeOnEscape:!1,className:j.modal,contentClassName:j.modalContent,isOpen:D,onDismiss:()=>{B(!1)}},C(!0)))}e.RawEditor=a;function u(d){return{modal:(0,c.css)`
      width: 95vw;
      height: 95vh;
    `,modalContent:(0,c.css)`
      height: 100%;
      padding-top: 0;
    `}}},53012:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toOption=e.QUERY_FORMAT_OPTIONS=e.EditorMode=e.QueryFormat=void 0;const r=t(6199);var c;(function(l){l[l.Timeseries=0]="Timeseries",l[l.Table=1]="Table",l[l.Logs=2]="Logs",l[l.Trace=3]="Trace",l[l.OptionMulti=4]="OptionMulti"})(c=e.QueryFormat||(e.QueryFormat={}));var f;(function(l){l.Builder="builder",l.Code="code"})(f=e.EditorMode||(e.EditorMode={})),e.QUERY_FORMAT_OPTIONS=[{label:"Time series",value:c.Timeseries},{label:"Table",value:c.Table}];const s=l=>({label:l,value:l});e.toOption=r.toOption!==null&&r.toOption!==void 0?r.toOption:s},34426:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatSQL=void 0;const c=t(31635).__importDefault(t(27633));function f(s){return c.default.format(s).replace(/(\$ \{ .* \})|(\$ __)|(\$ \w+)/g,l=>l.replace(/\s/g,""))}e.formatSQL=f},82196:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFunctionField=e.setPropertyField=e.setGroupByField=e.haveColumns=e.toRawSql=e.getRawSqlFn=void 0;const r=t(2543),c=t(84702);function f(u){return u.toRawSql?u.toRawSql:d=>s(d,!!u.disableDatasets)}e.getRawSqlFn=f;function s({sql:u,dataset:d,table:v},p){var m,P,E,L;let F="";if(!u||!n(u.columns))return F;if(F+=l(u.columns),p?v&&(F+=`FROM ${v} `):d&&v&&(F+=`FROM ${d}.${v} `),u.whereString&&(F+=`WHERE ${u.whereString} `),!((P=(m=u.groupBy)===null||m===void 0?void 0:m[0])===null||P===void 0)&&P.property.name){const j=u.groupBy.map(D=>D.property.name).filter(D=>!(0,r.isEmpty)(D));F+=`GROUP BY ${j.join(", ")} `}return!((E=u.orderBy)===null||E===void 0)&&E.property.name&&(F+=`ORDER BY ${u.orderBy.property.name} `),!((L=u.orderBy)===null||L===void 0)&&L.property.name&&u.orderByDirection&&(F+=`${u.orderByDirection} `),u.limit!==void 0&&u.limit>=0&&(F+=`LIMIT ${u.limit} `),F}e.toRawSql=s;function l(u){return`SELECT ${u.map(v=>{var p,m;let P="";return v.name?P+=`${v.name}(${(p=v.parameters)===null||p===void 0?void 0:p.map(E=>`${E.name}`)})`:P+=`${(m=v.parameters)===null||m===void 0?void 0:m.map(E=>`${E.name}`)}`,P}).join(", ")} `}function n(u){if(!u)return!1;const d=u.some(p=>{var m,P;return((m=p.parameters)===null||m===void 0?void 0:m.length)||((P=p.parameters)===null||P===void 0?void 0:P.some(E=>E.name))}),v=u.some(p=>p.name);return d||v}e.haveColumns=n;function o(u){return{type:c.QueryEditorExpressionType.GroupBy,property:{type:c.QueryEditorPropertyType.String,name:u}}}e.setGroupByField=o;function i(u){return{type:c.QueryEditorExpressionType.Property,property:{type:c.QueryEditorPropertyType.String,name:u}}}e.setPropertyField=i;function a(u){return{type:c.QueryEditorExpressionType.Function,name:u,parameters:[]}}e.createFunctionField=a},15570:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useSqlChange=void 0;const r=t(96540),c=t(82196);function f({query:s,onQueryChange:l,db:n}){return{onSqlChange:(0,r.useCallback)(i=>{const u=(0,c.getRawSqlFn)(n)({sql:i,dataset:s.dataset,table:s.table,refId:s.refId}),d=Object.assign(Object.assign({},s),{sql:i,rawSql:u});l(d)},[n,l,s])}}e.useSqlChange=f},2669:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.raqbConfig=e.settings=e.widgets=e.emptyInitTree=e.emptyInitValue=void 0;const r=t(31635),c=t(2543),f=r.__importDefault(t(96540)),s=t(94541),l=t(6199),n=t(26527),o={add:"Add",remove:"Remove"};e.emptyInitValue={id:s.Utils.uuid(),type:"group",children1:{[s.Utils.uuid()]:{type:"rule",properties:{field:null,operator:null,value:[],valueSrc:[]}}}},e.emptyInitTree={id:s.Utils.uuid(),type:"group",children1:{[s.Utils.uuid()]:{type:"rule",properties:{field:null,operator:null,value:[],valueSrc:[]}}}},e.widgets=Object.assign(Object.assign({},s.BasicConfig.widgets),{text:Object.assign(Object.assign({},s.BasicConfig.widgets.text),{factory:function(E){return f.default.createElement(n.Input,{value:E?.value||"",placeholder:E?.placeholder,onChange:L=>E?.setValue(L.currentTarget.value)})}}),number:Object.assign(Object.assign({},s.BasicConfig.widgets.number),{factory:function(E){return f.default.createElement(n.Input,{value:E?.value,placeholder:E?.placeholder,type:"number",onChange:L=>E?.setValue(Number.parseInt(L.currentTarget.value,10))})}}),datetime:Object.assign(Object.assign({},s.BasicConfig.widgets.datetime),{factory:function(E){return f.default.createElement(n.DateTimePicker,{onChange:L=>{E?.setValue(L?.format(s.BasicConfig.widgets.datetime.valueFormat))},date:(0,l.dateTime)(E?.value).utc()})}})}),e.settings=Object.assign(Object.assign({},s.BasicConfig.settings),{canRegroup:!1,maxNesting:1,canReorder:!1,showNot:!1,addRuleLabel:o.add,deleteLabel:o.remove,renderConjs:function(E){return f.default.createElement(n.Select,{id:E?.id,"aria-label":"Conjunction",menuShouldPortal:!0,options:E?.conjunctionOptions?Object.keys(E?.conjunctionOptions).map(l.toOption):void 0,value:E?.selectedConjunction,onChange:L=>E?.setConjunction(L.value)})},renderField:function(E){var L;const F=((L=E?.config)===null||L===void 0?void 0:L.fields)||{};return f.default.createElement(n.Select,{id:E?.id,width:25,"aria-label":"Field",menuShouldPortal:!0,options:E?.items.map(j=>{var D,B;const G=(B=(D=F[j.key].mainWidgetProps)===null||D===void 0?void 0:D.customProps)===null||B===void 0?void 0:B.icon;return{label:j.label,value:j.key,icon:G}}),value:E?.selectedKey,onChange:j=>{E?.setField(j.label)}})},renderButton:function(E){return f.default.createElement(n.Button,{type:"button",title:`${E?.label} filter`,onClick:E?.onClick,variant:"secondary",size:"md",icon:E?.label===o.add?"plus":"times"})},renderOperator:function(E){return f.default.createElement(n.Select,{options:E?.items.map(L=>({label:L.label,value:L.key})),"aria-label":"Operator",menuShouldPortal:!0,value:E?.selectedKey,onChange:L=>{E?.setField(L.value||"")}})}});const i=p(s.BasicConfig),a=s.BasicConfig.types.text.widgets.text,u=[...a.operators||[],"select_any_in","select_not_any_in"],d=Object.assign(Object.assign({},a),{operators:u}),v=Object.assign(Object.assign({},s.BasicConfig.types),{text:Object.assign(Object.assign({},s.BasicConfig.types.text),{widgets:Object.assign(Object.assign({},s.BasicConfig.types.text.widgets),{text:d})})});e.raqbConfig=Object.assign(Object.assign({},s.BasicConfig),{widgets:e.widgets,settings:e.settings,operators:i,types:v});function p(P){const E=r.__rest(P.operators,[]),L=()=>"",F=E.select_any_in.sqlFormatOp||L,j=(K,Y,$,U,M,C,y,b)=>F(K,Y,m($),U,M,C,y,b),D=E.select_not_any_in.sqlFormatOp||L,B=(K,Y,$,U,M,C,y,b)=>D(K,Y,m($),U,M,C,y,b);return Object.assign(Object.assign({},E),{select_any_in:Object.assign(Object.assign({},E.select_any_in),{sqlFormatOp:j}),select_not_any_in:Object.assign(Object.assign({},E.select_not_any_in),{sqlFormatOp:B})})}function m(P){return(0,c.isString)(P)?P.split(","):P}},95914:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorField=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(26527),l=t(79487),n=i=>{const{label:a,optional:u,tooltip:d,children:v,width:p}=i,m=r.__rest(i,["label","optional","tooltip","children","width"]),P=(0,s.useTheme2)(),E=o(P,p),L=m?.htmlFor||(s.ReactUtils===null||s.ReactUtils===void 0?void 0:s.ReactUtils.getChildId(v)),F=f.default.createElement(f.default.Fragment,null,f.default.createElement("label",{className:E.label,htmlFor:L},a,u&&f.default.createElement("span",{className:E.optional}," - optional"),d&&f.default.createElement(s.Tooltip,{placement:"top",content:d,theme:"info"},f.default.createElement(s.Icon,{name:"info-circle",size:"sm",className:E.icon}))),f.default.createElement(l.Space,{v:.5}));return f.default.createElement("div",{className:E.root},f.default.createElement(s.Field,Object.assign({className:E.field,label:F},m),v))};e.EditorField=n;const o=(0,s.stylesFactory)((i,a)=>({root:(0,c.css)({minWidth:i.spacing(a??0)}),label:(0,c.css)({fontSize:12,fontWeight:i.typography.fontWeightMedium}),optional:(0,c.css)({fontStyle:"italic",color:i.colors.text.secondary}),field:(0,c.css)({marginBottom:0}),icon:(0,c.css)({color:i.colors.text.secondary,marginLeft:i.spacing(1),":hover":{color:i.colors.text.primary}})}))},72526:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorRow=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(26527),l=t(41010),n=({children:i})=>{const a=(0,s.useStyles2)(o);return f.default.createElement("div",{className:a.root},f.default.createElement(l.EditorStack,{gap:2},i))};e.EditorRow=n;const o=i=>({root:(0,c.css)({padding:i.spacing(1),backgroundColor:i.colors.background.secondary,borderRadius:i.shape.borderRadius(1)})})},50597:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorRows=void 0;const c=t(31635).__importDefault(t(96540)),f=t(41010),s=({children:l})=>c.default.createElement(f.EditorStack,{gap:.5,direction:"column"},l);e.EditorRows=s},10027:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GroupByRow=void 0;const c=t(31635).__importStar(t(96540)),f=t(6199),s=t(82196),l=t(6748),n=t(26527),o=t(38759),i=t(61374);function a({sql:d,columns:v,onSqlChange:p}){const m=(0,c.useCallback)(P=>{const E=P.map(F=>{var j;return(0,s.setGroupByField)((j=F.property)===null||j===void 0?void 0:j.name)}),L=Object.assign(Object.assign({},d),{groupBy:E});p(L)},[p,d]);return c.default.createElement(l.EditorList,{items:d.groupBy,onChange:m,renderItem:u({options:v})})}e.GroupByRow=a;function u({options:d}){return function(p,m,P){var E;return c.default.createElement(i.InputGroup,null,c.default.createElement(n.Select,{value:!((E=p.property)===null||E===void 0)&&E.name?(0,f.toOption)(p.property.name):null,"aria-label":"Group by",options:d,menuShouldPortal:!0,onChange:({value:L})=>L&&m((0,s.setGroupByField)(L))}),c.default.createElement(o.AccessoryButton,{"aria-label":"Remove group by column",icon:"times",variant:"secondary",onClick:P}))}}},5246:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OrderByRow=void 0;const r=t(31635),c=t(2543),f=r.__importStar(t(96540)),s=t(6199),l=t(26527),n=t(82196),o=t(79487),i=t(89114),a=t(61374),u=[{description:"Sort by ascending",value:"ASC",icon:"sort-amount-up"},{description:"Sort by descending",value:"DESC",icon:"sort-amount-down"}];function d({sql:v,onSqlChange:p,columns:m,showOffset:P}){var E,L;const F=(0,f.useCallback)(G=>{const K=Object.assign(Object.assign({},v),{orderByDirection:G});p(K)},[p,v]),j=(0,f.useCallback)(G=>{const K=Object.assign(Object.assign({},v),{limit:Number.parseInt(G.currentTarget.value,10)});p(K)},[p,v]),D=(0,f.useCallback)(G=>{const K=Object.assign(Object.assign({},v),{offset:Number.parseInt(G.currentTarget.value,10)});p(K)},[p,v]),B=(0,f.useCallback)(G=>{const K=Object.assign(Object.assign({},v),{orderBy:(0,n.setPropertyField)(G?.value)});G===null&&(K.orderByDirection=void 0),p(K)},[p,v]);return f.default.createElement(f.default.Fragment,null,f.default.createElement(i.EditorField,{label:"Order by",width:25},f.default.createElement(a.InputGroup,null,f.default.createElement(l.Select,{"aria-label":"Order by",options:m,value:!((E=v.orderBy)===null||E===void 0)&&E.property.name?(0,s.toOption)(v.orderBy.property.name):null,isClearable:!0,menuShouldPortal:!0,onChange:B}),f.default.createElement(o.Space,{h:1.5}),f.default.createElement(l.RadioButtonGroup,{options:u,disabled:!(!((L=v?.orderBy)===null||L===void 0)&&L.property.name),value:v.orderByDirection,onChange:F}))),f.default.createElement(i.EditorField,{label:"Limit",optional:!0,width:25},f.default.createElement(l.Input,{type:"number",min:0,id:(0,c.uniqueId)("limit-"),value:v.limit||"",onChange:j})),P&&f.default.createElement(i.EditorField,{label:"Offset",optional:!0,width:25},f.default.createElement(l.Input,{type:"number",id:(0,c.uniqueId)("offset-"),value:v.offset||"",onChange:D})))}e.OrderByRow=d},99205:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Preview=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(59503),l=t(26527),n=t(34426);function o({rawSql:a}){const[u,d]=(0,s.useCopyToClipboard)(),v=(0,l.useStyles2)(i),p=f.default.createElement("div",{className:v.labelWrapper},f.default.createElement("label",{className:v.label},"Preview"),f.default.createElement(l.IconButton,{tooltip:"Copy to clipboard",onClick:()=>d(a),name:"copy"}));return f.default.createElement(l.Field,{label:p,className:v.grow},f.default.createElement(l.CodeEditor,{language:"sql",height:80,value:(0,n.formatSQL)(a),monacoOptions:{scrollbar:{vertical:"hidden"},scrollBeyondLastLine:!1},readOnly:!0,showMiniMap:!1}))}e.Preview=o;function i(a){return{grow:(0,c.css)({flexGrow:1}),label:(0,c.css)({fontSize:12,fontWeight:a.typography.fontWeightMedium}),labelWrapper:(0,c.css)({display:"flex",justifyContent:"space-between",paddingBottom:a.spacing(.5)})}}},81191:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SQLGroupByRow=void 0;const c=t(31635).__importDefault(t(96540)),f=t(10027),s=t(15570);function l({fields:n,query:o,onQueryChange:i,db:a}){const{onSqlChange:u}=(0,s.useSqlChange)({query:o,onQueryChange:i,db:a});return c.default.createElement(f.GroupByRow,{columns:n,sql:o.sql,onSqlChange:u})}e.SQLGroupByRow=l},9722:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SQLOrderByRow=void 0;const c=t(31635).__importDefault(t(96540)),f=t(5246),s=t(15570);function l({fields:n,query:o,onQueryChange:i,db:a}){var u,d;const{onSqlChange:v}=(0,s.useSqlChange)({query:o,onQueryChange:i,db:a});let p=[];return n&&(p=[{value:"",label:"Selected columns",options:(d=(u=o.sql)===null||u===void 0?void 0:u.columns)===null||d===void 0?void 0:d.map((P,E)=>{var L,F;const j=P.name?`${P.name}(${(L=P.parameters)===null||L===void 0?void 0:L.map(D=>D.name)})`:(F=P.parameters)===null||F===void 0?void 0:F.map(D=>D.name);return{value:j,label:`${E+1} - ${j}`}}),expanded:!0},...n]),c.default.createElement(f.OrderByRow,{sql:o.sql,onSqlChange:v,columns:p})}e.SQLOrderByRow=l},8489:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SQLSelectRow=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(59503),s=t(6199),l=t(50893),n=t(15570);function o({fields:i,query:a,onQueryChange:u,db:d}){const{onSqlChange:v}=(0,n.useSqlChange)({query:a,onQueryChange:u,db:d}),p=(0,f.useAsync)(()=>r.__awaiter(this,void 0,void 0,function*(){return(yield d.functions()).map(P=>(0,s.toOption)(P.name))}),[d]);return c.default.createElement(l.SelectRow,{columns:i,sql:a.sql,functions:p.value,onSqlChange:v})}e.SQLSelectRow=o},11564:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SQLWhereRow=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=r.__importDefault(t(38909)),s=t(19616),l=t(15570);function n({query:i,fields:a,onQueryChange:u,db:d}){const v=(0,f.default)(()=>r.__awaiter(this,void 0,void 0,function*(){return o(a)}),[a]),{onSqlChange:p}=(0,l.useSqlChange)({query:i,onQueryChange:u,db:d});return c.default.createElement(s.WhereRow,{key:JSON.stringify(v.value),config:{fields:v.value||{}},sql:i.sql,onSqlChange:m=>{p(m)}})}e.SQLWhereRow=n;function o(i){const a={};for(const u of i)a[u.value]={type:u.raqbFieldType||"text",valueSources:["value"],mainWidgetProps:{customProps:{icon:u.icon}}};return a}},50893:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectRow=void 0;const r=t(31635),c=t(22803),f=t(2543),s=r.__importStar(t(96540)),l=t(6199),n=t(26527),o=t(89114),i=t(84702),a=t(82196),u=t(41010),d={label:"*",value:"*"};function v({sql:P,columns:E,onSqlChange:L,functions:F}){var j;const D=(0,n.useStyles2)(p),B=[d,...E||[]],G=(0,s.useCallback)((U,M)=>C=>{var y,b;let T=Object.assign({},U);!((y=U.parameters)===null||y===void 0)&&y.length?T.parameters=U.parameters.map(S=>S.type===i.QueryEditorExpressionType.FunctionParameter?Object.assign(Object.assign({},S),{name:C.value}):S):T.parameters=[{type:i.QueryEditorExpressionType.FunctionParameter,name:C.value}];const R=Object.assign(Object.assign({},P),{columns:(b=P.columns)===null||b===void 0?void 0:b.map((S,A)=>A===M?T:S)});L(R)},[L,P]),K=(0,s.useCallback)((U,M)=>C=>{var y;const b=Object.assign(Object.assign({},U),{name:C?.value}),T=Object.assign(Object.assign({},P),{columns:(y=P.columns)===null||y===void 0?void 0:y.map((R,S)=>S===M?b:R)});L(T)},[L,P]),Y=(0,s.useCallback)(U=>()=>{const M=[...P.columns];M.splice(U,1);const C=Object.assign(Object.assign({},P),{columns:M});L(C)},[L,P]),$=(0,s.useCallback)(()=>{const U=Object.assign(Object.assign({},P),{columns:[...P.columns,(0,a.createFunctionField)()]});L(U)},[L,P]);return s.default.createElement(u.EditorStack,{gap:2,alignItems:"end",direction:"column"},(j=P.columns)===null||j===void 0?void 0:j.map((U,M)=>s.default.createElement("div",{key:M},s.default.createElement(u.EditorStack,{gap:2,alignItems:"end"},s.default.createElement(o.EditorField,{label:"Column",width:25},s.default.createElement(n.Select,{value:m(U),options:B,inputId:`select-column-${M}-${(0,f.uniqueId)()}`,menuShouldPortal:!0,allowCustomValue:!0,onChange:G(U,M)})),s.default.createElement(o.EditorField,{label:"Aggregation",optional:!0,width:25},s.default.createElement(n.Select,{value:U.name?(0,l.toOption)(U.name):null,inputId:`select-aggregation-${M}-${(0,f.uniqueId)()}`,isClearable:!0,menuShouldPortal:!0,allowCustomValue:!0,options:F,onChange:K(U,M)})),s.default.createElement(n.Button,{"aria-label":"Remove",type:"button",icon:"trash-alt",variant:"secondary",size:"md",onClick:Y(M)})))),s.default.createElement(n.Button,{type:"button",onClick:$,variant:"secondary",size:"md",icon:"plus","aria-label":"Add",className:D.addButton}))}e.SelectRow=v;const p=()=>({addButton:(0,c.css)({alignSelf:"flex-start"})});function m({parameters:P}){const E=P?.find(L=>L.type===i.QueryEditorExpressionType.FunctionParameter);return E?.name?(0,l.toOption)(E.name):null}},64488:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisualEditor=void 0;const r=t(31635),c=r.__importDefault(t(96540)),f=t(59503),s=t(23040),l=t(99205),n=t(81191),o=t(9722),i=t(8489),a=t(11564),u=t(72526),d=t(95914),v=t(50597),p=({query:m,db:P,queryRowFilter:E,onChange:L,onValidate:F,range:j})=>{const D=(0,f.useAsync)(()=>r.__awaiter(void 0,void 0,void 0,function*(){return yield P.fields(m)}),[P,m.dataset,m.table]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(v.EditorRows,null,c.default.createElement(u.EditorRow,null,c.default.createElement(i.SQLSelectRow,{fields:D.value||[],query:m,onQueryChange:L,db:P})),E.filter&&c.default.createElement(u.EditorRow,null,c.default.createElement(d.EditorField,{label:"Filter by column value",optional:!0},c.default.createElement(a.SQLWhereRow,{fields:D.value||[],query:m,onQueryChange:L,db:P}))),E.group&&c.default.createElement(u.EditorRow,null,c.default.createElement(d.EditorField,{label:"Group by column"},c.default.createElement(n.SQLGroupByRow,{fields:D.value||[],query:m,onQueryChange:L,db:P}))),E.order&&c.default.createElement(u.EditorRow,null,c.default.createElement(o.SQLOrderByRow,{fields:D.value||[],query:m,onQueryChange:L,db:P})),E.preview&&m.rawSql&&c.default.createElement(u.EditorRow,null,c.default.createElement(l.Preview,{rawSql:m.rawSql}))),c.default.createElement(s.QueryToolbox,{db:P,query:m,onValidate:F,range:j}))};e.VisualEditor=p},19616:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhereRow=void 0;const r=t(31635),c=t(22803),f=r.__importStar(t(96540)),s=t(94541),l=t(2669);function n({sql:i,config:a,onSqlChange:u}){const[d,v]=(0,f.useState)(),p=(0,f.useMemo)(()=>Object.assign(Object.assign({},l.raqbConfig),a),[a]);(0,f.useEffect)(()=>{var P;if(!d){const E=s.Utils.checkTree(s.Utils.loadTree((P=i.whereJsonTree)!==null&&P!==void 0?P:l.emptyInitTree),p);v(E)}},[p,i.whereJsonTree,d]),(0,f.useEffect)(()=>{i.whereJsonTree||v(s.Utils.checkTree(s.Utils.loadTree(l.emptyInitTree),p))},[p,i.whereJsonTree]);const m=(0,f.useCallback)((P,E)=>{v(P);const L=Object.assign(Object.assign({},i),{whereJsonTree:s.Utils.getTree(P),whereString:s.Utils.sqlFormat(P,E)});u(L)},[u,i]);return d?f.default.createElement(s.Query,Object.assign({},p,{value:d,onChange:m,renderBuilder:P=>f.default.createElement(s.Builder,Object.assign({},P))})):null}e.WhereRow=n;function o(i){return`
    display: flex;
    gap: 8px;
    flex-direction: ${i};`}(0,c.injectGlobal)`
  .group--header {
    ${o("row")}
  }

  .group-or-rule {
    ${o("column")}
    .rule {
      flex-direction: row;
    }
  }

  .rule--body {
    ${o("row")}
  }

  .group--children {
    ${o("column")}
  }

  .group--conjunctions:empty {
    display: none;
  }
`},8829:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GroupByRow=void 0;var r=t(10027);Object.defineProperty(e,"GroupByRow",{enumerable:!0,get:function(){return r.GroupByRow}})},4540:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEditorRow=void 0;const c=t(31635).__importDefault(t(96540)),f=s=>{var l,n;const o=(l=s.className)!==null&&l!==void 0?l:"width-8",i=(n=s.noFillEnd)!==null&&n!==void 0?n:!1;return c.default.createElement("div",{className:"gf-form"},s.label&&c.default.createElement("label",{className:`gf-form-label query-keyword ${o}`},s.label),s.children,c.default.createElement("div",{className:"gf-form--grow"},i||c.default.createElement("div",{className:"gf-form-label gf-form-label--grow"})))};e.QueryEditorRow=f},10547:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerLanguageAndSuggestions=e.SQLEditor=void 0;const r=t(31635),c=t(26527),f=r.__importStar(t(96540)),s=t(23379),l=t(36867),n=t(11425),o=t(9972),i=t(56969),a=t(99822),u=t(75701),d=t(86405),v=t(99904),p=t(6199),m=t(58348),P=t(1691),E=t(64960),L=r.__importDefault(t(30904)),F=t(27950),j="sql",D=new Map,B=new Map,G=({children:M,onBlur:C,onChange:y,query:b,language:T={id:j},width:R,height:S})=>{const A=(0,f.useRef)(null),W=(0,f.useRef)(),I=(0,f.useMemo)(()=>{const w=(0,v.v4)(),V=`${T.id}-${w}`;return W.current=V,V},[T.id]);(0,f.useEffect)(()=>()=>{W.current&&B.delete(W.current),(0,E.sqlEditorLog)(`Removing instance cache ${W.current}`,!1,B)},[]);const O=(0,f.useCallback)(()=>{A.current&&A.current.getAction("editor.action.formatDocument").run()},[]),h=w=>{y&&y(w,!1),C&&C(w)};return f.default.createElement("div",{style:{width:R}},f.default.createElement(c.CodeEditor,{height:S||"240px",width:R?`${R-2}px`:void 0,language:I,value:b,onBlur:h,showMiniMap:!1,showLineNumbers:!0,onEditorDidMount:(w,V)=>{A.current=w,w.onDidChangeModelContent(H=>{const _=w.getValue();y&&y(_,!1)}),w.addCommand(V.KeyMod.CtrlCmd|V.KeyCode.Enter,()=>{const H=w.getValue();y&&y(H,!0)}),w.onKeyUp(H=>{H.keyCode===84&&w.trigger(d.TRIGGER_SUGGEST.id,d.TRIGGER_SUGGEST.id,{})}),(0,e.registerLanguageAndSuggestions)(V,T,I)}}),M&&M({formatQuery:O}))};e.SQLEditor=G;const K=(M,C)=>{if(C?.id!==j&&!C.loader){(0,E.sqlEditorLog)(`Loading language '${C?.id}' from Monaco registry`,!1);const b=M.languages.getLanguages().find(({id:T})=>T===C?.id);if(!b)throw Error(`Unknown Monaco language ${C?.id}`);return Object.assign(Object.assign({completionProvider:F.getStandardSQLCompletionProvider},b),C)}return Object.assign(Object.assign({},L.default),C)},Y=(M,C,y)=>r.__awaiter(void 0,void 0,void 0,function*(){const b=K(M,C);if(!b.loader)return;const{language:T,conf:R}=yield b.loader(M);if(M.languages.register({id:y}),M.languages.setMonarchTokensProvider(y,Object.assign({},T)),M.languages.setLanguageConfiguration(y,Object.assign({},R)),b.formatter&&M.languages.registerDocumentFormattingEditProvider(y,{provideDocumentFormattingEdits:S=>{var A;const W=(A=C.formatter)===null||A===void 0?void 0:A.call(C,S.getValue());return[{range:S.getFullModelRange(),text:W||""}]}}),b.completionProvider){const S=b.completionProvider(M,T);$(C.id,y,S);const A=D.get(C.id),W=B.get(y),I=(O,h,w,V)=>r.__awaiter(void 0,void 0,void 0,function*(){const H=(0,a.linkedTokenBuilder)(M,O,h,y),_=(0,s.getStatementPosition)(H,A.positionResolvers),oe=(0,i.getSuggestionKinds)(_,A.suggestionKinds);(0,E.sqlEditorLog)("Statement position",!1,_),(0,E.sqlEditorLog)("Suggestion kinds",!1,oe);const te={position:h,currentToken:H,statementPosition:_,kind:oe,range:M.Range.fromPositions(h)};return{suggestions:yield(0,l.getStandardSuggestions)(M,H,oe,te,W)}});M.languages.registerCompletionItemProvider(y,Object.assign(Object.assign({},S),{provideCompletionItems:I}))}});e.registerLanguageAndSuggestions=Y;function $(M,C,y){var b;D.has(M)||U(M);const T=D.get(M);B.has(C)||B.set(C,new p.Registry((0,m.initStandardSuggestions)(T.functions,T.operators,T.macros)));const R=B.get(C);if(y.supportedFunctions)for(const S of y.supportedFunctions())T.functions.getIfExists(S.id)||T.functions.register(S);if(y.supportedOperators)for(const S of y.supportedOperators())T.operators.getIfExists(S.id)||T.operators.register(Object.assign(Object.assign({},S),{name:S.id}));if(y.supportedMacros)for(const S of y.supportedMacros())T.macros.getIfExists(S.id)||T.macros.register(Object.assign(Object.assign({},S),{name:S.id}));if(y.customStatementPlacement)for(const S of y.customStatementPlacement()){const A=T.positionResolvers.getIfExists(S.id);if(!A)T.positionResolvers.register(Object.assign(Object.assign({},S),{id:S.id,name:S.id})),T.suggestionKinds.register({id:S.id,name:S.id,kind:[]});else{const W=A.resolve;A.resolve=(...I)=>{const O=S.resolve(...I);return S.overrideDefault?O:W(...I)||O}}}if(y.customSuggestionKinds)for(const S of y.customSuggestionKinds()){if((b=S.applyTo)===null||b===void 0||b.forEach(A=>{const W=T.suggestionKinds.getIfExists(A);W&&W.kind.indexOf(S.id)===-1&&W.kind.push(S.id)}),S.overrideDefault){const A=R.get(S.id);if(A!==void 0){A.suggestions=S.suggestionsResolver;continue}}R.register({id:S.id,name:S.id,suggestions:S.suggestionsResolver})}if(y.schemas){const S=R.get(o.SuggestionKind.Schemas),A=S.suggestions;S.suggestions=(W,I)=>r.__awaiter(this,void 0,void 0,function*(){const O=yield A(W,I);if(!y.schemas)return[...O];const w=(yield y.schemas.resolve()).map(V=>{var H;return{label:V.name,insertText:`${(H=V.completion)!==null&&H!==void 0?H:V.name}.`,command:d.TRIGGER_SUGGEST,kind:o.CompletionItemKind.Module,sortText:o.CompletionItemPriority.High}});return[...O,...w]})}if(y.tables){const S=R.get(o.SuggestionKind.Tables),A=S.suggestions;S.suggestions=(W,I)=>r.__awaiter(this,void 0,void 0,function*(){var O,h,w,V,H;const _=yield A(W,I),oe=(0,u.getTableToken)(W.currentToken),Q=((h=(O=y.tables)===null||O===void 0?void 0:O.parseName)!==null&&h!==void 0?h:u.defaultTableNameParser)(oe),X=((H=yield(V=(w=y.tables)===null||w===void 0?void 0:w.resolve)===null||V===void 0?void 0:V.call(w,Q))!==null&&H!==void 0?H:[]).map(k=>{var re;return{label:k.name,insertText:`${(re=k.completion)!==null&&re!==void 0?re:k.name}${k.completion===k.name?" $0":""}`,insertTextRules:o.CompletionItemInsertTextRule.InsertAsSnippet,command:d.TRIGGER_SUGGEST,kind:o.CompletionItemKind.Field,sortText:o.CompletionItemPriority.MediumHigh}});return[..._,...X]})}if(y.columns){const S=R.get(o.SuggestionKind.Columns),A=S.suggestions;S.suggestions=(W,I)=>r.__awaiter(this,void 0,void 0,function*(){var O,h,w;const V=yield A(W,I),H=(0,u.getTableToken)(W.currentToken);let _;const oe=(h=(O=y.tables)===null||O===void 0?void 0:O.parseName)!==null&&h!==void 0?h:u.defaultTableNameParser;H&&H.value&&(_=oe(H));let te=[];if(_){const Q=yield(w=y.columns)===null||w===void 0?void 0:w.resolve(_);te=Q?Q.map(X=>{var k;return{label:X.name,insertText:(k=X.completion)!==null&&k!==void 0?k:X.name,kind:o.CompletionItemKind.Field,sortText:o.CompletionItemPriority.High,detail:X.type,documentation:X.description}}):[]}return[...V,...te]})}}function U(M){return D.has(M)||D.set(M,{functions:new p.Registry,operators:new p.Registry,suggestionKinds:new p.Registry(n.initSuggestionsKindRegistry),positionResolvers:new p.Registry(P.initStatementPositionResolvers),macros:new p.Registry}),D.get(M)}},32621:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SQLEditorMode=e.CompletionItemInsertTextRule=e.CompletionItemPriority=e.CompletionItemKind=e.SuggestionKind=e.StatementPosition=e.TokenType=e.MacroType=e.OperatorType=e.getStandardSQLCompletionProvider=e.grafanaStandardSQLLanguageConf=e.grafanaStandardSQLLanguage=e.LinkedToken=e.SQLEditorTestUtils=e.SQLEditor=void 0;var r=t(10547);Object.defineProperty(e,"SQLEditor",{enumerable:!0,get:function(){return r.SQLEditor}});var c=t(62966);Object.defineProperty(e,"SQLEditorTestUtils",{enumerable:!0,get:function(){return c.SQLEditorTestUtils}});var f=t(98685);Object.defineProperty(e,"LinkedToken",{enumerable:!0,get:function(){return f.LinkedToken}});var s=t(47783);Object.defineProperty(e,"grafanaStandardSQLLanguage",{enumerable:!0,get:function(){return s.language}}),Object.defineProperty(e,"grafanaStandardSQLLanguageConf",{enumerable:!0,get:function(){return s.conf}});var l=t(27950);Object.defineProperty(e,"getStandardSQLCompletionProvider",{enumerable:!0,get:function(){return l.getStandardSQLCompletionProvider}});var n=t(9972);Object.defineProperty(e,"OperatorType",{enumerable:!0,get:function(){return n.OperatorType}}),Object.defineProperty(e,"MacroType",{enumerable:!0,get:function(){return n.MacroType}}),Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return n.TokenType}}),Object.defineProperty(e,"StatementPosition",{enumerable:!0,get:function(){return n.StatementPosition}}),Object.defineProperty(e,"SuggestionKind",{enumerable:!0,get:function(){return n.SuggestionKind}}),Object.defineProperty(e,"CompletionItemKind",{enumerable:!0,get:function(){return n.CompletionItemKind}}),Object.defineProperty(e,"CompletionItemPriority",{enumerable:!0,get:function(){return n.CompletionItemPriority}}),Object.defineProperty(e,"CompletionItemInsertTextRule",{enumerable:!0,get:function(){return n.CompletionItemInsertTextRule}}),Object.defineProperty(e,"SQLEditorMode",{enumerable:!0,get:function(){return n.SQLEditorMode}})},93246:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMonacoMock=void 0;const t=r=>({editor:{tokenize:(c,f)=>r.get(c)},Range:{containsPosition:(c,f)=>f.lineNumber>=c.startLineNumber&&f.lineNumber<=c.endLineNumber&&f.column>=c.startColumn&&f.column<=c.endColumn},languages:{CompletionItemKind:{Snippet:2,Function:1,Keyword:3},CompletionItemInsertTextRule:{InsertAsSnippet:2}}});e.getMonacoMock=t},88345:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModel=void 0;function t(r){return{getValue:function(c,f){return r},getValueInRange:function(c,f){return r.split(`
`)[c.startLineNumber-1].trim().slice(c.startColumn===0?0:c.startColumn-1,c.endColumn-1)},getLineLength:function(c){return r.split(`
`)[c-1].trim().length}}}e.TextModel=t},68638:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiLineFullQuery=void 0,e.multiLineFullQuery={query:`SELECT column1,
  FROM table1

  WHERE column1 = "value1"
  GROUP BY column1 ORDER BY column1 DESC
  LIMIT 10;`,tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"keyword.sql",language:"sql"},{offset:38,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]}},12986:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiLineFullQueryWithAggregation=void 0,e.multiLineFullQueryWithAggregation={query:`SELECT count(column1),
  FROM table1

  WHERE column1 = "value1"
  GROUP BY column1 ORDER BY column1 DESC
  LIMIT 10;`,tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"keyword.sql",language:"sql"},{offset:38,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]}},7058:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiLineMultipleColumns=void 0,e.multiLineMultipleColumns={query:`SELECT count(column1), column2
  FROM table1

  WHERE column1 = "value1"
  GROUP BY column1 ORDER BY column1, avg(column2) DESC
  LIMIT 10;`,tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"identifier.sql",language:"sql"},{offset:30,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:4,type:"white.sql",language:"sql"},{offset:5,type:"identifier.sql",language:"sql"},{offset:11,type:"white.sql",language:"sql"}],[{offset:0,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"identifier.sql",language:"sql"},{offset:13,type:"white.sql",language:"sql"},{offset:14,type:"operator.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"identifier.quote.sql",language:"sql"},{offset:17,type:"identifier.sql",language:"sql"},{offset:23,type:"identifier.quote.sql",language:"sql"},{offset:24,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"keyword.sql",language:"sql"},{offset:8,type:"white.sql",language:"sql"},{offset:9,type:"identifier.sql",language:"sql"},{offset:16,type:"white.sql",language:"sql"},{offset:17,type:"keyword.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:25,type:"white.sql",language:"sql"},{offset:26,type:"identifier.sql",language:"sql"},{offset:33,type:"delimiter.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"predefined.sql",language:"sql"},{offset:38,type:"delimiter.parenthesis.sql",language:"sql"},{offset:39,type:"identifier.sql",language:"sql"},{offset:46,type:"delimiter.parenthesis.sql",language:"sql"},{offset:47,type:"white.sql",language:"sql"},{offset:48,type:"keyword.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"}],[{offset:0,type:"keyword.sql",language:"sql"},{offset:5,type:"white.sql",language:"sql"},{offset:6,type:"number.sql",language:"sql"},{offset:8,type:"delimiter.sql",language:"sql"}]]}},12369:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleLineEmptyQuery=void 0,e.singleLineEmptyQuery={query:"",tokens:[]}},64835:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleLineFullQuery=void 0,e.singleLineFullQuery={query:'SELECT column1, FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"keyword.sql",language:"sql"},{offset:20,type:"white.sql",language:"sql"},{offset:21,type:"identifier.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"keyword.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"identifier.sql",language:"sql"},{offset:41,type:"white.sql",language:"sql"},{offset:42,type:"operator.sql",language:"sql"},{offset:43,type:"white.sql",language:"sql"},{offset:44,type:"identifier.quote.sql",language:"sql"},{offset:45,type:"identifier.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"},{offset:53,type:"keyword.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"keyword.sql",language:"sql"},{offset:61,type:"white.sql",language:"sql"},{offset:62,type:"identifier.sql",language:"sql"},{offset:69,type:"white.sql",language:"sql"},{offset:70,type:"keyword.sql",language:"sql"},{offset:75,type:"white.sql",language:"sql"},{offset:76,type:"keyword.sql",language:"sql"},{offset:78,type:"white.sql",language:"sql"},{offset:79,type:"identifier.sql",language:"sql"},{offset:86,type:"white.sql",language:"sql"},{offset:87,type:"keyword.sql",language:"sql"},{offset:91,type:"white.sql",language:"sql"},{offset:92,type:"keyword.sql",language:"sql"},{offset:97,type:"white.sql",language:"sql"},{offset:98,type:"number.sql",language:"sql"},{offset:100,type:"delimiter.sql",language:"sql"}]]}},13201:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleLineFullQueryWithAggregation=void 0,e.singleLineFullQueryWithAggregation={query:'SELECT count(column1), FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"identifier.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"keyword.sql",language:"sql"},{offset:40,type:"white.sql",language:"sql"},{offset:41,type:"identifier.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"operator.sql",language:"sql"},{offset:50,type:"white.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"identifier.sql",language:"sql"},{offset:58,type:"identifier.quote.sql",language:"sql"},{offset:59,type:"white.sql",language:"sql"},{offset:60,type:"keyword.sql",language:"sql"},{offset:65,type:"white.sql",language:"sql"},{offset:66,type:"keyword.sql",language:"sql"},{offset:68,type:"white.sql",language:"sql"},{offset:69,type:"identifier.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"keyword.sql",language:"sql"},{offset:82,type:"white.sql",language:"sql"},{offset:83,type:"keyword.sql",language:"sql"},{offset:85,type:"white.sql",language:"sql"},{offset:86,type:"identifier.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"keyword.sql",language:"sql"},{offset:98,type:"white.sql",language:"sql"},{offset:99,type:"keyword.sql",language:"sql"},{offset:104,type:"white.sql",language:"sql"},{offset:105,type:"number.sql",language:"sql"},{offset:107,type:"delimiter.sql",language:"sql"}]]}},2099:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleLineMultipleColumns=void 0,e.singleLineMultipleColumns={query:'SELECT count(column1), column2 FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1, avg(column2) DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"identifier.sql",language:"sql"},{offset:30,type:"white.sql",language:"sql"},{offset:31,type:"keyword.sql",language:"sql"},{offset:35,type:"white.sql",language:"sql"},{offset:36,type:"identifier.sql",language:"sql"},{offset:42,type:"white.sql",language:"sql"},{offset:43,type:"keyword.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"identifier.sql",language:"sql"},{offset:56,type:"white.sql",language:"sql"},{offset:57,type:"operator.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"identifier.quote.sql",language:"sql"},{offset:60,type:"identifier.sql",language:"sql"},{offset:66,type:"identifier.quote.sql",language:"sql"},{offset:67,type:"white.sql",language:"sql"},{offset:68,type:"keyword.sql",language:"sql"},{offset:73,type:"white.sql",language:"sql"},{offset:74,type:"keyword.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"identifier.sql",language:"sql"},{offset:84,type:"white.sql",language:"sql"},{offset:85,type:"keyword.sql",language:"sql"},{offset:90,type:"white.sql",language:"sql"},{offset:91,type:"keyword.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"identifier.sql",language:"sql"},{offset:101,type:"delimiter.sql",language:"sql"},{offset:102,type:"white.sql",language:"sql"},{offset:103,type:"predefined.sql",language:"sql"},{offset:106,type:"delimiter.parenthesis.sql",language:"sql"},{offset:107,type:"identifier.sql",language:"sql"},{offset:114,type:"delimiter.parenthesis.sql",language:"sql"},{offset:115,type:"white.sql",language:"sql"},{offset:116,type:"keyword.sql",language:"sql"},{offset:120,type:"white.sql",language:"sql"},{offset:121,type:"keyword.sql",language:"sql"},{offset:126,type:"white.sql",language:"sql"},{offset:127,type:"number.sql",language:"sql"},{offset:129,type:"delimiter.sql",language:"sql"}]]}},85808:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleLineTwoQueries=void 0,e.singleLineTwoQueries={query:'SELECT column1, FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT column2, FROM table2 WHERE column2 = "value2" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"identifier.sql",language:"sql"},{offset:14,type:"delimiter.sql",language:"sql"},{offset:15,type:"white.sql",language:"sql"},{offset:16,type:"keyword.sql",language:"sql"},{offset:20,type:"white.sql",language:"sql"},{offset:21,type:"identifier.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"keyword.sql",language:"sql"},{offset:33,type:"white.sql",language:"sql"},{offset:34,type:"identifier.sql",language:"sql"},{offset:41,type:"white.sql",language:"sql"},{offset:42,type:"operator.sql",language:"sql"},{offset:43,type:"white.sql",language:"sql"},{offset:44,type:"identifier.quote.sql",language:"sql"},{offset:45,type:"identifier.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"white.sql",language:"sql"},{offset:53,type:"keyword.sql",language:"sql"},{offset:58,type:"white.sql",language:"sql"},{offset:59,type:"keyword.sql",language:"sql"},{offset:61,type:"white.sql",language:"sql"},{offset:62,type:"identifier.sql",language:"sql"},{offset:69,type:"white.sql",language:"sql"},{offset:70,type:"keyword.sql",language:"sql"},{offset:75,type:"white.sql",language:"sql"},{offset:76,type:"keyword.sql",language:"sql"},{offset:78,type:"white.sql",language:"sql"},{offset:79,type:"identifier.sql",language:"sql"},{offset:86,type:"white.sql",language:"sql"},{offset:87,type:"keyword.sql",language:"sql"},{offset:91,type:"white.sql",language:"sql"},{offset:92,type:"keyword.sql",language:"sql"},{offset:97,type:"white.sql",language:"sql"},{offset:98,type:"number.sql",language:"sql"},{offset:100,type:"delimiter.sql",language:"sql"},{offset:101,type:"white.sql",language:"sql"},{offset:102,type:"keyword.sql",language:"sql"},{offset:108,type:"white.sql",language:"sql"},{offset:109,type:"identifier.sql",language:"sql"},{offset:116,type:"delimiter.sql",language:"sql"},{offset:117,type:"white.sql",language:"sql"},{offset:118,type:"keyword.sql",language:"sql"},{offset:122,type:"white.sql",language:"sql"},{offset:123,type:"identifier.sql",language:"sql"},{offset:129,type:"white.sql",language:"sql"},{offset:130,type:"keyword.sql",language:"sql"},{offset:135,type:"white.sql",language:"sql"},{offset:136,type:"identifier.sql",language:"sql"},{offset:143,type:"white.sql",language:"sql"},{offset:144,type:"operator.sql",language:"sql"},{offset:145,type:"white.sql",language:"sql"},{offset:146,type:"identifier.quote.sql",language:"sql"},{offset:147,type:"identifier.sql",language:"sql"},{offset:153,type:"identifier.quote.sql",language:"sql"},{offset:154,type:"white.sql",language:"sql"},{offset:155,type:"keyword.sql",language:"sql"},{offset:160,type:"white.sql",language:"sql"},{offset:161,type:"keyword.sql",language:"sql"},{offset:163,type:"white.sql",language:"sql"},{offset:164,type:"identifier.sql",language:"sql"},{offset:171,type:"white.sql",language:"sql"},{offset:172,type:"keyword.sql",language:"sql"},{offset:177,type:"white.sql",language:"sql"},{offset:178,type:"keyword.sql",language:"sql"},{offset:180,type:"white.sql",language:"sql"},{offset:181,type:"identifier.sql",language:"sql"},{offset:188,type:"white.sql",language:"sql"},{offset:189,type:"keyword.sql",language:"sql"},{offset:193,type:"white.sql",language:"sql"},{offset:194,type:"keyword.sql",language:"sql"},{offset:199,type:"white.sql",language:"sql"},{offset:200,type:"number.sql",language:"sql"},{offset:202,type:"delimiter.sql",language:"sql"}]]}},9964:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleLineTwoQueriesWithAggregation=void 0,e.singleLineTwoQueriesWithAggregation={query:'SELECT count(column1), FROM table1 WHERE column1 = "value1" GROUP BY column1 ORDER BY column1 DESC LIMIT 10; SELECT count(column2), FROM table2 WHERE column2 = "value2" GROUP BY column1 ORDER BY column2 DESC LIMIT 10;',tokens:[[{offset:0,type:"keyword.sql",language:"sql"},{offset:6,type:"white.sql",language:"sql"},{offset:7,type:"predefined.sql",language:"sql"},{offset:12,type:"delimiter.parenthesis.sql",language:"sql"},{offset:13,type:"identifier.sql",language:"sql"},{offset:20,type:"delimiter.parenthesis.sql",language:"sql"},{offset:21,type:"delimiter.sql",language:"sql"},{offset:22,type:"white.sql",language:"sql"},{offset:23,type:"keyword.sql",language:"sql"},{offset:27,type:"white.sql",language:"sql"},{offset:28,type:"identifier.sql",language:"sql"},{offset:34,type:"white.sql",language:"sql"},{offset:35,type:"keyword.sql",language:"sql"},{offset:40,type:"white.sql",language:"sql"},{offset:41,type:"identifier.sql",language:"sql"},{offset:48,type:"white.sql",language:"sql"},{offset:49,type:"operator.sql",language:"sql"},{offset:50,type:"white.sql",language:"sql"},{offset:51,type:"identifier.quote.sql",language:"sql"},{offset:52,type:"identifier.sql",language:"sql"},{offset:58,type:"identifier.quote.sql",language:"sql"},{offset:59,type:"white.sql",language:"sql"},{offset:60,type:"keyword.sql",language:"sql"},{offset:65,type:"white.sql",language:"sql"},{offset:66,type:"keyword.sql",language:"sql"},{offset:68,type:"white.sql",language:"sql"},{offset:69,type:"identifier.sql",language:"sql"},{offset:76,type:"white.sql",language:"sql"},{offset:77,type:"keyword.sql",language:"sql"},{offset:82,type:"white.sql",language:"sql"},{offset:83,type:"keyword.sql",language:"sql"},{offset:85,type:"white.sql",language:"sql"},{offset:86,type:"identifier.sql",language:"sql"},{offset:93,type:"white.sql",language:"sql"},{offset:94,type:"keyword.sql",language:"sql"},{offset:98,type:"white.sql",language:"sql"},{offset:99,type:"keyword.sql",language:"sql"},{offset:104,type:"white.sql",language:"sql"},{offset:105,type:"number.sql",language:"sql"},{offset:107,type:"delimiter.sql",language:"sql"},{offset:108,type:"white.sql",language:"sql"},{offset:109,type:"keyword.sql",language:"sql"},{offset:115,type:"white.sql",language:"sql"},{offset:116,type:"predefined.sql",language:"sql"},{offset:121,type:"delimiter.parenthesis.sql",language:"sql"},{offset:122,type:"identifier.sql",language:"sql"},{offset:129,type:"delimiter.parenthesis.sql",language:"sql"},{offset:130,type:"delimiter.sql",language:"sql"},{offset:131,type:"white.sql",language:"sql"},{offset:132,type:"keyword.sql",language:"sql"},{offset:136,type:"white.sql",language:"sql"},{offset:137,type:"identifier.sql",language:"sql"},{offset:143,type:"white.sql",language:"sql"},{offset:144,type:"keyword.sql",language:"sql"},{offset:149,type:"white.sql",language:"sql"},{offset:150,type:"identifier.sql",language:"sql"},{offset:157,type:"white.sql",language:"sql"},{offset:158,type:"operator.sql",language:"sql"},{offset:159,type:"white.sql",language:"sql"},{offset:160,type:"identifier.quote.sql",language:"sql"},{offset:161,type:"identifier.sql",language:"sql"},{offset:167,type:"identifier.quote.sql",language:"sql"},{offset:168,type:"white.sql",language:"sql"},{offset:169,type:"keyword.sql",language:"sql"},{offset:174,type:"white.sql",language:"sql"},{offset:175,type:"keyword.sql",language:"sql"},{offset:177,type:"white.sql",language:"sql"},{offset:178,type:"identifier.sql",language:"sql"},{offset:185,type:"white.sql",language:"sql"},{offset:186,type:"keyword.sql",language:"sql"},{offset:191,type:"white.sql",language:"sql"},{offset:192,type:"keyword.sql",language:"sql"},{offset:194,type:"white.sql",language:"sql"},{offset:195,type:"identifier.sql",language:"sql"},{offset:202,type:"white.sql",language:"sql"},{offset:203,type:"keyword.sql",language:"sql"},{offset:207,type:"white.sql",language:"sql"},{offset:208,type:"keyword.sql",language:"sql"},{offset:213,type:"white.sql",language:"sql"},{offset:214,type:"number.sql",language:"sql"},{offset:216,type:"delimiter.sql",language:"sql"}]]}},12549:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiLineMultipleColumns=e.singleLineMultipleColumns=e.singleLineTwoQueriesWithAggregation=e.singleLineTwoQueries=e.singleLineEmptyQuery=e.multiLineFullQueryWithAggregation=e.multiLineFullQuery=e.singleLineFullQueryWithAggregation=e.singleLineFullQuery=void 0;var r=t(64835);Object.defineProperty(e,"singleLineFullQuery",{enumerable:!0,get:function(){return r.singleLineFullQuery}});var c=t(13201);Object.defineProperty(e,"singleLineFullQueryWithAggregation",{enumerable:!0,get:function(){return c.singleLineFullQueryWithAggregation}});var f=t(68638);Object.defineProperty(e,"multiLineFullQuery",{enumerable:!0,get:function(){return f.multiLineFullQuery}});var s=t(12986);Object.defineProperty(e,"multiLineFullQueryWithAggregation",{enumerable:!0,get:function(){return s.multiLineFullQueryWithAggregation}});var l=t(12369);Object.defineProperty(e,"singleLineEmptyQuery",{enumerable:!0,get:function(){return l.singleLineEmptyQuery}});var n=t(85808);Object.defineProperty(e,"singleLineTwoQueries",{enumerable:!0,get:function(){return n.singleLineTwoQueries}});var o=t(9964);Object.defineProperty(e,"singleLineTwoQueriesWithAggregation",{enumerable:!0,get:function(){return o.singleLineTwoQueriesWithAggregation}});var i=t(2099);Object.defineProperty(e,"singleLineMultipleColumns",{enumerable:!0,get:function(){return i.singleLineMultipleColumns}});var a=t(7058);Object.defineProperty(e,"multiLineMultipleColumns",{enumerable:!0,get:function(){return a.multiLineMultipleColumns}})},30904:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=t(27950),c={id:"standardSql",extensions:[".sql"],aliases:["sql"],mimetypes:[],loader:()=>t(47783),completionProvider:r.getStandardSQLCompletionProvider};e.default=c},36867:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStandardSuggestions=void 0;const r=t(31635),c=t(71591),f=(s,l,n,o,i)=>r.__awaiter(void 0,void 0,void 0,function*(){let a=[];const d=l?.isWhiteSpace()||l?.isParenthesis()||l?.isIdentifier()&&l.value.endsWith(".")||!l?.range?s.Range.fromPositions(o.position):l?.range;for(const v of[...new Set(n)]){const p=i.getIfExists(v);if(p){const m=yield p.suggestions(Object.assign(Object.assign({},o),{range:d}),s);a=[...a,...m.map(P=>(0,c.toCompletionItem)(P.label,d,Object.assign({kind:P.kind},P)))]}}return Promise.resolve(a)});e.getStandardSuggestions=f},23379:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStatementPosition=void 0;const r=t(9972);function c(f,s){var l;const n=f?.getPreviousNonWhiteSpaceToken(),o=f?.getPreviousKeyword(),i=(l=f?.getPreviousNonWhiteSpaceToken())===null||l===void 0?void 0:l.is(r.TokenType.Operator,"/"),a=s.list(),u=[];for(const d of a)d.resolve(f,o??null,n??null,!!i)&&u.push(d.id);return u.length===0?[r.StatementPosition.Unknown]:u}e.getStatementPosition=c},47783:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.language=e.conf=e.STD_OPERATORS=e.COMPARISON_OPERATORS=e.NOT_EQUALS=e.EQUALS=e.LOGICAL_OPERATORS=e.OR=e.AND=e.SCHEMA=e.AS=e.WITH=e.LIMIT=e.ASC=e.DESC=e.BY=e.ORDER=e.GROUP=e.WHERE=e.FROM=e.SELECT=void 0,e.SELECT="select",e.FROM="from",e.WHERE="where",e.GROUP="group",e.ORDER="order",e.BY="by",e.DESC="desc",e.ASC="asc",e.LIMIT="limit",e.WITH="with",e.AS="as",e.SCHEMA="schema",e.AND="AND",e.OR="OR",e.LOGICAL_OPERATORS=[e.AND,e.OR],e.EQUALS="=",e.NOT_EQUALS="!=",e.COMPARISON_OPERATORS=[e.EQUALS,e.NOT_EQUALS],e.STD_OPERATORS=[...e.COMPARISON_OPERATORS],e.conf={comments:{lineComment:"--",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}]},e.language={defaultToken:"",tokenPostfix:".sql",ignoreCase:!0,brackets:[{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],keywords:["ABORT","ABSOLUTE","ACTION","ADA","ADD","AFTER","ALL","ALLOCATE","ALTER","ALWAYS","ANALYZE","AND","ANY","ARE","AS","ASC","ASSERTION","AT","ATTACH","AUTHORIZATION","AUTOINCREMENT","AVG","BACKUP","BEFORE","BEGIN","BETWEEN","BIT","BIT_LENGTH","BOTH","BREAK","BROWSE","BULK","BY","CASCADE","CASCADED","CASE","CAST","CATALOG","CHAR","CHARACTER","CHARACTER_LENGTH","CHAR_LENGTH","CHECK","CHECKPOINT","CLOSE","CLUSTERED","COALESCE","COLLATE","COLLATION","COLUMN","COMMIT","COMPUTE","CONFLICT","CONNECT","CONNECTION","CONSTRAINT","CONSTRAINTS","CONTAINS","CONTAINSTABLE","CONTINUE","CONVERT","CORRESPONDING","COUNT","CREATE","CROSS","CURRENT","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER","CURSOR","DATABASE","DATE","DAY","DBCC","DEALLOCATE","DEC","DECIMAL","DECLARE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DENY","DESC","DESCRIBE","DESCRIPTOR","DETACH","DIAGNOSTICS","DISCONNECT","DISK","DISTINCT","DISTRIBUTED","DO","DOMAIN","DOUBLE","DROP","DUMP","EACH","ELSE","END","END-EXEC","ERRLVL","ESCAPE","EXCEPT","EXCEPTION","EXCLUDE","EXCLUSIVE","EXEC","EXECUTE","EXISTS","EXIT","EXPLAIN","EXTERNAL","EXTRACT","FAIL","FALSE","FETCH","FILE","FILLFACTOR","FILTER","FIRST","FLOAT","FOLLOWING","FOR","FOREIGN","FORTRAN","FOUND","FREETEXT","FREETEXTTABLE","FROM","FULL","FUNCTION","GENERATED","GET","GLOB","GLOBAL","GO","GOTO","GRANT","GROUP","GROUPS","HAVING","HOLDLOCK","HOUR","IDENTITY","IDENTITYCOL","IDENTITY_INSERT","IF","IGNORE","IMMEDIATE","IN","INCLUDE","INDEX","INDEXED","INDICATOR","INITIALLY","INNER","INPUT","INSENSITIVE","INSERT","INSTEAD","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","ISOLATION","JOIN","KEY","KILL","LANGUAGE","LAST","LEADING","LEFT","LEVEL","LIKE","LIMIT","LINENO","LOAD","LOCAL","LOWER","MATCH","MATERIALIZED","MAX","MERGE","MIN","MINUTE","MODULE","MONTH","NAMES","NATIONAL","NATURAL","NCHAR","NEXT","NO","NOCHECK","NONCLUSTERED","NONE","NOT","NOTHING","NOTNULL","NULL","NULLIF","NULLS","NUMERIC","OCTET_LENGTH","OF","OFF","OFFSET","OFFSETS","ON","ONLY","OPEN","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","OPTION","OR","ORDER","OTHERS","OUTER","OUTPUT","OVER","OVERLAPS","PAD","PARTIAL","PARTITION","PASCAL","PERCENT","PIVOT","PLAN","POSITION","PRAGMA","PRECEDING","PRECISION","PREPARE","PRESERVE","PRIMARY","PRINT","PRIOR","PRIVILEGES","PROC","PROCEDURE","PUBLIC","QUERY","RAISE","RAISERROR","RANGE","READ","READTEXT","REAL","RECONFIGURE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELATIVE","RELEASE","RENAME","REPLACE","REPLICATION","RESTORE","RESTRICT","RETURN","RETURNING","REVERT","REVOKE","RIGHT","ROLLBACK","ROW","ROWCOUNT","ROWGUIDCOL","ROWS","RULE","SAVE","SAVEPOINT","SCHEMA","SCROLL","SECOND","SECTION","SECURITYAUDIT","SELECT","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","SESSION","SESSION_USER","SET","SETUSER","SHUTDOWN","SIZE","SMALLINT","SOME","SPACE","SQL","SQLCA","SQLCODE","SQLERROR","SQLSTATE","SQLWARNING","STATISTICS","SUBSTRING","SUM","SYSTEM_USER","TABLE","TABLESAMPLE","TEMP","TEMPORARY","TEXTSIZE","THEN","TIES","TIME","TIMESTAMP","TIMEZONE_HOUR","TIMEZONE_MINUTE","TO","TOP","TRAILING","TRAN","TRANSACTION","TRANSLATE","TRANSLATION","TRIGGER","TRIM","TRUE","TRUNCATE","TRY_CONVERT","TSEQUAL","UNBOUNDED","UNION","UNIQUE","UNKNOWN","UNPIVOT","UPDATE","UPDATETEXT","UPPER","USAGE","USE","USER","USING","VACUUM","VALUE","VALUES","VARCHAR","VARYING","VIEW","VIRTUAL","WAITFOR","WHEN","WHENEVER","WHERE","WHILE","WINDOW","WITH","WITHIN GROUP","WITHOUT","WORK","WRITE","WRITETEXT","YEAR","ZONE"],operators:["EXCEPT","INTERSECT","UNION","APPLY","CROSS","FULL","INNER","JOIN","LEFT","OUTER","RIGHT","CONTAINS","FREETEXT","IS","NULL","PIVOT","UNPIVOT","MATCHED"],logicalOperators:["ALL","AND","ANY","BETWEEN","EXISTS","IN","LIKE","NOT","OR","SOME"],comparisonOperators:["<>",">","<",">=","<=","=","!=","&","~","^","%"],builtinFunctions:["AVG","CHECKSUM_AGG","COUNT","COUNT_BIG","GROUPING","GROUPING_ID","MAX","MIN","SUM","STDEV","STDEVP","VAR","VARP","CUME_DIST","FIRST_VALUE","LAG","LAST_VALUE","LEAD","PERCENTILE_CONT","PERCENTILE_DISC","PERCENT_RANK","COLLATE","COLLATIONPROPERTY","TERTIARY_WEIGHTS","FEDERATION_FILTERING_VALUE","CAST","CONVERT","PARSE","TRY_CAST","TRY_CONVERT","TRY_PARSE","ASYMKEY_ID","ASYMKEYPROPERTY","CERTPROPERTY","CERT_ID","CRYPT_GEN_RANDOM","DECRYPTBYASYMKEY","DECRYPTBYCERT","DECRYPTBYKEY","DECRYPTBYKEYAUTOASYMKEY","DECRYPTBYKEYAUTOCERT","DECRYPTBYPASSPHRASE","ENCRYPTBYASYMKEY","ENCRYPTBYCERT","ENCRYPTBYKEY","ENCRYPTBYPASSPHRASE","HASHBYTES","IS_OBJECTSIGNED","KEY_GUID","KEY_ID","KEY_NAME","SIGNBYASYMKEY","SIGNBYCERT","SYMKEYPROPERTY","VERIFYSIGNEDBYCERT","VERIFYSIGNEDBYASYMKEY","CURSOR_STATUS","DATALENGTH","IDENT_CURRENT","IDENT_INCR","IDENT_SEED","IDENTITY","SQL_VARIANT_PROPERTY","CURRENT_TIMESTAMP","DATEADD","DATEDIFF","DATEFROMPARTS","DATENAME","DATEPART","DATETIME2FROMPARTS","DATETIMEFROMPARTS","DATETIMEOFFSETFROMPARTS","DAY","EOMONTH","GETDATE","GETUTCDATE","ISDATE","MONTH","SMALLDATETIMEFROMPARTS","SWITCHOFFSET","SYSDATETIME","SYSDATETIMEOFFSET","SYSUTCDATETIME","TIMEFROMPARTS","TODATETIMEOFFSET","YEAR","CHOOSE","COALESCE","IIF","NULLIF","ABS","ACOS","ASIN","ATAN","ATN2","CEILING","COS","COT","DEGREES","EXP","FLOOR","LOG","LOG10","PI","POWER","RADIANS","RAND","ROUND","SIGN","SIN","SQRT","SQUARE","TAN","APP_NAME","APPLOCK_MODE","APPLOCK_TEST","ASSEMBLYPROPERTY","COL_LENGTH","COL_NAME","COLUMNPROPERTY","DATABASE_PRINCIPAL_ID","DATABASEPROPERTYEX","DB_ID","DB_NAME","FILE_ID","FILE_IDEX","FILE_NAME","FILEGROUP_ID","FILEGROUP_NAME","FILEGROUPPROPERTY","FILEPROPERTY","FULLTEXTCATALOGPROPERTY","FULLTEXTSERVICEPROPERTY","INDEX_COL","INDEXKEY_PROPERTY","INDEXPROPERTY","OBJECT_DEFINITION","OBJECT_ID","OBJECT_NAME","OBJECT_SCHEMA_NAME","OBJECTPROPERTY","OBJECTPROPERTYEX","ORIGINAL_DB_NAME","PARSENAME","SCHEMA_ID","SCHEMA_NAME","SCOPE_IDENTITY","SERVERPROPERTY","STATS_DATE","TYPE_ID","TYPE_NAME","TYPEPROPERTY","DENSE_RANK","NTILE","RANK","ROW_NUMBER","PUBLISHINGSERVERNAME","OPENDATASOURCE","OPENQUERY","OPENROWSET","OPENXML","CERTENCODED","CERTPRIVATEKEY","CURRENT_USER","HAS_DBACCESS","HAS_PERMS_BY_NAME","IS_MEMBER","IS_ROLEMEMBER","IS_SRVROLEMEMBER","LOGINPROPERTY","ORIGINAL_LOGIN","PERMISSIONS","PWDENCRYPT","PWDCOMPARE","SESSION_USER","SESSIONPROPERTY","SUSER_ID","SUSER_NAME","SUSER_SID","SUSER_SNAME","SYSTEM_USER","USER","USER_ID","USER_NAME","ASCII","CHAR","CHARINDEX","CONCAT","DIFFERENCE","FORMAT","LEFT","LEN","LOWER","LTRIM","NCHAR","PATINDEX","QUOTENAME","REPLACE","REPLICATE","REVERSE","RIGHT","RTRIM","SOUNDEX","SPACE","STR","STUFF","SUBSTRING","UNICODE","UPPER","BINARY_CHECKSUM","CHECKSUM","CONNECTIONPROPERTY","CONTEXT_INFO","CURRENT_REQUEST_ID","ERROR_LINE","ERROR_NUMBER","ERROR_MESSAGE","ERROR_PROCEDURE","ERROR_SEVERITY","ERROR_STATE","FORMATMESSAGE","GETANSINULL","GET_FILESTREAM_TRANSACTION_CONTEXT","HOST_ID","HOST_NAME","ISNULL","ISNUMERIC","MIN_ACTIVE_ROWVERSION","NEWID","NEWSEQUENTIALID","ROWCOUNT_BIG","XACT_STATE","TEXTPTR","TEXTVALID","COLUMNS_UPDATED","EVENTDATA","TRIGGER_NESTLEVEL","UPDATE","CHANGETABLE","CHANGE_TRACKING_CONTEXT","CHANGE_TRACKING_CURRENT_VERSION","CHANGE_TRACKING_IS_COLUMN_IN_MASK","CHANGE_TRACKING_MIN_VALID_VERSION","CONTAINSTABLE","FREETEXTTABLE","SEMANTICKEYPHRASETABLE","SEMANTICSIMILARITYDETAILSTABLE","SEMANTICSIMILARITYTABLE","FILETABLEROOTPATH","GETFILENAMESPACEPATH","GETPATHLOCATOR","PATHNAME","GET_TRANSMISSION_STATUS"],builtinVariables:["@@DATEFIRST","@@DBTS","@@LANGID","@@LANGUAGE","@@LOCK_TIMEOUT","@@MAX_CONNECTIONS","@@MAX_PRECISION","@@NESTLEVEL","@@OPTIONS","@@REMSERVER","@@SERVERNAME","@@SERVICENAME","@@SPID","@@TEXTSIZE","@@VERSION","@@CURSOR_ROWS","@@FETCH_STATUS","@@DATEFIRST","@@PROCID","@@ERROR","@@IDENTITY","@@ROWCOUNT","@@TRANCOUNT","@@CONNECTIONS","@@CPU_BUSY","@@IDLE","@@IO_BUSY","@@PACKET_ERRORS","@@PACK_RECEIVED","@@PACK_SENT","@@TIMETICKS","@@TOTAL_ERRORS","@@TOTAL_READ","@@TOTAL_WRITE"],pseudoColumns:["$ACTION","$IDENTITY","$ROWGUID","$PARTITION"],tokenizer:{root:[{include:"@templateVariables"},{include:"@macros"},{include:"@comments"},{include:"@whitespace"},{include:"@pseudoColumns"},{include:"@numbers"},{include:"@strings"},{include:"@complexIdentifiers"},{include:"@scopes"},{include:"@schemaTable"},[/[;,.]/,"delimiter"],[/[()]/,"@brackets"],[/[\w@#$|<|>|=|!|%|&|+|\|-|*|/|~|^]+/,{cases:{"@operators":"operator","@comparisonOperators":"operator","@logicalOperators":"operator","@builtinVariables":"predefined","@builtinFunctions":"predefined","@keywords":"keyword","@default":"identifier"}}]],templateVariables:[[/\$[a-zA-Z0-9]+/,"variable"]],macros:[[/\$__[a-zA-Z0-9-_]+/,"type"]],schemaTable:[[/(\w+)\./,"identifier"],[/(\w+\.\w+)/,"identifier"]],whitespace:[[/\s+/,"white"]],comments:[[/--+.*/,"comment"],[/\/\*/,{token:"comment.quote",next:"@comment"}]],comment:[[/[^*/]+/,"comment"],[/\*\//,{token:"comment.quote",next:"@pop"}],[/./,"comment"]],pseudoColumns:[[/[$][A-Za-z_][\w@#$]*/,{cases:{"@pseudoColumns":"predefined","@default":"identifier"}}]],numbers:[[/0[xX][0-9a-fA-F]*/,"number"],[/[$][+-]*\d*(\.\d*)?/,"number"],[/((\d+(\.\d*)?)|(\.\d+))([eE][\-+]?\d+)?/,"number"]],strings:[[/N'/,{token:"string",next:"@string"}],[/'/,{token:"string",next:"@string"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],complexIdentifiers:[[/\[/,{token:"identifier.quote",next:"@bracketedIdentifier"}],[/"/,{token:"identifier.quote",next:"@quotedIdentifier"}]],bracketedIdentifier:[[/[^\]]+/,"identifier"],[/]]/,"identifier"],[/]/,{token:"identifier.quote",next:"@pop"}]],quotedIdentifier:[[/[^"]+/,"identifier"],[/""/,"identifier"],[/"/,{token:"identifier.quote",next:"@pop"}]],scopes:[[/BEGIN\s+(DISTRIBUTED\s+)?TRAN(SACTION)?\b/i,"keyword"],[/BEGIN\s+TRY\b/i,{token:"keyword.try"}],[/END\s+TRY\b/i,{token:"keyword.try"}],[/BEGIN\s+CATCH\b/i,{token:"keyword.catch"}],[/END\s+CATCH\b/i,{token:"keyword.catch"}],[/(BEGIN|CASE)\b/i,{token:"keyword.block"}],[/END\b/i,{token:"keyword.block"}],[/WHEN\b/i,{token:"keyword.choice"}],[/THEN\b/i,{token:"keyword.choice"}]]}}},38156:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MACROS=void 0;const r=t(9972),c="column",f="'5m'";e.MACROS=[{id:"$__timeFilter(dateColumn)",name:"$__timeFilter(dateColumn)",text:"$__timeFilter",args:[c],type:r.MacroType.Filter,description:"Will be replaced by a time range filter using the specified column name. For example, dateColumn BETWEEN FROM_UNIXTIME(1494410783) AND FROM_UNIXTIME(1494410983)"},{id:"$__timeFrom()",name:"$__timeFrom()",text:"$__timeFrom",args:[],type:r.MacroType.Filter,description:"Will be replaced by the start of the currently active time selection. For example, FROM_UNIXTIME(1494410783)"},{id:"$__timeTo()",name:"$__timeTo()",text:"$__timeTo",args:[],type:r.MacroType.Filter,description:"Will be replaced by the end of the currently active time selection. For example, FROM_UNIXTIME(1494410983)"},{id:"$__timeGroup(dateColumn, '5m')",name:"$__timeGroup(dateColumn, '5m')",text:"$__timeGroup",args:[c,f],type:r.MacroType.Value,description:"Will be replaced by an expression usable in GROUP BY clause. For example, *cast(cast(UNIX_TIMESTAMP(dateColumn)/(300) as signed)*300 as signed),*"},{id:"$__table",name:"$__table",text:"$__table",args:[],type:r.MacroType.Table,description:"Will be replaced by the query table."},{id:"$__column",name:"$__column",text:"$__column",args:[],type:r.MacroType.Column,description:"Will be replaced by the query column."}]},27950:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStandardSQLCompletionProvider=void 0;const r=t(9972),c=t(38156);function f(s,l){var n,o,i;const a={triggerCharacters:["."," ","$",",","(","'"]};l&&Array.isArray(l.builtinFunctions)&&(a.supportedFunctions=()=>l.builtinFunctions.map(d=>({id:d,name:d})));const u=[];return!((n=l?.comparisonOperators)===null||n===void 0)&&n.length&&u.push(...l.comparisonOperators.map(d=>({id:d.toLocaleLowerCase(),operator:d,type:r.OperatorType.Comparison}))),l.logicalOperators=(o=l.logicalOperators)!==null&&o!==void 0?o:l.operators,!((i=l?.logicalOperators)===null||i===void 0)&&i.length&&u.push(...l.logicalOperators.map(d=>({id:d.toLocaleLowerCase(),operator:d,type:r.OperatorType.Logical}))),a.supportedOperators=()=>u,a.supportedMacros=()=>c.MACROS,a}e.getStandardSQLCompletionProvider=f},58348:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initStandardSuggestions=void 0;const r=t(92243),c=t(86405),f=t(9972),s=t(47783),l=(i,a,u)=>()=>[{id:f.SuggestionKind.SelectKeyword,name:f.SuggestionKind.SelectKeyword,suggestions:(d,v)=>Promise.resolve([{label:"SELECT <column>",insertText:"SELECT $0",insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet,kind:f.CompletionItemKind.Snippet,command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.Medium},{label:"SELECT <column> FROM <table>",insertText:"SELECT $2 FROM $1",insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet,kind:f.CompletionItemKind.Snippet,command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.Medium}])},{id:f.SuggestionKind.TemplateVariables,name:f.SuggestionKind.TemplateVariables,suggestions:(d,v)=>{const p=(0,r.getTemplateSrv)();return p?Promise.resolve(p.getVariables().map(m=>{const P=`$${m.name}`,E=p.replace(P);return{label:P,detail:`(Template Variable) ${E}`,kind:f.CompletionItemKind.Snippet,documentation:`(Template Variable) ${E}`,insertText:`\\$${m.name} `,insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet,command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.Low}})):Promise.resolve([])}},{id:f.SuggestionKind.SelectMacro,name:f.SuggestionKind.SelectMacro,suggestions:(d,v)=>Promise.resolve([...u.list().filter(p=>p.type===f.MacroType.Value||p.type===f.MacroType.Column).map(n)])},{id:f.SuggestionKind.TableMacro,name:f.SuggestionKind.TableMacro,suggestions:(d,v)=>Promise.resolve([...u.list().filter(p=>p.type===f.MacroType.Table).map(n)])},{id:f.SuggestionKind.GroupMacro,name:f.SuggestionKind.GroupMacro,suggestions:(d,v)=>Promise.resolve([...u.list().filter(p=>p.type===f.MacroType.Group).map(n)])},{id:f.SuggestionKind.FilterMacro,name:f.SuggestionKind.FilterMacro,suggestions:(d,v)=>Promise.resolve([...u.list().filter(p=>p.type===f.MacroType.Filter).map(n)])},{id:f.SuggestionKind.WithKeyword,name:f.SuggestionKind.WithKeyword,suggestions:(d,v)=>Promise.resolve([{label:"WITH <alias> AS ( ... )",insertText:"WITH $1  AS ( $2 )",insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet,kind:f.CompletionItemKind.Snippet,command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.Medium}])},{id:f.SuggestionKind.StarWildCard,name:f.SuggestionKind.StarWildCard,suggestions:(d,v)=>Promise.resolve([{label:"*",insertText:"* $0",insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet,kind:f.CompletionItemKind.Field,command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.High}])},{id:f.SuggestionKind.FunctionsWithArguments,name:f.SuggestionKind.FunctionsWithArguments,suggestions:(d,v)=>Promise.resolve([...i.list().map(p=>({label:p.name,insertText:`${p.name}($0)`,documentation:p.description,insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet,kind:f.CompletionItemKind.Function,command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.MediumLow}))])},{id:f.SuggestionKind.FunctionsWithoutArguments,name:f.SuggestionKind.FunctionsWithoutArguments,suggestions:(d,v)=>Promise.resolve([...i.list().map(p=>({label:p.name,insertText:`${p.name}()`,documentation:p.description,insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet,kind:f.CompletionItemKind.Function,command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.MediumHigh}))])},{id:f.SuggestionKind.FromKeyword,name:f.SuggestionKind.FromKeyword,suggestions:(d,v)=>Promise.resolve([{label:"FROM",insertText:"FROM $0",command:c.TRIGGER_SUGGEST,insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet,kind:f.CompletionItemKind.Keyword}])},{id:f.SuggestionKind.Schemas,name:f.SuggestionKind.Schemas,suggestions:(d,v)=>Promise.resolve([])},{id:f.SuggestionKind.Tables,name:f.SuggestionKind.Tables,suggestions:(d,v)=>Promise.resolve([])},{id:f.SuggestionKind.Columns,name:f.SuggestionKind.Columns,suggestions:(d,v)=>Promise.resolve([])},{id:f.SuggestionKind.LogicalOperators,name:f.SuggestionKind.LogicalOperators,suggestions:(d,v)=>Promise.resolve(a.list().filter(p=>p.type===f.OperatorType.Logical).map(p=>({label:p.operator,insertText:`${p.operator} `,documentation:p.description,command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.MediumHigh,kind:f.CompletionItemKind.Operator})))},{id:f.SuggestionKind.WhereKeyword,name:f.SuggestionKind.WhereKeyword,suggestions:(d,v)=>Promise.resolve([{label:"WHERE",insertText:"WHERE ",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.MediumHigh,kind:f.CompletionItemKind.Keyword}])},{id:f.SuggestionKind.ComparisonOperators,name:f.SuggestionKind.ComparisonOperators,suggestions:(d,v)=>Promise.resolve([...a.list().filter(p=>p.type===f.OperatorType.Comparison).map(p=>({label:p.operator,insertText:`${p.operator} `,documentation:p.description,command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.MediumHigh,kind:f.CompletionItemKind.Operator})),{label:"IN (...)",insertText:"IN ( $0 )",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.Medium,kind:f.CompletionItemKind.Operator,insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet},{label:"NOT IN (...)",insertText:"NOT IN ( $0 )",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.Medium,kind:f.CompletionItemKind.Operator,insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet},{label:"IS",insertText:"IS",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.Medium,kind:f.CompletionItemKind.Operator},{label:"IS NOT",insertText:"IS NOT",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.Medium,kind:f.CompletionItemKind.Operator}])},{id:f.SuggestionKind.GroupByKeywords,name:f.SuggestionKind.GroupByKeywords,suggestions:(d,v)=>Promise.resolve([{label:"GROUP BY",insertText:"GROUP BY ",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.MediumHigh,kind:f.CompletionItemKind.Keyword}])},{id:f.SuggestionKind.OrderByKeywords,name:f.SuggestionKind.OrderByKeywords,suggestions:(d,v)=>Promise.resolve([{label:"ORDER BY",insertText:"ORDER BY ",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.Medium,kind:f.CompletionItemKind.Keyword},{label:"ORDER BY(ascending)",insertText:"ORDER BY $1 ASC ",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.MediumLow,kind:f.CompletionItemKind.Snippet,insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet},{label:"ORDER BY(descending)",insertText:"ORDER BY $1 DESC",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.MediumLow,kind:f.CompletionItemKind.Snippet,insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet}])},{id:f.SuggestionKind.LimitKeyword,name:f.SuggestionKind.LimitKeyword,suggestions:(d,v)=>Promise.resolve([{label:"LIMIT",insertText:"LIMIT ",command:c.TRIGGER_SUGGEST,sortText:f.CompletionItemPriority.MediumLow,kind:f.CompletionItemKind.Keyword}])},{id:f.SuggestionKind.SortOrderDirectionKeyword,name:f.SuggestionKind.SortOrderDirectionKeyword,suggestions:(d,v)=>Promise.resolve([s.ASC,s.DESC].map(p=>({label:p,insertText:`${p} `,command:c.TRIGGER_SUGGEST,kind:f.CompletionItemKind.Keyword})))},{id:f.SuggestionKind.NotKeyword,name:f.SuggestionKind.NotKeyword,suggestions:()=>Promise.resolve([{label:"NOT",insertText:"NOT",command:c.TRIGGER_SUGGEST,kind:f.CompletionItemKind.Keyword,sortText:f.CompletionItemPriority.High}])},{id:f.SuggestionKind.BoolValues,name:f.SuggestionKind.BoolValues,suggestions:()=>Promise.resolve(["TRUE","FALSE"].map(d=>({label:d,insertText:`${d}`,command:c.TRIGGER_SUGGEST,kind:f.CompletionItemKind.Keyword,sortText:f.CompletionItemPriority.Medium})))},{id:f.SuggestionKind.NullValue,name:f.SuggestionKind.NullValue,suggestions:()=>Promise.resolve(["NULL"].map(d=>({label:d,insertText:`${d}`,command:c.TRIGGER_SUGGEST,kind:f.CompletionItemKind.Keyword,sortText:f.CompletionItemPriority.Low})))}];e.initStandardSuggestions=l;function n(i){return{label:i.name,insertText:`${"\\"+i.text}${o(i.args)} `,insertTextRules:f.CompletionItemInsertTextRule.InsertAsSnippet,kind:f.CompletionItemKind.Snippet,documentation:i.description,command:c.TRIGGER_SUGGEST}}function o(i){return i?"(".concat(i.map((a,u)=>`\${${u}:${a}}`).join(", ")).concat(")"):"()"}},1691:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initStatementPositionResolvers=void 0;const r=t(9972),c=t(47783);function f(){return[{id:r.StatementPosition.SelectKeyword,name:r.StatementPosition.SelectKeyword,resolve:(s,l,n,o)=>!!(s===null||s.isWhiteSpace()&&s.previous===null||s.is(r.TokenType.Keyword,c.SELECT)||s.is(r.TokenType.Keyword,c.SELECT)&&s.previous===null||o||s.isIdentifier()&&(o||s?.previous===null)||s.isIdentifier()&&c.SELECT.startsWith(s.value.toLowerCase()))},{id:r.StatementPosition.WithKeyword,name:r.StatementPosition.WithKeyword,resolve:(s,l,n,o)=>!!(s===null||s.isWhiteSpace()&&s.previous===null||s.is(r.TokenType.Keyword,c.WITH)&&s.previous===null||s.isIdentifier()&&c.WITH.toLowerCase().startsWith(s.value.toLowerCase()))},{id:r.StatementPosition.AfterSelectKeyword,name:r.StatementPosition.AfterSelectKeyword,resolve:(s,l,n,o)=>n?.value.toLowerCase()===c.SELECT},{id:r.StatementPosition.AfterSelectArguments,name:r.StatementPosition.AfterSelectArguments,resolve:(s,l,n,o)=>l?.value.toLowerCase()===c.SELECT&&n?.value===","},{id:r.StatementPosition.AfterSelectFuncFirstArgument,name:r.StatementPosition.AfterSelectFuncFirstArgument,resolve:(s,l,n,o)=>!!((l?.value.toLowerCase()===c.SELECT||l?.value.toLowerCase()===c.AS)&&(n?.is(r.TokenType.Parenthesis,"(")||s?.is(r.TokenType.Parenthesis,"()")))},{id:r.StatementPosition.AfterWhereFunctionArgument,name:r.StatementPosition.AfterWhereFunctionArgument,resolve:(s,l,n,o)=>!!(l?.is(r.TokenType.Keyword,c.WHERE)&&(n?.is(r.TokenType.Parenthesis,"(")||s?.is(r.TokenType.Parenthesis,"()")))},{id:r.StatementPosition.AfterGroupBy,name:r.StatementPosition.AfterGroupBy,resolve:(s,l,n,o)=>{var i;return!!(l?.is(r.TokenType.Keyword,c.BY)&&(!((i=l?.getPreviousKeyword())===null||i===void 0)&&i.is(r.TokenType.Keyword,c.GROUP))&&(n?.isIdentifier()||n?.isDoubleQuotedString()||n?.is(r.TokenType.Parenthesis,")")||n?.is(r.TokenType.Parenthesis,"()")))}},{id:r.StatementPosition.SelectAlias,name:r.StatementPosition.SelectAlias,resolve:(s,l,n,o)=>n?.value===","&&l?.value.toLowerCase()===c.AS},{id:r.StatementPosition.FromKeyword,name:r.StatementPosition.FromKeyword,resolve:(s,l,n,o)=>!!(l?.value.toLowerCase()===c.SELECT&&n?.value!==","||(s?.isKeyword()||s?.isIdentifier())&&c.FROM.toLowerCase().startsWith(s.value.toLowerCase()))},{id:r.StatementPosition.AfterFromKeyword,name:r.StatementPosition.AfterFromKeyword,resolve:(s,l,n,o)=>!s?.value.includes(".")&&n?.value.toLowerCase()===c.FROM},{id:r.StatementPosition.AfterSchema,name:r.StatementPosition.AfterSchema,resolve:(s,l,n,o)=>(s?.isWhiteSpace()&&s?.next&&(s=s?.previous,n=s.getPreviousNonWhiteSpaceToken()),!!(s?.isIdentifier()&&s?.value.endsWith(".")&&n?.value.toLowerCase()===c.FROM))},{id:r.StatementPosition.AfterFrom,name:r.StatementPosition.AfterFrom,resolve:(s,l,n,o)=>!!(l?.value.toLowerCase()===c.FROM&&n?.isDoubleQuotedString()||l?.value.toLowerCase()===c.FROM&&n?.isIdentifier()||l?.value.toLowerCase()===c.FROM&&n?.isVariable())},{id:r.StatementPosition.AfterTable,name:r.StatementPosition.AfterTable,resolve:(s,l,n,o)=>!!(l?.value.toLowerCase()===c.FROM&&(n?.isVariable()||n?.value!==""&&n?.value.toLowerCase()!==c.FROM))},{id:r.StatementPosition.WhereKeyword,name:r.StatementPosition.WhereKeyword,resolve:(s,l,n,o)=>!!(l?.value.toLowerCase()===c.WHERE&&(n?.isKeyword()||n?.is(r.TokenType.Parenthesis,"(")||n?.is(r.TokenType.Operator,c.AND)))},{id:r.StatementPosition.WhereComparisonOperator,name:r.StatementPosition.WhereComparisonOperator,resolve:(s,l,n,o)=>{var i;return!!(l?.value.toLowerCase()===c.WHERE&&!(!((i=n?.getPreviousNonWhiteSpaceToken())===null||i===void 0)&&i.isOperator())&&!s?.is(r.TokenType.Delimiter,".")&&!s?.isParenthesis()&&(n?.isIdentifier()||n?.isDoubleQuotedString()))}},{id:r.StatementPosition.WhereValue,name:r.StatementPosition.WhereValue,resolve:(s,l,n,o)=>!!(l?.value.toLowerCase()===c.WHERE&&n?.isOperator())},{id:r.StatementPosition.AfterWhereValue,name:r.StatementPosition.AfterWhereValue,resolve:(s,l,n,o)=>{var i,a,u;return!!(l?.value.toLowerCase()===c.WHERE&&(n?.is(r.TokenType.Operator,"and")||n?.is(r.TokenType.Operator,"or")||n?.isString()||n?.isNumber()||n?.is(r.TokenType.Parenthesis,")")||n?.is(r.TokenType.Parenthesis,"()")||n?.isTemplateVariable()||n?.is(r.TokenType.IdentifierQuote)&&(!((i=n.getPreviousNonWhiteSpaceToken())===null||i===void 0)&&i.is(r.TokenType.Identifier))&&(!((u=(a=n?.getPreviousNonWhiteSpaceToken())===null||a===void 0?void 0:a.getPreviousNonWhiteSpaceToken())===null||u===void 0)&&u.is(r.TokenType.IdentifierQuote))))}},{id:r.StatementPosition.AfterGroupByKeywords,name:r.StatementPosition.AfterGroupByKeywords,resolve:(s,l,n,o)=>{var i;return!!(l?.is(r.TokenType.Keyword,c.BY)&&(!((i=l?.getPreviousKeyword())===null||i===void 0)&&i.is(r.TokenType.Keyword,c.GROUP))&&(n?.is(r.TokenType.Keyword,c.BY)||n?.is(r.TokenType.Delimiter,",")))}},{id:r.StatementPosition.AfterGroupByFunctionArgument,name:r.StatementPosition.AfterGroupByFunctionArgument,resolve:(s,l,n,o)=>{var i;return!!(l?.is(r.TokenType.Keyword,c.BY)&&(!((i=l?.getPreviousKeyword())===null||i===void 0)&&i.is(r.TokenType.Keyword,c.GROUP))&&(n?.is(r.TokenType.Parenthesis,"(")||s?.is(r.TokenType.Parenthesis,"()")))}},{id:r.StatementPosition.AfterOrderByKeywords,name:r.StatementPosition.AfterOrderByKeywords,resolve:(s,l,n,o)=>{var i;return!!(n?.is(r.TokenType.Keyword,c.BY)&&(!((i=n?.getPreviousKeyword())===null||i===void 0)&&i.is(r.TokenType.Keyword,c.ORDER)))}},{id:r.StatementPosition.AfterOrderByFunction,name:r.StatementPosition.AfterOrderByFunction,resolve:(s,l,n,o)=>{var i,a;return!!(l?.is(r.TokenType.Keyword,c.BY)&&(!((i=l?.getPreviousKeyword())===null||i===void 0)&&i.is(r.TokenType.Keyword,c.ORDER))&&n?.is(r.TokenType.Parenthesis)&&(!((a=n?.getPreviousNonWhiteSpaceToken())===null||a===void 0)&&a.is(r.TokenType.Function)))}},{id:r.StatementPosition.AfterOrderByDirection,name:r.StatementPosition.AfterOrderByDirection,resolve:(s,l,n,o)=>!!(l?.is(r.TokenType.Keyword,c.DESC)||l?.is(r.TokenType.Keyword,c.ASC))},{id:r.StatementPosition.AfterIsOperator,name:r.StatementPosition.AfterIsOperator,resolve:(s,l,n,o)=>!!n?.is(r.TokenType.Operator,"IS")},{id:r.StatementPosition.AfterIsNotOperator,name:r.StatementPosition.AfterIsNotOperator,resolve:(s,l,n,o)=>{var i;return!!(n?.is(r.TokenType.Operator,"NOT")&&(!((i=n.getPreviousNonWhiteSpaceToken())===null||i===void 0)&&i.is(r.TokenType.Operator,"IS")))}}]}e.initStatementPositionResolvers=f},11425:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initSuggestionsKindRegistry=void 0;const r=t(9972),c=()=>[{id:r.StatementPosition.SelectKeyword,name:r.StatementPosition.SelectKeyword,kind:[r.SuggestionKind.SelectKeyword]},{id:r.StatementPosition.WithKeyword,name:r.StatementPosition.WithKeyword,kind:[r.SuggestionKind.WithKeyword]},{id:r.StatementPosition.AfterSelectKeyword,name:r.StatementPosition.AfterSelectKeyword,kind:[r.SuggestionKind.StarWildCard,r.SuggestionKind.FunctionsWithArguments,r.SuggestionKind.Columns,r.SuggestionKind.SelectMacro]},{id:r.StatementPosition.AfterSelectFuncFirstArgument,name:r.StatementPosition.AfterSelectFuncFirstArgument,kind:[r.SuggestionKind.Columns]},{id:r.StatementPosition.AfterGroupByFunctionArgument,name:r.StatementPosition.AfterGroupByFunctionArgument,kind:[r.SuggestionKind.Columns]},{id:r.StatementPosition.AfterWhereFunctionArgument,name:r.StatementPosition.AfterWhereFunctionArgument,kind:[r.SuggestionKind.Columns]},{id:r.StatementPosition.AfterSelectArguments,name:r.StatementPosition.AfterSelectArguments,kind:[r.SuggestionKind.Columns]},{id:r.StatementPosition.AfterFromKeyword,name:r.StatementPosition.AfterFromKeyword,kind:[r.SuggestionKind.Schemas,r.SuggestionKind.Tables,r.SuggestionKind.TableMacro]},{id:r.StatementPosition.AfterSchema,name:r.StatementPosition.AfterSchema,kind:[r.SuggestionKind.Tables,r.SuggestionKind.TableMacro]},{id:r.StatementPosition.SelectAlias,name:r.StatementPosition.SelectAlias,kind:[r.SuggestionKind.Columns,r.SuggestionKind.FunctionsWithArguments]},{id:r.StatementPosition.FromKeyword,name:r.StatementPosition.FromKeyword,kind:[r.SuggestionKind.FromKeyword]},{id:r.StatementPosition.AfterFrom,name:r.StatementPosition.AfterFrom,kind:[r.SuggestionKind.WhereKeyword,r.SuggestionKind.GroupByKeywords,r.SuggestionKind.OrderByKeywords,r.SuggestionKind.LimitKeyword]},{id:r.StatementPosition.AfterTable,name:r.StatementPosition.AfterTable,kind:[r.SuggestionKind.WhereKeyword,r.SuggestionKind.GroupByKeywords,r.SuggestionKind.OrderByKeywords,r.SuggestionKind.LimitKeyword]},{id:r.StatementPosition.WhereKeyword,name:r.StatementPosition.WhereKeyword,kind:[r.SuggestionKind.Columns,r.SuggestionKind.FilterMacro,r.SuggestionKind.TemplateVariables]},{id:r.StatementPosition.WhereComparisonOperator,name:r.StatementPosition.WhereComparisonOperator,kind:[r.SuggestionKind.ComparisonOperators]},{id:r.StatementPosition.WhereValue,name:r.StatementPosition.WhereValue,kind:[r.SuggestionKind.FilterMacro,r.SuggestionKind.TemplateVariables]},{id:r.StatementPosition.AfterWhereValue,name:r.StatementPosition.AfterWhereValue,kind:[r.SuggestionKind.LogicalOperators,r.SuggestionKind.GroupByKeywords,r.SuggestionKind.OrderByKeywords,r.SuggestionKind.LimitKeyword,r.SuggestionKind.Columns,r.SuggestionKind.TemplateVariables]},{id:r.StatementPosition.AfterGroupByKeywords,name:r.StatementPosition.AfterGroupByKeywords,kind:[r.SuggestionKind.GroupMacro,r.SuggestionKind.Columns]},{id:r.StatementPosition.AfterGroupBy,name:r.StatementPosition.AfterGroupBy,kind:[r.SuggestionKind.OrderByKeywords,r.SuggestionKind.LimitKeyword]},{id:r.StatementPosition.AfterOrderByKeywords,name:r.StatementPosition.AfterOrderByKeywords,kind:[r.SuggestionKind.Columns]},{id:r.StatementPosition.AfterOrderByFunction,name:r.StatementPosition.AfterOrderByFunction,kind:[r.SuggestionKind.SortOrderDirectionKeyword,r.SuggestionKind.LimitKeyword]},{id:r.StatementPosition.AfterOrderByDirection,name:r.StatementPosition.AfterOrderByDirection,kind:[r.SuggestionKind.LimitKeyword]},{id:r.StatementPosition.AfterIsOperator,name:r.StatementPosition.AfterOrderByDirection,kind:[r.SuggestionKind.NotKeyword,r.SuggestionKind.NullValue,r.SuggestionKind.BoolValues]},{id:r.StatementPosition.AfterIsNotOperator,name:r.StatementPosition.AfterOrderByDirection,kind:[r.SuggestionKind.NullValue,r.SuggestionKind.BoolValues]}];e.initSuggestionsKindRegistry=c},62966:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SQLEditorTestUtils=void 0;const c=t(31635).__importStar(t(12549)),f=t(67396);e.SQLEditorTestUtils={testData:c,testStatementPosition:f.testStatementPosition}},67396:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.testStatementPosition=void 0;const r=t(6199),c=t(93246),f=t(88345),s=t(23379),l=t(99822);function n(i,a,u,d,v){const p=(0,f.TextModel)(i),m=(0,l.linkedTokenBuilder)(d,p,a),P=(0,s.getStatementPosition)(m,v);expect(P).toContain(u)}const o=(i,a,u)=>{describe(`${i}`,()=>{let d,v;beforeEach(()=>{const p=new Map;a.forEach(m=>p.set(m.query.query,m.query.tokens)),d=(0,c.getMonacoMock)(p),v=new r.Registry(()=>u().map(m=>({id:m.id,name:m.name||m.id,resolve:m.resolve})))}),a.forEach(p=>{test(`${p.query.query}`,()=>{n(p.query.query,{lineNumber:p.position.line,column:p.position.column},i,d,v)})})})};e.testStatementPosition=o},9972:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SQLEditorMode=e.CompletionItemInsertTextRule=e.CompletionItemKind=e.CompletionItemPriority=e.SuggestionKind=e.StatementPosition=e.TokenType=e.MacroType=e.OperatorType=void 0;var t;(function(a){a[a.Comparison=0]="Comparison",a[a.Logical=1]="Logical"})(t=e.OperatorType||(e.OperatorType={}));var r;(function(a){a[a.Value=0]="Value",a[a.Filter=1]="Filter",a[a.Group=2]="Group",a[a.Column=3]="Column",a[a.Table=4]="Table"})(r=e.MacroType||(e.MacroType={}));var c;(function(a){a.Parenthesis="delimiter.parenthesis.sql",a.Whitespace="white.sql",a.Keyword="keyword.sql",a.Delimiter="delimiter.sql",a.Operator="operator.sql",a.Identifier="identifier.sql",a.IdentifierQuote="identifier.quote.sql",a.Type="type.sql",a.Function="predefined.sql",a.Number="number.sql",a.String="string.sql",a.Variable="variable.sql"})(c=e.TokenType||(e.TokenType={}));var f;(function(a){a.Unknown="unknown",a.SelectKeyword="selectKeyword",a.WithKeyword="withKeyword",a.AfterSelectKeyword="afterSelectKeyword",a.AfterSelectArguments="afterSelectArguments",a.AfterSelectFuncFirstArgument="afterSelectFuncFirstArgument",a.SelectAlias="selectAlias",a.AfterFromKeyword="afterFromKeyword",a.AfterTable="afterTable",a.SchemaFuncFirstArgument="schemaFuncFirstArgument",a.SchemaFuncExtraArgument="schemaFuncExtraArgument",a.FromKeyword="fromKeyword",a.AfterFrom="afterFrom",a.WhereKeyword="whereKeyword",a.WhereComparisonOperator="whereComparisonOperator",a.WhereValue="whereValue",a.AfterWhereFunctionArgument="afterWhereFunctionArgument",a.AfterGroupByFunctionArgument="afterGroupByFunctionArgument",a.AfterWhereValue="afterWhereValue",a.AfterGroupByKeywords="afterGroupByKeywords",a.AfterGroupBy="afterGroupBy",a.AfterOrderByKeywords="afterOrderByKeywords",a.AfterOrderByFunction="afterOrderByFunction",a.AfterOrderByDirection="afterOrderByDirection",a.AfterIsOperator="afterIsOperator",a.AfterIsNotOperator="afterIsNotOperator",a.AfterSchema="afterSchema"})(f=e.StatementPosition||(e.StatementPosition={}));var s;(function(a){a.Schemas="schemas",a.Tables="tables",a.Columns="columns",a.SelectKeyword="selectKeyword",a.WithKeyword="withKeyword",a.FunctionsWithArguments="functionsWithArguments",a.FromKeyword="fromKeyword",a.WhereKeyword="whereKeyword",a.GroupByKeywords="groupByKeywords",a.OrderByKeywords="orderByKeywords",a.FunctionsWithoutArguments="functionsWithoutArguments",a.LimitKeyword="limitKeyword",a.SortOrderDirectionKeyword="sortOrderDirectionKeyword",a.ComparisonOperators="comparisonOperators",a.LogicalOperators="logicalOperators",a.SelectMacro="selectMacro",a.TableMacro="tableMacro",a.FilterMacro="filterMacro",a.GroupMacro="groupMacro",a.BoolValues="boolValues",a.NullValue="nullValue",a.NotKeyword="notKeyword",a.TemplateVariables="templateVariables",a.StarWildCard="starWildCard"})(s=e.SuggestionKind||(e.SuggestionKind={}));var l;(function(a){a.High="a",a.MediumHigh="d",a.Medium="g",a.MediumLow="k",a.Low="q"})(l=e.CompletionItemPriority||(e.CompletionItemPriority={}));var n;(function(a){a[a.Method=0]="Method",a[a.Function=1]="Function",a[a.Constructor=2]="Constructor",a[a.Field=3]="Field",a[a.Variable=4]="Variable",a[a.Class=5]="Class",a[a.Struct=6]="Struct",a[a.Interface=7]="Interface",a[a.Module=8]="Module",a[a.Property=9]="Property",a[a.Event=10]="Event",a[a.Operator=11]="Operator",a[a.Unit=12]="Unit",a[a.Value=13]="Value",a[a.Constant=14]="Constant",a[a.Enum=15]="Enum",a[a.EnumMember=16]="EnumMember",a[a.Keyword=17]="Keyword",a[a.Text=18]="Text",a[a.Color=19]="Color",a[a.File=20]="File",a[a.Reference=21]="Reference",a[a.Customcolor=22]="Customcolor",a[a.Folder=23]="Folder",a[a.TypeParameter=24]="TypeParameter",a[a.User=25]="User",a[a.Issue=26]="Issue",a[a.Snippet=27]="Snippet"})(n=e.CompletionItemKind||(e.CompletionItemKind={}));var o;(function(a){a[a.KeepWhitespace=1]="KeepWhitespace",a[a.InsertAsSnippet=4]="InsertAsSnippet"})(o=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var i;(function(a){a.Builder="builder",a.Code="code"})(i=e.SQLEditorMode||(e.SQLEditorMode={}))},98685:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedToken=void 0;const r=t(9972);class c{constructor(l,n,o,i,a){this.type=l,this.value=n,this.range=o,this.previous=i,this.next=a}isKeyword(){return this.type===r.TokenType.Keyword}isWhiteSpace(){return this.type===r.TokenType.Whitespace}isParenthesis(){return this.type===r.TokenType.Parenthesis}isIdentifier(){return this.type===r.TokenType.Identifier}isString(){return this.type===r.TokenType.String}isNumber(){return this.type===r.TokenType.Number}isDoubleQuotedString(){return this.type===r.TokenType.Type}isVariable(){return this.type===r.TokenType.Variable}isFunction(){return this.type===r.TokenType.Function}isOperator(){return this.type===r.TokenType.Operator}isTemplateVariable(){return this.type===r.TokenType.Variable}is(l,n){const o=this.type===l;return n!==void 0?o&&f(l,this,n):o}getPreviousNonWhiteSpaceToken(){let l=this.previous;for(;l!=null;){if(!l.isWhiteSpace())return l;l=l.previous}return null}getPreviousOfType(l,n){let o=this.previous;for(;o!=null;){const i=o.type===l;if(n!==void 0?i&&f(l,o,n):i)return o;o=o.previous}return null}getPreviousUntil(l,n,o){let i=[],a=this.previous;for(;a!=null;){if(n.some(d=>d===a?.type)){a=a.previous;continue}const u=a.type===l;if(o!==void 0?u&&f(l,a,o):u)return i;a.isWhiteSpace()||i.push(a),a=a.previous}return i}getNextUntil(l,n,o){let i=[],a=this.next;for(;a!=null;){if(n.some(d=>d===a?.type)){a=a.next;continue}const u=a.type===l;if(o!==void 0?u&&f(l,a,o):u)return i;a.isWhiteSpace()||i.push(a),a=a.next}return i}getPreviousKeyword(){let l=this.previous;for(;l!=null;){if(l.isKeyword())return l;l=l.previous}return null}getNextNonWhiteSpaceToken(){let l=this.next;for(;l!=null;){if(!l.isWhiteSpace())return l;l=l.next}return null}getNextOfType(l,n){let o=this.next;for(;o!=null;){const i=o.type===l;if(n!==void 0?i&&f(l,o,n):i)return o;o=o.next}return null}}e.LinkedToken=c;function f(s,l,n){return s===r.TokenType.Keyword||s===r.TokenType.Operator?l.value.toLowerCase()===n.toString().toLowerCase():l.value===n}},86405:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TRIGGER_SUGGEST=void 0,e.TRIGGER_SUGGEST={id:"editor.action.triggerSuggest",title:""}},64960:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sqlEditorLogger=e.sqlEditorLog=void 0;const r=t(26527);let c={logger:()=>{}};e.sqlEditorLogger=c;let f=()=>{};e.sqlEditorLog=f,r.attachDebugger&&r.createLogger&&(e.sqlEditorLogger=c=(0,r.createLogger)("SQLEditor"),e.sqlEditorLog=f=c.logger,(0,r.attachDebugger)("sqleditor",void 0,c))},56969:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSuggestionKinds=void 0;function t(r,c){let f=[];for(let s=0;s<r.length;s++){const l=c.getIfExists(r[s]);l&&(f=f.concat(l.kind))}return f}e.getSuggestionKinds=t},99822:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linkedTokenBuilder=void 0;const r=t(9972),c=t(98685);function f(s,l,n,o="sql"){var i;let a=null,u=null;const d=s.editor.tokenize((i=l.getValue())!==null&&i!==void 0?i:"",o);for(let v=0;v<d.length;v++){const p=d[v];if(!p.length&&u){const m={offset:0,type:r.TokenType.Whitespace,language:o,_tokenBrand:void 0};p.push(m)}for(let m=0;m<p.length;m++){const P=p[m];let E=p.length>m+1?p[m+1].offset+1:l.getLineLength(v+1)+1;const L={startLineNumber:v+1,startColumn:P.offset===0?0:P.offset+1,endLineNumber:v+1,endColumn:E},F=l.getValueInRange(L),j=new c.LinkedToken(P.type,F,L,u,null);s.Range.containsPosition(L,n)&&(a=j),u&&(u.next=j),u=j}}return a}e.linkedTokenBuilder=f},71591:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toCompletionItem=void 0;const r=t(9972),c=(f,s,l={})=>Object.assign({label:f,insertText:f,kind:r.CompletionItemKind.Field,sortText:r.CompletionItemPriority.Medium,range:s},l);e.toCompletionItem=c},75701:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTableNameParser=e.getTableToken=e.getNamespaceToken=e.getFromKeywordToken=e.getMetricNameToken=e.getSelectStatisticToken=e.getSelectToken=void 0;const r=t(47783),c=t(9972),f=u=>{var d;return(d=u?.getPreviousOfType(c.TokenType.Keyword,r.SELECT))!==null&&d!==void 0?d:null};e.getSelectToken=f;const s=u=>{var d;const v=(d=(0,e.getSelectToken)(u))===null||d===void 0?void 0:d.getNextNonWhiteSpaceToken();return v?.isVariable()||v?.isFunction()?v:null};e.getSelectStatisticToken=s;const l=u=>{var d,v;const p=(v=(d=(0,e.getSelectStatisticToken)(u))===null||d===void 0?void 0:d.next)===null||v===void 0?void 0:v.next;return p?.isVariable()||p?.isIdentifier()?p:null};e.getMetricNameToken=l;const n=u=>{const d=(0,e.getSelectToken)(u);return d?.getNextOfType(c.TokenType.Keyword,r.FROM)};e.getFromKeywordToken=n;const o=u=>{var d,v;const p=(0,e.getFromKeywordToken)(u),m=p?.getNextNonWhiteSpaceToken();if(m?.isDoubleQuotedString()||m?.isVariable()&&m?.value.toUpperCase()!==r.SCHEMA)return m;if(m?.isKeyword()&&(!((d=m.next)===null||d===void 0)&&d.is(c.TokenType.Parenthesis,"("))){const P=(v=m.next)===null||v===void 0?void 0:v.next;if(P?.isDoubleQuotedString()||P?.isVariable())return P}return null};e.getNamespaceToken=o;const i=u=>{var d;const v=(0,e.getFromKeywordToken)(u),p=v?.getNextNonWhiteSpaceToken();return p?.isVariable()||p?.isKeyword()&&(!((d=p.next)===null||d===void 0)&&d.is(c.TokenType.Parenthesis,"("))?null:p};e.getTableToken=i;const a=u=>{const d=u?.value.split(".");return d?.length===1?{table:d[0]}:d?.length===2?{schema:d[0],table:d[1]}:null};e.defaultTableNameParser=a},19256:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Segment=void 0;const r=t(31635),c=r.__importStar(t(96540)),f=t(26527),s=t(65473);function l(n){const{delay:o,onDebounce:i,value:a,options:u}=n,d=r.__rest(n,["delay","onDebounce","value","options"]),[v,p]=c.default.useState(a),m=(0,s.useDebounce)(v,o);return(0,c.useEffect)(()=>i(m),[m]),(0,c.useEffect)(()=>p(a),[a]),c.default.createElement(f.Segment,Object.assign({options:u,onChange:P=>p(P.value),value:v},d))}e.Segment=l},21530:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryModellerBase=void 0;const r=t(6199),c=t(1362);class f{constructor(l,n){this.categories=[],this.operationsRegistry=new r.Registry(()=>l),this.innerQueryPlaceholder=n||"<query>"}setOperationCategories(l){this.categories=l}getOperationsForCategory(l){return this.operationsRegistry.list().filter(n=>n.category===l&&!n.hideFromList)}getAlternativeOperations(l){return this.operationsRegistry.list().filter(n=>n.alternativesKey&&n.alternativesKey===l)}getCategories(){return this.categories}getOperationDefinition(l){return this.operationsRegistry.getIfExists(l)}hasBinaryOp(l){return l.operations.find(n=>{const o=this.getOperationDefinition(n.id);return o?.category===c.BINARY_OPERATIONS_KEY})!==void 0}}e.QueryModellerBase=f},7475:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isConflictingLabelFilter=e.LabelFilterItem=void 0;const r=t(31635),c=t(2543),f=r.__importStar(t(96540)),s=t(99904),l=t(6199),n=t(57254),o=t(26527),i=t(61374),a=t(38759),u="You have conflicting label filters";function d({item:m,items:P,defaultOp:E,onChange:L,onDelete:F,onGetLabelNames:j,onGetLabelValues:D,invalidLabel:B,invalidValue:G,multiValueSeparator:K="|"}){var Y;const[$,U]=(0,f.useState)({}),[M,C]=(0,f.useState)(!1),[y,b]=(0,f.useState)(!1),T=(I=m.op)=>{var O;return(O=v.find(h=>h.label===I))===null||O===void 0?void 0:O.isMultiValue},R=I=>I?I.indexOf(K)>0?I.split(K):[I]:[],S=()=>{const I=$.labelValues?[...$.labelValues]:[],O=R(m?.value).map(l.toOption);return(0,c.uniqBy)([...O,...I],"value")},A=p(m,P),{current:W}=(0,f.useRef)((0,s.v4)());return f.default.createElement("div",{"data-testid":"visual-query-builder-dimensions-filter-item"},f.default.createElement(o.InlineField,{error:u,invalid:A?!0:void 0},f.default.createElement(i.InputGroup,null,f.default.createElement(o.Select,{placeholder:"Select label","data-testid":n.selectors.components.QueryBuilder.labelSelect,inputId:`visual-query-builder-dimensions-filter-item-key-${W}`,width:"auto",value:m.label?(0,l.toOption)(m.label):null,allowCustomValue:!0,onOpenMenu:()=>r.__awaiter(this,void 0,void 0,function*(){U({isLoadingLabelNames:!0});const I=yield j(m);C(!0),U({labelNames:I,isLoadingLabelNames:void 0})}),onCloseMenu:()=>{C(!1)},isOpen:M,isLoading:$.isLoadingLabelNames,options:$.labelNames,onChange:I=>{var O;I.value&&L(Object.assign(Object.assign({},m),{op:(O=m.op)!==null&&O!==void 0?O:E,label:I.value}))},invalid:A||B}),f.default.createElement(o.Select,{"data-testid":n.selectors.components.QueryBuilder.matchOperatorSelect,value:(0,l.toOption)((Y=m.op)!==null&&Y!==void 0?Y:E),options:v,width:"auto",onChange:I=>{I.value&&L(Object.assign(Object.assign({},m),{op:I.value,value:T(I.value)?m.value:R(m?.value)[0]}))},invalid:A}),f.default.createElement(o.Select,{placeholder:"Select value","data-testid":n.selectors.components.QueryBuilder.valueSelect,inputId:`visual-query-builder-dimensions-filter-item-value-${W}`,width:"auto",value:T()?R(m?.value).map(l.toOption):R(m?.value).map(l.toOption)[0],allowCustomValue:!0,onOpenMenu:()=>r.__awaiter(this,void 0,void 0,function*(){U({isLoadingLabelValues:!0});const I=yield D(m);U(Object.assign(Object.assign({},$),{labelValues:I,isLoadingLabelValues:void 0})),b(!0)}),onCloseMenu:()=>{b(!1)},isOpen:y,isMulti:T(),isLoading:$.isLoadingLabelValues,options:S(),onChange:I=>{var O,h;if(I.value)L(Object.assign(Object.assign({},m),{value:I.value,op:(O=m.op)!==null&&O!==void 0?O:E}));else{const w=I.map(V=>{if(V.value)return V.value}).filter(V=>V!==void 0).join(K);L(Object.assign(Object.assign({},m),{value:w,op:(h=m.op)!==null&&h!==void 0?h:E}))}},invalid:A||G}),f.default.createElement(a.AccessoryButton,{"aria-label":"remove",icon:"times",variant:"secondary",onClick:F}))))}e.LabelFilterItem=d;const v=[{label:"=",value:"=",description:"Equals",isMultiValue:!1},{label:"!=",value:"!=",description:"Does not equal",isMultiValue:!1},{label:"=~",value:"=~",description:"Matches regex",isMultiValue:!0},{label:"!~",value:"!~",description:"Does not match regex",isMultiValue:!0}];function p(m,P){if(!m.label||!m.op||!m.value||P.length<2)return!1;const E=m.op.toString().startsWith("!");return P.filter(j=>j.label===m.label&&j.value===m.value&&j.op!==m.op).some(j=>{var D,B;return!!(E&&((D=j?.op)===null||D===void 0?void 0:D.toString().startsWith("!"))===!1||E===!1&&(!((B=j?.op)===null||B===void 0)&&B.toString().startsWith("!")))})}e.isConflictingLabelFilter=p},81815:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelFilters=e.MISSING_LABEL_FILTER_ERROR_MESSAGE=void 0;const r=t(31635),c=t(2543),f=r.__importStar(t(96540)),s=t(89114),l=t(73255),n=t(6748),o=t(7475);e.MISSING_LABEL_FILTER_ERROR_MESSAGE="Select at least 1 label filter (label and value)";function i({labelsFilters:a,onChange:u,onGetLabelNames:d,onGetLabelValues:v,labelFilterRequired:p,multiValueSeparator:m}){const P="=",[E,L]=(0,f.useState)([{op:P}]);(0,f.useEffect)(()=>{a.length>0?L(a):L([{op:P}])},[a]);const F=D=>{L(D);const B=D.filter(G=>G.label!==void 0&&G.value!==void 0);(0,c.isEqual)(B,a)||u(B)},j=E.some(D=>D.label&&D.value);return f.default.createElement(l.EditorFieldGroup,null,f.default.createElement(s.EditorField,{label:"Label filters",error:e.MISSING_LABEL_FILTER_ERROR_MESSAGE,invalid:p&&!j},f.default.createElement(n.EditorList,{items:E,onChange:F,renderItem:(D,B,G)=>f.default.createElement(o.LabelFilterItem,{item:D,items:E,defaultOp:P,onChange:B,onDelete:G,onGetLabelNames:d,onGetLabelValues:v,invalidLabel:p&&!D.label,invalidValue:p&&!D.value,multiValueSeparator:m})})))}e.LabelFilters=i},55040:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationEditor=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(57095),l=t(26527),n=t(46232);function o({operation:a,index:u,onRemove:d,onToggle:v,onChange:p,onRunQuery:m,queryModeller:P,query:E,datasource:L,flash:F,highlight:j,timeRange:D,isConflictingOperation:B}){const G=P.getOperationDefinition(a.id),K=(0,l.useTheme2)(),Y=B?B(a,E.operations):!1,$=i(K,Y);if(!G)return f.default.createElement("span",null,"Operation ",a.id," not found");const U=M=>{if(!M)return Y?!0:void 0};return f.default.createElement(s.Draggable,{draggableId:`operation-${u}`,index:u},(M,C)=>f.default.createElement(l.InlineField,{error:"You have conflicting label filters",invalid:U(C.isDragging),className:(0,c.cx)($.error,$.cardWrapper)},f.default.createElement(n.OperationEditorBody,{provided:M,flash:F,highlight:j,isConflicting:Y,index:u,operation:a,definition:G,onChange:p,onRemove:d,onToggle:v,queryModeller:P,query:E,timeRange:D,onRunQuery:m,datasource:L})))}e.OperationEditor=o;const i=(a,u)=>({cardWrapper:(0,c.css)({alignItems:"stretch"}),error:(0,c.css)({marginBottom:a.spacing(1)})})},46232:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationEditorBody=void 0;const c=t(31635).__importStar(t(96540)),f=t(26527),s=t(22803),l=t(48064),n=t(86745),o=t(99904),i=t(28333);function a({provided:m,flash:P,isConflicting:E,highlight:L,index:F,queryModeller:j,onChange:D,onRemove:B,onToggle:G,operation:K,definition:Y,query:$,timeRange:U,onRunQuery:M,datasource:C}){const y=(0,f.useTheme2)(),b=u(y,E),T=d(P),{current:R}=(0,c.useRef)((0,o.v4)()),S=(O,h)=>{const w=Object.assign(Object.assign({},K),{params:[...K.params]});w.params[O]=h,v(Y,w,F,O,D)},A=()=>{const O=Object.assign(Object.assign({},K),{params:[...K.params,""]});v(Y,O,F,K.params.length,D)},W=O=>{const h=Object.assign(Object.assign({},K),{params:[...K.params.slice(0,O),...K.params.slice(O+1)]});v(Y,h,F,O,D)};let I;if(Y.params.length>0){const O=Y.params[Y.params.length-1];O.restParam&&(I=p(O,A,F,K.params.length,b))}return c.default.createElement("div",Object.assign({className:(0,s.cx)(b.card,{[b.cardHighlight]:T||L,[b.cardError]:E,[b.disabled]:K.disabled}),ref:m.innerRef},m.draggableProps,{"data-testid":`operations.${F}.wrapper`}),c.default.createElement(l.OperationHeader,{operation:K,dragHandleProps:m.dragHandleProps,definition:Y,index:F,onChange:D,onRemove:B,onToggle:G,queryModeller:j}),c.default.createElement("div",{className:b.body},K.params.map((O,h)=>{const w=Y.params[Math.min(Y.params.length-1,h)],V=(0,n.getOperationParamEditor)(w);return c.default.createElement("div",{className:b.paramRow,key:`${h}-1`},!w.hideName&&c.default.createElement("div",{className:b.paramName},c.default.createElement("label",{htmlFor:(0,n.getOperationParamId)(R,h)},w.name),w.description&&c.default.createElement(f.Tooltip,{placement:"top",content:w.description,theme:"info"},c.default.createElement(f.Icon,{name:"info-circle",size:"sm",className:b.infoIcon}))),c.default.createElement("div",{className:b.paramValue},c.default.createElement(i.EditorStack,{gap:.5,direction:"row",alignItems:"center",wrap:!1},c.default.createElement(V,{index:h,paramDef:w,value:K.params[h],operation:K,operationId:R,onChange:S,onRunQuery:M,query:$,datasource:C,timeRange:U,queryModeller:j}),w.restParam&&(K.params.length>Y.params.length||w.optional)&&c.default.createElement(f.Button,{"data-testid":`operations.${F}.remove-rest-param`,size:"sm",fill:"text",icon:"times",variant:"secondary",title:`Remove ${w.name}`,onClick:()=>W(h)}))))})),I,F<$.operations.length-1&&c.default.createElement("div",{className:b.arrow},c.default.createElement("div",{className:b.arrowLine}),c.default.createElement("div",{className:b.arrowArrow})))}e.OperationEditorBody=a;const u=(m,P)=>({cardWrapper:(0,s.css)({alignItems:"stretch"}),error:(0,s.css)({marginBottom:m.spacing(1)}),card:(0,s.css)({background:m.colors.background.primary,border:`1px solid ${m.colors.border.medium}`,cursor:"grab",borderRadius:m.shape.radius.default,position:"relative",transition:"all 0.5s ease-in 0s",height:P?"auto":"100%"}),disabled:(0,s.css)({opacity:.5,transition:"none"}),cardError:(0,s.css)({boxShadow:`0px 0px 4px 0px ${m.colors.warning.main}`,border:`1px solid ${m.colors.warning.main}`}),cardHighlight:(0,s.css)({boxShadow:`0px 0px 4px 0px ${m.colors.primary.border}`,border:`1px solid ${m.colors.primary.border}`}),infoIcon:(0,s.css)({marginLeft:m.spacing(.5),color:m.colors.text.secondary,":hover":{color:m.colors.text.primary}}),body:(0,s.css)({margin:m.spacing(1,1,.5,1),display:"table"}),paramRow:(0,s.css)({label:"paramRow",display:"table-row",verticalAlign:"middle"}),paramName:(0,s.css)({display:"table-cell",padding:m.spacing(0,1,0,0),fontSize:m.typography.bodySmall.fontSize,fontWeight:m.typography.fontWeightMedium,verticalAlign:"middle",height:"32px"}),paramValue:(0,s.css)({label:"paramValue",display:"table-cell",verticalAlign:"middle"}),restParam:(0,s.css)({padding:m.spacing(0,1,1,1)}),arrow:(0,s.css)({position:"absolute",top:"0",right:"-18px",display:"flex"}),arrowLine:(0,s.css)({height:"2px",width:"8px",backgroundColor:m.colors.border.strong,position:"relative",top:"14px"}),arrowArrow:(0,s.css)({width:0,height:0,borderTop:"5px solid transparent",borderBottom:"5px solid transparent",borderLeft:`7px solid ${m.colors.border.strong}`,position:"relative",top:"10px"})});function d(m){const[P,E]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{let L;return m?L=setTimeout(()=>{E(!1)},1e3):E(!0),()=>clearTimeout(L)},[m]),P&&m}function v(m,P,E,L,F){m.paramChangedHandler?F(E,m.paramChangedHandler(L,P,m)):F(E,P)}function p(m,P,E,L,F){return c.default.createElement("div",{className:F.restParam,key:`${L}-2`},c.default.createElement(f.Button,{size:"sm",icon:"plus",title:`Add ${m.name}`.trimEnd(),variant:"secondary",onClick:P,"data-testid":`operations.${E}.add-rest-param`},m.name))}},60850:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationExplainedBox=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(6199),l=t(26527);function n({title:i,stepNumber:a,markdown:u,children:d}){const v=(0,l.useStyles2)(o);return f.default.createElement("div",{className:v.box},a!==void 0&&f.default.createElement("div",{className:v.stepNumber},a),f.default.createElement("div",{className:v.boxInner},i&&f.default.createElement("div",{className:v.header},f.default.createElement("span",null,i)),f.default.createElement("div",{className:v.body},u&&f.default.createElement("div",{dangerouslySetInnerHTML:{__html:(0,s.renderMarkdown)(u)}}),d)))}e.OperationExplainedBox=n;const o=i=>({box:(0,c.css)({background:i.colors.background.secondary,padding:i.spacing(1),borderRadius:i.shape.radius.default,position:"relative"}),boxInner:(0,c.css)({marginLeft:i.spacing(4)}),stepNumber:(0,c.css)({fontWeight:i.typography.fontWeightMedium,background:i.colors.secondary.main,width:"20px",height:"20px",borderRadius:i.shape.radius.circle,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"10px",left:"11px",fontSize:i.typography.bodySmall.fontSize}),header:(0,c.css)({paddingBottom:i.spacing(.5),display:"flex",alignItems:"center",fontFamily:i.typography.fontFamilyMonospace}),body:(0,c.css)({color:i.colors.text.secondary,"p:last-child":{margin:0},a:{color:i.colors.text.link,textDecoration:"underline"}})})},48064:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationHeader=void 0;const r=t(31635),c=t(22803),f=r.__importStar(t(96540)),s=t(26527),l=t(66877),n=t(7453);e.OperationHeader=f.default.memo(({operation:i,definition:a,index:u,onChange:d,onRemove:v,onToggle:p,queryModeller:m,dragHandleProps:P})=>{var E;const L=(0,s.useStyles2)(o),[F,j]=(0,f.useState)({}),D=()=>{if(F.isOpen)j(Object.assign(Object.assign({},F),{isOpen:!1}));else{const B=m.getAlternativeOperations(a.alternativesKey).map(G=>({label:G.name,value:G}));j({isOpen:!0,alternatives:B})}};return f.default.createElement("div",{className:L.header},!F.isOpen&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",Object.assign({},P),(E=a.name)!==null&&E!==void 0?E:a.id),f.default.createElement(n.FlexItem,{grow:1}),f.default.createElement("div",{className:`${L.operationHeaderButtons} operation-header-show-on-hover`},f.default.createElement(s.Button,{icon:"angle-down",size:"sm",onClick:D,fill:"text",variant:"secondary",title:"Click to view alternative operations"}),f.default.createElement(l.OperationInfoButton,{definition:a,operation:i,innerQueryPlaceholder:m.innerQueryPlaceholder}),a.toggleable&&f.default.createElement(s.Button,{icon:i.disabled?"eye-slash":"eye",size:"sm",onClick:()=>p(u),fill:"text",variant:"secondary",title:i.disabled?"Enable operation":"Disable operation"}),f.default.createElement(s.Button,{icon:"times",size:"sm",onClick:()=>v(u),fill:"text",variant:"secondary",title:"Remove operation"}))),F.isOpen&&f.default.createElement("div",{className:L.selectWrapper},f.default.createElement(s.Select,{autoFocus:!0,openMenuOnFocus:!0,placeholder:"Replace with",options:F.alternatives,isOpen:!0,onCloseMenu:D,onChange:B=>{if(B.value){const G=m.getOperationDefinition(B.value.id),K=[...G.defaultParams];for(let $=0;$<Math.min(i.params.length,K.length);$++)G.params[$].type===a.params[$].type&&(K[$]=i.params[$]);const Y=Object.assign(Object.assign({},i),{params:K,id:B.value.id});d(u,a.changeTypeHandler?a.changeTypeHandler(Y,G):Y)}}})))}),e.OperationHeader.displayName="OperationHeader";const o=i=>({header:(0,c.css)({borderBottom:`1px solid ${i.colors.border.medium}`,padding:i.spacing(.5,.5,.5,1),display:"flex",alignItems:"center"}),operationHeaderButtons:(0,c.css)({opacity:1}),selectWrapper:(0,c.css)({paddingRight:i.spacing(2)})})},66877:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationInfoButton=void 0;const r=t(31635),c=t(22803),f=r.__importStar(t(96540)),s=t(20479),l=t(6199),n=t(26527),o=t(7453);e.OperationInfoButton=f.default.memo(({definition:u,operation:d,innerQueryPlaceholder:v})=>{const p=(0,n.useStyles2)(i),[m,P]=(0,f.useState)(!1),{getTooltipProps:E,setTooltipRef:L,setTriggerRef:F,visible:j}=(0,s.usePopperTooltip)({placement:"top",visible:m,offset:[0,16],onVisibleChange:P,interactive:!0,trigger:["click"]});return f.default.createElement(f.default.Fragment,null,f.default.createElement(n.Button,{title:"Click to show description",ref:F,icon:"info-circle",size:"sm",variant:"secondary",fill:"text"}),j&&f.default.createElement(n.Portal,null,f.default.createElement("div",Object.assign({ref:L},E(),{className:p.docBox}),f.default.createElement("div",{className:p.docBoxHeader},f.default.createElement("span",null,u.renderer(d,u,v)),f.default.createElement(o.FlexItem,{grow:1}),f.default.createElement(n.Button,{icon:"times",onClick:()=>P(!1),fill:"text",variant:"secondary",title:"Remove operation"})),f.default.createElement("div",{className:p.docBoxBody,dangerouslySetInnerHTML:{__html:a(u,d)}}))))}),e.OperationInfoButton.displayName="OperationDocs";const i=u=>({docBox:(0,c.css)({overflow:"hidden",background:u.colors.background.primary,border:`1px solid ${u.colors.border.strong}`,boxShadow:u.shadows.z3,maxWidth:"600px",padding:u.spacing(1),borderRadius:u.shape.radius.default,zIndex:u.zIndex.tooltip}),docBoxHeader:(0,c.css)({fontSize:u.typography.h5.fontSize,fontFamily:u.typography.fontFamilyMonospace,paddingBottom:u.spacing(1),display:"flex",alignItems:"center"}),docBoxBody:(0,c.css)({marginBottom:u.spacing(-1),color:u.colors.text.secondary}),signature:(0,c.css)({fontSize:u.typography.bodySmall.fontSize,fontFamily:u.typography.fontFamilyMonospace}),dropdown:(0,c.css)({opacity:0,color:u.colors.text.secondary})});function a(u,d){var v;return(0,l.renderMarkdown)(u.explainHandler?u.explainHandler(d,u):(v=u.documentation)!==null&&v!==void 0?v:"no docs")}},79953:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationList=void 0;const r=t(31635),c=t(22803),f=r.__importStar(t(96540)),s=t(57095),l=t(59503),n=t(26527),o=t(55040),i=t(28333);function a({query:p,datasource:m,queryModeller:P,onChange:E,onRunQuery:L,highlightedOp:F,timeRange:j,isConflictingOperation:D}){const B=(0,n.useStyles2)(v),{operations:G}=p,K=u(G),[Y,$]=(0,f.useState)(!1),U=(S,A)=>{const W=[...G];W.splice(S,1,A),E(Object.assign(Object.assign({},p),{operations:W}))},M=S=>{const A=[...G.slice(0,S),...G.slice(S+1)];E(Object.assign(Object.assign({},p),{operations:A}))},C=S=>{U(S,Object.assign(Object.assign({},G[S]),{disabled:!G[S].disabled}))},y=P.getCategories().map(S=>({value:S,label:S,items:P.getOperationsForCategory(S).map(A=>({value:A.id,label:A.name,isLeaf:!0}))})),b=S=>{const A=P.getOperationDefinition(S);A&&(E(A.addOperationHandler(A,p,P)),$(!1))},T=S=>{if(!S.destination)return;const A=[...G],W=A[S.source.index];A.splice(S.source.index,1),A.splice(S.destination.index,0,W),E(Object.assign(Object.assign({},p),{operations:A}))},R=()=>{$(!1)};return f.default.createElement(i.EditorStack,{gap:1,direction:"column"},f.default.createElement(i.EditorStack,{gap:1},G.length>0&&f.default.createElement(s.DragDropContext,{onDragEnd:T},f.default.createElement(s.Droppable,{droppableId:"sortable-field-mappings",direction:"horizontal"},S=>f.default.createElement("div",Object.assign({className:B.operationList,ref:S.innerRef},S.droppableProps),G.map((A,W)=>f.default.createElement(o.OperationEditor,{key:A.id+JSON.stringify(A.params)+W,queryModeller:P,index:W,operation:A,query:p,datasource:m,onChange:U,onRemove:M,onToggle:C,onRunQuery:L,flash:K[W],highlight:F===A,timeRange:j,isConflictingOperation:D})),S.placeholder))),f.default.createElement("div",{className:B.addButton},Y?f.default.createElement(n.Cascader,{options:y,onSelect:b,onBlur:R,autoFocus:!0,alwaysOpen:!0,hideActiveLevelLabel:!0,placeholder:"Search"}):f.default.createElement(n.Button,{icon:"plus",variant:"secondary",onClick:()=>$(!0),title:"Add operation"},"Operations"))))}e.OperationList=a;function u(p){const m=(0,l.useMountedState)(),P=(0,l.usePrevious)(p);if(!m())return p.map(()=>!1);if(!P)return p.map(()=>!0);let E=[];if(P.length-1===p.length&&p.every(L=>P.includes(L)))return p.map(()=>!1);if(P.length+1===p.length&&P.every(L=>p.includes(L))){const L=p.find(F=>!P.includes(F));E=p.map(F=>F===L)}else E=p.map((L,F)=>{var j;return!d(L.id,(j=P[F])===null||j===void 0?void 0:j.id)});return E}function d(p,m){return p===m||`__${p}_by`===m||p===`__${m}_by`}const v=p=>({heading:(0,c.css)({label:"heading",fontSize:12,fontWeight:p.typography.fontWeightMedium,marginBottom:0}),operationList:(0,c.css)({label:"operationList",display:"flex",flexWrap:"wrap",gap:p.spacing(2)}),addButton:(0,c.css)({label:"addButton",width:126,paddingBottom:p.spacing(1)})})},13251:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationListExplained=void 0;const c=t(31635).__importDefault(t(96540)),f=t(60850),s=t(61632);function l({query:n,queryModeller:o,stepNumber:i,language:a,onMouseEnter:u,onMouseLeave:d}){return c.default.createElement(c.default.Fragment,null,n.operations.map((v,p)=>{var m;const P=o.getOperationDefinition(v.id);if(!P)return`Operation ${v.id} not found`;const E=P.renderer(v,P,o.innerQueryPlaceholder),L=P.explainHandler?P.explainHandler(v,P):(m=P.documentation)!==null&&m!==void 0?m:"no docs";return c.default.createElement("div",{key:p,onMouseEnter:()=>u?.(v,p),onMouseLeave:()=>d?.(v,p)},c.default.createElement(f.OperationExplainedBox,{stepNumber:p+i,title:c.default.createElement(s.RawQuery,{query:E,language:a}),markdown:L}))}))}e.OperationListExplained=l},86745:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperationParamId=e.getOperationParamEditor=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(6199),l=t(26527),n=t(28333);function o(p){if(p.editor)return p.editor;if(p.options)return u;switch(p.type){case"boolean":return a;case"number":case"string":default:return i}}e.getOperationParamEditor=o;function i(p){var m;return f.default.createElement(l.AutoSizeInput,{id:v(p.operationId,p.index),defaultValue:(m=p.value)===null||m===void 0?void 0:m.toString(),minWidth:p.paramDef.minWidth,placeholder:p.paramDef.placeholder,title:p.paramDef.description,maxWidth:(p.paramDef.minWidth||20)*3,onCommitChange:P=>{p.onChange(p.index,P.currentTarget.value),p.paramDef.runQueryOnEnter&&P.type==="keydown"&&p.onRunQuery()}})}function a(p){return f.default.createElement(l.Checkbox,{id:v(p.operationId,p.index),value:!!p.value,onChange:m=>p.onChange(p.index,m.currentTarget.checked)})}function u({paramDef:p,value:m,index:P,operationId:E,onChange:L}){var F,j;const D=(0,l.useStyles2)(d);let B=p.options;!((F=B[0])===null||F===void 0)&&F.label||(B=p.options.map(K=>({label:K.toString(),value:K})));let G=(j=B.find(K=>K.value===m))!==null&&j!==void 0?j:(0,s.toOption)(m);return!m&&p.optional?f.default.createElement("div",{className:D.optionalParam},f.default.createElement(l.Button,{size:"sm",variant:"secondary",title:`Add ${p.name}`,icon:"plus",onClick:()=>L(P,B[0].value)},p.name)):f.default.createElement(n.EditorStack,{gap:.5,direction:"row",alignItems:"center"},f.default.createElement(l.Select,{id:v(E,P),value:G,options:B,placeholder:p.placeholder,allowCustomValue:!0,onChange:K=>L(P,K.value),width:p.minWidth||"auto"}),p.optional&&f.default.createElement(l.Button,{"data-testid":`operations.${P}.remove-param`,size:"sm",fill:"text",icon:"times",variant:"secondary",title:`Remove ${p.name}`,onClick:()=>L(P,"")}))}const d=p=>({optionalParam:(0,c.css)({marginTop:p.spacing(1)})});function v(p,m){return`operations.${p}.param.${m}`}e.getOperationParamId=v},32213:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OperationsEditorRow=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(26527),l=t(28333);function n({children:i}){const a=(0,s.useStyles2)(o);return f.default.createElement("div",{className:a.root},f.default.createElement(l.EditorStack,{gap:1},i))}e.OperationsEditorRow=n;const o=i=>({root:(0,c.css)({padding:i.spacing(1,1,0,1),backgroundColor:i.colors.background.secondary,borderRadius:i.shape.radius.default})})},44215:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryBuilderHints=void 0;const r=t(31635),c=t(22803),f=r.__importStar(t(96540)),s=t(92243),l=t(26527),n=({datasource:i,query:a,onChange:u,data:d,queryModeller:v,buildVisualQueryFromString:p,buildDataQueryFromQueryString:m,buildQueryStringFromDataQuery:P})=>{const[E,L]=(0,f.useState)([]),F=(0,l.useStyles2)(o);return(0,f.useEffect)(()=>{var j;const D=m(v.renderQuery(a)),B=(j=i.getQueryHints)===null||j===void 0?void 0:j.call(i,D,d?.series||[]).filter(G=>{var K;return(K=G.fix)===null||K===void 0?void 0:K.action});L(B??[])},[i,a,d,v,m]),f.default.createElement(f.default.Fragment,null,E.length>0&&f.default.createElement("div",{className:F.container},E.map(j=>{var D,B,G,K;return f.default.createElement(l.Tooltip,{content:`${j.label} ${(D=j.fix)===null||D===void 0?void 0:D.label}`,key:j.type},f.default.createElement(l.Button,{onClick:()=>{var Y,$,U;if((0,s.reportInteraction)("grafana_query_builder_hints_clicked",{hint:j.type,datasourceType:i.type}),!((Y=j?.fix)===null||Y===void 0)&&Y.action){const M=m(v.renderQuery(a)),C=($=i.modifyQuery)===null||$===void 0?void 0:$.call(i,M,j.fix.action);if(C){const y=p((U=P(C))!==null&&U!==void 0?U:"");return u(y.query)}}},fill:"outline",size:"sm",className:F.hint},"hint: ",((B=j.fix)===null||B===void 0?void 0:B.title)||((K=(G=j.fix)===null||G===void 0?void 0:G.action)===null||K===void 0?void 0:K.type.toLowerCase().replace("_"," "))))})))};e.QueryBuilderHints=n,e.QueryBuilderHints.displayName="QueryBuilderHints";const o=i=>({container:(0,c.css)`
      display: flex;
      align-items: start;
    `,hint:(0,c.css)`
      margin-right: ${i.spacing(1)};
    `})},906:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryEditorModeToggle=void 0;const c=t(31635).__importDefault(t(96540)),f=t(26527),s=t(1362),l=[{label:"Builder",value:s.QueryEditorMode.Builder},{label:"Code",value:s.QueryEditorMode.Code}];function n({mode:o,onChange:i}){return c.default.createElement("div",{"data-testid":"QueryEditorModeToggle"},c.default.createElement(f.RadioButtonGroup,{options:l,size:"sm",value:o,onChange:i}))}e.QueryEditorModeToggle=n},5945:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryHeaderSwitch=void 0;const r=t(31635),c=t(22803),f=t(2543),s=r.__importStar(t(96540)),l=t(26527),n=t(28333);function o(a){var{label:u}=a,d=r.__rest(a,["label"]);const v=u.replace(" ","-"),p=(0,s.useRef)((0,f.uniqueId)(`switch-${v}`)),m=(0,l.useStyles2)(i);return s.default.createElement(n.EditorStack,{gap:1},s.default.createElement("label",{htmlFor:p.current,className:m.switchLabel},u),s.default.createElement(l.Switch,Object.assign({},d,{id:p.current})))}e.QueryHeaderSwitch=o;const i=a=>({switchLabel:(0,c.css)({color:a.colors.text.secondary,cursor:"pointer",fontSize:a.typography.bodySmall.fontSize,"&:hover":{color:a.colors.text.primary}})})},82246:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryOptionGroup=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(96540)),s=t(59503),l=t(6199),n=t(92243),o=t(26527),i=t(28333);function a({title:p,children:m,collapsedInfo:P,queryStats:E}){const[L,F]=(0,s.useToggle)(!1),j=(0,o.useStyles2)(u);return f.default.createElement("div",{className:j.wrapper},f.default.createElement(o.Collapse,{className:j.collapse,collapsible:!0,isOpen:L,onToggle:F,label:f.default.createElement(i.EditorStack,{gap:0},f.default.createElement("h6",{className:j.title},p),!L&&f.default.createElement("div",{className:j.description},P.map((D,B)=>f.default.createElement("span",{key:B},D))))},f.default.createElement("div",{className:j.body},m)),E&&n.config.featureToggles.lokiQuerySplitting&&f.default.createElement(o.Tooltip,{content:"Note: the query will be split into multiple parts and executed in sequence. Query limits will only apply each individual part."},f.default.createElement(o.Icon,{tabIndex:0,name:"info-circle",className:j.tooltip,size:"sm"})),E&&f.default.createElement("p",{className:j.stats},d(E)))}e.QueryOptionGroup=a;const u=p=>({collapse:(0,c.css)({backgroundColor:"unset",border:"unset",marginBottom:0,"> button":{padding:p.spacing(0,1)}}),wrapper:(0,c.css)({width:"100%",display:"flex",justifyContent:"space-between",alignItems:"baseline"}),title:(0,c.css)({flexGrow:1,overflow:"hidden",fontSize:p.typography.bodySmall.fontSize,fontWeight:p.typography.fontWeightMedium,margin:0}),description:(0,c.css)({color:p.colors.text.secondary,fontSize:p.typography.bodySmall.fontSize,fontWeight:p.typography.bodySmall.fontWeight,paddingLeft:p.spacing(2),gap:p.spacing(2),display:"flex"}),body:(0,c.css)({display:"flex",gap:p.spacing(2),flexWrap:"wrap"}),stats:(0,c.css)({margin:"0px",color:p.colors.text.secondary,fontSize:p.typography.bodySmall.fontSize}),tooltip:(0,c.css)({marginRight:p.spacing(.25)})}),d=p=>p.message?p.message:`This query will process approximately ${v(p)}.`,v=p=>{const{text:m,suffix:P}=(0,l.getValueFormat)("bytes")(p.bytes,1);return m+P}},61632:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RawQuery=void 0;const r=t(31635),c=t(22803),f=r.__importDefault(t(28848)),s=r.__importDefault(t(96540)),l=t(6199),n=t(26527);function o({query:a,language:u,className:d}){const v=(0,n.useTheme2)(),p=i(v),m=f.default.highlight(a,u.grammar,u.name);return s.default.createElement("div",{className:(0,c.cx)(p.editorField,"prism-syntax-highlight",d),"aria-label":"selector",dangerouslySetInnerHTML:{__html:l.textUtil.sanitize(m)}})}e.RawQuery=o;const i=a=>({editorField:(0,c.css)({fontFamily:a.typography.fontFamilyMonospace,fontSize:a.typography.bodySmall.fontSize})})},36979:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BINARY_OPERATIONS_KEY=e.QueryEditorMode=e.RawQuery=e.QueryOptionGroup=e.QueryHeaderSwitch=e.QueryEditorModeToggle=e.QueryBuilderHints=e.OperationsEditorRow=e.OperationListExplained=e.OperationList=e.OperationExplainedBox=e.LabelFilters=e.QueryModellerBase=void 0;var r=t(21530);Object.defineProperty(e,"QueryModellerBase",{enumerable:!0,get:function(){return r.QueryModellerBase}});var c=t(81815);Object.defineProperty(e,"LabelFilters",{enumerable:!0,get:function(){return c.LabelFilters}});var f=t(60850);Object.defineProperty(e,"OperationExplainedBox",{enumerable:!0,get:function(){return f.OperationExplainedBox}});var s=t(79953);Object.defineProperty(e,"OperationList",{enumerable:!0,get:function(){return s.OperationList}});var l=t(13251);Object.defineProperty(e,"OperationListExplained",{enumerable:!0,get:function(){return l.OperationListExplained}});var n=t(32213);Object.defineProperty(e,"OperationsEditorRow",{enumerable:!0,get:function(){return n.OperationsEditorRow}});var o=t(44215);Object.defineProperty(e,"QueryBuilderHints",{enumerable:!0,get:function(){return o.QueryBuilderHints}});var i=t(906);Object.defineProperty(e,"QueryEditorModeToggle",{enumerable:!0,get:function(){return i.QueryEditorModeToggle}});var a=t(5945);Object.defineProperty(e,"QueryHeaderSwitch",{enumerable:!0,get:function(){return a.QueryHeaderSwitch}});var u=t(82246);Object.defineProperty(e,"QueryOptionGroup",{enumerable:!0,get:function(){return u.QueryOptionGroup}});var d=t(61632);Object.defineProperty(e,"RawQuery",{enumerable:!0,get:function(){return d.RawQuery}});var v=t(1362);Object.defineProperty(e,"QueryEditorMode",{enumerable:!0,get:function(){return v.QueryEditorMode}}),Object.defineProperty(e,"BINARY_OPERATIONS_KEY",{enumerable:!0,get:function(){return v.BINARY_OPERATIONS_KEY}})},1362:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BINARY_OPERATIONS_KEY=e.QueryEditorMode=void 0;var t;(function(r){r.Code="code",r.Builder="builder"})(t=e.QueryEditorMode||(e.QueryEditorMode={})),e.BINARY_OPERATIONS_KEY="Binary operations"},53307:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomHeadersSettings=e.CertificationKey=e.InlineSwitch=e.formatDate=e.DatePickerWithInput=e.DatePicker=e.Segment=e.DebounceInput=e.QueryEditorRow=e.AsyncButtonCascader=void 0;const r=t(31635);var c=t(74460);Object.defineProperty(e,"AsyncButtonCascader",{enumerable:!0,get:function(){return c.AsyncButtonCascader}});var f=t(4540);Object.defineProperty(e,"QueryEditorRow",{enumerable:!0,get:function(){return f.QueryEditorRow}});var s=t(86856);Object.defineProperty(e,"DebounceInput",{enumerable:!0,get:function(){return s.DebounceInput}});var l=t(19256);Object.defineProperty(e,"Segment",{enumerable:!0,get:function(){return l.Segment}});var n=t(4678);Object.defineProperty(e,"DatePicker",{enumerable:!0,get:function(){return n.DatePicker}});var o=t(72668);Object.defineProperty(e,"DatePickerWithInput",{enumerable:!0,get:function(){return o.DatePickerWithInput}}),Object.defineProperty(e,"formatDate",{enumerable:!0,get:function(){return o.formatDate}}),r.__exportStar(t(73828),e),r.__exportStar(t(46134),e),r.__exportStar(t(4182),e);var i=t(26527);Object.defineProperty(e,"InlineSwitch",{enumerable:!0,get:function(){return i.InlineSwitch}}),Object.defineProperty(e,"CertificationKey",{enumerable:!0,get:function(){return i.CertificationKey}}),r.__exportStar(t(28333),e),r.__exportStar(t(40011),e);var a=t(50004);Object.defineProperty(e,"CustomHeadersSettings",{enumerable:!0,get:function(){return a.CustomHeadersSettings}}),r.__exportStar(t(36979),e),r.__exportStar(t(32621),e)},37831:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSearchFilterScopedVar=e.containsSearchFilter=e.SEARCH_FILTER_VARIABLE=e.SqlDatasource=void 0;const r=t(31635),c=t(79364),f=t(92794),s=t(6199),l=t(92243),n=t(35491),o=t(53012);class i extends l.DataSourceWithBackend{constructor(v,p=(0,l.getTemplateSrv)()){super(v),this.templateSrv=p,this.annotations={},this.interpolateVariable=(P,E)=>typeof P=="string"?E.multi||E.includeAll?this.getQueryModel().quoteLiteral(P):P:typeof P=="number"?P:Array.isArray(P)?P.map(F=>this.getQueryModel().quoteLiteral(F)).join(","):P,this.name=v.name,this.id=v.id;const m=v.jsonData||{};this.interval=m.timeInterval||"1m",this.db=this.getDB()}interpolateVariablesInQueries(v,p){let m=v;return v&&v.length>0&&(m=v.map(P=>Object.assign(Object.assign({},P),{datasource:this.getRef(),rawSql:this.templateSrv.replace(P.rawSql,p,this.interpolateVariable),rawQuery:!0}))),m}filterQuery(v){return!v.hide}applyTemplateVariables(v,p){const m=this.getQueryModel(v,this.templateSrv,p),P=this.clean(m.interpolate());return{refId:v.refId,datasource:this.getRef(),rawSql:P,format:v.format}}clean(v){return v.replace(/''/g,"'")}metricFindQuery(v,p){return r.__awaiter(this,void 0,void 0,function*(){const m=this.templateSrv.replace(v,(0,e.getSearchFilterScopedVar)({query:v,wildcardChar:"%",options:p}),this.interpolateVariable),P={refId:"tempvar",datasource:this.getRef(),rawSql:m,format:o.QueryFormat.Table},E=yield this.runMetaQuery(P,p);return this.getResponseParser().transformMetricFindResponse(E)})}runSql(v,p){return r.__awaiter(this,void 0,void 0,function*(){const m=yield this.runMetaQuery({rawSql:v,format:o.QueryFormat.Table,refId:p?.refId},p);return new s.DataFrameView(m)})}runMetaQuery(v,p){var m,P;const E=v.refId||"meta",L=[Object.assign(Object.assign({},v),{datasource:v.datasource||this.getRef(),refId:E})];return(0,c.lastValueFrom)((0,l.getBackendSrv)().fetch({url:"/api/ds/query",method:"POST",data:{from:(m=p?.range)===null||m===void 0?void 0:m.from.valueOf().toString(),to:(P=p?.range)===null||P===void 0?void 0:P.to.valueOf().toString(),queries:L},requestId:E}).pipe((0,f.map)(F=>(0,l.toDataQueryResponse)(F,L).data[0])))}testDatasource(){return(0,c.lastValueFrom)((0,l.getBackendSrv)().fetch({url:"/api/ds/query",method:"POST",data:{from:"5m",to:"now",queries:[{refId:"A",intervalMs:1,maxDataPoints:1,datasource:this.getRef(),datasourceId:this.id,rawSql:"SELECT 1",format:"table"}]}}).pipe((0,f.map)(()=>({status:"success",message:"Database Connection OK"})),(0,f.catchError)(v=>(0,c.of)(v))))}targetContainsTemplate(v){let p=v.rawSql;return n.MACRO_NAMES.forEach(m=>{p=p?.replace(m,"")||""}),this.templateSrv.containsTemplate(p)}}e.SqlDatasource=i,e.SEARCH_FILTER_VARIABLE="__searchFilter";const a=d=>d&&typeof d=="string"?d.indexOf(e.SEARCH_FILTER_VARIABLE)!==-1:!1;e.containsSearchFilter=a;const u=d=>{const{query:v,wildcardChar:p}=d;if(!(0,e.containsSearchFilter)(v))return{};let{options:m}=d;return m=m||{searchFilter:""},{__searchFilter:{value:m.searchFilter?`${m.searchFilter}${p}`:`${p}`,text:""}}};e.getSearchFilterScopedVar=u},35491:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MACRO_NAMES=void 0,e.MACRO_NAMES=["$__time","$__timeEpoch","$__timeFilter","$__timeFrom","$__timeTo","$__timeGroup","$__timeGroupAlias","$__unixEpochFilter","$__unixEpochNanoFilter","$__unixEpochNanoFrom","$__unixEpochNanoTo","$__unixEpochGroup","$__unixEpochGroupAlias"]},65473:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useDebounce=e.DEFAULT_DELAY=void 0;const r=t(96540);e.DEFAULT_DELAY=275;const c=(f,s=e.DEFAULT_DELAY)=>{const[l,n]=(0,r.useState)(f);return(0,r.useEffect)(()=>{const o=setTimeout(()=>{n(f)},s);return()=>{clearTimeout(o)}},[f]),l};e.useDebounce=c},79674:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SqlDatasource=void 0,t(31635).__exportStar(t(53307),e);var c=t(37831);Object.defineProperty(e,"SqlDatasource",{enumerable:!0,get:function(){return c.SqlDatasource}})},92593:(z,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>Un});var r=t(96540),c=t(89379),f=t(23029),s=t(92901),l=t(9417),n=t(85501),o=t(88293),i=t(40961),a=t(54808),u=t(66588),d=t(8719);function v(ue,ve,fe,ae){var Te=i.unstable_batchedUpdates?function(ge){i.unstable_batchedUpdates(fe,ge)}:fe;return ue!=null&&ue.addEventListener&&ue.addEventListener(ve,Te,ae),{remove:function(){ue!=null&&ue.removeEventListener&&ue.removeEventListener(ve,Te,ae)}}}var p=t(20998),m=(0,r.forwardRef)(function(ue,ve){var fe=ue.didUpdate,ae=ue.getContainer,Te=ue.children,Oe=(0,r.useRef)(),ge=(0,r.useRef)();(0,r.useImperativeHandle)(ve,function(){return{}});var We=(0,r.useRef)(!1);return!We.current&&(0,p.A)()&&(ge.current=ae(),Oe.current=ge.current.parentNode,We.current=!0),(0,r.useEffect)(function(){fe?.(ue)}),(0,r.useEffect)(function(){return ge.current.parentNode===null&&Oe.current!==null&&Oe.current.appendChild(ge.current),function(){var Ce;(Ce=ge.current)===null||Ce===void 0||(Ce=Ce.parentNode)===null||Ce===void 0||Ce.removeChild(ge.current)}},[]),ge.current?i.createPortal(Te,ge.current):null});const P=m;var E=t(46942),L=t.n(E);function F(ue,ve,fe){return fe?ue[0]===ve[0]:ue[0]===ve[0]&&ue[1]===ve[1]}function j(ue,ve,fe){var ae=ue[ve]||{};return(0,c.A)((0,c.A)({},ae),fe)}function D(ue,ve,fe,ae){for(var Te=fe.points,Oe=Object.keys(ue),ge=0;ge<Oe.length;ge+=1){var We=Oe[ge];if(F(ue[We].points,Te,ae))return"".concat(ve,"-placement-").concat(We)}return""}var B=t(80045),G=t(93146),K=t.n(G),Y=t(5544),$=t(82284);function U(ue,ve){var fe=Object.keys(ue);if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(ue);ve&&(ae=ae.filter(function(Te){return Object.getOwnPropertyDescriptor(ue,Te).enumerable})),fe.push.apply(fe,ae)}return fe}function M(ue){for(var ve=1;ve<arguments.length;ve++){var fe=arguments[ve]!=null?arguments[ve]:{};ve%2?U(Object(fe),!0).forEach(function(ae){y(ue,ae,fe[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(fe)):U(Object(fe)).forEach(function(ae){Object.defineProperty(ue,ae,Object.getOwnPropertyDescriptor(fe,ae))})}return ue}function C(ue){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(ve){return typeof ve}:C=function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},C(ue)}function y(ue,ve,fe){return ve in ue?Object.defineProperty(ue,ve,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ue[ve]=fe,ue}var b,T={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function R(){if(b!==void 0)return b;b="";var ue=document.createElement("p").style,ve="Transform";for(var fe in T)fe+ve in ue&&(b=fe);return b}function S(){return R()?"".concat(R(),"TransitionProperty"):"transitionProperty"}function A(){return R()?"".concat(R(),"Transform"):"transform"}function W(ue,ve){var fe=S();fe&&(ue.style[fe]=ve,fe!=="transitionProperty"&&(ue.style.transitionProperty=ve))}function I(ue,ve){var fe=A();fe&&(ue.style[fe]=ve,fe!=="transform"&&(ue.style.transform=ve))}function O(ue){return ue.style.transitionProperty||ue.style[S()]}function h(ue){var ve=window.getComputedStyle(ue,null),fe=ve.getPropertyValue("transform")||ve.getPropertyValue(A());if(fe&&fe!=="none"){var ae=fe.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(ae[12]||ae[4],0),y:parseFloat(ae[13]||ae[5],0)}}return{x:0,y:0}}var w=/matrix\((.*)\)/,V=/matrix3d\((.*)\)/;function H(ue,ve){var fe=window.getComputedStyle(ue,null),ae=fe.getPropertyValue("transform")||fe.getPropertyValue(A());if(ae&&ae!=="none"){var Te,Oe=ae.match(w);if(Oe)Oe=Oe[1],Te=Oe.split(",").map(function(We){return parseFloat(We,10)}),Te[4]=ve.x,Te[5]=ve.y,I(ue,"matrix(".concat(Te.join(","),")"));else{var ge=ae.match(V)[1];Te=ge.split(",").map(function(We){return parseFloat(We,10)}),Te[12]=ve.x,Te[13]=ve.y,I(ue,"matrix3d(".concat(Te.join(","),")"))}}else I(ue,"translateX(".concat(ve.x,"px) translateY(").concat(ve.y,"px) translateZ(0)"))}var _=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,oe;function te(ue){var ve=ue.style.display;ue.style.display="none",ue.offsetHeight,ue.style.display=ve}function Q(ue,ve,fe){var ae=fe;if(C(ve)==="object"){for(var Te in ve)ve.hasOwnProperty(Te)&&Q(ue,Te,ve[Te]);return}if(typeof ae<"u"){typeof ae=="number"&&(ae="".concat(ae,"px")),ue.style[ve]=ae;return}return oe(ue,ve)}function X(ue){var ve,fe,ae,Te=ue.ownerDocument,Oe=Te.body,ge=Te&&Te.documentElement;return ve=ue.getBoundingClientRect(),fe=ve.left,ae=ve.top,fe-=ge.clientLeft||Oe.clientLeft||0,ae-=ge.clientTop||Oe.clientTop||0,{left:fe,top:ae}}function k(ue,ve){var fe=ue["page".concat(ve?"Y":"X","Offset")],ae="scroll".concat(ve?"Top":"Left");if(typeof fe!="number"){var Te=ue.document;fe=Te.documentElement[ae],typeof fe!="number"&&(fe=Te.body[ae])}return fe}function re(ue){return k(ue)}function q(ue){return k(ue,!0)}function le(ue){var ve=X(ue),fe=ue.ownerDocument,ae=fe.defaultView||fe.parentWindow;return ve.left+=re(ae),ve.top+=q(ae),ve}function ee(ue){return ue!=null&&ue==ue.window}function ie(ue){return ee(ue)?ue.document:ue.nodeType===9?ue:ue.ownerDocument}function he(ue,ve,fe){var ae=fe,Te="",Oe=ie(ue);return ae=ae||Oe.defaultView.getComputedStyle(ue,null),ae&&(Te=ae.getPropertyValue(ve)||ae[ve]),Te}var me=new RegExp("^(".concat(_,")(?!px)[a-z%]+$"),"i"),be=/^(top|right|bottom|left)$/,Be="currentStyle",je="runtimeStyle",Ue="left",Ie="px";function $e(ue,ve){var fe=ue[Be]&&ue[Be][ve];if(me.test(fe)&&!be.test(ve)){var ae=ue.style,Te=ae[Ue],Oe=ue[je][Ue];ue[je][Ue]=ue[Be][Ue],ae[Ue]=ve==="fontSize"?"1em":fe||0,fe=ae.pixelLeft+Ie,ae[Ue]=Te,ue[je][Ue]=Oe}return fe===""?"auto":fe}typeof window<"u"&&(oe=window.getComputedStyle?he:$e);function qe(ue,ve){return ue==="left"?ve.useCssRight?"right":ue:ve.useCssBottom?"bottom":ue}function tt(ue){if(ue==="left")return"right";if(ue==="right")return"left";if(ue==="top")return"bottom";if(ue==="bottom")return"top"}function ct(ue,ve,fe){Q(ue,"position")==="static"&&(ue.style.position="relative");var ae=-999,Te=-999,Oe=qe("left",fe),ge=qe("top",fe),We=tt(Oe),Ce=tt(ge);Oe!=="left"&&(ae=999),ge!=="top"&&(Te=999);var Ve="",Qe=le(ue);("left"in ve||"top"in ve)&&(Ve=O(ue)||"",W(ue,"none")),"left"in ve&&(ue.style[We]="",ue.style[Oe]="".concat(ae,"px")),"top"in ve&&(ue.style[Ce]="",ue.style[ge]="".concat(Te,"px")),te(ue);var Ze=le(ue),it={};for(var at in ve)if(ve.hasOwnProperty(at)){var lt=qe(at,fe),Ct=at==="left"?ae:Te,Ut=Qe[at]-Ze[at];lt===at?it[lt]=Ct+Ut:it[lt]=Ct-Ut}Q(ue,it),te(ue),("left"in ve||"top"in ve)&&W(ue,Ve);var zt={};for(var Ht in ve)if(ve.hasOwnProperty(Ht)){var Cr=qe(Ht,fe),Lr=ve[Ht]-Qe[Ht];Ht===Cr?zt[Cr]=it[Cr]+Lr:zt[Cr]=it[Cr]-Lr}Q(ue,zt)}function gt(ue,ve){var fe=le(ue),ae=h(ue),Te={x:ae.x,y:ae.y};"left"in ve&&(Te.x=ae.x+ve.left-fe.left),"top"in ve&&(Te.y=ae.y+ve.top-fe.top),H(ue,Te)}function dt(ue,ve,fe){if(fe.ignoreShake){var ae=le(ue),Te=ae.left.toFixed(0),Oe=ae.top.toFixed(0),ge=ve.left.toFixed(0),We=ve.top.toFixed(0);if(Te===ge&&Oe===We)return}fe.useCssRight||fe.useCssBottom?ct(ue,ve,fe):fe.useCssTransform&&A()in document.body.style?gt(ue,ve):ct(ue,ve,fe)}function Ot(ue,ve){for(var fe=0;fe<ue.length;fe++)ve(ue[fe])}function Me(ue){return oe(ue,"boxSizing")==="border-box"}var Le=["margin","border","padding"],He=-1,_e=2,Xe=1,rt=0;function ke(ue,ve,fe){var ae={},Te=ue.style,Oe;for(Oe in ve)ve.hasOwnProperty(Oe)&&(ae[Oe]=Te[Oe],Te[Oe]=ve[Oe]);fe.call(ue);for(Oe in ve)ve.hasOwnProperty(Oe)&&(Te[Oe]=ae[Oe])}function ft(ue,ve,fe){var ae=0,Te,Oe,ge;for(Oe=0;Oe<ve.length;Oe++)if(Te=ve[Oe],Te)for(ge=0;ge<fe.length;ge++){var We=void 0;Te==="border"?We="".concat(Te).concat(fe[ge],"Width"):We=Te+fe[ge],ae+=parseFloat(oe(ue,We))||0}return ae}var vt={getParent:function(ve){var fe=ve;do fe.nodeType===11&&fe.host?fe=fe.host:fe=fe.parentNode;while(fe&&fe.nodeType!==1&&fe.nodeType!==9);return fe}};Ot(["Width","Height"],function(ue){vt["doc".concat(ue)]=function(ve){var fe=ve.document;return Math.max(fe.documentElement["scroll".concat(ue)],fe.body["scroll".concat(ue)],vt["viewport".concat(ue)](fe))},vt["viewport".concat(ue)]=function(ve){var fe="client".concat(ue),ae=ve.document,Te=ae.body,Oe=ae.documentElement,ge=Oe[fe];return ae.compatMode==="CSS1Compat"&&ge||Te&&Te[fe]||ge}});function Pt(ue,ve,fe){var ae=fe;if(ee(ue))return ve==="width"?vt.viewportWidth(ue):vt.viewportHeight(ue);if(ue.nodeType===9)return ve==="width"?vt.docWidth(ue):vt.docHeight(ue);var Te=ve==="width"?["Left","Right"]:["Top","Bottom"],Oe=ve==="width"?ue.getBoundingClientRect().width:ue.getBoundingClientRect().height,ge=Me(ue),We=0;(Oe==null||Oe<=0)&&(Oe=void 0,We=oe(ue,ve),(We==null||Number(We)<0)&&(We=ue.style[ve]||0),We=parseFloat(We)||0),ae===void 0&&(ae=ge?Xe:He);var Ce=Oe!==void 0||ge,Ve=Oe||We;return ae===He?Ce?Ve-ft(ue,["border","padding"],Te):We:Ce?ae===Xe?Ve:Ve+(ae===_e?-ft(ue,["border"],Te):ft(ue,["margin"],Te)):We+ft(ue,Le.slice(ae),Te)}var ht={position:"absolute",visibility:"hidden",display:"block"};function Rt(){for(var ue=arguments.length,ve=new Array(ue),fe=0;fe<ue;fe++)ve[fe]=arguments[fe];var ae,Te=ve[0];return Te.offsetWidth!==0?ae=Pt.apply(void 0,ve):ke(Te,ht,function(){ae=Pt.apply(void 0,ve)}),ae}Ot(["width","height"],function(ue){var ve=ue.charAt(0).toUpperCase()+ue.slice(1);vt["outer".concat(ve)]=function(ae,Te){return ae&&Rt(ae,ue,Te?rt:Xe)};var fe=ue==="width"?["Left","Right"]:["Top","Bottom"];vt[ue]=function(ae,Te){var Oe=Te;if(Oe!==void 0){if(ae){var ge=Me(ae);return ge&&(Oe+=ft(ae,["padding","border"],fe)),Q(ae,ue,Oe)}return}return ae&&Rt(ae,ue,He)}});function jt(ue,ve){for(var fe in ve)ve.hasOwnProperty(fe)&&(ue[fe]=ve[fe]);return ue}var ut={getWindow:function(ve){if(ve&&ve.document&&ve.setTimeout)return ve;var fe=ve.ownerDocument||ve;return fe.defaultView||fe.parentWindow},getDocument:ie,offset:function(ve,fe,ae){if(typeof fe<"u")dt(ve,fe,ae||{});else return le(ve)},isWindow:ee,each:Ot,css:Q,clone:function(ve){var fe,ae={};for(fe in ve)ve.hasOwnProperty(fe)&&(ae[fe]=ve[fe]);var Te=ve.overflow;if(Te)for(fe in ve)ve.hasOwnProperty(fe)&&(ae.overflow[fe]=ve.overflow[fe]);return ae},mix:jt,getWindowScrollLeft:function(ve){return re(ve)},getWindowScrollTop:function(ve){return q(ve)},merge:function(){for(var ve={},fe=0;fe<arguments.length;fe++)ut.mix(ve,fe<0||arguments.length<=fe?void 0:arguments[fe]);return ve},viewportWidth:0,viewportHeight:0};jt(ut,vt);var Ft=ut.getParent;function Wt(ue){if(ut.isWindow(ue)||ue.nodeType===9)return null;var ve=ut.getDocument(ue),fe=ve.body,ae,Te=ut.css(ue,"position"),Oe=Te==="fixed"||Te==="absolute";if(!Oe)return ue.nodeName.toLowerCase()==="html"?null:Ft(ue);for(ae=Ft(ue);ae&&ae!==fe&&ae.nodeType!==9;ae=Ft(ae))if(Te=ut.css(ae,"position"),Te!=="static")return ae;return null}var Lt=ut.getParent;function $t(ue){if(ut.isWindow(ue)||ue.nodeType===9)return!1;var ve=ut.getDocument(ue),fe=ve.body,ae=null;for(ae=Lt(ue);ae&&ae!==fe&&ae!==ve;ae=Lt(ae)){var Te=ut.css(ae,"position");if(Te==="fixed")return!0}return!1}function Gt(ue,ve){for(var fe={left:0,right:1/0,top:0,bottom:1/0},ae=Wt(ue),Te=ut.getDocument(ue),Oe=Te.defaultView||Te.parentWindow,ge=Te.body,We=Te.documentElement;ae;){if((navigator.userAgent.indexOf("MSIE")===-1||ae.clientWidth!==0)&&ae!==ge&&ae!==We&&ut.css(ae,"overflow")!=="visible"){var Ce=ut.offset(ae);Ce.left+=ae.clientLeft,Ce.top+=ae.clientTop,fe.top=Math.max(fe.top,Ce.top),fe.right=Math.min(fe.right,Ce.left+ae.clientWidth),fe.bottom=Math.min(fe.bottom,Ce.top+ae.clientHeight),fe.left=Math.max(fe.left,Ce.left)}else if(ae===ge||ae===We)break;ae=Wt(ae)}var Ve=null;if(!ut.isWindow(ue)&&ue.nodeType!==9){Ve=ue.style.position;var Qe=ut.css(ue,"position");Qe==="absolute"&&(ue.style.position="fixed")}var Ze=ut.getWindowScrollLeft(Oe),it=ut.getWindowScrollTop(Oe),at=ut.viewportWidth(Oe),lt=ut.viewportHeight(Oe),Ct=We.scrollWidth,Ut=We.scrollHeight,zt=window.getComputedStyle(ge);if(zt.overflowX==="hidden"&&(Ct=Oe.innerWidth),zt.overflowY==="hidden"&&(Ut=Oe.innerHeight),ue.style&&(ue.style.position=Ve),ve||$t(ue))fe.left=Math.max(fe.left,Ze),fe.top=Math.max(fe.top,it),fe.right=Math.min(fe.right,Ze+at),fe.bottom=Math.min(fe.bottom,it+lt);else{var Ht=Math.max(Ct,Ze+at);fe.right=Math.min(fe.right,Ht);var Cr=Math.max(Ut,it+lt);fe.bottom=Math.min(fe.bottom,Cr)}return fe.top>=0&&fe.left>=0&&fe.bottom>fe.top&&fe.right>fe.left?fe:null}function Yt(ue,ve,fe,ae){var Te=ut.clone(ue),Oe={width:ve.width,height:ve.height};return ae.adjustX&&Te.left<fe.left&&(Te.left=fe.left),ae.resizeWidth&&Te.left>=fe.left&&Te.left+Oe.width>fe.right&&(Oe.width-=Te.left+Oe.width-fe.right),ae.adjustX&&Te.left+Oe.width>fe.right&&(Te.left=Math.max(fe.right-Oe.width,fe.left)),ae.adjustY&&Te.top<fe.top&&(Te.top=fe.top),ae.resizeHeight&&Te.top>=fe.top&&Te.top+Oe.height>fe.bottom&&(Oe.height-=Te.top+Oe.height-fe.bottom),ae.adjustY&&Te.top+Oe.height>fe.bottom&&(Te.top=Math.max(fe.bottom-Oe.height,fe.top)),ut.mix(Te,Oe)}function Kt(ue){var ve,fe,ae;if(!ut.isWindow(ue)&&ue.nodeType!==9)ve=ut.offset(ue),fe=ut.outerWidth(ue),ae=ut.outerHeight(ue);else{var Te=ut.getWindow(ue);ve={left:ut.getWindowScrollLeft(Te),top:ut.getWindowScrollTop(Te)},fe=ut.viewportWidth(Te),ae=ut.viewportHeight(Te)}return ve.width=fe,ve.height=ae,ve}function nr(ue,ve){var fe=ve.charAt(0),ae=ve.charAt(1),Te=ue.width,Oe=ue.height,ge=ue.left,We=ue.top;return fe==="c"?We+=Oe/2:fe==="b"&&(We+=Oe),ae==="c"?ge+=Te/2:ae==="r"&&(ge+=Te),{left:ge,top:We}}function _t(ue,ve,fe,ae,Te){var Oe=nr(ve,fe[1]),ge=nr(ue,fe[0]),We=[ge.left-Oe.left,ge.top-Oe.top];return{left:Math.round(ue.left-We[0]+ae[0]-Te[0]),top:Math.round(ue.top-We[1]+ae[1]-Te[1])}}function Xt(ue,ve,fe){return ue.left<fe.left||ue.left+ve.width>fe.right}function ar(ue,ve,fe){return ue.top<fe.top||ue.top+ve.height>fe.bottom}function cr(ue,ve,fe){return ue.left>fe.right||ue.left+ve.width<fe.left}function wr(ue,ve,fe){return ue.top>fe.bottom||ue.top+ve.height<fe.top}function kt(ue,ve,fe){var ae=[];return ut.each(ue,function(Te){ae.push(Te.replace(ve,function(Oe){return fe[Oe]}))}),ae}function hr(ue,ve){return ue[ve]=-ue[ve],ue}function ir(ue,ve){var fe;return/%$/.test(ue)?fe=parseInt(ue.substring(0,ue.length-1),10)/100*ve:fe=parseInt(ue,10),fe||0}function mt(ue,ve){ue[0]=ir(ue[0],ve.width),ue[1]=ir(ue[1],ve.height)}function qt(ue,ve,fe,ae){var Te=fe.points,Oe=fe.offset||[0,0],ge=fe.targetOffset||[0,0],We=fe.overflow,Ce=fe.source||ue;Oe=[].concat(Oe),ge=[].concat(ge),We=We||{};var Ve={},Qe=0,Ze=!!(We&&We.alwaysByViewport),it=Gt(Ce,Ze),at=Kt(Ce);mt(Oe,at),mt(ge,ve);var lt=_t(at,ve,Te,Oe,ge),Ct=ut.merge(at,lt);if(it&&(We.adjustX||We.adjustY)&&ae){if(We.adjustX&&Xt(lt,at,it)){var Ut=kt(Te,/[lr]/gi,{l:"r",r:"l"}),zt=hr(Oe,0),Ht=hr(ge,0),Cr=_t(at,ve,Ut,zt,Ht);cr(Cr,at,it)||(Qe=1,Te=Ut,Oe=zt,ge=Ht)}if(We.adjustY&&ar(lt,at,it)){var Lr=kt(Te,/[tb]/gi,{t:"b",b:"t"}),Kr=hr(Oe,1),zr=hr(ge,1),pn=_t(at,ve,Lr,Kr,zr);wr(pn,at,it)||(Qe=1,Te=Lr,Oe=Kr,ge=zr)}Qe&&(lt=_t(at,ve,Te,Oe,ge),ut.mix(Ct,lt));var g=Xt(lt,at,it),N=ar(lt,at,it);if(g||N){var J=Te;g&&(J=kt(Te,/[lr]/gi,{l:"r",r:"l"})),N&&(J=kt(Te,/[tb]/gi,{t:"b",b:"t"})),Te=J,Oe=fe.offset||[0,0],ge=fe.targetOffset||[0,0]}Ve.adjustX=We.adjustX&&g,Ve.adjustY=We.adjustY&&N,(Ve.adjustX||Ve.adjustY)&&(Ct=Yt(lt,at,it,Ve))}return Ct.width!==at.width&&ut.css(Ce,"width",ut.width(Ce)+Ct.width-at.width),Ct.height!==at.height&&ut.css(Ce,"height",ut.height(Ce)+Ct.height-at.height),ut.offset(Ce,{left:Ct.left,top:Ct.top},{useCssRight:fe.useCssRight,useCssBottom:fe.useCssBottom,useCssTransform:fe.useCssTransform,ignoreShake:fe.ignoreShake}),{points:Te,offset:Oe,targetOffset:ge,overflow:Ve}}function pr(ue,ve){var fe=Gt(ue,ve),ae=Kt(ue);return!fe||ae.left+ae.width<=fe.left||ae.top+ae.height<=fe.top||ae.left>=fe.right||ae.top>=fe.bottom}function bt(ue,ve,fe){var ae=fe.target||ve,Te=Kt(ae),Oe=!pr(ae,fe.overflow&&fe.overflow.alwaysByViewport);return qt(ue,Te,fe,Oe)}bt.__getOffsetParent=Wt,bt.__getVisibleRectForElement=Gt;function fr(ue,ve,fe){var ae,Te,Oe=ut.getDocument(ue),ge=Oe.defaultView||Oe.parentWindow,We=ut.getWindowScrollLeft(ge),Ce=ut.getWindowScrollTop(ge),Ve=ut.viewportWidth(ge),Qe=ut.viewportHeight(ge);"pageX"in ve?ae=ve.pageX:ae=We+ve.clientX,"pageY"in ve?Te=ve.pageY:Te=Ce+ve.clientY;var Ze={left:ae,top:Te,width:0,height:0},it=ae>=0&&ae<=We+Ve&&Te>=0&&Te<=Ce+Qe,at=[fe.points[0],"cc"];return qt(ue,Ze,M(M({},fe),{},{points:at}),it)}const Or=null;var de=t(43210),we=t(42467),Fe=t(30981);const ze=function(ue,ve){var fe=r.useRef(!1),ae=r.useRef(null);function Te(){window.clearTimeout(ae.current)}function Oe(ge){if(Te(),!fe.current||ge===!0){if(ue(ge)===!1)return;fe.current=!0,ae.current=window.setTimeout(function(){fe.current=!1},ve)}else ae.current=window.setTimeout(function(){fe.current=!1,Oe()},ve)}return[Oe,function(){fe.current=!1,Te()}]};var et=t(43591);function st(ue,ve){return ue===ve?!0:!ue||!ve?!1:"pageX"in ve&&"pageY"in ve?ue.pageX===ve.pageX&&ue.pageY===ve.pageY:"clientX"in ve&&"clientY"in ve?ue.clientX===ve.clientX&&ue.clientY===ve.clientY:!1}function xe(ue,ve){ue!==document.activeElement&&(0,a.A)(ve,ue)&&typeof ue.focus=="function"&&ue.focus()}function At(ue,ve){var fe=null,ae=null;function Te(ge){var We=(0,Y.A)(ge,1),Ce=We[0].target;if(document.documentElement.contains(Ce)){var Ve=Ce.getBoundingClientRect(),Qe=Ve.width,Ze=Ve.height,it=Math.floor(Qe),at=Math.floor(Ze);(fe!==it||ae!==at)&&Promise.resolve().then(function(){ve({width:it,height:at})}),fe=it,ae=at}}var Oe=new et.default(Te);return ue&&Oe.observe(ue),function(){Oe.disconnect()}}function pt(ue){return typeof ue!="function"?null:ue()}function It(ue){return(0,$.A)(ue)!=="object"||!ue?null:ue}var wt=function(ve,fe){var ae=ve.children,Te=ve.disabled,Oe=ve.target,ge=ve.align,We=ve.onAlign,Ce=ve.monitorWindowResize,Ve=ve.monitorBufferTime,Qe=Ve===void 0?0:Ve,Ze=r.useRef({}),it=r.useRef(),at=r.Children.only(ae),lt=r.useRef({});lt.current.disabled=Te,lt.current.target=Oe,lt.current.align=ge,lt.current.onAlign=We;var Ct=ze(function(){var ne=lt.current,ce=ne.disabled,ye=ne.target,Re=ne.align,Ne=ne.onAlign,Ge=it.current;if(!ce&&ye&&Ge){var Ye,Je=pt(ye),yt=It(ye);Ze.current.element=Je,Ze.current.point=yt,Ze.current.align=Re;var Tt=document,Bt=Tt.activeElement;return Je&&(0,we.A)(Je)?Ye=bt(Ge,Je,Re):yt&&(Ye=fr(Ge,yt,Re)),xe(Bt,Ge),Ne&&Ye&&Ne(Ge,Ye),!0}return!1},Qe),Ut=(0,Y.A)(Ct,2),zt=Ut[0],Ht=Ut[1],Cr=r.useState(),Lr=(0,Y.A)(Cr,2),Kr=Lr[0],zr=Lr[1],pn=r.useState(),g=(0,Y.A)(pn,2),N=g[0],J=g[1];return(0,Fe.A)(function(){zr(pt(Oe)),J(It(Oe))}),r.useEffect(function(){(Ze.current.element!==Kr||!st(Ze.current.point,N)||!(0,de.A)(Ze.current.align,ge))&&zt()}),r.useEffect(function(){var ne=At(it.current,zt);return ne},[it.current]),r.useEffect(function(){var ne=At(Kr,zt);return ne},[Kr]),r.useEffect(function(){Te?Ht():zt()},[Te]),r.useEffect(function(){if(Ce){var ne=v(window,"resize",zt);return ne.remove}},[Ce]),r.useEffect(function(){return function(){Ht()}},[]),r.useImperativeHandle(fe,function(){return{forceAlign:function(){return zt(!0)}}}),r.isValidElement(at)&&(at=r.cloneElement(at,{ref:(0,d.K4)(at.ref,it)})),at},or=r.forwardRef(wt);or.displayName="Align";const Zt=or;var Rr=t(64467),ur=!!(typeof window<"u"&&window.document&&window.document.createElement);function xt(ue,ve){var fe={};return fe[ue.toLowerCase()]=ve.toLowerCase(),fe["Webkit".concat(ue)]="webkit".concat(ve),fe["Moz".concat(ue)]="moz".concat(ve),fe["ms".concat(ue)]="MS".concat(ve),fe["O".concat(ue)]="o".concat(ve.toLowerCase()),fe}function gr(ue,ve){var fe={animationend:xt("Animation","AnimationEnd"),transitionend:xt("Transition","TransitionEnd")};return ue&&("AnimationEvent"in ve||delete fe.animationend.animation,"TransitionEvent"in ve||delete fe.transitionend.transition),fe}var Vt=gr(ur,typeof window<"u"?window:{}),Mr={};if(ur){var Ur=document.createElement("div");Mr=Ur.style}var Dr={};function Vr(ue){if(Dr[ue])return Dr[ue];var ve=Vt[ue];if(ve)for(var fe=Object.keys(ve),ae=fe.length,Te=0;Te<ae;Te+=1){var Oe=fe[Te];if(Object.prototype.hasOwnProperty.call(ve,Oe)&&Oe in Mr)return Dr[ue]=ve[Oe],Dr[ue]}return""}var Ir=Vr("animationend"),dr=Vr("transitionend"),cn=!!(Ir&&dr);function gn(ue,ve){if(!ue)return null;if((0,$.A)(ue)==="object"){var fe=ve.replace(/-\w/g,function(ae){return ae[1].toUpperCase()});return ue[fe]}return"".concat(ue,"-").concat(ve)}var Xr="none",Et="appear",er="enter",tr="leave";function lr(ue){var ve=ue,fe=!!r.forwardRef;(0,$.A)(ue)==="object"&&(ve=ue.transitionSupport,fe="forwardRef"in ue?ue.forwardRef:fe);function ae(Oe){return!!(Oe.motionName&&ve)}var Te=function(Oe){(0,n.A)(We,Oe);var ge=(0,o.A)(We);function We(){var Ce;return(0,f.A)(this,We),Ce=ge.apply(this,arguments),Ce.$cacheEle=null,Ce.node=null,Ce.raf=null,Ce.destroyed=!1,Ce.deadlineId=null,Ce.state={status:Xr,statusActive:!1,newStatus:!1,statusStyle:null},Ce.onDomUpdate=function(){var Ve=Ce.state,Qe=Ve.status,Ze=Ve.newStatus,it=Ce.props,at=it.onAppearStart,lt=it.onEnterStart,Ct=it.onLeaveStart,Ut=it.onAppearActive,zt=it.onEnterActive,Ht=it.onLeaveActive,Cr=it.motionAppear,Lr=it.motionEnter,Kr=it.motionLeave;if(ae(Ce.props)){var zr=Ce.getElement();Ce.$cacheEle!==zr&&(Ce.removeEventListener(Ce.$cacheEle),Ce.addEventListener(zr),Ce.$cacheEle=zr),Ze&&Qe===Et&&Cr?Ce.updateStatus(at,null,null,function(){Ce.updateActiveStatus(Ut,Et)}):Ze&&Qe===er&&Lr?Ce.updateStatus(lt,null,null,function(){Ce.updateActiveStatus(zt,er)}):Ze&&Qe===tr&&Kr&&Ce.updateStatus(Ct,null,null,function(){Ce.updateActiveStatus(Ht,tr)})}},Ce.onMotionEnd=function(Ve){if(!(Ve&&!Ve.deadline&&Ve.target!==Ce.getElement())){var Qe=Ce.state,Ze=Qe.status,it=Qe.statusActive,at=Ce.props,lt=at.onAppearEnd,Ct=at.onEnterEnd,Ut=at.onLeaveEnd;Ze===Et&&it?Ce.updateStatus(lt,{status:Xr},Ve):Ze===er&&it?Ce.updateStatus(Ct,{status:Xr},Ve):Ze===tr&&it&&Ce.updateStatus(Ut,{status:Xr},Ve)}},Ce.setNodeRef=function(Ve){var Qe=Ce.props.internalRef;Ce.node=Ve,(0,d.Xf)(Qe,Ve)},Ce.getElement=function(){try{return(0,u.Ay)(Ce.node||(0,l.A)(Ce))}catch{return Ce.$cacheEle}},Ce.addEventListener=function(Ve){Ve&&(Ve.addEventListener(dr,Ce.onMotionEnd),Ve.addEventListener(Ir,Ce.onMotionEnd))},Ce.removeEventListener=function(Ve){Ve&&(Ve.removeEventListener(dr,Ce.onMotionEnd),Ve.removeEventListener(Ir,Ce.onMotionEnd))},Ce.updateStatus=function(Ve,Qe,Ze,it){var at=Ve?Ve(Ce.getElement(),Ze):null;if(!(at===!1||Ce.destroyed)){var lt;it&&(lt=function(){Ce.nextFrame(it)}),Ce.setState((0,c.A)({statusStyle:(0,$.A)(at)==="object"?at:null,newStatus:!1},Qe),lt)}},Ce.updateActiveStatus=function(Ve,Qe){Ce.nextFrame(function(){var Ze=Ce.state.status;if(Ze===Qe){var it=Ce.props.motionDeadline;Ce.updateStatus(Ve,{statusActive:!0}),it>0&&(Ce.deadlineId=setTimeout(function(){Ce.onMotionEnd({deadline:!0})},it))}})},Ce.nextFrame=function(Ve){Ce.cancelNextFrame(),Ce.raf=K()(Ve)},Ce.cancelNextFrame=function(){Ce.raf&&(K().cancel(Ce.raf),Ce.raf=null)},Ce}return(0,s.A)(We,[{key:"componentDidMount",value:function(){this.onDomUpdate()}},{key:"componentDidUpdate",value:function(){this.onDomUpdate()}},{key:"componentWillUnmount",value:function(){this.destroyed=!0,this.removeEventListener(this.$cacheEle),this.cancelNextFrame(),clearTimeout(this.deadlineId)}},{key:"render",value:function(){var Ve,Qe=this.state,Ze=Qe.status,it=Qe.statusActive,at=Qe.statusStyle,lt=this.props,Ct=lt.children,Ut=lt.motionName,zt=lt.visible,Ht=lt.removeOnLeave,Cr=lt.leavedClassName,Lr=lt.eventProps;return Ct?Ze===Xr||!ae(this.props)?zt?Ct((0,c.A)({},Lr),this.setNodeRef):Ht?null:Ct((0,c.A)((0,c.A)({},Lr),{},{className:Cr}),this.setNodeRef):Ct((0,c.A)((0,c.A)({},Lr),{},{className:L()(gn(Ut,Ze),(Ve={},(0,Rr.A)(Ve,gn(Ut,"".concat(Ze,"-active")),it),(0,Rr.A)(Ve,Ut,typeof Ut=="string"),Ve)),style:at}),this.setNodeRef):null}}],[{key:"getDerivedStateFromProps",value:function(Ve,Qe){var Ze=Qe.prevProps,it=Qe.status;if(!ae(Ve))return{};var at=Ve.visible,lt=Ve.motionAppear,Ct=Ve.motionEnter,Ut=Ve.motionLeave,zt=Ve.motionLeaveImmediately,Ht={prevProps:Ve};return(it===Et&&!lt||it===er&&!Ct||it===tr&&!Ut)&&(Ht.status=Xr,Ht.statusActive=!1,Ht.newStatus=!1),!Ze&&at&&lt&&(Ht.status=Et,Ht.statusActive=!1,Ht.newStatus=!0),Ze&&!Ze.visible&&at&&Ct&&(Ht.status=er,Ht.statusActive=!1,Ht.newStatus=!0),(Ze&&Ze.visible&&!at&&Ut||!Ze&&zt&&!at&&Ut)&&(Ht.status=tr,Ht.statusActive=!1,Ht.newStatus=!0),Ht}}]),We}(r.Component);return Te.defaultProps={visible:!0,motionEnter:!0,motionAppear:!0,motionLeave:!0,removeOnLeave:!0},fe?r.forwardRef(function(Oe,ge){return r.createElement(Te,Object.assign({internalRef:ge},Oe))}):Te}const Pr=lr(cn);var Yr="add",Zr="keep",Qr="remove",bn="removed";function Sn(ue){var ve;return ue&&(0,$.A)(ue)==="object"&&"key"in ue?ve=ue:ve={key:ue},(0,c.A)((0,c.A)({},ve),{},{key:String(ve.key)})}function mn(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ue.map(Sn)}function En(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],fe=[],ae=0,Te=ve.length,Oe=mn(ue),ge=mn(ve);Oe.forEach(function(Ve){for(var Qe=!1,Ze=ae;Ze<Te;Ze+=1){var it=ge[Ze];if(it.key===Ve.key){ae<Ze&&(fe=fe.concat(ge.slice(ae,Ze).map(function(at){return(0,c.A)((0,c.A)({},at),{},{status:Yr})})),ae=Ze),fe.push((0,c.A)((0,c.A)({},it),{},{status:Zr})),ae+=1,Qe=!0;break}}Qe||fe.push((0,c.A)((0,c.A)({},Ve),{},{status:Qr}))}),ae<Te&&(fe=fe.concat(ge.slice(ae).map(function(Ve){return(0,c.A)((0,c.A)({},Ve),{},{status:Yr})})));var We={};fe.forEach(function(Ve){var Qe=Ve.key;We[Qe]=(We[Qe]||0)+1});var Ce=Object.keys(We).filter(function(Ve){return We[Ve]>1});return Ce.forEach(function(Ve){fe=fe.filter(function(Qe){var Ze=Qe.key,it=Qe.status;return Ze!==Ve||it!==Qr}),fe.forEach(function(Qe){Qe.key===Ve&&(Qe.status=Zr)})}),fe}var nn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Dn(ue){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pr,fe=function(ae){(0,n.A)(Oe,ae);var Te=(0,o.A)(Oe);function Oe(){var ge;return(0,f.A)(this,Oe),ge=Te.apply(this,arguments),ge.state={keyEntities:[]},ge.removeKey=function(We){ge.setState(function(Ce){var Ve=Ce.keyEntities;return{keyEntities:Ve.map(function(Qe){return Qe.key!==We?Qe:(0,c.A)((0,c.A)({},Qe),{},{status:bn})})}})},ge}return(0,s.A)(Oe,[{key:"render",value:function(){var We=this,Ce=this.state.keyEntities,Ve=this.props,Qe=Ve.component,Ze=Ve.children,it=(0,B.A)(Ve,["component","children"]),at=Qe||r.Fragment,lt={};return nn.forEach(function(Ct){lt[Ct]=it[Ct],delete it[Ct]}),delete it.keys,r.createElement(at,Object.assign({},it),Ce.map(function(Ct){var Ut=Ct.status,zt=(0,B.A)(Ct,["status"]),Ht=Ut===Yr||Ut===Zr;return r.createElement(ve,Object.assign({},lt,{key:zt.key,visible:Ht,eventProps:zt,onLeaveEnd:function(){lt.onLeaveEnd&&lt.onLeaveEnd.apply(lt,arguments),We.removeKey(zt.key)}}),Ze)}))}}],[{key:"getDerivedStateFromProps",value:function(We,Ce){var Ve=We.keys,Qe=Ce.keyEntities,Ze=mn(Ve);if(!ue)return{keyEntities:Ze.map(function(lt){return(0,c.A)((0,c.A)({},lt),{},{status:Zr})})};var it=En(Qe,Ze),at=Qe.length;return{keyEntities:it.filter(function(lt){for(var Ct=null,Ut=0;Ut<at;Ut+=1){var zt=Qe[Ut];if(zt.key===lt.key){Ct=zt;break}}return!(Ct&&Ct.status===bn&&lt.status===Qr)})}}}]),Oe}(r.Component);return fe.defaultProps={component:"div"},fe}const _r=Dn(cn),fn=Pr;var dn=function(ve,fe){var ae=ve.prefixCls,Te=ve.className,Oe=ve.style,ge=ve.children,We=ve.onMouseEnter,Ce=ve.onMouseLeave,Ve=ve.onMouseDown,Qe=ve.onTouchStart,Ze=ge;return r.Children.count(ge)>1&&(Ze=r.createElement("div",{className:"".concat(ae,"-content")},ge)),r.createElement("div",{ref:fe,className:Te,onMouseEnter:We,onMouseLeave:Ce,onMouseDown:Ve,onTouchStart:Qe,style:Oe},Ze)},yr=r.forwardRef(dn);yr.displayName="PopupInner";const In=yr;function qr(ue){var ve=ue.prefixCls,fe=ue.motion,ae=ue.animation,Te=ue.transitionName;return fe||(ae?{motionName:"".concat(ve,"-").concat(ae)}:Te?{motionName:Te}:null)}function Pn(ue){return ue&&ue.motionName}var hn=function(ue){(0,n.A)(fe,ue);var ve=(0,o.A)(fe);function fe(){var ae;return(0,f.A)(this,fe),ae=ve.apply(this,arguments),ae.state={targetWidth:void 0,targetHeight:void 0,status:null,prevVisible:null,alignClassName:null,inMotion:!1},ae.popupRef=r.createRef(),ae.alignRef=r.createRef(),ae.nextFrameState=null,ae.nextFrameId=null,ae.onAlign=function(Te,Oe){var ge=ae.state.status,We=ae.props,Ce=We.getClassNameFromAlign,Ve=We.onAlign,Qe=Ce(Oe);ge==="align"?ae.setState({alignClassName:Qe,status:"aligned"},function(){ae.alignRef.current.forceAlign()}):ge==="aligned"?(ae.setState({alignClassName:Qe,status:"afterAlign"}),Ve(Te,Oe)):ae.setState({alignClassName:Qe})},ae.onMotionEnd=function(){var Te=ae.props.visible;ae.setState({status:Te?"AfterMotion":"stable",inMotion:!1})},ae.setStateOnNextFrame=function(Te){ae.cancelFrameState(),ae.nextFrameState=(0,c.A)((0,c.A)({},ae.nextFrameState),Te),ae.nextFrameId=K()(function(){var Oe=(0,c.A)({},ae.nextFrameState);ae.nextFrameState=null,ae.setState(Oe)})},ae.getMotion=function(){return(0,c.A)({},qr(ae.props))},ae.getAlignTarget=function(){var Te=ae.props,Oe=Te.point,ge=Te.getRootDomNode;return Oe||ge},ae.cancelFrameState=function(){K().cancel(ae.nextFrameId)},ae.renderPopupElement=function(){var Te=ae.state,Oe=Te.status,ge=Te.targetHeight,We=Te.targetWidth,Ce=Te.alignClassName,Ve=ae.props,Qe=Ve.prefixCls,Ze=Ve.className,it=Ve.style,at=Ve.stretch,lt=Ve.visible,Ct=Ve.align,Ut=Ve.destroyPopupOnHide,zt=Ve.onMouseEnter,Ht=Ve.onMouseLeave,Cr=Ve.onMouseDown,Lr=Ve.onTouchStart,Kr=Ve.children,zr=L()(Qe,Ze,Ce),pn="".concat(Qe,"-hidden"),g={};at&&(at.indexOf("height")!==-1?g.height=ge:at.indexOf("minHeight")!==-1&&(g.minHeight=ge),at.indexOf("width")!==-1?g.width=We:at.indexOf("minWidth")!==-1&&(g.minWidth=We));var N=(0,c.A)((0,c.A)((0,c.A)((0,c.A)({},g),ae.getZIndexStyle()),it),{},{opacity:Oe==="stable"||!lt?void 0:0,pointerEvents:Oe==="stable"||!lt?void 0:"none"}),J=ae.getMotion(),ne=lt;lt&&Oe!=="beforeMotion"&&Oe!=="motion"&&Oe!=="stable"&&(J.motionAppear=!1,J.motionEnter=!1,J.motionLeave=!1),(Oe==="afterAlign"||Oe==="beforeMotion")&&(ne=!1),["onEnterStart","onAppearStart","onLeaveStart"].forEach(function(Re){var Ne=J?.[Re];J[Re]=function(){for(var Ge=arguments.length,Ye=new Array(Ge),Je=0;Je<Ge;Je++)Ye[Je]=arguments[Je];Ne?.apply(void 0,Ye),ae.setState({inMotion:!0})}});var ce=!lt||Oe!=="align"&&Oe!=="aligned"&&Oe!=="stable",ye=!0;return Oe==="stable"&&(ye=lt),Ut&&!ye?null:r.createElement(fn,Object.assign({visible:ne},J,{removeOnLeave:!1,onEnterEnd:ae.onMotionEnd,onLeaveEnd:ae.onMotionEnd,leavedClassName:pn}),function(Re,Ne){var Ge=Re.style,Ye=Re.className;return r.createElement(Zt,{target:ae.getAlignTarget(),key:"popup",ref:ae.alignRef,monitorWindowResize:!0,disabled:ce,align:Ct,onAlign:ae.onAlign},r.createElement(In,{prefixCls:Qe,className:L()(zr,Ye),ref:(0,d.K4)(Ne,ae.popupRef),onMouseEnter:zt,onMouseLeave:Ht,onMouseDown:Cr,onTouchStart:Lr,style:(0,c.A)((0,c.A)({},N),Ge)},Kr))})},ae.renderMaskElement=function(){var Te=ae.props,Oe=Te.mask,ge=Te.maskMotion,We=Te.maskTransitionName,Ce=Te.maskAnimation,Ve=Te.prefixCls,Qe=Te.visible;if(!Oe)return null;var Ze={};return ge&&ge.motionName&&(Ze=(0,c.A)({motionAppear:!0},qr({motion:ge,prefixCls:Ve,transitionName:We,animation:Ce}))),r.createElement(fn,Object.assign({},Ze,{visible:Qe,removeOnLeave:!0}),function(it){var at=it.className;return r.createElement("div",{style:ae.getZIndexStyle(),key:"mask",className:L()("".concat(Ve,"-mask"),at)})})},ae}return(0,s.A)(fe,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var Te=this.state.status,Oe=this.props,ge=Oe.getRootDomNode,We=Oe.visible,Ce=Oe.stretch;if(this.cancelFrameState(),We&&Te!=="stable")switch(Te){case null:{this.setStateOnNextFrame({status:Ce?"measure":"align"});break}case"afterAlign":{this.setStateOnNextFrame({status:Pn(this.getMotion())?"beforeMotion":"stable"});break}case"AfterMotion":{this.setStateOnNextFrame({status:"stable"});break}default:{var Ve=["measure","align",null,"beforeMotion","motion"],Qe=Ve.indexOf(Te),Ze=Ve[Qe+1];Qe!==-1&&Ze&&this.setStateOnNextFrame({status:Ze})}}if(Te==="measure"){var it=ge();it&&this.setStateOnNextFrame({targetHeight:it.offsetHeight,targetWidth:it.offsetWidth})}}},{key:"componentWillUnmount",value:function(){this.cancelFrameState()}},{key:"getZIndexStyle",value:function(){var Te=this.props.zIndex;return{zIndex:Te}}},{key:"render",value:function(){return r.createElement("div",null,this.renderMaskElement(),this.renderPopupElement())}}],[{key:"getDerivedStateFromProps",value:function(Te,Oe){var ge=Te.visible,We=(0,B.A)(Te,["visible"]),Ce=Oe.prevVisible,Ve=Oe.status,Qe=Oe.inMotion,Ze={prevVisible:ge,status:Ve},it=qr(We);return Ce===null&&ge===!1?(Ze.status="stable",Ze.inMotion=!1):ge!==Ce&&(Ze.inMotion=!1,ge||Pn(it)&&Qe?Ze.status=null:Ze.status="stable",ge&&(Ze.alignClassName=null)),Ze}}]),fe}(r.Component);const jn=hn;var Wr=r.createContext(null);const xr=Wr;function kr(){}function $r(){return""}function Cn(){return window.document}var vn=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function Tn(ue){var ve=function(fe){(0,n.A)(Te,fe);var ae=(0,o.A)(Te);function Te(Oe){var ge;(0,f.A)(this,Te),ge=ae.call(this,Oe),ge.popupRef=r.createRef(),ge.triggerRef=r.createRef(),ge.onMouseEnter=function(Ce){var Ve=ge.props.mouseEnterDelay;ge.fireEvents("onMouseEnter",Ce),ge.delaySetPopupVisible(!0,Ve,Ve?null:Ce)},ge.onMouseMove=function(Ce){ge.fireEvents("onMouseMove",Ce),ge.setPoint(Ce)},ge.onMouseLeave=function(Ce){ge.fireEvents("onMouseLeave",Ce),ge.delaySetPopupVisible(!1,ge.props.mouseLeaveDelay)},ge.onPopupMouseEnter=function(){ge.clearDelayTimer()},ge.onPopupMouseLeave=function(Ce){Ce.relatedTarget&&!Ce.relatedTarget.setTimeout&&ge.popupRef.current&&ge.popupRef.current.popupRef.current&&(0,a.A)(ge.popupRef.current.popupRef.current,Ce.relatedTarget)||ge.delaySetPopupVisible(!1,ge.props.mouseLeaveDelay)},ge.onFocus=function(Ce){ge.fireEvents("onFocus",Ce),ge.clearDelayTimer(),ge.isFocusToShow()&&(ge.focusTime=Date.now(),ge.delaySetPopupVisible(!0,ge.props.focusDelay))},ge.onMouseDown=function(Ce){ge.fireEvents("onMouseDown",Ce),ge.preClickTime=Date.now()},ge.onTouchStart=function(Ce){ge.fireEvents("onTouchStart",Ce),ge.preTouchTime=Date.now()},ge.onBlur=function(Ce){ge.fireEvents("onBlur",Ce),ge.clearDelayTimer(),ge.isBlurToHide()&&ge.delaySetPopupVisible(!1,ge.props.blurDelay)},ge.onContextMenu=function(Ce){Ce.preventDefault(),ge.fireEvents("onContextMenu",Ce),ge.setPopupVisible(!0,Ce)},ge.onContextMenuClose=function(){ge.isContextMenuToShow()&&ge.close()},ge.onClick=function(Ce){if(ge.fireEvents("onClick",Ce),ge.focusTime){var Ve;if(ge.preClickTime&&ge.preTouchTime?Ve=Math.min(ge.preClickTime,ge.preTouchTime):ge.preClickTime?Ve=ge.preClickTime:ge.preTouchTime&&(Ve=ge.preTouchTime),Math.abs(Ve-ge.focusTime)<20)return;ge.focusTime=0}ge.preClickTime=0,ge.preTouchTime=0,ge.isClickToShow()&&(ge.isClickToHide()||ge.isBlurToHide())&&Ce&&Ce.preventDefault&&Ce.preventDefault();var Qe=!ge.state.popupVisible;(ge.isClickToHide()&&!Qe||Qe&&ge.isClickToShow())&&ge.setPopupVisible(!ge.state.popupVisible,Ce)},ge.onPopupMouseDown=function(){if(ge.hasPopupMouseDown=!0,clearTimeout(ge.mouseDownTimeout),ge.mouseDownTimeout=window.setTimeout(function(){ge.hasPopupMouseDown=!1},0),ge.context){var Ce;(Ce=ge.context).onPopupMouseDown.apply(Ce,arguments)}},ge.onDocumentClick=function(Ce){if(!(ge.props.mask&&!ge.props.maskClosable)){var Ve=Ce.target,Qe=ge.getRootDomNode(),Ze=ge.getPopupDomNode();!(0,a.A)(Qe,Ve)&&!(0,a.A)(Ze,Ve)&&!ge.hasPopupMouseDown&&ge.close()}},ge.getRootDomNode=function(){var Ce=ge.props.getTriggerDOMNode;if(Ce)return Ce(ge.triggerRef.current);try{var Ve=(0,u.Ay)(ge.triggerRef.current);if(Ve)return Ve}catch{}return i.findDOMNode((0,l.A)(ge))},ge.getPopupClassNameFromAlign=function(Ce){var Ve=[],Qe=ge.props,Ze=Qe.popupPlacement,it=Qe.builtinPlacements,at=Qe.prefixCls,lt=Qe.alignPoint,Ct=Qe.getPopupClassNameFromAlign;return Ze&&it&&Ve.push(D(it,at,Ce,lt)),Ct&&Ve.push(Ct(Ce)),Ve.join(" ")},ge.getComponent=function(){var Ce=ge.props,Ve=Ce.prefixCls,Qe=Ce.destroyPopupOnHide,Ze=Ce.popupClassName,it=Ce.onPopupAlign,at=Ce.popupMotion,lt=Ce.popupAnimation,Ct=Ce.popupTransitionName,Ut=Ce.popupStyle,zt=Ce.mask,Ht=Ce.maskAnimation,Cr=Ce.maskTransitionName,Lr=Ce.maskMotion,Kr=Ce.zIndex,zr=Ce.popup,pn=Ce.stretch,g=Ce.alignPoint,N=ge.state,J=N.popupVisible,ne=N.point,ce=ge.getPopupAlign(),ye={};return ge.isMouseEnterToShow()&&(ye.onMouseEnter=ge.onPopupMouseEnter),ge.isMouseLeaveToHide()&&(ye.onMouseLeave=ge.onPopupMouseLeave),ye.onMouseDown=ge.onPopupMouseDown,ye.onTouchStart=ge.onPopupMouseDown,r.createElement(jn,Object.assign({prefixCls:Ve,destroyPopupOnHide:Qe,visible:J,point:g&&ne,className:Ze,align:ce,onAlign:it,animation:lt,getClassNameFromAlign:ge.getPopupClassNameFromAlign},ye,{stretch:pn,getRootDomNode:ge.getRootDomNode,style:Ut,mask:zt,zIndex:Kr,transitionName:Ct,maskAnimation:Ht,maskTransitionName:Cr,maskMotion:Lr,ref:ge.popupRef,motion:at}),typeof zr=="function"?zr():zr)},ge.getContainer=function(){var Ce=(0,l.A)(ge),Ve=Ce.props,Qe=document.createElement("div");Qe.style.position="absolute",Qe.style.top="0",Qe.style.left="0",Qe.style.width="100%";var Ze=Ve.getPopupContainer?Ve.getPopupContainer(ge.getRootDomNode()):Ve.getDocument().body;return Ze.appendChild(Qe),Qe},ge.setPoint=function(Ce){var Ve=ge.props.alignPoint;!Ve||!Ce||ge.setState({point:{pageX:Ce.pageX,pageY:Ce.pageY}})},ge.handlePortalUpdate=function(){ge.state.prevPopupVisible!==ge.state.popupVisible&&ge.props.afterPopupVisibleChange(ge.state.popupVisible)};var We;return"popupVisible"in Oe?We=!!Oe.popupVisible:We=!!Oe.defaultPopupVisible,ge.state={prevPopupVisible:We,popupVisible:We},vn.forEach(function(Ce){ge["fire".concat(Ce)]=function(Ve){ge.fireEvents(Ce,Ve)}}),ge}return(0,s.A)(Te,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var ge=this.props,We=this.state;if(We.popupVisible){var Ce;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(Ce=ge.getDocument(),this.clickOutsideHandler=v(Ce,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(Ce=Ce||ge.getDocument(),this.touchOutsideHandler=v(Ce,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(Ce=Ce||ge.getDocument(),this.contextMenuOutsideHandler1=v(Ce,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=v(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)}},{key:"getPopupDomNode",value:function(){return this.popupRef.current&&this.popupRef.current.popupRef.current?this.popupRef.current.popupRef.current:null}},{key:"getPopupAlign",value:function(){var ge=this.props,We=ge.popupPlacement,Ce=ge.popupAlign,Ve=ge.builtinPlacements;return We&&Ve?j(Ve,We,Ce):Ce}},{key:"setPopupVisible",value:function(ge,We){var Ce=this.props.alignPoint,Ve=this.state.popupVisible;this.clearDelayTimer(),Ve!==ge&&("popupVisible"in this.props||this.setState({popupVisible:ge,prevPopupVisible:Ve}),this.props.onPopupVisibleChange(ge)),Ce&&We&&this.setPoint(We)}},{key:"delaySetPopupVisible",value:function(ge,We,Ce){var Ve=this,Qe=We*1e3;if(this.clearDelayTimer(),Qe){var Ze=Ce?{pageX:Ce.pageX,pageY:Ce.pageY}:null;this.delayTimer=window.setTimeout(function(){Ve.setPopupVisible(ge,Ze),Ve.clearDelayTimer()},Qe)}else this.setPopupVisible(ge,Ce)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(ge){var We=this.props.children.props,Ce=this.props;return We[ge]&&Ce[ge]?this["fire".concat(ge)]:We[ge]||Ce[ge]}},{key:"isClickToShow",value:function(){var ge=this.props,We=ge.action,Ce=ge.showAction;return We.indexOf("click")!==-1||Ce.indexOf("click")!==-1}},{key:"isContextMenuToShow",value:function(){var ge=this.props,We=ge.action,Ce=ge.showAction;return We.indexOf("contextMenu")!==-1||Ce.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var ge=this.props,We=ge.action,Ce=ge.hideAction;return We.indexOf("click")!==-1||Ce.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var ge=this.props,We=ge.action,Ce=ge.showAction;return We.indexOf("hover")!==-1||Ce.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var ge=this.props,We=ge.action,Ce=ge.hideAction;return We.indexOf("hover")!==-1||Ce.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var ge=this.props,We=ge.action,Ce=ge.showAction;return We.indexOf("focus")!==-1||Ce.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var ge=this.props,We=ge.action,Ce=ge.hideAction;return We.indexOf("focus")!==-1||Ce.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){this.state.popupVisible&&this.popupRef.current&&this.popupRef.current.alignRef.current&&this.popupRef.current.alignRef.current.forceAlign()}},{key:"fireEvents",value:function(ge,We){var Ce=this.props.children.props[ge];Ce&&Ce(We);var Ve=this.props[ge];Ve&&Ve(We)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var ge=this.state.popupVisible,We=this.props,Ce=We.children,Ve=We.forceRender,Qe=We.alignPoint,Ze=We.className,it=We.autoDestroy,at=r.Children.only(Ce),lt={key:"trigger"};this.isContextMenuToShow()?lt.onContextMenu=this.onContextMenu:lt.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(lt.onClick=this.onClick,lt.onMouseDown=this.onMouseDown,lt.onTouchStart=this.onTouchStart):(lt.onClick=this.createTwoChains("onClick"),lt.onMouseDown=this.createTwoChains("onMouseDown"),lt.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(lt.onMouseEnter=this.onMouseEnter,Qe&&(lt.onMouseMove=this.onMouseMove)):lt.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?lt.onMouseLeave=this.onMouseLeave:lt.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(lt.onFocus=this.onFocus,lt.onBlur=this.onBlur):(lt.onFocus=this.createTwoChains("onFocus"),lt.onBlur=this.createTwoChains("onBlur"));var Ct=L()(at&&at.props&&at.props.className,Ze);Ct&&(lt.className=Ct);var Ut=(0,c.A)({},lt);(0,d.f3)(at)&&(Ut.ref=(0,d.K4)(this.triggerRef,at.ref));var zt=r.cloneElement(at,Ut),Ht;return(ge||this.popupRef.current||Ve)&&(Ht=r.createElement(ue,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!ge&&it&&(Ht=null),r.createElement(xr.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},zt,Ht)}}],[{key:"getDerivedStateFromProps",value:function(ge,We){var Ce=ge.popupVisible,Ve={};return Ce!==void 0&&We.popupVisible!==Ce&&(Ve.popupVisible=Ce,Ve.prevPopupVisible=We.popupVisible),Ve}}]),Te}(r.Component);return ve.contextType=xr,ve.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:$r,getDocument:Cn,onPopupVisibleChange:kr,afterPopupVisibleChange:kr,onPopupAlign:kr,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},ve}const Ln=Tn(P);var Hn=t(9771),zn=t.n(Hn),Dt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(ve){var fe=ve.keyCode;if(ve.altKey&&!ve.ctrlKey||ve.metaKey||fe>=Dt.F1&&fe<=Dt.F12)return!1;switch(fe){case Dt.ALT:case Dt.CAPS_LOCK:case Dt.CONTEXT_MENU:case Dt.CTRL:case Dt.DOWN:case Dt.END:case Dt.ESC:case Dt.HOME:case Dt.INSERT:case Dt.LEFT:case Dt.MAC_FF_META:case Dt.META:case Dt.NUMLOCK:case Dt.NUM_CENTER:case Dt.PAGE_DOWN:case Dt.PAGE_UP:case Dt.PAUSE:case Dt.PRINT_SCREEN:case Dt.RIGHT:case Dt.SHIFT:case Dt.UP:case Dt.WIN_KEY:case Dt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(ve){if(ve>=Dt.ZERO&&ve<=Dt.NINE||ve>=Dt.NUM_ZERO&&ve<=Dt.NUM_MULTIPLY||ve>=Dt.A&&ve<=Dt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&ve===0)return!0;switch(ve){case Dt.SPACE:case Dt.QUESTION_MARK:case Dt.NUM_PLUS:case Dt.NUM_MINUS:case Dt.NUM_PERIOD:case Dt.NUM_DIVISION:case Dt.SEMICOLON:case Dt.DASH:case Dt.EQUALS:case Dt.COMMA:case Dt.PERIOD:case Dt.SLASH:case Dt.APOSTROPHE:case Dt.SINGLE_QUOTE:case Dt.OPEN_SQUARE_BRACKET:case Dt.BACKSLASH:case Dt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const mr=Dt;var Nn=t(62574),Rn=t.n(Nn);function Vn(ue,ve){if(ue===ve)return!0;if(!ue||!ve)return!1;var fe=ue.length;if(ve.length!==fe)return!1;for(var ae=0;ae<fe;ae++)if(ue[ae]!==ve[ae])return!1;return!0}function yn(ue){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yn=function(fe){return typeof fe}:yn=function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},yn(ue)}function un(ue,ve){if(!(ue instanceof ve))throw new TypeError("Cannot call a class as a function")}function Gr(ue,ve){for(var fe=0;fe<ve.length;fe++){var ae=ve[fe];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(ue,ae.key,ae)}}function Hr(ue,ve,fe){return ve&&Gr(ue.prototype,ve),fe&&Gr(ue,fe),ue}function en(ue,ve){return ve&&(yn(ve)==="object"||typeof ve=="function")?ve:Yn(ue)}function Yn(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function sr(ue){return sr=Object.setPrototypeOf?Object.getPrototypeOf:function(fe){return fe.__proto__||Object.getPrototypeOf(fe)},sr(ue)}function Jn(ue,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(ve&&ve.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),ve&&Wn(ue,ve)}function Wn(ue,ve){return Wn=Object.setPrototypeOf||function(ae,Te){return ae.__proto__=Te,ae},Wn(ue,ve)}var $n=function(ue){Jn(ve,ue);function ve(){var fe;return un(this,ve),fe=en(this,sr(ve).apply(this,arguments)),fe.menuItems={},fe.saveMenuItem=function(ae){return function(Te){fe.menuItems[ae]=Te}},fe}return Hr(ve,[{key:"componentDidMount",value:function(){this.scrollActiveItemToView()}},{key:"componentDidUpdate",value:function(ae){!ae.visible&&this.props.visible&&this.scrollActiveItemToView()}},{key:"getFieldName",value:function(ae){var Te=this.props,Oe=Te.fieldNames,ge=Te.defaultFieldNames;return Oe[ae]||ge[ae]}},{key:"getOption",value:function(ae,Te){var Oe=this.props,ge=Oe.prefixCls,We=Oe.expandTrigger,Ce=Oe.expandIcon,Ve=Oe.loadingIcon,Qe=this.props.onSelect.bind(this,ae,Te),Ze=this.props.onItemDoubleClick.bind(this,ae,Te),it={onClick:Qe,onDoubleClick:Ze},at="".concat(ge,"-menu-item"),lt=null,Ct=ae[this.getFieldName("children")]&&ae[this.getFieldName("children")].length>0;(Ct||ae.isLeaf===!1)&&(at+=" ".concat(ge,"-menu-item-expand"),ae.loading||(lt=r.createElement("span",{className:"".concat(ge,"-menu-item-expand-icon")},Ce))),We==="hover"&&(Ct||ae.isLeaf===!1)&&(it={onMouseEnter:this.delayOnSelect.bind(this,Qe),onMouseLeave:this.delayOnSelect.bind(this),onClick:Qe}),this.isActiveOption(ae,Te)&&(at+=" ".concat(ge,"-menu-item-active"),it.ref=this.saveMenuItem(Te)),ae.disabled&&(at+=" ".concat(ge,"-menu-item-disabled"));var Ut=null;ae.loading&&(at+=" ".concat(ge,"-menu-item-loading"),Ut=Ve||null);var zt="";return"title"in ae?zt=ae.title:typeof ae[this.getFieldName("label")]=="string"&&(zt=ae[this.getFieldName("label")]),r.createElement("li",Object.assign({key:ae[this.getFieldName("value")],className:at,title:zt},it,{role:"menuitem",onMouseDown:function(Cr){return Cr.preventDefault()}}),ae[this.getFieldName("label")],lt,Ut)}},{key:"getActiveOptions",value:function(ae){var Te=this,Oe=this.props.options,ge=ae||this.props.activeValue;return Rn()(Oe,function(We,Ce){return We[Te.getFieldName("value")]===ge[Ce]},{childrenKeyName:this.getFieldName("children")})}},{key:"getShowOptions",value:function(){var ae=this,Te=this.props.options,Oe=this.getActiveOptions().map(function(ge){return ge[ae.getFieldName("children")]}).filter(function(ge){return!!ge});return Oe.unshift(Te),Oe}},{key:"delayOnSelect",value:function(ae){for(var Te=this,Oe=arguments.length,ge=new Array(Oe>1?Oe-1:0),We=1;We<Oe;We++)ge[We-1]=arguments[We];this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null),typeof ae=="function"&&(this.delayTimer=window.setTimeout(function(){ae(ge),Te.delayTimer=null},150))}},{key:"scrollActiveItemToView",value:function(){for(var ae=this.getShowOptions().length,Te=0;Te<ae;Te++){var Oe=this.menuItems[Te];Oe&&Oe.parentElement&&(Oe.parentElement.scrollTop=Oe.offsetTop)}}},{key:"isActiveOption",value:function(ae,Te){var Oe=this.props.activeValue,ge=Oe===void 0?[]:Oe;return ge[Te]===ae[this.getFieldName("value")]}},{key:"render",value:function(){var ae=this,Te=this.props,Oe=Te.prefixCls,ge=Te.dropdownMenuColumnStyle;return r.createElement("div",null,this.getShowOptions().map(function(We,Ce){return r.createElement("ul",{className:"".concat(Oe,"-menu"),key:Ce,style:ge},We.map(function(Ve){return ae.getOption(Ve,Ce)}))}))}}]),ve}(r.Component);$n.defaultProps={options:[],value:[],activeValue:[],onSelect:function(){},prefixCls:"rc-cascader-menus",visible:!1,expandTrigger:"click"};const tn=$n;var Kn={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}};const Xn=Kn;function An(ue){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?An=function(fe){return typeof fe}:An=function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},An(ue)}function Br(ue,ve){if(ue==null)return{};var fe=jr(ue,ve),ae,Te;if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(ue);for(Te=0;Te<Oe.length;Te++)ae=Oe[Te],!(ve.indexOf(ae)>=0)&&Object.prototype.propertyIsEnumerable.call(ue,ae)&&(fe[ae]=ue[ae])}return fe}function jr(ue,ve){if(ue==null)return{};var fe={},ae=Object.keys(ue),Te,Oe;for(Oe=0;Oe<ae.length;Oe++)Te=ae[Oe],!(ve.indexOf(Te)>=0)&&(fe[Te]=ue[Te]);return fe}function an(ue){return na(ue)||_n(ue)||Zn()}function Zn(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _n(ue){if(Symbol.iterator in Object(ue)||Object.prototype.toString.call(ue)==="[object Arguments]")return Array.from(ue)}function na(ue){if(Array.isArray(ue)){for(var ve=0,fe=new Array(ue.length);ve<ue.length;ve++)fe[ve]=ue[ve];return fe}}function br(ue,ve){if(!(ue instanceof ve))throw new TypeError("Cannot call a class as a function")}function Bn(ue,ve){for(var fe=0;fe<ve.length;fe++){var ae=ve[fe];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(ue,ae.key,ae)}}function qn(ue,ve,fe){return ve&&Bn(ue.prototype,ve),fe&&Bn(ue,fe),ue}function Ar(ue,ve){return ve&&(An(ve)==="object"||typeof ve=="function")?ve:Sr(ue)}function Sr(ue){if(ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ue}function Fn(ue){return Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(fe){return fe.__proto__||Object.getPrototypeOf(fe)},Fn(ue)}function xn(ue,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Super expression must either be null or a function");ue.prototype=Object.create(ve&&ve.prototype,{constructor:{value:ue,writable:!0,configurable:!0}}),ve&&wn(ue,ve)}function wn(ue,ve){return wn=Object.setPrototypeOf||function(ae,Te){return ae.__proto__=Te,ae},wn(ue,ve)}var Jr=function(ue){xn(ve,ue);function ve(fe){var ae;br(this,ve),ae=Ar(this,Fn(ve).call(this,fe)),ae.setPopupVisible=function(Oe){var ge=ae.state.value;"popupVisible"in ae.props||ae.setState({popupVisible:Oe}),Oe&&!ae.state.popupVisible&&ae.setState({activeValue:ge}),ae.props.onPopupVisibleChange(Oe)},ae.handleChange=function(Oe,ge,We){var Ce=ge.visible;(We.type!=="keydown"||We.keyCode===mr.ENTER)&&(ae.props.onChange(Oe.map(function(Ve){return Ve[ae.getFieldName("value")]}),Oe),ae.setPopupVisible(Ce))},ae.handlePopupVisibleChange=function(Oe){ae.setPopupVisible(Oe)},ae.handleMenuSelect=function(Oe,ge,We){var Ce=ae.trigger.getRootDomNode();Ce&&Ce.focus&&Ce.focus();var Ve=ae.props,Qe=Ve.changeOnSelect,Ze=Ve.loadData,it=Ve.expandTrigger;if(!(!Oe||Oe.disabled)){var at=ae.state.activeValue;at=at.slice(0,ge+1),at[ge]=Oe[ae.getFieldName("value")];var lt=ae.getActiveOptions(at);if(Oe.isLeaf===!1&&!Oe[ae.getFieldName("children")]&&Ze){Qe&&ae.handleChange(lt,{visible:!0},We),ae.setState({activeValue:at}),Ze(lt);return}var Ct={};!Oe[ae.getFieldName("children")]||!Oe[ae.getFieldName("children")].length?(ae.handleChange(lt,{visible:!1},We),Ct.value=at):Qe&&(We.type==="click"||We.type==="keydown")&&(it==="hover"?ae.handleChange(lt,{visible:!1},We):ae.handleChange(lt,{visible:!0},We),Ct.value=at),Ct.activeValue=at,("value"in ae.props||We.type==="keydown"&&We.keyCode!==mr.ENTER)&&delete Ct.value,ae.setState(Ct)}},ae.handleItemDoubleClick=function(){var Oe=ae.props.changeOnSelect;Oe&&ae.setPopupVisible(!1)},ae.handleKeyDown=function(Oe){var ge=ae.props.children;if(ge&&ge.props.onKeyDown){ge.props.onKeyDown(Oe);return}var We=an(ae.state.activeValue),Ce=We.length-1<0?0:We.length-1,Ve=ae.getCurrentLevelOptions(),Qe=Ve.map(function(lt){return lt[ae.getFieldName("value")]}).indexOf(We[Ce]);if(!(Oe.keyCode!==mr.DOWN&&Oe.keyCode!==mr.UP&&Oe.keyCode!==mr.LEFT&&Oe.keyCode!==mr.RIGHT&&Oe.keyCode!==mr.ENTER&&Oe.keyCode!==mr.SPACE&&Oe.keyCode!==mr.BACKSPACE&&Oe.keyCode!==mr.ESC&&Oe.keyCode!==mr.TAB)){if(!ae.state.popupVisible&&Oe.keyCode!==mr.BACKSPACE&&Oe.keyCode!==mr.LEFT&&Oe.keyCode!==mr.RIGHT&&Oe.keyCode!==mr.ESC&&Oe.keyCode!==mr.TAB){ae.setPopupVisible(!0);return}if(Oe.keyCode===mr.DOWN||Oe.keyCode===mr.UP){Oe.preventDefault();var Ze=Qe;Ze!==-1?Oe.keyCode===mr.DOWN?(Ze+=1,Ze=Ze>=Ve.length?0:Ze):(Ze-=1,Ze=Ze<0?Ve.length-1:Ze):Ze=0,We[Ce]=Ve[Ze][ae.getFieldName("value")]}else if(Oe.keyCode===mr.LEFT||Oe.keyCode===mr.BACKSPACE)Oe.preventDefault(),We.splice(We.length-1,1);else if(Oe.keyCode===mr.RIGHT)Oe.preventDefault(),Ve[Qe]&&Ve[Qe][ae.getFieldName("children")]&&We.push(Ve[Qe][ae.getFieldName("children")][0][ae.getFieldName("value")]);else if(Oe.keyCode===mr.ESC||Oe.keyCode===mr.TAB){ae.setPopupVisible(!1);return}(!We||We.length===0)&&ae.setPopupVisible(!1);var it=ae.getActiveOptions(We),at=it[it.length-1];ae.handleMenuSelect(at,it.length-1,Oe),ae.props.onKeyDown&&ae.props.onKeyDown(Oe)}},ae.saveTrigger=function(Oe){ae.trigger=Oe};var Te=[];return"value"in fe?Te=fe.value||[]:"defaultValue"in fe&&(Te=fe.defaultValue||[]),zn()(!("filedNames"in fe),"`filedNames` of Cascader is a typo usage and deprecated, please use `fieldNames` instead."),ae.state={popupVisible:fe.popupVisible,activeValue:Te,value:Te,prevProps:fe},ae.defaultFieldNames={label:"label",value:"value",children:"children"},ae}return qn(ve,[{key:"getPopupDOMNode",value:function(){return this.trigger.getPopupDomNode()}},{key:"getFieldName",value:function(ae){var Te=this.defaultFieldNames,Oe=this.props,ge=Oe.fieldNames,We=Oe.filedNames;return"filedNames"in this.props?We[ae]||Te[ae]:ge[ae]||Te[ae]}},{key:"getFieldNames",value:function(){var ae=this.props,Te=ae.fieldNames,Oe=ae.filedNames;return"filedNames"in this.props?Oe:Te}},{key:"getCurrentLevelOptions",value:function(){var ae=this,Te=this.props.options,Oe=Te===void 0?[]:Te,ge=this.state.activeValue,We=ge===void 0?[]:ge,Ce=Rn()(Oe,function(Ve,Qe){return Ve[ae.getFieldName("value")]===We[Qe]},{childrenKeyName:this.getFieldName("children")});return Ce[Ce.length-2]?Ce[Ce.length-2][this.getFieldName("children")]:an(Oe).filter(function(Ve){return!Ve.disabled})}},{key:"getActiveOptions",value:function(ae){var Te=this;return Rn()(this.props.options||[],function(Oe,ge){return Oe[Te.getFieldName("value")]===ae[ge]},{childrenKeyName:this.getFieldName("children")})}},{key:"render",value:function(){var ae=this.props,Te=ae.prefixCls,Oe=ae.transitionName,ge=ae.popupClassName,We=ae.options,Ce=We===void 0?[]:We,Ve=ae.disabled,Qe=ae.builtinPlacements,Ze=ae.popupPlacement,it=ae.children,at=Br(ae,["prefixCls","transitionName","popupClassName","options","disabled","builtinPlacements","popupPlacement","children"]),lt=r.createElement("div",null),Ct="";return Ce&&Ce.length>0?lt=r.createElement(tn,Object.assign({},this.props,{fieldNames:this.getFieldNames(),defaultFieldNames:this.defaultFieldNames,activeValue:this.state.activeValue,onSelect:this.handleMenuSelect,onItemDoubleClick:this.handleItemDoubleClick,visible:this.state.popupVisible})):Ct=" ".concat(Te,"-menus-empty"),r.createElement(Ln,Object.assign({ref:this.saveTrigger},at,{popupPlacement:Ze,builtinPlacements:Qe,popupTransitionName:Oe,action:Ve?[]:["click"],popupVisible:Ve?!1:this.state.popupVisible,onPopupVisibleChange:this.handlePopupVisibleChange,prefixCls:"".concat(Te,"-menus"),popupClassName:ge+Ct,popup:lt}),r.cloneElement(it,{onKeyDown:this.handleKeyDown,tabIndex:Ve?void 0:0}))}}],[{key:"getDerivedStateFromProps",value:function(ae,Te){var Oe=Te.prevProps,ge=Oe===void 0?{}:Oe,We={prevProps:ae};return"value"in ae&&!Vn(ge.value,ae.value)&&(We.value=ae.value||[],"loadData"in ae||(We.activeValue=ae.value||[])),"popupVisible"in ae&&(We.popupVisible=ae.popupVisible),We}}]),ve}(r.Component);Jr.defaultProps={onChange:function(){},onPopupVisibleChange:function(){},disabled:!1,transitionName:"",prefixCls:"rc-cascader",popupClassName:"",popupPlacement:"bottomLeft",builtinPlacements:Xn,expandTrigger:"click",fieldNames:{label:"label",value:"value",children:"children"},expandIcon:">"};const Un=Jr},59503:(z,e,t)=>{"use strict";t.r(e),t.d(e,{createBreakpoint:()=>Pr,createGlobalState:()=>Za,createMemo:()=>s,createReducer:()=>v,createReducerContext:()=>n,createStateContext:()=>m,ensuredForwardRef:()=>cr,useAsync:()=>F,useAsyncFn:()=>L,useAsyncRetry:()=>D,useAudio:()=>U,useBattery:()=>w,useBeforeUnload:()=>H,useBoolean:()=>Q,useClickAway:()=>re,useCookie:()=>ie,useCopyToClipboard:()=>Be,useCounter:()=>qe,useCss:()=>Xe,useCustomCompareEffect:()=>ft,useDebounce:()=>Pt,useDeepCompareEffect:()=>jt,useDefault:()=>Ft,useDrop:()=>$t,useDropArea:()=>nr,useEffectOnce:()=>Xt,useEnsuredForwardedRef:()=>ar,useError:()=>pr,useEvent:()=>mt,useFavicon:()=>fr,useFirstMountState:()=>o,useFullscreen:()=>Fe,useGeolocation:()=>et,useGetSet:()=>$e,useGetSetState:()=>xe,useHarmonicIntervalFn:()=>Mt,useHash:()=>_a,useHover:()=>ur,useHoverDirty:()=>gr,useIdle:()=>Ir,useIntersection:()=>cn,useInterval:()=>Xr,useIsomorphicLayoutEffect:()=>Me,useKey:()=>tr,useKeyPress:()=>Zr,useKeyPressEvent:()=>bn,useLatest:()=>mn,useLifecycles:()=>nn,useList:()=>_r,useLocalStorage:()=>dn,useLocation:()=>jn,useLockBodyScroll:()=>Tn,useLogger:()=>Hn,useLongPress:()=>Nn,useMap:()=>Vn,useMeasure:()=>Qa,useMedia:()=>un,useMediaDevices:()=>en,useMediatedState:()=>Yn,useMethods:()=>Jn,useMotion:()=>tn,useMount:()=>Xn,useMountedState:()=>E,useMouse:()=>_n,useMouseHovered:()=>Bn,useMouseWheel:()=>qn,useMultiStateValidator:()=>Ga,useNetworkState:()=>xn,useNumber:()=>wn,useObservable:()=>aa,useOrientation:()=>ve,usePageLeave:()=>ae,usePermission:()=>Oe,usePrevious:()=>ge,usePreviousDistinct:()=>Ce,usePromise:()=>Qe,useQueue:()=>it,useRaf:()=>lt,useRafLoop:()=>Ct,useRafState:()=>an,useRendersCount:()=>ka,useScratch:()=>pn,useScroll:()=>N,useScrollbarWidth:()=>Ua,useScrolling:()=>ne,useSearchParam:()=>Cr,useSessionStorage:()=>ye,useSet:()=>Xa,useSetState:()=>G,useShallowCompareEffect:()=>Je,useSize:()=>on,useSlider:()=>ea,useSpeech:()=>da,useStartTyping:()=>ma,useStateList:()=>ya,useStateValidator:()=>Ba,useStateWithHistory:()=>ha,useThrottle:()=>ba,useThrottleFn:()=>Ea,useTimeout:()=>Pa,useTimeoutFn:()=>vt,useTitle:()=>Ra,useToggle:()=>te,useTween:()=>wa,useUnmount:()=>Br,useUnmountPromise:()=>Da,useUpdate:()=>Ue,useUpdateEffect:()=>a,useUpsert:()=>Ia,useVibrate:()=>Na,useVideo:()=>Wa,useWindowScroll:()=>za,useWindowSize:()=>$a});var r=t(96540),c=t.t(r,2),f=function(Z){return function(){for(var x=[],se=0;se<arguments.length;se++)x[se]=arguments[se];return(0,r.useMemo)(function(){return Z.apply(void 0,x)},x)}};const s=f;var l=function(Z,x){var se=(0,r.createContext)(void 0),pe=function(Ee,Ae){return(0,r.createElement)(se.Provider,Ee,Ae)},Pe=function(Ee){var Ae=Ee.children,De=Ee.initialState,Ke=(0,r.useReducer)(Z,De!==void 0?De:x);return pe({value:Ke},Ae)},Se=function(){var Ee=(0,r.useContext)(se);if(Ee==null)throw new Error("useReducerContext must be used inside a ReducerProvider.");return Ee};return[Se,Pe,se]};const n=l;function o(){var Z=(0,r.useRef)(!0);return Z.current?(Z.current=!1,!0):Z.current}var i=function(Z,x){var se=o();(0,r.useEffect)(function(){if(!se)return Z()},x)};const a=i;function u(Z){return function(x,se){return Z.reduceRight(function(pe,Pe){return Pe(x)(pe)},se)}}var d=function(){for(var Z=[],x=0;x<arguments.length;x++)Z[x]=arguments[x];var se=u(Z);return function(pe,Pe,Se){Se===void 0&&(Se=function(nt){return nt});var Ee=(0,r.useRef)(Se(Pe)),Ae=(0,r.useState)(Ee.current),De=Ae[1],Ke=(0,r.useCallback)(function(nt){return Ee.current=pe(Ee.current,nt),De(Ee.current),nt},[pe]),ot=(0,r.useRef)(se({getState:function(){return Ee.current},dispatch:function(){for(var nt=[],St=0;St<arguments.length;St++)nt[St]=arguments[St];return ot.current.apply(ot,nt)}},Ke));return a(function(){ot.current=se({getState:function(){return Ee.current},dispatch:function(){for(var nt=[],St=0;St<arguments.length;St++)nt[St]=arguments[St];return ot.current.apply(ot,nt)}},Ke)},[Ke]),[Ee.current,ot.current]}};const v=d;var p=function(Z){var x=(0,r.createContext)(void 0),se=function(Se,Ee){return(0,r.createElement)(x.Provider,Se,Ee)},pe=function(Se){var Ee=Se.children,Ae=Se.initialValue,De=(0,r.useState)(Ae!==void 0?Ae:Z);return se({value:De},Ee)},Pe=function(){var Se=(0,r.useContext)(x);if(Se==null)throw new Error("useStateContext must be used inside a StateProvider.");return Se};return[Pe,pe,x]};const m=p;var P=t(31635);function E(){var Z=(0,r.useRef)(!1),x=(0,r.useCallback)(function(){return Z.current},[]);return(0,r.useEffect)(function(){return Z.current=!0,function(){Z.current=!1}},[]),x}function L(Z,x,se){x===void 0&&(x=[]),se===void 0&&(se={loading:!1});var pe=(0,r.useRef)(0),Pe=E(),Se=(0,r.useState)(se),Ee=Se[0],Ae=Se[1],De=(0,r.useCallback)(function(){for(var Ke=[],ot=0;ot<arguments.length;ot++)Ke[ot]=arguments[ot];var nt=++pe.current;return Ee.loading||Ae(function(St){return(0,P.__assign)((0,P.__assign)({},St),{loading:!0})}),Z.apply(void 0,Ke).then(function(St){return Pe()&&nt===pe.current&&Ae({value:St,loading:!1}),St},function(St){return Pe()&&nt===pe.current&&Ae({error:St,loading:!1}),St})},x);return[Ee,De]}function F(Z,x){x===void 0&&(x=[]);var se=L(Z,x,{loading:!0}),pe=se[0],Pe=se[1];return(0,r.useEffect)(function(){Pe()},[Pe]),pe}var j=function(Z,x){x===void 0&&(x=[]);var se=(0,r.useState)(0),pe=se[0],Pe=se[1],Se=F(Z,(0,P.__spreadArrays)(x,[pe])),Ee=Se.loading,Ae=(0,r.useCallback)(function(){Ee||Pe(function(De){return De+1})},(0,P.__spreadArrays)(x,[Ee]));return(0,P.__assign)((0,P.__assign)({},Se),{retry:Ae})};const D=j;var B=function(Z){Z===void 0&&(Z={});var x=(0,r.useState)(Z),se=x[0],pe=x[1],Pe=(0,r.useCallback)(function(Se){pe(function(Ee){return Object.assign({},Ee,Se instanceof Function?Se(Ee):Se)})},[]);return[se,Pe]};const G=B;function K(Z){for(var x=[],se=0;se<Z.length;se++)x.push({start:Z.start(se),end:Z.end(se)});return x}function Y(Z){return function(x){var se,pe;r.isValidElement(x)?(se=x,pe=se.props):pe=x;var Pe=G({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1,playing:!1}),Se=Pe[0],Ee=Pe[1],Ae=(0,r.useRef)(null),De=function(Nt,vr){return function(Er){try{vr&&vr(Er)}finally{Nt&&Nt(Er)}}},Ke=function(){return Ee({paused:!1})},ot=function(){return Ee({playing:!0})},nt=function(){return Ee({playing:!1})},St=function(){return Ee({paused:!0,playing:!1})},rr=function(){var Nt=Ae.current;Nt&&Ee({muted:Nt.muted,volume:Nt.volume})},Fr=function(){var Nt=Ae.current;if(Nt){var vr=Nt.duration,Er=Nt.buffered;Ee({duration:vr,buffered:K(Er)})}},Nr=function(){var Nt=Ae.current;Nt&&Ee({time:Nt.currentTime})},Jt=function(){var Nt=Ae.current;Nt&&Ee({buffered:K(Nt.buffered)})};se?se=r.cloneElement(se,(0,P.__assign)((0,P.__assign)({controls:!1},pe),{ref:Ae,onPlay:De(pe.onPlay,Ke),onPlaying:De(pe.onPlaying,ot),onWaiting:De(pe.onWaiting,nt),onPause:De(pe.onPause,St),onVolumeChange:De(pe.onVolumeChange,rr),onDurationChange:De(pe.onDurationChange,Fr),onTimeUpdate:De(pe.onTimeUpdate,Nr),onProgress:De(pe.onProgress,Jt)})):se=r.createElement(Z,(0,P.__assign)((0,P.__assign)({controls:!1},pe),{ref:Ae,onPlay:De(pe.onPlay,Ke),onPlaying:De(pe.onPlaying,ot),onWaiting:De(pe.onWaiting,nt),onPause:De(pe.onPause,St),onVolumeChange:De(pe.onVolumeChange,rr),onDurationChange:De(pe.onDurationChange,Fr),onTimeUpdate:De(pe.onTimeUpdate,Nr),onProgress:De(pe.onProgress,Jt)}));var rn=!1,Qn={play:function(){var Nt=Ae.current;if(Nt&&!rn){var vr=Nt.play(),Er=typeof vr=="object";if(Er){rn=!0;var Mn=function(){rn=!1};vr.then(Mn,Mn)}return vr}},pause:function(){var Nt=Ae.current;if(Nt&&!rn)return Nt.pause()},seek:function(Nt){var vr=Ae.current;!vr||Se.duration===void 0||(Nt=Math.min(Se.duration,Math.max(0,Nt)),vr.currentTime=Nt)},volume:function(Nt){var vr=Ae.current;vr&&(Nt=Math.min(1,Math.max(0,Nt)),vr.volume=Nt,Ee({volume:Nt}))},mute:function(){var Nt=Ae.current;Nt&&(Nt.muted=!0)},unmute:function(){var Nt=Ae.current;Nt&&(Nt.muted=!1)}};return(0,r.useEffect)(function(){var Nt=Ae.current;Nt&&(Ee({volume:Nt.volume,muted:Nt.muted,paused:Nt.paused}),pe.autoPlay&&Nt.paused&&Qn.play())},[pe.src]),[se,Se,Qn,Ae]}}var $=Y("audio");const U=$;var M=function(){};function C(Z){for(var x=[],se=1;se<arguments.length;se++)x[se-1]=arguments[se];Z&&Z.addEventListener&&Z.addEventListener.apply(Z,x)}function y(Z){for(var x=[],se=1;se<arguments.length;se++)x[se-1]=arguments[se];Z&&Z.removeEventListener&&Z.removeEventListener.apply(Z,x)}var b=typeof window<"u",T=typeof navigator<"u",R=t(72774),S=t.n(R);const A=S();var W=T?navigator:void 0,I=W&&typeof W.getBattery=="function";function O(){return{isSupported:!1}}function h(){var Z=(0,r.useState)({isSupported:!0,fetched:!1}),x=Z[0],se=Z[1];return(0,r.useEffect)(function(){var pe=!0,Pe=null,Se=function(){if(!(!pe||!Pe)){var Ee={isSupported:!0,fetched:!0,level:Pe.level,charging:Pe.charging,dischargingTime:Pe.dischargingTime,chargingTime:Pe.chargingTime};!A(x,Ee)&&se(Ee)}};return W.getBattery().then(function(Ee){pe&&(Pe=Ee,C(Pe,"chargingchange",Se),C(Pe,"chargingtimechange",Se),C(Pe,"dischargingtimechange",Se),C(Pe,"levelchange",Se),Se())}),function(){pe=!1,Pe&&(y(Pe,"chargingchange",Se),y(Pe,"chargingtimechange",Se),y(Pe,"dischargingtimechange",Se),y(Pe,"levelchange",Se))}},[]),x}const w=I?h:O;var V=function(Z,x){Z===void 0&&(Z=!0);var se=(0,r.useCallback)(function(pe){var Pe=typeof Z=="function"?Z():!0;if(Pe)return pe.preventDefault(),x&&(pe.returnValue=x),x},[Z,x]);(0,r.useEffect)(function(){if(Z)return C(window,"beforeunload",se),function(){return y(window,"beforeunload",se)}},[Z,se])};const H=V;var _=function(Z,x){return typeof x=="boolean"?x:!Z},oe=function(Z){return(0,r.useReducer)(_,Z)};const te=oe,Q=te;var X=["mousedown","touchstart"],k=function(Z,x,se){se===void 0&&(se=X);var pe=(0,r.useRef)(x);(0,r.useEffect)(function(){pe.current=x},[x]),(0,r.useEffect)(function(){for(var Pe=function(De){var Ke=Z.current;Ke&&!Ke.contains(De.target)&&pe.current(De)},Se=0,Ee=se;Se<Ee.length;Se++){var Ae=Ee[Se];C(document,Ae,Pe)}return function(){for(var De=0,Ke=se;De<Ke.length;De++){var ot=Ke[De];y(document,ot,Pe)}}},[se,Z])};const re=k;var q=t(12215),le=t.n(q),ee=function(Z){var x=(0,r.useState)(function(){return le().get(Z)||null}),se=x[0],pe=x[1],Pe=(0,r.useCallback)(function(Ee,Ae){le().set(Z,Ee,Ae),pe(Ee)},[Z]),Se=(0,r.useCallback)(function(){le().remove(Z),pe(null)},[Z]);return[se,Pe,Se]};const ie=ee;var he=t(17965),me=t.n(he),be=function(){var Z=E(),x=G({value:void 0,error:void 0,noUserInteraction:!0}),se=x[0],pe=x[1],Pe=(0,r.useCallback)(function(Se){if(Z()){var Ee,Ae;try{if(typeof Se!="string"&&typeof Se!="number"){var De=new Error("Cannot copy typeof "+typeof Se+" to clipboard, must be a string");pe({value:Se,error:De,noUserInteraction:!0});return}else if(Se===""){var De=new Error("Cannot copy empty string to clipboard.");pe({value:Se,error:De,noUserInteraction:!0});return}Ae=Se.toString(),Ee=me()(Ae),pe({value:Ae,error:void 0,noUserInteraction:Ee})}catch(Ke){pe({value:Ae,error:Ke,noUserInteraction:Ee})}}},[]);return[se,Pe]};const Be=be;var je=function(Z){return(Z+1)%1e6};function Ue(){var Z=(0,r.useReducer)(je,0),x=Z[1];return x}function Ie(Z,x){return typeof Z=="function"?Z.length?Z(x):Z():Z}function $e(Z){var x=(0,r.useRef)(Ie(Z)),se=Ue();return(0,r.useMemo)(function(){return[function(){return x.current},function(pe){x.current=Ie(pe,x.current),se()}]},[])}function qe(Z,x,se){Z===void 0&&(Z=0),x===void 0&&(x=null),se===void 0&&(se=null);var pe=Ie(Z);typeof pe!="number"&&console.error("initialValue has to be a number, got "+typeof Z),typeof se=="number"?pe=Math.max(pe,se):se!==null&&console.error("min has to be a number, got "+typeof se),typeof x=="number"?pe=Math.min(pe,x):x!==null&&console.error("max has to be a number, got "+typeof x);var Pe=$e(pe),Se=Pe[0],Ee=Pe[1];return[Se(),(0,r.useMemo)(function(){var Ae=function(De){var Ke=Se(),ot=Ie(De,Ke);Ke!==ot&&(typeof se=="number"&&(ot=Math.max(ot,se)),typeof x=="number"&&(ot=Math.min(ot,x)),Ke!==ot&&Ee(ot))};return{get:Se,set:Ae,inc:function(De){De===void 0&&(De=1);var Ke=Ie(De,Se());typeof Ke!="number"&&console.error("delta has to be a number or function returning a number, got "+typeof Ke),Ae(function(ot){return ot+Ke})},dec:function(De){De===void 0&&(De=1);var Ke=Ie(De,Se());typeof Ke!="number"&&console.error("delta has to be a number or function returning a number, got "+typeof Ke),Ae(function(ot){return ot-Ke})},reset:function(De){De===void 0&&(De=pe);var Ke=Ie(De,Se());typeof Ke!="number"&&console.error("value has to be a number or function returning a number, got "+typeof Ke),pe=Ke,Ae(Ke)}}},[pe,se,x])]}var tt=t(97127),ct=t(50759),gt=t(82731),dt=t(62798),Ot=b?r.useLayoutEffect:r.useEffect;const Me=Ot;var Le=(0,tt.v)();(0,ct.v)(Le),(0,gt.v)(Le);var He=0,_e=function(Z){var x=(0,r.useMemo)(function(){return"react-use-css-"+(He++).toString(36)},[]),se=(0,r.useMemo)(function(){return new Le.VSheet},[]);return Me(function(){var pe={};return(0,dt.J)(pe,Z,"."+x,""),se.diff(pe),function(){se.diff({})}}),x};const Xe=_e;var rt=function(Z){return Z!==Object(Z)},ke=function(Z,x,se){var pe=(0,r.useRef)(void 0);(!pe.current||!se(x,pe.current))&&(pe.current=x),(0,r.useEffect)(Z,pe.current)};const ft=ke;function vt(Z,x){x===void 0&&(x=0);var se=(0,r.useRef)(!1),pe=(0,r.useRef)(),Pe=(0,r.useRef)(Z),Se=(0,r.useCallback)(function(){return se.current},[]),Ee=(0,r.useCallback)(function(){se.current=!1,pe.current&&clearTimeout(pe.current),pe.current=setTimeout(function(){se.current=!0,Pe.current()},x)},[x]),Ae=(0,r.useCallback)(function(){se.current=null,pe.current&&clearTimeout(pe.current)},[]);return(0,r.useEffect)(function(){Pe.current=Z},[Z]),(0,r.useEffect)(function(){return Ee(),Ae},[x]),[Se,Ae,Ee]}function Pt(Z,x,se){x===void 0&&(x=0),se===void 0&&(se=[]);var pe=vt(Z,x),Pe=pe[0],Se=pe[1],Ee=pe[2];return(0,r.useEffect)(Ee,se),[Pe,Se]}var ht=function(Z){return Z!==Object(Z)},Rt=function(Z,x){ft(Z,x,A)};const jt=Rt;var ut=function(Z,x){var se=(0,r.useState)(x),pe=se[0],Pe=se[1];return pe==null?[Z,Pe]:[pe,Pe]};const Ft=ut;var Wt=function(Z){return function(x,se){var pe=x.getData("text/uri-list");if(pe){(Z.onUri||M)(pe,se);return}if(x.files&&x.files.length){(Z.onFiles||M)(Array.from(x.files),se);return}if(se.clipboardData){var Pe=se.clipboardData.getData("text");(Z.onText||M)(Pe,se);return}}},Lt=function(Z,x){Z===void 0&&(Z={}),x===void 0&&(x=[]);var se=Z.onFiles,pe=Z.onText,Pe=Z.onUri,Se=(0,r.useState)(!1),Ee=Se[0],Ae=Se[1],De=(0,r.useCallback)(Ae,[]),Ke=(0,r.useMemo)(function(){return Wt(Z)},[se,pe,Pe]);return(0,r.useEffect)(function(){var ot=function(Jt){Jt.preventDefault(),De(!0)},nt=function(Jt){Jt.preventDefault(),De(!0)},St=function(){De(!1)},rr=function(){De(!1)},Fr=function(Jt){Jt.preventDefault(),De(!1),Ke(Jt.dataTransfer,Jt)},Nr=function(Jt){Ke(Jt.clipboardData,Jt)};return C(document,"dragover",ot),C(document,"dragenter",nt),C(document,"dragleave",St),C(document,"dragexit",rr),C(document,"drop",Fr),pe&&C(document,"paste",Nr),function(){y(document,"dragover",ot),y(document,"dragenter",nt),y(document,"dragleave",St),y(document,"dragexit",rr),y(document,"drop",Fr),y(document,"paste",Nr)}},(0,P.__spreadArrays)([Ke],x)),{over:Ee}};const $t=Lt;var Gt=function(Z,x){return function(se,pe){var Pe=se.getData("text/uri-list");if(Pe){(Z.onUri||M)(Pe,pe);return}if(se.files&&se.files.length){(Z.onFiles||M)(Array.from(se.files),pe);return}se.items&&se.items.length&&se.items[0].getAsString(function(Se){x&&(Z.onText||M)(Se,pe)})}},Yt=function(Z,x){return{onDragOver:function(se){se.preventDefault()},onDragEnter:function(se){se.preventDefault(),x(!0)},onDragLeave:function(){x(!1)},onDrop:function(se){se.preventDefault(),se.persist(),x(!1),Z(se.dataTransfer,se)},onPaste:function(se){se.persist(),Z(se.clipboardData,se)}}},Kt=function(Z){Z===void 0&&(Z={});var x=Z.onFiles,se=Z.onText,pe=Z.onUri,Pe=E(),Se=(0,r.useState)(!1),Ee=Se[0],Ae=Se[1],De=(0,r.useMemo)(function(){return Gt(Z,Pe())},[x,se,pe]),Ke=(0,r.useMemo)(function(){return Yt(De,Ae)},[De,Ae]);return[Ke,{over:Ee}]};const nr=Kt;var _t=function(Z){(0,r.useEffect)(Z,[])};const Xt=_t;function ar(Z){var x=(0,r.useRef)(Z&&Z.current);return(0,r.useEffect)(function(){Z&&(Z.current=x.current)},[Z]),x}function cr(Z){return(0,r.forwardRef)(function(x,se){var pe=ar(se);return Z(x,pe)})}var wr=b?window:null,kt=function(Z){return!!Z.addEventListener},hr=function(Z){return!!Z.on},ir=function(Z,x,se,pe){se===void 0&&(se=wr),(0,r.useEffect)(function(){if(x&&se)return kt(se)?C(se,Z,x,pe):hr(se)&&se.on(Z,x,pe),function(){kt(se)?y(se,Z,x,pe):hr(se)&&se.off(Z,x,pe)}},[Z,x,se,JSON.stringify(pe)])};const mt=ir;var qt=function(){var Z=(0,r.useState)(null),x=Z[0],se=Z[1];(0,r.useEffect)(function(){if(x)throw x},[x]);var pe=(0,r.useCallback)(function(Pe){se(Pe)},[]);return pe};const pr=qt;var bt=function(Z){(0,r.useEffect)(function(){var x=document.querySelector("link[rel*='icon']")||document.createElement("link");x.type="image/x-icon",x.rel="shortcut icon",x.href=Z,document.getElementsByTagName("head")[0].appendChild(x)},[Z])};const fr=bt;var Or=t(51916),de=t.n(Or),we=function(Z,x,se){se===void 0&&(se={});var pe=se.video,Pe=se.onClose,Se=Pe===void 0?M:Pe,Ee=(0,r.useState)(x),Ae=Ee[0],De=Ee[1];return Me(function(){if(x&&Z.current){var Ke=function(){pe?.current&&y(pe.current,"webkitendfullscreen",Ke),Se()},ot=function(){if(de().isEnabled){var nt=de().isFullscreen;De(nt),nt||Se()}};if(de().isEnabled){try{de().request(Z.current),De(!0)}catch(nt){Se(nt),De(!1)}de().on("change",ot)}else pe&&pe.current&&pe.current.webkitEnterFullscreen?(pe.current.webkitEnterFullscreen(),C(pe.current,"webkitendfullscreen",Ke),De(!0)):(Se(),De(!1));return function(){if(De(!1),de().isEnabled)try{de().off("change",ot),de().exit()}catch{}else pe&&pe.current&&pe.current.webkitExitFullscreen&&(y(pe.current,"webkitendfullscreen",Ke),pe.current.webkitExitFullscreen())}}},[x,pe,Z]),Ae};const Fe=we;var ze=function(Z){var x=(0,r.useState)({loading:!0,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,latitude:null,longitude:null,speed:null,timestamp:Date.now()}),se=x[0],pe=x[1],Pe=!0,Se,Ee=function(De){Pe&&pe({loading:!1,accuracy:De.coords.accuracy,altitude:De.coords.altitude,altitudeAccuracy:De.coords.altitudeAccuracy,heading:De.coords.heading,latitude:De.coords.latitude,longitude:De.coords.longitude,speed:De.coords.speed,timestamp:De.timestamp})},Ae=function(De){return Pe&&pe(function(Ke){return(0,P.__assign)((0,P.__assign)({},Ke),{loading:!1,error:De})})};return(0,r.useEffect)(function(){return navigator.geolocation.getCurrentPosition(Ee,Ae,Z),Se=navigator.geolocation.watchPosition(Ee,Ae,Z),function(){Pe=!1,navigator.geolocation.clearWatch(Se)}},[]),se};const et=ze;var st=function(Z){Z===void 0&&(Z={});var x=Ue(),se=(0,r.useRef)((0,P.__assign)({},Z)),pe=(0,r.useCallback)(function(){return se.current},[]),Pe=(0,r.useCallback)(function(Se){Se&&(Object.assign(se.current,Se),x())},[]);return[pe,Pe]};const xe=st;var At=0,pt={},It=function(Z,x){var se,pe=At++;if(pt[x])pt[x].listeners[pe]=Z;else{var Pe=setInterval(function(){for(var Se=pt[x].listeners,Ee=!1,Ae,De=0,Ke=Object.values(Se);De<Ke.length;De++){var ot=Ke[De];try{ot()}catch(nt){Ee=!0,Ae=nt}}if(Ee)throw Ae},x);pt[x]={ms:x,timer:Pe,listeners:(se={},se[pe]=Z,se)}}return{bucket:pt[x],id:pe}},wt=function(Z){var x=Z.bucket,se=Z.id;delete x.listeners[se];var pe=!1;for(var Pe in x.listeners){pe=!0;break}pe||(clearInterval(x.timer),delete pt[x.ms])},or=function(Z,x){x===void 0&&(x=0);var se=(0,r.useRef)(function(){});(0,r.useEffect)(function(){se.current=Z}),(0,r.useEffect)(function(){if(x!==null){var pe=It(function(){return se.current()},x);return function(){return wt(pe)}}},[x])};const Mt=or;var Zt=r.useState,Rr=function(Z){var x=Zt(!1),se=x[0],pe=x[1],Pe=function(Ae){return function(De){(Ae||M)(De),pe(!0)}},Se=function(Ae){return function(De){(Ae||M)(De),pe(!1)}};typeof Z=="function"&&(Z=Z(se));var Ee=r.cloneElement(Z,{onMouseEnter:Pe(Z.props.onMouseEnter),onMouseLeave:Se(Z.props.onMouseLeave)});return[Ee,se]};const ur=Rr;var xt=function(Z,x){x===void 0&&(x=!0);var se=(0,r.useState)(!1),pe=se[0],Pe=se[1];return(0,r.useEffect)(function(){var Se=function(){return Pe(!0)},Ee=function(){return Pe(!1)};x&&Z&&Z.current&&(C(Z.current,"mouseover",Se),C(Z.current,"mouseout",Ee));var Ae=Z.current;return function(){x&&Ae&&(y(Ae,"mouseover",Se),y(Ae,"mouseout",Ee))}},[x,Z]),pe};const gr=xt;function Vt(Z,x,se,pe){var Pe,Se=!1,Ee=0;function Ae(){Pe&&clearTimeout(Pe)}function De(){Ae(),Se=!0}typeof x!="boolean"&&(pe=se,se=x,x=void 0);function Ke(){for(var ot=arguments.length,nt=new Array(ot),St=0;St<ot;St++)nt[St]=arguments[St];var rr=this,Fr=Date.now()-Ee;if(Se)return;function Nr(){Ee=Date.now(),se.apply(rr,nt)}function Jt(){Pe=void 0}pe&&!Pe&&Nr(),Ae(),pe===void 0&&Fr>Z?Nr():x!==!0&&(Pe=setTimeout(pe?Jt:Nr,pe===void 0?Z-Fr:Z))}return Ke.cancel=De,Ke}function Mr(Z,x,se){return se===void 0?Vt(Z,x,!1):Vt(Z,se,x!==!1)}var Ur=["mousemove","mousedown","resize","keydown","touchstart","wheel"],Dr=6e4,Vr=function(Z,x,se){Z===void 0&&(Z=Dr),x===void 0&&(x=!1),se===void 0&&(se=Ur);var pe=(0,r.useState)(x),Pe=pe[0],Se=pe[1];return(0,r.useEffect)(function(){for(var Ee=!0,Ae,De=Pe,Ke=function(rr){Ee&&(De=rr,Se(rr))},ot=Vt(50,function(){De&&Ke(!1),clearTimeout(Ae),Ae=setTimeout(function(){return Ke(!0)},Z)}),nt=function(){document.hidden||ot()},St=0;St<se.length;St++)C(window,se[St],ot);return C(document,"visibilitychange",nt),Ae=setTimeout(function(){return Ke(!0)},Z),function(){Ee=!1;for(var rr=0;rr<se.length;rr++)y(window,se[rr],ot);y(document,"visibilitychange",nt)}},[Z,se]),Pe};const Ir=Vr;var dr=function(Z,x){var se=(0,r.useState)(null),pe=se[0],Pe=se[1];return(0,r.useEffect)(function(){if(Z.current&&typeof IntersectionObserver=="function"){var Se=function(Ae){Pe(Ae[0])},Ee=new IntersectionObserver(Se,x);return Ee.observe(Z.current),function(){Pe(null),Ee.disconnect()}}return function(){}},[Z.current,x.threshold,x.root,x.rootMargin]),pe};const cn=dr;var gn=function(Z,x){var se=(0,r.useRef)(function(){});(0,r.useEffect)(function(){se.current=Z}),(0,r.useEffect)(function(){if(x!==null){var pe=setInterval(function(){return se.current()},x||0);return function(){return clearInterval(pe)}}},[x])};const Xr=gn;var Et=function(Z){return typeof Z=="function"?Z:typeof Z=="string"?function(x){return x.key===Z}:Z?function(){return!0}:function(){return!1}},er=function(Z,x,se,pe){x===void 0&&(x=M),se===void 0&&(se={}),pe===void 0&&(pe=[Z]);var Pe=se.event,Se=Pe===void 0?"keydown":Pe,Ee=se.target,Ae=se.options,De=(0,r.useMemo)(function(){var Ke=Et(Z),ot=function(nt){if(Ke(nt))return x(nt)};return ot},pe);mt(Se,De,Ee,Ae)};const tr=er;var lr=function(Z){return Z===void 0&&(Z={laptopL:1440,laptop:1024,tablet:768}),function(){var x=(0,r.useState)(b?window.innerWidth:0),se=x[0],pe=x[1];(0,r.useEffect)(function(){var Ee=function(){pe(window.innerWidth)};return Ee(),C(window,"resize",Ee),function(){y(window,"resize",Ee)}});var Pe=(0,r.useMemo)(function(){return Object.entries(Z).sort(function(Ee,Ae){return Ee[1]>=Ae[1]?1:-1})},[Z]),Se=Pe.reduce(function(Ee,Ae){var De=Ae[0],Ke=Ae[1];return se>=Ke?De:Ee},Pe[0][0]);return Se}};const Pr=lr;var Yr=function(Z){var x=(0,r.useState)([!1,null]),se=x[0],pe=x[1];return tr(Z,function(Pe){return pe([!0,Pe])},{event:"keydown"},[se]),tr(Z,function(Pe){return pe([!1,Pe])},{event:"keyup"},[se]),se};const Zr=Yr;var Qr=function(Z,x,se,pe){pe===void 0&&(pe=Zr);var Pe=pe(Z),Se=Pe[0],Ee=Pe[1];a(function(){!Se&&se?se(Ee):Se&&x&&x(Ee)},[Se])};const bn=Qr;var Sn=function(Z){var x=(0,r.useRef)(Z);return x.current=Z,x};const mn=Sn;var En=function(Z,x){(0,r.useEffect)(function(){return Z&&Z(),function(){x&&x()}},[])};const nn=En;function Dn(Z){Z===void 0&&(Z=[]);var x=(0,r.useRef)(Ie(Z)),se=Ue(),pe=(0,r.useMemo)(function(){var Pe={set:function(Se){x.current=Ie(Se,x.current),se()},push:function(){for(var Se=[],Ee=0;Ee<arguments.length;Ee++)Se[Ee]=arguments[Ee];Se.length&&pe.set(function(Ae){return Ae.concat(Se)})},updateAt:function(Se,Ee){pe.set(function(Ae){var De=Ae.slice();return De[Se]=Ee,De})},insertAt:function(Se,Ee){pe.set(function(Ae){var De=Ae.slice();return Se>De.length?De[Se]=Ee:De.splice(Se,0,Ee),De})},update:function(Se,Ee){pe.set(function(Ae){return Ae.map(function(De){return Se(De,Ee)?Ee:De})})},updateFirst:function(Se,Ee){var Ae=x.current.findIndex(function(De){return Se(De,Ee)});Ae>=0&&pe.updateAt(Ae,Ee)},upsert:function(Se,Ee){var Ae=x.current.findIndex(function(De){return Se(De,Ee)});Ae>=0?pe.updateAt(Ae,Ee):pe.push(Ee)},sort:function(Se){pe.set(function(Ee){return Ee.slice().sort(Se)})},filter:function(Se,Ee){pe.set(function(Ae){return Ae.slice().filter(Se,Ee)})},removeAt:function(Se){pe.set(function(Ee){var Ae=Ee.slice();return Ae.splice(Se,1),Ae})},clear:function(){pe.set([])},reset:function(){pe.set(Ie(Z).slice())}};return Pe.remove=Pe.removeAt,Pe},[]);return[x.current,pe]}const _r=Dn;var fn=function(Z,x,se){if(!b)return[x,M,M];if(!Z)throw new Error("useLocalStorage key may not be falsy");var pe=se?se.raw?function(ot){return ot}:se.deserializer:JSON.parse,Pe=(0,r.useRef)(function(ot){try{var nt=se?se.raw?String:se.serializer:JSON.stringify,St=localStorage.getItem(ot);return St!==null?pe(St):(x&&localStorage.setItem(ot,nt(x)),x)}catch{return x}}),Se=(0,r.useState)(function(){return Pe.current(Z)}),Ee=Se[0],Ae=Se[1];(0,r.useLayoutEffect)(function(){return Ae(Pe.current(Z))},[Z]);var De=(0,r.useCallback)(function(ot){try{var nt=typeof ot=="function"?ot(Ee):ot;if(typeof nt>"u")return;var St=void 0;se?se.raw?typeof nt=="string"?St=nt:St=JSON.stringify(nt):se.serializer?St=se.serializer(nt):St=JSON.stringify(nt):St=JSON.stringify(nt),localStorage.setItem(Z,St),Ae(pe(St))}catch{}},[Z,Ae]),Ke=(0,r.useCallback)(function(){try{localStorage.removeItem(Z),Ae(void 0)}catch{}},[Z,Ae]);return[Ee,De,Ke]};const dn=fn;var yr=function(Z){var x=window.history,se=x[Z];x[Z]=function(pe){var Pe=se.apply(this,arguments),Se=new Event(Z.toLowerCase());return Se.state=pe,window.dispatchEvent(Se),Pe}};b&&(yr("pushState"),yr("replaceState"));var In=function(){return{trigger:"load",length:1}},qr=function(Z){var x=window.history,se=x.state,pe=x.length,Pe=window.location,Se=Pe.hash,Ee=Pe.host,Ae=Pe.hostname,De=Pe.href,Ke=Pe.origin,ot=Pe.pathname,nt=Pe.port,St=Pe.protocol,rr=Pe.search;return{trigger:Z,state:se,length:pe,hash:Se,host:Ee,hostname:Ae,href:De,origin:Ke,pathname:ot,port:nt,protocol:St,search:rr}},Pn=function(){var Z=(0,r.useState)(qr("load")),x=Z[0],se=Z[1];return(0,r.useEffect)(function(){var pe=function(){return se(qr("popstate"))},Pe=function(){return se(qr("pushstate"))},Se=function(){return se(qr("replacestate"))};return C(window,"popstate",pe),C(window,"pushstate",Pe),C(window,"replacestate",Se),function(){y(window,"popstate",pe),y(window,"pushstate",Pe),y(window,"replacestate",Se)}},[]),x},hn=typeof Event=="function";const jn=b&&hn?Pn:In;function Wr(Z){if(Z){if(Z.tagName==="BODY")return Z;if(Z.tagName==="IFRAME"){var x=Z.contentDocument;return x?x.body:null}else if(!Z.offsetParent)return null}else return null;return Wr(Z.offsetParent)}function xr(Z){var x=Z||window.event;return x.touches.length>1?!0:(x.preventDefault&&x.preventDefault(),!1)}var kr=b&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),$r=new Map,Cn=typeof document=="object"?document:void 0,vn=!1;const Tn=Cn?function(x,se){x===void 0&&(x=!0);var pe=(0,r.useRef)(Cn.body);se=se||pe;var Pe=function(Ee){var Ae=$r.get(Ee);Ae?$r.set(Ee,{counter:Ae.counter+1,initialOverflow:Ae.initialOverflow}):($r.set(Ee,{counter:1,initialOverflow:Ee.style.overflow}),kr?vn||(C(document,"touchmove",xr,{passive:!1}),vn=!0):Ee.style.overflow="hidden")},Se=function(Ee){var Ae=$r.get(Ee);Ae&&(Ae.counter===1?($r.delete(Ee),kr?(Ee.ontouchmove=null,vn&&(y(document,"touchmove",xr),vn=!1)):Ee.style.overflow=Ae.initialOverflow):$r.set(Ee,{counter:Ae.counter-1,initialOverflow:Ae.initialOverflow}))};(0,r.useEffect)(function(){var Ee=Wr(se.current);Ee&&(x?Pe(Ee):Se(Ee))},[x,se.current]),(0,r.useEffect)(function(){var Ee=Wr(se.current);if(Ee)return function(){Se(Ee)}},[])}:function(x,se){x===void 0&&(x=!0)};var Ln=function(Z){for(var x=[],se=1;se<arguments.length;se++)x[se-1]=arguments[se];Xt(function(){return console.log.apply(console,(0,P.__spreadArrays)([Z+" mounted"],x)),function(){return console.log(Z+" unmounted")}}),a(function(){console.log.apply(console,(0,P.__spreadArrays)([Z+" updated"],x))})};const Hn=Ln;var zn=function(Z){return"touches"in Z},Dt=function(Z){zn(Z)&&Z.touches.length<2&&Z.preventDefault&&Z.preventDefault()},mr=function(Z,x){var se=x===void 0?{}:x,pe=se.isPreventDefault,Pe=pe===void 0?!0:pe,Se=se.delay,Ee=Se===void 0?300:Se,Ae=(0,r.useRef)(),De=(0,r.useRef)(),Ke=(0,r.useCallback)(function(nt){Pe&&nt.target&&(C(nt.target,"touchend",Dt,{passive:!1}),De.current=nt.target),Ae.current=setTimeout(function(){return Z(nt)},Ee)},[Z,Ee,Pe]),ot=(0,r.useCallback)(function(){Ae.current&&clearTimeout(Ae.current),Pe&&De.current&&y(De.current,"touchend",Dt)},[Pe]);return{onMouseDown:function(nt){return Ke(nt)},onTouchStart:function(nt){return Ke(nt)},onMouseUp:ot,onMouseLeave:ot,onTouchEnd:ot}};const Nn=mr;var Rn=function(Z){Z===void 0&&(Z={});var x=(0,r.useState)(Z),se=x[0],pe=x[1],Pe=(0,r.useMemo)(function(){return{set:function(Ee,Ae){pe(function(De){var Ke;return(0,P.__assign)((0,P.__assign)({},De),(Ke={},Ke[Ee]=Ae,Ke))})},setAll:function(Ee){pe(Ee)},remove:function(Ee){pe(function(Ae){var De=Ae,Ke=Ee,ot=De[Ke],nt=(0,P.__rest)(De,[typeof Ke=="symbol"?Ke:Ke+""]);return nt})},reset:function(){return pe(Z)}}},[pe]),Se=(0,P.__assign)({get:(0,r.useCallback)(function(Ee){return se[Ee]},[se])},Pe);return[se,Se]};const Vn=Rn;var yn=function(Z,x){x===void 0&&(x=!1);var se=(0,r.useState)(b?function(){return window.matchMedia(Z).matches}:x),pe=se[0],Pe=se[1];return(0,r.useEffect)(function(){var Se=!0,Ee=window.matchMedia(Z),Ae=function(){Se&&Pe(!!Ee.matches)};return Ee.addListener(Ae),Pe(Ee.matches),function(){Se=!1,Ee.removeListener(Ae)}},[Z]),pe};const un=yn;var Gr=function(){var Z=(0,r.useState)({}),x=Z[0],se=Z[1];return(0,r.useEffect)(function(){var pe=!0,Pe=function(){navigator.mediaDevices.enumerateDevices().then(function(Se){pe&&se({devices:Se.map(function(Ee){var Ae=Ee.deviceId,De=Ee.groupId,Ke=Ee.kind,ot=Ee.label;return{deviceId:Ae,groupId:De,kind:Ke,label:ot}})})}).catch(M)};return C(navigator.mediaDevices,"devicechange",Pe),Pe(),function(){pe=!1,y(navigator.mediaDevices,"devicechange",Pe)}},[]),x},Hr=function(){return{}};const en=T&&navigator.mediaDevices?Gr:Hr;function Yn(Z,x){var se=(0,r.useRef)(Z),pe=(0,r.useState)(x),Pe=pe[0],Se=pe[1],Ee=(0,r.useCallback)(function(Ae){se.current.length===2?se.current(Ae,Se):Se(se.current(Ae))},[Pe]);return[Pe,Ee]}var sr=function(Z,x){var se=(0,r.useMemo)(function(){return function(Ae,De){var Ke;return(Ke=Z(Ae))[De.type].apply(Ke,De.payload)}},[Z]),pe=(0,r.useReducer)(se,x),Pe=pe[0],Se=pe[1],Ee=(0,r.useMemo)(function(){var Ae=Object.keys(Z(x));return Ae.reduce(function(De,Ke){return De[Ke]=function(){for(var ot=[],nt=0;nt<arguments.length;nt++)ot[nt]=arguments[nt];return Se({type:Ke,payload:ot})},De},{})},[Z,x]);return[Pe,Ee]};const Jn=sr;var Wn={acceleration:{x:null,y:null,z:null},accelerationIncludingGravity:{x:null,y:null,z:null},rotationRate:{alpha:null,beta:null,gamma:null},interval:16},$n=function(Z){Z===void 0&&(Z=Wn);var x=(0,r.useState)(Z),se=x[0],pe=x[1];return(0,r.useEffect)(function(){var Pe=function(Se){var Ee=Se.acceleration,Ae=Se.accelerationIncludingGravity,De=Se.rotationRate,Ke=Se.interval;pe({acceleration:{x:Ee.x,y:Ee.y,z:Ee.z},accelerationIncludingGravity:{x:Ae.x,y:Ae.y,z:Ae.z},rotationRate:{alpha:De.alpha,beta:De.beta,gamma:De.gamma},interval:Ke})};return C(window,"devicemotion",Pe),function(){y(window,"devicemotion",Pe)}},[]),se};const tn=$n;var Kn=function(Z){Xt(function(){Z()})};const Xn=Kn;var An=function(Z){var x=(0,r.useRef)(Z);x.current=Z,Xt(function(){return function(){return x.current()}})};const Br=An;var jr=function(Z){var x=(0,r.useRef)(0),se=(0,r.useState)(Z),pe=se[0],Pe=se[1],Se=(0,r.useCallback)(function(Ee){cancelAnimationFrame(x.current),x.current=requestAnimationFrame(function(){Pe(Ee)})},[]);return Br(function(){cancelAnimationFrame(x.current)}),[pe,Se]};const an=jr;var Zn=function(Z){var x=an({docX:0,docY:0,posX:0,posY:0,elX:0,elY:0,elH:0,elW:0}),se=x[0],pe=x[1];return(0,r.useEffect)(function(){var Pe=function(Se){if(Z&&Z.current){var Ee=Z.current.getBoundingClientRect(),Ae=Ee.left,De=Ee.top,Ke=Ee.width,ot=Ee.height,nt=Ae+window.pageXOffset,St=De+window.pageYOffset,rr=Se.pageX-nt,Fr=Se.pageY-St;pe({docX:Se.pageX,docY:Se.pageY,posX:nt,posY:St,elX:rr,elY:Fr,elH:ot,elW:Ke})}};return C(document,"mousemove",Pe),function(){y(document,"mousemove",Pe)}},[Z]),se};const _n=Zn;var na={current:null},br=function(Z,x){x===void 0&&(x={});var se=!!x.whenHovered,pe=!!x.bound,Pe=gr(Z,se),Se=_n(se&&!Pe?na:Z);return pe&&(Se.elX=Math.max(0,Math.min(Se.elX,Se.elW)),Se.elY=Math.max(0,Math.min(Se.elY,Se.elH))),Se};const Bn=br,qn=function(){var Z=(0,r.useState)(0),x=Z[0],se=Z[1];return(0,r.useEffect)(function(){var pe=function(Pe){se(Pe.deltaY+x)};return C(window,"wheel",pe,!1),function(){return y(window,"wheel",pe)}}),x};var Ar=T?navigator:void 0,Sr=Ar&&(Ar.connection||Ar.mozConnection||Ar.webkitConnection);function Fn(Z){var x=Ar?.onLine,se=Z?.online;return{online:x,previous:se,since:x!==se?new Date:Z?.since,downlink:Sr?.downlink,downlinkMax:Sr?.downlinkMax,effectiveType:Sr?.effectiveType,rtt:Sr?.rtt,saveData:Sr?.saveData,type:Sr?.type}}function xn(Z){var x=(0,r.useState)(Z??Fn),se=x[0],pe=x[1];return(0,r.useEffect)(function(){var Pe=function(){pe(Fn)};return C(window,"online",Pe,{passive:!0}),C(window,"offline",Pe,{passive:!0}),Sr&&C(Sr,"change",Pe,{passive:!0}),function(){y(window,"online",Pe),y(window,"offline",Pe),Sr&&y(Sr,"change",Pe)}},[]),se}const wn=qe;function Jr(Z,x){var se=(0,r.useState)(x),pe=se[0],Pe=se[1];return Me(function(){var Se=Z.subscribe(Pe);return function(){return Se.unsubscribe()}},[Z]),pe}const aa=Jr;var Un={angle:0,type:"landscape-primary"},ue=function(Z){Z===void 0&&(Z=Un);var x=(0,r.useState)(Z),se=x[0],pe=x[1];return(0,r.useEffect)(function(){var Pe=window.screen,Se=!0,Ee=function(){if(Se){var Ae=Pe.orientation;if(Ae){var De=Ae.angle,Ke=Ae.type;pe({angle:De,type:Ke})}else window.orientation!==void 0?pe({angle:typeof window.orientation=="number"?window.orientation:0,type:""}):pe(Z)}};return C(window,"orientationchange",Ee),Ee(),function(){Se=!1,y(window,"orientationchange",Ee)}},[]),se};const ve=ue;var fe=function(Z,x){x===void 0&&(x=[]),(0,r.useEffect)(function(){if(Z){var se=function(pe){pe=pe||window.event;var Pe=pe.relatedTarget||pe.toElement;(!Pe||Pe.nodeName==="HTML")&&Z()};return C(document,"mouseout",se),function(){y(document,"mouseout",se)}}},x)};const ae=fe;var Te=function(Z){var x=(0,r.useState)(""),se=x[0],pe=x[1];return(0,r.useEffect)(function(){var Pe=!0,Se=null,Ee=function(){Pe&&pe(function(){var Ae;return(Ae=Se?.state)!==null&&Ae!==void 0?Ae:""})};return navigator.permissions.query(Z).then(function(Ae){Se=Ae,C(Se,"change",Ee),Ee()}).catch(M),function(){Se&&y(Se,"change",Ee),Pe=!1,Se=null}},[Z]),se};const Oe=Te;function ge(Z){var x=(0,r.useRef)();return(0,r.useEffect)(function(){x.current=Z}),x.current}var We=function(Z,x){return Z===x};function Ce(Z,x){x===void 0&&(x=We);var se=(0,r.useRef)(),pe=(0,r.useRef)(Z),Pe=o();return!Pe&&!x(pe.current,Z)&&(se.current=pe.current,pe.current=Z),se.current}var Ve=function(){var Z=E();return(0,r.useCallback)(function(x){return new Promise(function(se,pe){var Pe=function(Ee){Z()&&se(Ee)},Se=function(Ee){Z()&&pe(Ee)};x.then(Pe,Se)})},[])};const Qe=Ve;var Ze=function(Z){Z===void 0&&(Z=[]);var x=(0,r.useState)(Z),se=x[0],pe=x[1];return{add:function(Pe){pe(function(Se){return(0,P.__spreadArrays)(Se,[Pe])})},remove:function(){var Pe;return pe(function(Se){var Ee=Se[0],Ae=Se.slice(1);return Pe=Ee,Ae}),Pe},get first(){return se[0]},get last(){return se[se.length-1]},get size(){return se.length}}};const it=Ze;var at=function(Z,x){Z===void 0&&(Z=1e12),x===void 0&&(x=0);var se=(0,r.useState)(0),pe=se[0],Pe=se[1];return Me(function(){var Se,Ee,Ae,De=function(){var St=Math.min(1,(Date.now()-Ae)/Z);Pe(St),Ke()},Ke=function(){Se=requestAnimationFrame(De)},ot=function(){Ee=setTimeout(function(){cancelAnimationFrame(Se),Pe(1)},Z),Ae=Date.now(),Ke()},nt=setTimeout(ot,x);return function(){clearTimeout(Ee),clearTimeout(nt),cancelAnimationFrame(Se)}},[Z,x]),pe};const lt=at;function Ct(Z,x){x===void 0&&(x=!0);var se=(0,r.useRef)(null),pe=(0,r.useRef)(!1),Pe=(0,r.useRef)(Z);Pe.current=Z;var Se=(0,r.useCallback)(function(Ae){pe.current&&(Pe.current(Ae),se.current=requestAnimationFrame(Se))},[]),Ee=(0,r.useMemo)(function(){return[function(){pe.current&&(pe.current=!1,se.current&&cancelAnimationFrame(se.current))},function(){pe.current||(pe.current=!0,se.current=requestAnimationFrame(Se))},function(){return pe.current}]},[]);return(0,r.useEffect)(function(){return x&&Ee[1](),Ee[0]},[]),Ee}var Ut=function(Z,x){return new URLSearchParams(Z).get(x)},zt=function(Z){var x=window.location,se=(0,r.useState)(function(){return Ut(x.search,Z)}),pe=se[0],Pe=se[1];return(0,r.useEffect)(function(){var Se=function(){Pe(Ut(x.search,Z))};return C(window,"popstate",Se),C(window,"pushstate",Se),C(window,"replacestate",Se),function(){y(window,"popstate",Se),y(window,"pushstate",Se),y(window,"replacestate",Se)}},[]),pe},Ht=function(){return null};const Cr=b?zt:Ht;var Lr=t(63426),Kr=function(Z){Z===void 0&&(Z={});var x=Z.disabled,se=mn(Z),pe=(0,r.useState)({isScratching:!1}),Pe=pe[0],Se=pe[1],Ee=(0,r.useRef)(Pe),Ae=(0,r.useRef)(!1),De=(0,r.useRef)(null),Ke=(0,r.useState)(null),ot=Ke[0],nt=Ke[1];return(0,r.useEffect)(function(){if(!x&&ot){var St=function(Er,Mn){cancelAnimationFrame(De.current),De.current=requestAnimationFrame(function(){var Gn=ot.getBoundingClientRect(),sn=Gn.left,ua=Gn.top,ia=sn+window.scrollX,oa=ua+window.scrollY,la=Er-ia,sa=Mn-oa;Se(function(ra){var kn=(0,P.__assign)((0,P.__assign)({},ra),{dx:la-(ra.x||0),dy:sa-(ra.y||0),end:Date.now(),isScratching:!0});return Ee.current=kn,(se.current.onScratch||M)(kn),kn})})},rr=function(Er){St(Er.pageX,Er.pageY)},Fr=function(Er){St(Er.changedTouches[0].pageX,Er.changedTouches[0].pageY)},Nr,Jt,rn=function(){Ae.current&&(Ae.current=!1,Ee.current=(0,P.__assign)((0,P.__assign)({},Ee.current),{isScratching:!1}),(se.current.onScratchEnd||M)(Ee.current),Se({isScratching:!1}),y(window,"mousemove",rr),y(window,"touchmove",Fr),y(window,"mouseup",Nr),y(window,"touchend",Jt))};Nr=rn,Jt=rn;var Qn=function(Er,Mn){if(Ae.current){var Gn=ot.getBoundingClientRect(),sn=Gn.left,ua=Gn.top,ia=sn+window.scrollX,oa=ua+window.scrollY,la=Er-ia,sa=Mn-oa,ra=Date.now(),kn={isScratching:!0,start:ra,end:ra,docX:Er,docY:Mn,x:la,y:sa,dx:0,dy:0,elH:ot.offsetHeight,elW:ot.offsetWidth,elX:ia,elY:oa};Ee.current=kn,(se.current.onScratchStart||M)(kn),Se(kn),C(window,"mousemove",rr),C(window,"touchmove",Fr),C(window,"mouseup",Nr),C(window,"touchend",Jt)}},Nt=function(Er){Ae.current=!0,Qn(Er.pageX,Er.pageY)},vr=function(Er){Ae.current=!0,Qn(Er.changedTouches[0].pageX,Er.changedTouches[0].pageY)};return C(ot,"mousedown",Nt),C(ot,"touchstart",vr),function(){y(ot,"mousedown",Nt),y(ot,"touchstart",vr),y(window,"mousemove",rr),y(window,"touchmove",Fr),y(window,"mouseup",Nr),y(window,"touchend",Jt),De.current&&cancelAnimationFrame(De.current),De.current=null,Ae.current=!1,Ee.current={isScratching:!1},Se(Ee.current)}}},[ot,x,se]),[nt,Pe]},zr=function(Z){var x=Z.children,se=__rest(Z,["children"]),pe=Kr(se),Pe=pe[0],Se=pe[1],Ee=render(Z,Se);return cloneElement(Ee,__assign(__assign({},Ee.props),{ref:function(Ae){Ee.props.ref&&(typeof Ee.props.ref=="object"&&(Ee.props.ref.current=Ae),typeof Ee.props.ref=="function"&&Ee.props.ref(Ae)),Pe(Ae)}}))};const pn=Kr;var g=function(Z){var x=an({x:0,y:0}),se=x[0],pe=x[1];return(0,r.useEffect)(function(){var Pe=function(){Z.current&&pe({x:Z.current.scrollLeft,y:Z.current.scrollTop})};return Z.current&&C(Z.current,"scroll",Pe,{capture:!1,passive:!0}),function(){Z.current&&y(Z.current,"scroll",Pe)}},[Z]),se};const N=g;var J=function(Z){var x=(0,r.useState)(!1),se=x[0],pe=x[1];return(0,r.useEffect)(function(){if(Z.current){var Pe,Se=function(){pe(!1)},Ee=function(){pe(!0),clearTimeout(Pe),Pe=setTimeout(function(){return Se()},150)};return C(Z.current,"scroll",Ee,!1),function(){Z.current&&y(Z.current,"scroll",Ee,!1)}}return function(){}},[Z]),se};const ne=J;var ce=function(Z,x,se){if(!b)return[x,function(){}];var pe=(0,r.useState)(function(){try{var Ee=sessionStorage.getItem(Z);return typeof Ee!="string"?(sessionStorage.setItem(Z,se?String(x):JSON.stringify(x)),x):se?Ee:JSON.parse(Ee||"null")}catch{return x}}),Pe=pe[0],Se=pe[1];return(0,r.useEffect)(function(){try{var Ee=se?String(Pe):JSON.stringify(Pe);sessionStorage.setItem(Z,Ee)}catch{}}),[Pe,Se]};const ye=ce;var Re=t(59851),Ne=function(Z){return Z!==Object(Z)},Ge=function(Z,x){return Z.every(function(se,pe){return(0,Re.L)(se,x[pe])})},Ye=function(Z,x){ft(Z,x,Ge)};const Je=Ye;var yt=r.useState,Tt=r.useEffect,Bt=r.useRef,Qt=function(Z){return setTimeout(Z,35)},Tr=function(Z,x){var se=x===void 0?{}:x,pe=se.width,Pe=pe===void 0?1/0:pe,Se=se.height,Ee=Se===void 0?1/0:Se;if(!b)return[typeof Z=="function"?Z({width:Pe,height:Ee}):Z,{width:Pe,height:Ee}];var Ae=yt({width:Pe,height:Ee}),De=Ae[0],Ke=Ae[1];typeof Z=="function"&&(Z=Z(De));var ot=Z.props.style||{},nt=Bt(null),St=null,rr=function(){var Jt=nt.current,rn=Jt?{width:Jt.offsetWidth,height:Jt.offsetHeight}:{width:Pe,height:Ee};Ke(rn)},Fr=function(Jt){C(Jt,"resize",rr),Qt(rr)};Tt(function(){var Jt=nt.current;if(Jt){if(Jt.contentWindow)St=Jt.contentWindow,Fr(St);else{var rn=function(){C(Jt,"load",rn),St=Jt.contentWindow,Fr(St)};y(Jt,"load",rn)}return function(){St&&St.removeEventListener&&y(St,"resize",rr)}}},[]),ot.position="relative";var Nr=r.cloneElement.apply(c,(0,P.__spreadArrays)([Z,{style:ot}],(0,P.__spreadArrays)([r.createElement("iframe",{ref:nt,style:{background:"transparent",border:"none",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1}})],r.Children.toArray(Z.props.children))));return[Nr,De]};const on=Tr;var ln=function(Z,x){x===void 0&&(x={});var se=E(),pe=(0,r.useRef)(!1),Pe=(0,r.useRef)(0),Se=(0,r.useRef)(0),Ee=G({isSliding:!1,value:0}),Ae=Ee[0],De=Ee[1];return Pe.current=Ae.value,(0,r.useEffect)(function(){if(b){var Ke=x.styles===void 0?!0:x.styles,ot=x.reverse===void 0?!1:x.reverse;Z.current&&Ke&&(Z.current.style.userSelect="none");var nt=function(){!pe.current&&se()&&((x.onScrubStart||M)(),pe.current=!0,De({isSliding:!0}),rn())},St=function(){pe.current&&se()&&((x.onScrubStop||M)(Pe.current),pe.current=!1,De({isSliding:!1}),Qn())},rr=function(vr){nt(),Fr(vr)},Fr=x.vertical?function(vr){return Nt(vr.clientY)}:function(vr){return Nt(vr.clientX)},Nr=function(vr){nt(),Jt(vr)},Jt=x.vertical?function(vr){return Nt(vr.changedTouches[0].clientY)}:function(vr){return Nt(vr.changedTouches[0].clientX)},rn=function(){C(document,"mousemove",Fr),C(document,"mouseup",St),C(document,"touchmove",Jt),C(document,"touchend",St)},Qn=function(){y(document,"mousemove",Fr),y(document,"mouseup",St),y(document,"touchmove",Jt),y(document,"touchend",St)},Nt=function(vr){cancelAnimationFrame(Se.current),Se.current=requestAnimationFrame(function(){if(se()&&Z.current){var Er=Z.current.getBoundingClientRect(),Mn=x.vertical?Er.top:Er.left,Gn=x.vertical?Er.height:Er.width;if(!Gn)return;var sn=(vr-Mn)/Gn;sn>1?sn=1:sn<0&&(sn=0),ot&&(sn=1-sn),De({value:sn}),(x.onScrub||M)(sn)}})};return C(Z.current,"mousedown",rr),C(Z.current,"touchstart",Nr),function(){y(Z.current,"mousedown",rr),y(Z.current,"touchstart",Nr)}}else return},[Z,x.vertical]),Ae};const ea=ln;var On;(function(Z){Z[Z.init=0]="init",Z[Z.play=1]="play",Z[Z.pause=2]="pause",Z[Z.end=3]="end"})(On||(On={}));var fa=function(Z,x){var se=(0,r.useRef)(!1),pe=(0,r.useState)(function(){var Ke=x.voice||{},ot=Ke.lang,nt=ot===void 0?"default":ot,St=Ke.name,rr=St===void 0?"":St;return{isPlaying:!1,status:On[On.init],lang:x.lang||"default",voiceInfo:{lang:nt,name:rr},rate:x.rate||1,pitch:x.pitch||1,volume:x.volume||1}}),Pe=pe[0],Se=pe[1],Ee=(0,r.useCallback)(function(){se.current&&Se(function(Ke){return(0,P.__assign)((0,P.__assign)({},Ke),{isPlaying:!0,status:On[On.play]})})},[]),Ae=(0,r.useCallback)(function(){se.current&&Se(function(Ke){return(0,P.__assign)((0,P.__assign)({},Ke),{isPlaying:!1,status:On[On.pause]})})},[]),De=(0,r.useCallback)(function(){se.current&&Se(function(Ke){return(0,P.__assign)((0,P.__assign)({},Ke),{isPlaying:!1,status:On[On.end]})})},[]);return(0,r.useEffect)(function(){se.current=!0;var Ke=new SpeechSynthesisUtterance(Z);return x.lang&&(Ke.lang=x.lang),x.voice&&(Ke.voice=x.voice),Ke.rate=x.rate||1,Ke.pitch=x.pitch||1,Ke.volume=x.volume||1,Ke.onstart=Ee,Ke.onpause=Ae,Ke.onresume=Ee,Ke.onend=De,window.speechSynthesis.speak(Ke),function(){se.current=!1}},[]),Pe};const da=fa;var va=function(){var Z=document.activeElement,x=document.body;if(!Z||Z===x)return!1;switch(Z.tagName){case"INPUT":case"TEXTAREA":return!0}return Z.hasAttribute("contenteditable")},pa=function(Z){var x=Z.keyCode,se=Z.metaKey,pe=Z.ctrlKey,Pe=Z.altKey;return se||pe||Pe?!1:x>=48&&x<=57||x>=65&&x<=90},ga=function(Z){Me(function(){var x=function(se){!va()&&pa(se)&&Z(se)};return C(document,"keydown",x),function(){y(document,"keydown",x)}},[])};const ma=ga;function ha(Z,x,se){if(x===void 0&&(x=10),x<1)throw new Error("Capacity has to be greater than 1, got '"+x+"'");var pe=o(),Pe=(0,r.useState)(Z),Se=Pe[0],Ee=Pe[1],Ae=(0,r.useRef)(se??[]),De=(0,r.useRef)(0);pe&&(Ae.current.length?(Ae.current[Ae.current.length-1]!==Z&&Ae.current.push(Z),Ae.current.length>x&&(Ae.current=Ae.current.slice(Ae.current.length-x))):Ae.current.push(Z),De.current=Ae.current.length&&Ae.current.length-1);var Ke=(0,r.useCallback)(function(nt){Ee(function(St){return nt=Ie(nt,St),nt!==St&&(De.current<Ae.current.length-1&&(Ae.current=Ae.current.slice(0,De.current+1)),De.current=Ae.current.push(nt)-1,Ae.current.length>x&&(Ae.current=Ae.current.slice(Ae.current.length-x))),nt})},[Se,x]),ot=(0,r.useMemo)(function(){return{history:Ae.current,position:De.current,capacity:x,back:function(nt){nt===void 0&&(nt=1),De.current&&Ee(function(){return De.current-=Math.min(nt,De.current),Ae.current[De.current]})},forward:function(nt){nt===void 0&&(nt=1),De.current!==Ae.current.length-1&&Ee(function(){return De.current=Math.min(De.current+nt,Ae.current.length-1),Ae.current[De.current]})},go:function(nt){nt!==De.current&&Ee(function(){return De.current=nt<0?Math.max(Ae.current.length+nt,0):Math.min(Ae.current.length-1,nt),Ae.current[De.current]})}}},[Se]);return[Se,Ke,ot]}function ya(Z){Z===void 0&&(Z=[]);var x=E(),se=Ue(),pe=(0,r.useRef)(0);a(function(){Z.length<=pe.current&&(pe.current=Z.length-1,se())},[Z.length]);var Pe=(0,r.useMemo)(function(){return{next:function(){return Pe.setStateAt(pe.current+1)},prev:function(){return Pe.setStateAt(pe.current-1)},setStateAt:function(Se){x()&&Z.length&&Se!==pe.current&&(pe.current=Se>=0?Se%Z.length:Z.length+Se%Z.length,se())},setState:function(Se){if(x()){var Ee=Z.length?Z.indexOf(Se):-1;if(Ee===-1)throw new Error("State '"+Se+"' is not a valid state (does not exist in state list)");pe.current=Ee,se()}}}},[Z]);return(0,P.__assign)({state:Z[pe.current],currentIndex:pe.current},Pe)}var Oa=function(Z,x){x===void 0&&(x=200);var se=(0,r.useState)(Z),pe=se[0],Pe=se[1],Se=(0,r.useRef)(),Ee=(0,r.useRef)(null),Ae=(0,r.useRef)(0);return(0,r.useEffect)(function(){if(Se.current)Ee.current=Z,Ae.current=!0;else{Pe(Z);var De=function(){Ae.current?(Ae.current=!1,Pe(Ee.current),Se.current=setTimeout(De,x)):Se.current=void 0};Se.current=setTimeout(De,x)}},[Z]),Br(function(){Se.current&&clearTimeout(Se.current)}),pe};const ba=Oa;var Sa=function(Z,x,se){x===void 0&&(x=200);var pe=(0,r.useState)(null),Pe=pe[0],Se=pe[1],Ee=(0,r.useRef)(),Ae=(0,r.useRef)();return(0,r.useEffect)(function(){if(Ee.current)Ae.current=se;else{Se(Z.apply(void 0,se));var De=function(){Ae.current?(Se(Z.apply(void 0,Ae.current)),Ae.current=void 0,Ee.current=setTimeout(De,x)):Ee.current=void 0};Ee.current=setTimeout(De,x)}},se),Br(function(){Ee.current&&clearTimeout(Ee.current)}),Pe};const Ea=Sa;function Pa(Z){Z===void 0&&(Z=0);var x=Ue();return vt(x,Z)}var Ca={restoreOnUnmount:!1};function Ta(Z,x){x===void 0&&(x=Ca);var se=(0,r.useRef)(document.title);document.title!==Z&&(document.title=Z),(0,r.useEffect)(function(){if(x&&x.restoreOnUnmount)return function(){document.title=se.current}},[])}const Ra=typeof document<"u"?Ta:function(Z){};var Aa=t(63118),Fa=function(Z,x,se){Z===void 0&&(Z="inCirc"),x===void 0&&(x=200),se===void 0&&(se=0);var pe=Aa.c[Z],Pe=lt(x,se);return pe(Pe)};const wa=Fa;var Ma=function(){var Z=(0,r.useRef)(!1);Xt(function(){return function(){Z.current=!0}});var x=(0,r.useMemo)(function(){var se=function(pe,Pe){var Se=new Promise(function(Ee,Ae){pe.then(function(De){Z.current||Ee(De)},function(De){Z.current?Pe?Pe(De):console.error("useUnmountPromise",De):Ae(De)})});return Se};return se},[]);return x};const Da=Ma;function Ia(Z,x){x===void 0&&(x=[]);var se=_r(x),pe=se[0],Pe=se[1];return[pe,(0,P.__assign)((0,P.__assign)({},Pe),{upsert:function(Se){Pe.upsert(Z,Se)}})]}var ja=T&&"vibrate"in navigator;function La(Z,x,se){Z===void 0&&(Z=!0),x===void 0&&(x=[1e3,1e3]),se===void 0&&(se=!0),(0,r.useEffect)(function(){var pe;if(Z&&(navigator.vibrate(x),se)){var Pe=x instanceof Array?x.reduce(function(Se,Ee){return Se+Ee}):x;pe=setInterval(function(){navigator.vibrate(x)},Pe)}return function(){Z&&(navigator.vibrate(0),se&&clearInterval(pe))}},[Z])}const Na=ja?La:M;var Va=Y("video");const Wa=Va;function Ba(Z,x,se){se===void 0&&(se=[void 0]);var pe=(0,r.useRef)(x),Pe=(0,r.useRef)(Z);pe.current=x,Pe.current=Z;var Se=(0,r.useState)(se),Ee=Se[0],Ae=Se[1],De=(0,r.useCallback)(function(){pe.current.length>=2?pe.current(Pe.current,Ae):Ae(pe.current(Pe.current))},[Ae]);return(0,r.useEffect)(function(){De()},[Z]),[Ee,De]}var ta=function(Z){if(typeof document>"u")return 0;if(document.body&&(!document.readyState||document.readyState!=="loading")){if(Z!==!0&&typeof ta.__cache=="number")return ta.__cache;var x=document.createElement("div"),se=x.style;se.display="block",se.position="absolute",se.width="100px",se.height="100px",se.left="-999px",se.top="-999px",se.overflow="scroll",document.body.insertBefore(x,null);var pe=x.clientWidth;if(pe!==0)return ta.__cache=100-pe,document.body.removeChild(x),ta.__cache;document.body.removeChild(x)}};function Ua(){var Z=(0,r.useState)(ta()),x=Z[0],se=Z[1];return(0,r.useEffect)(function(){if(!(typeof x<"u")){var pe=requestAnimationFrame(function(){se(ta())});return function(){return cancelAnimationFrame(pe)}}},[]),x}function Ga(Z,x,se){if(se===void 0&&(se=[void 0]),typeof Z!="object")throw new Error("states expected to be an object or array, got "+typeof Z);var pe=(0,r.useRef)(x),Pe=(0,r.useRef)(Z);pe.current=x,Pe.current=Z;var Se=(0,r.useState)(se),Ee=Se[0],Ae=Se[1],De=(0,r.useCallback)(function(){pe.current.length>=2?pe.current(Pe.current,Ae):Ae(pe.current(Pe.current))},[Ae]);return(0,r.useEffect)(function(){De()},Object.values(Z)),[Ee,De]}var Ha=function(){var Z=an(function(){return{x:b?window.pageXOffset:0,y:b?window.pageYOffset:0}}),x=Z[0],se=Z[1];return(0,r.useEffect)(function(){var pe=function(){se(function(Pe){var Se=window.pageXOffset,Ee=window.pageYOffset;return Pe.x!==Se||Pe.y!==Ee?{x:Se,y:Ee}:Pe})};return pe(),C(window,"scroll",pe,{capture:!1,passive:!0}),function(){y(window,"scroll",pe)}},[]),x};const za=Ha;var Ya=function(Z,x){Z===void 0&&(Z=1/0),x===void 0&&(x=1/0);var se=an({width:b?window.innerWidth:Z,height:b?window.innerHeight:x}),pe=se[0],Pe=se[1];return(0,r.useEffect)(function(){if(b){var Se=function(){Pe({width:window.innerWidth,height:window.innerHeight})};return C(window,"resize",Se),function(){y(window,"resize",Se)}}},[]),pe};const $a=Ya;var ca={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Ka(){var Z=(0,r.useState)(null),x=Z[0],se=Z[1],pe=(0,r.useState)(ca),Pe=pe[0],Se=pe[1],Ee=(0,r.useMemo)(function(){return new window.ResizeObserver(function(Ae){if(Ae[0]){var De=Ae[0].contentRect,Ke=De.x,ot=De.y,nt=De.width,St=De.height,rr=De.top,Fr=De.left,Nr=De.bottom,Jt=De.right;Se({x:Ke,y:ot,width:nt,height:St,top:rr,left:Fr,bottom:Nr,right:Jt})}})},[]);return Me(function(){if(x)return Ee.observe(x),function(){Ee.disconnect()}},[x]),[se,Pe]}const Qa=b&&typeof window.ResizeObserver<"u"?Ka:function(){return[M,ca]};function ka(){return++(0,r.useRef)(0).current}var Ja=function(Z){Z===void 0&&(Z=new Set);var x=(0,r.useState)(Z),se=x[0],pe=x[1],Pe=(0,r.useMemo)(function(){var Ee=function(Ke){return pe(function(ot){return new Set((0,P.__spreadArrays)(Array.from(ot),[Ke]))})},Ae=function(Ke){return pe(function(ot){return new Set(Array.from(ot).filter(function(nt){return nt!==Ke}))})},De=function(Ke){return pe(function(ot){return ot.has(Ke)?new Set(Array.from(ot).filter(function(nt){return nt!==Ke})):new Set((0,P.__spreadArrays)(Array.from(ot),[Ke]))})};return{add:Ee,remove:Ae,toggle:De,reset:function(){return pe(Z)}}},[pe]),Se=(0,P.__assign)({has:(0,r.useCallback)(function(Ee){return se.has(Ee)},[se])},Pe);return[se,Se]};const Xa=Ja;function Za(Z){var x={state:Z instanceof Function?Z():Z,setState:function(se){x.state=Ie(se,x.state),x.setters.forEach(function(pe){return pe(x.state)})},setters:[]};return function(){var se=(0,r.useState)(x.state),pe=se[0],Pe=se[1];return Xt(function(){return function(){x.setters=x.setters.filter(function(Se){return Se!==Pe})}}),Me(function(){x.setters.includes(Pe)||x.setters.push(Pe)}),[pe,x.setState]}}const qa=null;var _a=function(){var Z=(0,r.useState)(function(){return window.location.hash}),x=Z[0],se=Z[1],pe=(0,r.useCallback)(function(){se(window.location.hash)},[]);nn(function(){C(window,"hashchange",pe)},function(){y(window,"hashchange",pe)});var Pe=(0,r.useCallback)(function(Se){Se!==x&&(window.location.hash=Se)},[x]);return[x,Pe]}},38909:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(31635),c=t(96540),f=r.__importDefault(t(77770));function s(l,n){n===void 0&&(n=[]);var o=f.default(l,n,{loading:!0}),i=o[0],a=o[1];return c.useEffect(function(){a()},[a]),i}e.default=s},77770:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(31635),c=t(96540),f=r.__importDefault(t(14669));function s(l,n,o){n===void 0&&(n=[]),o===void 0&&(o={loading:!1});var i=c.useRef(0),a=f.default(),u=c.useState(o),d=u[0],v=u[1],p=c.useCallback(function(){for(var m=[],P=0;P<arguments.length;P++)m[P]=arguments[P];var E=++i.current;return d.loading||v(function(L){return r.__assign(r.__assign({},L),{loading:!0})}),l.apply(void 0,m).then(function(L){return a()&&E===i.current&&v({value:L,loading:!1}),L},function(L){return a()&&E===i.current&&v({error:L,loading:!1}),L})},n);return[d,p]}e.default=s},93435:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(31635),c=t(96540),f=r.__importDefault(t(9353));function s(l,n,o){n===void 0&&(n=0),o===void 0&&(o=[]);var i=f.default(l,n),a=i[0],u=i[1],d=i[2];return c.useEffect(d,o),[a,u]}e.default=s},14669:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(96540);function c(){var f=r.useRef(!1),s=r.useCallback(function(){return f.current},[]);return r.useEffect(function(){return f.current=!0,function(){f.current=!1}},[]),s}e.default=c},9353:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(96540);function c(f,s){s===void 0&&(s=0);var l=r.useRef(!1),n=r.useRef(),o=r.useRef(f),i=r.useCallback(function(){return l.current},[]),a=r.useCallback(function(){l.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout(function(){l.current=!0,o.current()},s)},[s]),u=r.useCallback(function(){l.current=null,n.current&&clearTimeout(n.current)},[]);return r.useEffect(function(){o.current=f},[f]),r.useEffect(function(){return a(),u},[s]),[i,u,a]}e.default=c},99904:(z,e,t)=>{"use strict";t.r(e),t.d(e,{NIL:()=>X,parse:()=>F,stringify:()=>u,v1:()=>E,v3:()=>O,v4:()=>w,v5:()=>Q,validate:()=>n,version:()=>re});var r,c=new Uint8Array(16);function f(){if(!r&&(r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(c)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function l(q){return typeof q=="string"&&s.test(q)}const n=l;for(var o=[],i=0;i<256;++i)o.push((i+256).toString(16).substr(1));function a(q){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ee=(o[q[le+0]]+o[q[le+1]]+o[q[le+2]]+o[q[le+3]]+"-"+o[q[le+4]]+o[q[le+5]]+"-"+o[q[le+6]]+o[q[le+7]]+"-"+o[q[le+8]]+o[q[le+9]]+"-"+o[q[le+10]]+o[q[le+11]]+o[q[le+12]]+o[q[le+13]]+o[q[le+14]]+o[q[le+15]]).toLowerCase();if(!n(ee))throw TypeError("Stringified UUID is invalid");return ee}const u=a;var d,v,p=0,m=0;function P(q,le,ee){var ie=le&&ee||0,he=le||new Array(16);q=q||{};var me=q.node||d,be=q.clockseq!==void 0?q.clockseq:v;if(me==null||be==null){var Be=q.random||(q.rng||f)();me==null&&(me=d=[Be[0]|1,Be[1],Be[2],Be[3],Be[4],Be[5]]),be==null&&(be=v=(Be[6]<<8|Be[7])&16383)}var je=q.msecs!==void 0?q.msecs:Date.now(),Ue=q.nsecs!==void 0?q.nsecs:m+1,Ie=je-p+(Ue-m)/1e4;if(Ie<0&&q.clockseq===void 0&&(be=be+1&16383),(Ie<0||je>p)&&q.nsecs===void 0&&(Ue=0),Ue>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=je,m=Ue,v=be,je+=122192928e5;var $e=((je&268435455)*1e4+Ue)%4294967296;he[ie++]=$e>>>24&255,he[ie++]=$e>>>16&255,he[ie++]=$e>>>8&255,he[ie++]=$e&255;var qe=je/4294967296*1e4&268435455;he[ie++]=qe>>>8&255,he[ie++]=qe&255,he[ie++]=qe>>>24&15|16,he[ie++]=qe>>>16&255,he[ie++]=be>>>8|128,he[ie++]=be&255;for(var tt=0;tt<6;++tt)he[ie+tt]=me[tt];return le||u(he)}const E=P;function L(q){if(!n(q))throw TypeError("Invalid UUID");var le,ee=new Uint8Array(16);return ee[0]=(le=parseInt(q.slice(0,8),16))>>>24,ee[1]=le>>>16&255,ee[2]=le>>>8&255,ee[3]=le&255,ee[4]=(le=parseInt(q.slice(9,13),16))>>>8,ee[5]=le&255,ee[6]=(le=parseInt(q.slice(14,18),16))>>>8,ee[7]=le&255,ee[8]=(le=parseInt(q.slice(19,23),16))>>>8,ee[9]=le&255,ee[10]=(le=parseInt(q.slice(24,36),16))/1099511627776&255,ee[11]=le/4294967296&255,ee[12]=le>>>24&255,ee[13]=le>>>16&255,ee[14]=le>>>8&255,ee[15]=le&255,ee}const F=L;function j(q){q=unescape(encodeURIComponent(q));for(var le=[],ee=0;ee<q.length;++ee)le.push(q.charCodeAt(ee));return le}var D="6ba7b810-9dad-11d1-80b4-00c04fd430c8",B="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function G(q,le,ee){function ie(he,me,be,Be){if(typeof he=="string"&&(he=j(he)),typeof me=="string"&&(me=F(me)),me.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var je=new Uint8Array(16+he.length);if(je.set(me),je.set(he,me.length),je=ee(je),je[6]=je[6]&15|le,je[8]=je[8]&63|128,be){Be=Be||0;for(var Ue=0;Ue<16;++Ue)be[Be+Ue]=je[Ue];return be}return u(je)}try{ie.name=q}catch{}return ie.DNS=D,ie.URL=B,ie}function K(q){if(typeof q=="string"){var le=unescape(encodeURIComponent(q));q=new Uint8Array(le.length);for(var ee=0;ee<le.length;++ee)q[ee]=le.charCodeAt(ee)}return Y(U(M(q),q.length*8))}function Y(q){for(var le=[],ee=q.length*32,ie="0123456789abcdef",he=0;he<ee;he+=8){var me=q[he>>5]>>>he%32&255,be=parseInt(ie.charAt(me>>>4&15)+ie.charAt(me&15),16);le.push(be)}return le}function $(q){return(q+64>>>9<<4)+14+1}function U(q,le){q[le>>5]|=128<<le%32,q[$(le)-1]=le;for(var ee=1732584193,ie=-271733879,he=-1732584194,me=271733878,be=0;be<q.length;be+=16){var Be=ee,je=ie,Ue=he,Ie=me;ee=T(ee,ie,he,me,q[be],7,-680876936),me=T(me,ee,ie,he,q[be+1],12,-389564586),he=T(he,me,ee,ie,q[be+2],17,606105819),ie=T(ie,he,me,ee,q[be+3],22,-1044525330),ee=T(ee,ie,he,me,q[be+4],7,-176418897),me=T(me,ee,ie,he,q[be+5],12,1200080426),he=T(he,me,ee,ie,q[be+6],17,-1473231341),ie=T(ie,he,me,ee,q[be+7],22,-45705983),ee=T(ee,ie,he,me,q[be+8],7,1770035416),me=T(me,ee,ie,he,q[be+9],12,-1958414417),he=T(he,me,ee,ie,q[be+10],17,-42063),ie=T(ie,he,me,ee,q[be+11],22,-1990404162),ee=T(ee,ie,he,me,q[be+12],7,1804603682),me=T(me,ee,ie,he,q[be+13],12,-40341101),he=T(he,me,ee,ie,q[be+14],17,-1502002290),ie=T(ie,he,me,ee,q[be+15],22,1236535329),ee=R(ee,ie,he,me,q[be+1],5,-165796510),me=R(me,ee,ie,he,q[be+6],9,-1069501632),he=R(he,me,ee,ie,q[be+11],14,643717713),ie=R(ie,he,me,ee,q[be],20,-373897302),ee=R(ee,ie,he,me,q[be+5],5,-701558691),me=R(me,ee,ie,he,q[be+10],9,38016083),he=R(he,me,ee,ie,q[be+15],14,-660478335),ie=R(ie,he,me,ee,q[be+4],20,-405537848),ee=R(ee,ie,he,me,q[be+9],5,568446438),me=R(me,ee,ie,he,q[be+14],9,-1019803690),he=R(he,me,ee,ie,q[be+3],14,-187363961),ie=R(ie,he,me,ee,q[be+8],20,1163531501),ee=R(ee,ie,he,me,q[be+13],5,-1444681467),me=R(me,ee,ie,he,q[be+2],9,-51403784),he=R(he,me,ee,ie,q[be+7],14,1735328473),ie=R(ie,he,me,ee,q[be+12],20,-1926607734),ee=S(ee,ie,he,me,q[be+5],4,-378558),me=S(me,ee,ie,he,q[be+8],11,-2022574463),he=S(he,me,ee,ie,q[be+11],16,1839030562),ie=S(ie,he,me,ee,q[be+14],23,-35309556),ee=S(ee,ie,he,me,q[be+1],4,-1530992060),me=S(me,ee,ie,he,q[be+4],11,1272893353),he=S(he,me,ee,ie,q[be+7],16,-155497632),ie=S(ie,he,me,ee,q[be+10],23,-1094730640),ee=S(ee,ie,he,me,q[be+13],4,681279174),me=S(me,ee,ie,he,q[be],11,-358537222),he=S(he,me,ee,ie,q[be+3],16,-722521979),ie=S(ie,he,me,ee,q[be+6],23,76029189),ee=S(ee,ie,he,me,q[be+9],4,-640364487),me=S(me,ee,ie,he,q[be+12],11,-421815835),he=S(he,me,ee,ie,q[be+15],16,530742520),ie=S(ie,he,me,ee,q[be+2],23,-995338651),ee=A(ee,ie,he,me,q[be],6,-198630844),me=A(me,ee,ie,he,q[be+7],10,1126891415),he=A(he,me,ee,ie,q[be+14],15,-1416354905),ie=A(ie,he,me,ee,q[be+5],21,-57434055),ee=A(ee,ie,he,me,q[be+12],6,1700485571),me=A(me,ee,ie,he,q[be+3],10,-1894986606),he=A(he,me,ee,ie,q[be+10],15,-1051523),ie=A(ie,he,me,ee,q[be+1],21,-2054922799),ee=A(ee,ie,he,me,q[be+8],6,1873313359),me=A(me,ee,ie,he,q[be+15],10,-30611744),he=A(he,me,ee,ie,q[be+6],15,-1560198380),ie=A(ie,he,me,ee,q[be+13],21,1309151649),ee=A(ee,ie,he,me,q[be+4],6,-145523070),me=A(me,ee,ie,he,q[be+11],10,-1120210379),he=A(he,me,ee,ie,q[be+2],15,718787259),ie=A(ie,he,me,ee,q[be+9],21,-343485551),ee=C(ee,Be),ie=C(ie,je),he=C(he,Ue),me=C(me,Ie)}return[ee,ie,he,me]}function M(q){if(q.length===0)return[];for(var le=q.length*8,ee=new Uint32Array($(le)),ie=0;ie<le;ie+=8)ee[ie>>5]|=(q[ie/8]&255)<<ie%32;return ee}function C(q,le){var ee=(q&65535)+(le&65535),ie=(q>>16)+(le>>16)+(ee>>16);return ie<<16|ee&65535}function y(q,le){return q<<le|q>>>32-le}function b(q,le,ee,ie,he,me){return C(y(C(C(le,q),C(ie,me)),he),ee)}function T(q,le,ee,ie,he,me,be){return b(le&ee|~le&ie,q,le,he,me,be)}function R(q,le,ee,ie,he,me,be){return b(le&ie|ee&~ie,q,le,he,me,be)}function S(q,le,ee,ie,he,me,be){return b(le^ee^ie,q,le,he,me,be)}function A(q,le,ee,ie,he,me,be){return b(ee^(le|~ie),q,le,he,me,be)}var I=G("v3",48,K);const O=I;function h(q,le,ee){q=q||{};var ie=q.random||(q.rng||f)();if(ie[6]=ie[6]&15|64,ie[8]=ie[8]&63|128,le){ee=ee||0;for(var he=0;he<16;++he)le[ee+he]=ie[he];return le}return u(ie)}const w=h;function V(q,le,ee,ie){switch(q){case 0:return le&ee^~le&ie;case 1:return le^ee^ie;case 2:return le&ee^le&ie^ee&ie;case 3:return le^ee^ie}}function H(q,le){return q<<le|q>>>32-le}function _(q){var le=[1518500249,1859775393,2400959708,3395469782],ee=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof q=="string"){var ie=unescape(encodeURIComponent(q));q=[];for(var he=0;he<ie.length;++he)q.push(ie.charCodeAt(he))}else Array.isArray(q)||(q=Array.prototype.slice.call(q));q.push(128);for(var me=q.length/4+2,be=Math.ceil(me/16),Be=new Array(be),je=0;je<be;++je){for(var Ue=new Uint32Array(16),Ie=0;Ie<16;++Ie)Ue[Ie]=q[je*64+Ie*4]<<24|q[je*64+Ie*4+1]<<16|q[je*64+Ie*4+2]<<8|q[je*64+Ie*4+3];Be[je]=Ue}Be[be-1][14]=(q.length-1)*8/Math.pow(2,32),Be[be-1][14]=Math.floor(Be[be-1][14]),Be[be-1][15]=(q.length-1)*8&4294967295;for(var $e=0;$e<be;++$e){for(var qe=new Uint32Array(80),tt=0;tt<16;++tt)qe[tt]=Be[$e][tt];for(var ct=16;ct<80;++ct)qe[ct]=H(qe[ct-3]^qe[ct-8]^qe[ct-14]^qe[ct-16],1);for(var gt=ee[0],dt=ee[1],Ot=ee[2],Me=ee[3],Le=ee[4],He=0;He<80;++He){var _e=Math.floor(He/20),Xe=H(gt,5)+V(_e,dt,Ot,Me)+Le+le[_e]+qe[He]>>>0;Le=Me,Me=Ot,Ot=H(dt,30)>>>0,dt=gt,gt=Xe}ee[0]=ee[0]+gt>>>0,ee[1]=ee[1]+dt>>>0,ee[2]=ee[2]+Ot>>>0,ee[3]=ee[3]+Me>>>0,ee[4]=ee[4]+Le>>>0}return[ee[0]>>24&255,ee[0]>>16&255,ee[0]>>8&255,ee[0]&255,ee[1]>>24&255,ee[1]>>16&255,ee[1]>>8&255,ee[1]&255,ee[2]>>24&255,ee[2]>>16&255,ee[2]>>8&255,ee[2]&255,ee[3]>>24&255,ee[3]>>16&255,ee[3]>>8&255,ee[3]&255,ee[4]>>24&255,ee[4]>>16&255,ee[4]>>8&255,ee[4]&255]}var te=G("v5",80,_);const Q=te,X="00000000-0000-0000-0000-000000000000";function k(q){if(!n(q))throw TypeError("Invalid UUID");return parseInt(q.substr(14,1),16)}const re=k},62574:function(z){(function(e,t){z.exports=t()})(this,function(){"use strict";function e(t,r,c){c=c||{},c.childrenKeyName=c.childrenKeyName||"children";var f=t||[],s=[],l=0;do{var n=f.filter(function(o){return r(o,l)})[0];if(!n)break;s.push(n),f=n[c.childrenKeyName]||[],l+=1}while(f.length>0);return s}return e})},57254:(z,e,t)=>{"use strict";t.r(e),t.d(e,{Components:()=>r.XF,Pages:()=>r.bQ,resolveSelectors:()=>s.L,selectors:()=>r.Tp,versionedComponents:()=>r.eR,versionedPages:()=>r.af});var r=t(85629),c=t(7864),f={};for(const l in c)["default","resolveSelectors","Components","Pages","selectors","versionedComponents","versionedPages"].indexOf(l)<0&&(f[l]=()=>c[l]);t.d(e,f);var s=t(38998)},7864:(z,e,t)=>{"use strict";t.r(e);var r=t(96722),c=t.n(r),f={};for(const s in r)s!=="default"&&(f[s]=()=>r[s]);t.d(e,f)},96722:()=>{"use strict"},59851:(z,e)=>{var t=Object.keys;e.L=function(c,f){if(c===f)return!0;if(!(c instanceof Object)||!(f instanceof Object))return!1;for(var s=t(c),l=s.length,n=0;n<l;n++)if(!(s[n]in f))return!1;for(var n=0;n<l;n++)if(c[s[n]]!==f[s[n]])return!1;return l===t(f).length}},12215:(z,e,t)=>{var r,c;/*!
* JavaScript Cookie v2.2.1
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(f){var s;if(r=f,c=typeof r=="function"?r.call(e,t,e,z):r,c!==void 0&&(z.exports=c),s=!0,z.exports=f(),s=!0,!s){var l=window.Cookies,n=window.Cookies=f();n.noConflict=function(){return window.Cookies=l,n}}})(function(){function f(){for(var n=0,o={};n<arguments.length;n++){var i=arguments[n];for(var a in i)o[a]=i[a]}return o}function s(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function l(n){function o(){}function i(u,d,v){if(!(typeof document>"u")){v=f({path:"/"},o.defaults,v),typeof v.expires=="number"&&(v.expires=new Date(new Date*1+v.expires*864e5)),v.expires=v.expires?v.expires.toUTCString():"";try{var p=JSON.stringify(d);/^[\{\[]/.test(p)&&(d=p)}catch{}d=n.write?n.write(d,u):encodeURIComponent(String(d)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),u=encodeURIComponent(String(u)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var m="";for(var P in v)v[P]&&(m+="; "+P,v[P]!==!0&&(m+="="+v[P].split(";")[0]));return document.cookie=u+"="+d+m}}function a(u,d){if(!(typeof document>"u")){for(var v={},p=document.cookie?document.cookie.split("; "):[],m=0;m<p.length;m++){var P=p[m].split("="),E=P.slice(1).join("=");!d&&E.charAt(0)==='"'&&(E=E.slice(1,-1));try{var L=s(P[0]);if(E=(n.read||n)(E,L)||s(E),d)try{E=JSON.parse(E)}catch{}if(v[L]=E,u===L)break}catch{}}return u?v[u]:v}}return o.set=i,o.get=function(u){return a(u,!1)},o.getJSON=function(u){return a(u,!0)},o.remove=function(u,d){i(u,"",f(d,{expires:-1}))},o.defaults={},o.withConverter=l,o}return l(function(){})})},50759:(z,e)=>{"use strict";e.v=function(t){t.client&&(document.head.appendChild(t.msh=document.createElement("style")),t.createRule=function(r,c){var f=r+"{}";c&&(f=c+"{"+f+"}");var s=c?t.msh.sheet:t.sh.sheet,l=s.insertRule(f,s.cssRules.length),n=(s.cssRules||s.rules)[l];if(n.index=l,c){var o=(n.cssRules||n.rules)[0];n.style=o.style,n.styleMap=o.styleMap}return n})}},82731:(z,e,t)=>{"use strict";var r=t(55732).t;e.v=function(c){if(!c.client)return;var f=c.kebab;function s(n,o){this.rule=c.createRule(n,o),this.decl={}}s.prototype.diff=function(n){var o=this.decl,i=this.rule.style,a;for(a in o)n[a]===void 0&&i.removeProperty(a);for(a in n)n[a]!==o[a]&&i.setProperty(f(a),n[a]);this.decl=n},s.prototype.del=function(){r(this.rule)};function l(){this.tree={}}l.prototype.diff=function(n){var o=this.tree;for(var i in o)if(n[i]===void 0){var a=o[i];for(var u in a)a[u].del()}for(var i in n)if(o[i]===void 0)for(var u in n[i]){var d=new s(u,i);d.diff(n[i][u]),n[i][u]=d}else{var v=o[i],p=n[i];for(var u in v)p[u]||v[u].del();for(var u in p){var d=v[u];d?(d.diff(p[u]),p[u]=d):(d=new s(u,i),d.diff(p[u]),p[u]=d)}}this.tree=n},c.VRule=s,c.VSheet=l}},62798:(z,e)=>{function t(r,c,f,s){var l={},n=!1,o,i;for(o in c)i=c[o],typeof i!="object"&&(n=!0,l[o]=i);n&&(r[s]||(r[s]={}),r[s][f]=l);for(o in c)if(i=c[o],typeof i=="object")if(o[0]==="@")t(r,i,f,o);else{var a=o.indexOf("&")>-1,u=f.split(",");if(a)for(var d=0;d<u.length;d++)u[d]=o.replace(/&/g,u[d]);else for(var d=0;d<u.length;d++)u[d]=u[d]+" "+o;t(r,i,u.join(","),s)}}e.J=t},55732:(z,e)=>{function t(r){var c=r.index,f=r.parentStyleSheet,s=f.cssRules||f.rules;for(c=Math.max(c,s.length-1);c>=0;){if(s[c]===r){f.deleteRule(c);break}c--}}e.t=t},97127:(z,e)=>{"use strict";var t=/[A-Z]/g,r=function(c){for(var f=5381,s=c.length;s;)f=f*33^c.charCodeAt(--s);return"_"+(f>>>0).toString(36)};e.v=function(c){c=c||{};var f=c.assign||Object.assign,s=typeof window=="object",l=f({raw:"",pfx:"_",client:s,assign:f,stringify:JSON.stringify,kebab:function(n){return n.replace(t,"-$&").toLowerCase()},decl:function(n,o){return n=l.kebab(n),n+":"+o+";"},hash:function(n){return r(l.stringify(n))},selector:function(n,o){return n+(o[0]===":"?"":" ")+o},putRaw:function(n){l.raw+=n}},c);return l.client&&(l.sh||document.head.appendChild(l.sh=document.createElement("style")),l.putRaw=function(n){var o=l.sh.sheet;try{o.insertRule(n,o.cssRules.length)}catch{}}),l.put=function(n,o,i){var a="",u,d,v=[];for(u in o)d=o[u],d instanceof Object&&!(d instanceof Array)?v.push(u):a+=l.decl(u,d,n,i);a&&(a=n+"{"+a+"}",l.putRaw(i?i+"{"+a+"}":a));for(var p=0;p<v.length;p++)u=v[p],u[0]==="@"&&u!=="@font-face"?l.putAt(n,o[u],u):l.put(l.selector(n,u),o[u],i)},l.putAt=l.put,l}},53263:(z,e,t)=>{"use strict";var r=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.setDragStart=e.setDragProgress=e.setDragEnd=void 0;var c=s(t(1476));function f(i){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(f=function(v){return v?u:a})(i)}function s(i,a){if(!a&&i&&i.__esModule)return i;if(i===null||r(i)!=="object"&&typeof i!="function")return{default:i};var u=f(a);if(u&&u.has(i))return u.get(i);var d={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in i)if(p!=="default"&&Object.prototype.hasOwnProperty.call(i,p)){var m=v?Object.getOwnPropertyDescriptor(i,p):null;m&&(m.get||m.set)?Object.defineProperty(d,p,m):d[p]=i[p]}return d.default=i,u&&u.set(i,d),d}var l=function(a,u){return{type:c.SET_DRAG_PROGRESS,mousePos:a,dragging:u}};e.setDragProgress=l;var n=function(a,u,d){return{type:c.SET_DRAG_START,dragStart:a,dragging:u,mousePos:d}};e.setDragStart=n;var o=function(){return{type:c.SET_DRAG_END}};e.setDragEnd=o},99266:(z,e,t)=>{"use strict";var r=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.setNot=e.setLock=e.setConjunction=void 0;var c=l(t(1476)),f=t(46897);function s(a){if(typeof WeakMap!="function")return null;var u=new WeakMap,d=new WeakMap;return(s=function(p){return p?d:u})(a)}function l(a,u){if(!u&&a&&a.__esModule)return a;if(a===null||r(a)!=="object"&&typeof a!="function")return{default:a};var d=s(u);if(d&&d.has(a))return d.get(a);var v={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in a)if(m!=="default"&&Object.prototype.hasOwnProperty.call(a,m)){var P=p?Object.getOwnPropertyDescriptor(a,m):null;P&&(P.get||P.set)?Object.defineProperty(v,m,P):v[m]=a[m]}return v.default=a,d&&d.set(a,v),v}var n=function(u,d,v){return{type:c.SET_CONJUNCTION,path:(0,f.toImmutableList)(d),conjunction:v}};e.setConjunction=n;var o=function(u,d,v){return{type:c.SET_NOT,path:(0,f.toImmutableList)(d),not:v}};e.setNot=o;var i=function(u,d,v){return{type:c.SET_LOCK,path:(0,f.toImmutableList)(d),lock:v}};e.setLock=i},63597:(z,e,t)=>{"use strict";var r=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.tree=e.rule=e.group=e.drag=void 0;var c=o(t(44725));e.tree=c;var f=o(t(99266));e.group=f;var s=o(t(33687));e.rule=s;var l=o(t(53263));e.drag=l;function n(i){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(n=function(v){return v?u:a})(i)}function o(i,a){if(!a&&i&&i.__esModule)return i;if(i===null||r(i)!=="object"&&typeof i!="function")return{default:i};var u=n(a);if(u&&u.has(i))return u.get(i);var d={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in i)if(p!=="default"&&Object.prototype.hasOwnProperty.call(i,p)){var m=v?Object.getOwnPropertyDescriptor(i,p):null;m&&(m.get||m.set)?Object.defineProperty(d,p,m):d[p]=i[p]}return d.default=i,u&&u.set(i,d),d}},33687:(z,e,t)=>{"use strict";var r=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.setValueSrc=e.setValue=e.setOperatorOption=e.setOperator=e.setField=void 0;var c=l(t(1476)),f=t(46897);function s(d){if(typeof WeakMap!="function")return null;var v=new WeakMap,p=new WeakMap;return(s=function(P){return P?p:v})(d)}function l(d,v){if(!v&&d&&d.__esModule)return d;if(d===null||r(d)!=="object"&&typeof d!="function")return{default:d};var p=s(v);if(p&&p.has(d))return p.get(d);var m={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in d)if(E!=="default"&&Object.prototype.hasOwnProperty.call(d,E)){var L=P?Object.getOwnPropertyDescriptor(d,E):null;L&&(L.get||L.set)?Object.defineProperty(m,E,L):m[E]=d[E]}return m.default=d,p&&p.set(d,m),m}var n=function(v,p,m){return{type:c.SET_FIELD,path:(0,f.toImmutableList)(p),field:m,config:v}};e.setField=n;var o=function(v,p,m){return{type:c.SET_OPERATOR,path:(0,f.toImmutableList)(p),operator:m,config:v}};e.setOperator=o;var i=function(v,p,m,P,E,L,F){return{type:c.SET_VALUE,path:(0,f.toImmutableList)(p),delta:m,value:P,valueType:E,asyncListValues:L,config:v,__isInternal:F}};e.setValue=i;var a=function(v,p,m,P){return{type:c.SET_VALUE_SRC,path:(0,f.toImmutableList)(p),delta:m,srcKey:P,config:v}};e.setValueSrc=a;var u=function(v,p,m,P){return{type:c.SET_OPERATOR_OPTION,path:(0,f.toImmutableList)(p),name:m,value:P,config:v}};e.setOperatorOption=u},44725:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.setTree=e.removeRule=e.removeGroup=e.moveItem=e.addRule=e.addGroup=e.addDefaultCaseGroup=e.addCaseGroup=void 0;var f=r(t(21428)),s=t(46897),l=t(68429),n=a(t(1476)),o=r(t(36940));function i(F){if(typeof WeakMap!="function")return null;var j=new WeakMap,D=new WeakMap;return(i=function(G){return G?D:j})(F)}function a(F,j){if(!j&&F&&F.__esModule)return F;if(F===null||c(F)!=="object"&&typeof F!="function")return{default:F};var D=i(j);if(D&&D.has(F))return D.get(F);var B={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in F)if(K!=="default"&&Object.prototype.hasOwnProperty.call(F,K)){var Y=G?Object.getOwnPropertyDescriptor(F,K):null;Y&&(Y.get||Y.set)?Object.defineProperty(B,K,Y):B[K]=F[K]}return B.default=F,D&&D.set(F,B),B}var u=function(j,D){return{type:n.SET_TREE,tree:D,config:j}};e.setTree=u;var d=function(j,D,B){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"rule",K=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return{type:n.ADD_RULE,ruleType:G,children:K,path:(0,s.toImmutableList)(D),id:(0,f.default)(),properties:(0,l.defaultRuleProperties)(j).merge(B||{}),config:j}};e.addRule=d;var v=function(j,D){return{type:n.REMOVE_RULE,path:(0,s.toImmutableList)(D),config:j}};e.removeRule=v;var p=function(j,D,B){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:n.ADD_CASE_GROUP,path:(0,s.toImmutableList)(D),children:G,id:(0,f.default)(),properties:(0,l.defaultGroupProperties)(j).merge(B||{}),config:j,meta:{isDefaultCase:!0}}};e.addDefaultCaseGroup=p;var m=function(j,D,B){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:n.ADD_CASE_GROUP,path:(0,s.toImmutableList)(D),children:G,id:(0,f.default)(),properties:(0,l.defaultGroupProperties)(j).merge(B||{}),config:j}};e.addCaseGroup=m;var P=function(j,D,B){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:n.ADD_GROUP,path:(0,s.toImmutableList)(D),children:G,id:(0,f.default)(),properties:(0,l.defaultGroupProperties)(j).merge(B||{}),config:j}};e.addGroup=P;var E=function(j,D){return{type:n.REMOVE_GROUP,path:(0,s.toImmutableList)(D),config:j}};e.removeGroup=E;var L=function(j,D,B,G){return{type:n.MOVE_ITEM,fromPath:(0,s.toImmutableList)(D),toPath:(0,s.toImmutableList)(B),placement:G,config:j}};e.moveItem=L},11001:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(29511)),n=r(t(28452)),o=r(t(63072)),i=j(t(96540)),a=r(t(83175)),u=j(t(36940)),d=t(20593),v=r(t(68668)),p=t(8930),m=r(t(21428)),P=t(37584),E,L;function F(K){if(typeof WeakMap!="function")return null;var Y=new WeakMap,$=new WeakMap;return(F=function(M){return M?$:Y})(K)}function j(K,Y){if(!Y&&K&&K.__esModule)return K;if(K===null||c(K)!=="object"&&typeof K!="function")return{default:K};var $=F(Y);if($&&$.has(K))return $.get(K);var U={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in K)if(C!=="default"&&Object.prototype.hasOwnProperty.call(K,C)){var y=M?Object.getOwnPropertyDescriptor(K,C):null;y&&(y.get||y.set)?Object.defineProperty(U,C,y):U[C]=K[C]}return U.default=K,$&&$.set(K,U),U}function D(K){var Y=B();return function(){var U=(0,o.default)(K),M;if(Y){var C=(0,o.default)(this).constructor;M=Reflect.construct(U,arguments,C)}else M=U.apply(this,arguments);return(0,n.default)(this,M)}}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var G=(0,v.default)(E=(L=function(K){(0,l.default)($,K);var Y=D($);function $(U){var M;return(0,f.default)(this,$),M=Y.call(this,U),M._updPath(U),M}return(0,s.default)($,[{key:"shouldComponentUpdate",value:function(M,C){var y=this.props,b=(0,P.pureShouldComponentUpdate)(this)(M,C);if(b){var T=[];for(var R in M){var S=M[R]!==y[R];S&&R!="__isInternalValueChange"&&T.push(R)}T.length||(b=!1),T.length==1&&T[0]=="tree"&&M.__isInternalValueChange&&(b=!1)}return b}},{key:"_updPath",value:function(M){var C=M.tree.get("id");this.path=u.default.List.of(C)}},{key:"render",value:function(){var M=this.props.tree,C=M.get("type"),y=C=="switch_group",b=y?null:(0,p.getTotalReordableNodesCountInTree)(M),T=y?null:(0,p.getTotalRulesCountInTree)(M),R=M.get("id");return i.default.createElement(d.Item,{key:R,id:R,path:this.path,type:C,properties:M.get("properties")||new u.Map,config:this.props.config,actions:this.props.actions,children1:M.get("children1")||new u.Map,reordableNodesCnt:b,totalRulesCnt:T,parentReordableNodesCnt:0,onDragStart:this.props.onDragStart})}}]),$}(i.Component),L.propTypes={tree:a.default.any.isRequired,config:a.default.object.isRequired,actions:a.default.object.isRequired,onDragStart:a.default.func},L))||E;e.default=G},52238:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(43693)),s=r(t(17383)),l=r(t(34579)),n=r(t(12475)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=F(t(96540)),d=t(64249),v=r(t(81079)),p=r(t(83175)),m=F(t(63597)),P=t(46897),E=t(37584);function L(U){if(typeof WeakMap!="function")return null;var M=new WeakMap,C=new WeakMap;return(L=function(b){return b?C:M})(U)}function F(U,M){if(!M&&U&&U.__esModule)return U;if(U===null||c(U)!=="object"&&typeof U!="function")return{default:U};var C=L(M);if(C&&C.has(U))return C.get(U);var y={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in U)if(T!=="default"&&Object.prototype.hasOwnProperty.call(U,T)){var R=b?Object.getOwnPropertyDescriptor(U,T):null;R&&(R.get||R.set)?Object.defineProperty(y,T,R):y[T]=U[T]}return y.default=U,C&&C.set(U,y),y}function j(U,M){var C=Object.keys(U);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(U);M&&(y=y.filter(function(b){return Object.getOwnPropertyDescriptor(U,b).enumerable})),C.push.apply(C,y)}return C}function D(U){for(var M=1;M<arguments.length;M++){var C=arguments[M]!=null?arguments[M]:{};M%2?j(Object(C),!0).forEach(function(y){(0,f.default)(U,y,C[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(C)):j(Object(C)).forEach(function(y){Object.defineProperty(U,y,Object.getOwnPropertyDescriptor(C,y))})}return U}function B(U){var M=G();return function(){var y=(0,a.default)(U),b;if(M){var T=(0,a.default)(this).constructor;b=Reflect.construct(y,arguments,T)}else b=y.apply(this,arguments);return(0,i.default)(this,b)}}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var K=function(U){(0,o.default)(C,U);var M=B(C);function C(y){var b;return(0,s.default)(this,C),b=M.call(this,y),b.shouldComponentUpdate=(0,E.liteShouldComponentUpdate)((0,n.default)(b),{tree:function(R){return!(R===b.oldValidatedTree&&b.oldValidatedTree===b.validatedTree)}}),(0,E.useOnPropsChanged)((0,n.default)(b)),b._updateActions(y),b.validatedTree=y.getMemoizedTree(y.config,y.tree),b.oldValidatedTree=b.validatedTree,b}return(0,l.default)(C,[{key:"_updateActions",value:function(b){var T=b.config,R=b.dispatch;this.actions=(0,E.bindActionCreators)(D(D(D({},m.tree),m.group),m.rule),T,R)}},{key:"onPropsChanged",value:function(b){var T=b.onChange,R=this.props.config,S=b.tree,A=this.props.tree,W=b.config;this.oldValidatedTree=this.validatedTree,this.validatedTree=S,R!==W&&(this._updateActions(b),this.validatedTree=b.getMemoizedTree(W,S,R));var I=!(0,P.immutableEqual)(this.validatedTree,this.oldValidatedTree);I&&T&&T(this.validatedTree,W,b.__lastAction)}},{key:"render",value:function(){var b=this.props,T=b.config,R=b.renderBuilder,S=b.dispatch,A=b.__isInternalValueChange,W={tree:this.validatedTree,actions:this.actions,config:T,dispatch:S,__isInternalValueChange:A};return R(W)}}]),C}(u.Component);K.propTypes={config:p.default.object.isRequired,onChange:p.default.func,renderBuilder:p.default.func,tree:p.default.any};var Y=(0,d.connect)(function(U){return{tree:U.tree,__isInternalValueChange:U.__isInternalValueChange,__lastAction:U.__lastAction}},null,null,{context:v.default})(K);Y.displayName="ConnectedQuery";var $=Y;e.default=$},89327:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(12475)),n=r(t(29511)),o=r(t(28452)),i=r(t(63072)),a=K(t(96540)),u=r(t(83175)),d=r(t(38410)),v=r(t(81079)),p=t(28895),m=t(64249),P=K(t(63597)),E=t(67212),L=t(46897),F=t(68429),j=t(33588),D=t(37584),B=r(t(52238));function G(M){if(typeof WeakMap!="function")return null;var C=new WeakMap,y=new WeakMap;return(G=function(T){return T?y:C})(M)}function K(M,C){if(!C&&M&&M.__esModule)return M;if(M===null||c(M)!=="object"&&typeof M!="function")return{default:M};var y=G(C);if(y&&y.has(M))return y.get(M);var b={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in M)if(R!=="default"&&Object.prototype.hasOwnProperty.call(M,R)){var S=T?Object.getOwnPropertyDescriptor(M,R):null;S&&(S.get||S.set)?Object.defineProperty(b,R,S):b[R]=M[R]}return b.default=M,y&&y.set(M,b),b}function Y(M){var C=$();return function(){var b=(0,i.default)(M),T;if(C){var R=(0,i.default)(this).constructor;T=Reflect.construct(b,arguments,R)}else T=b.apply(this,arguments);return(0,o.default)(this,T)}}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var U=function(M){(0,n.default)(y,M);var C=Y(y);function y(b,T){var R;(0,f.default)(this,y),R=C.call(this,b,T),R.shouldComponentUpdate=(0,D.liteShouldComponentUpdate)((0,l.default)(R),{value:function(w,V,H){return!1}}),(0,D.useOnPropsChanged)((0,l.default)(R)),R.getMemoizedConfig=(0,E.createConfigMemo)(),R.getMemoizedTree=(0,j.createValidationMemo)();var S=R.getMemoizedConfig(b),A=b.value,W=R.getMemoizedTree(S,A),I=(0,d.default)(S,W,R.getMemoizedTree),O=(0,p.createStore)(I);return R.state={store:O,config:S},R}return(0,s.default)(y,[{key:"onPropsChanged",value:function(T){var R=this,S=this.state.config,A=this.getMemoizedConfig(T),W=S!==A,I=this.state.store.getState().tree,O=!(0,L.immutableEqual)(T.value,this.props.value)&&!(0,L.immutableEqual)(T.value,I),h=O?T.value||(0,F.defaultRoot)(T):I;if(W&&this.setState({config:A}),O||W){var w=this.getMemoizedTree(A,h,S);return Promise.resolve().then(function(){R.state.store.dispatch(P.tree.setTree(A,w))})}}},{key:"render",value:function(){var T=this.props,R=T.renderBuilder,S=T.get_children,A=T.onChange,W=T.settings,I=this.state,O=I.config,h=I.store,w=W.renderProvider;return a.default.createElement(w,{config:O},a.default.createElement(m.Provider,{store:h,context:v.default},a.default.createElement(B.default,{config:O,getMemoizedTree:this.getMemoizedTree,onChange:A,renderBuilder:R||S})))}}]),y}(a.Component);e.default=U,U.propTypes={conjunctions:u.default.object.isRequired,fields:u.default.object.isRequired,types:u.default.object.isRequired,operators:u.default.object.isRequired,widgets:u.default.object.isRequired,settings:u.default.object.isRequired,onChange:u.default.func,renderBuilder:u.default.func,value:u.default.any}},58700:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(94634)),s=r(t(91847)),l=r(t(17383)),n=r(t(34579)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=P(t(96540)),d=r(t(83175)),v=t(68668),p=["isDraggingTempo","isDraggingMe","dragging"];function m(D){if(typeof WeakMap!="function")return null;var B=new WeakMap,G=new WeakMap;return(m=function(Y){return Y?G:B})(D)}function P(D,B){if(!B&&D&&D.__esModule)return D;if(D===null||c(D)!=="object"&&typeof D!="function")return{default:D};var G=m(B);if(G&&G.has(D))return G.get(D);var K={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in D)if($!=="default"&&Object.prototype.hasOwnProperty.call(D,$)){var U=Y?Object.getOwnPropertyDescriptor(D,$):null;U&&(U.get||U.set)?Object.defineProperty(K,$,U):K[$]=D[$]}return K.default=D,G&&G.set(D,K),K}function E(D){var B=L();return function(){var K=(0,a.default)(D),Y;if(B){var $=(0,a.default)(this).constructor;Y=Reflect.construct(K,arguments,$)}else Y=K.apply(this,arguments);return(0,i.default)(this,Y)}}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var F=t(46942),j=function(B){return function(G){var K;return K=function(Y){(0,o.default)(U,Y);var $=E(U);function U(M){var C;return(0,l.default)(this,U),C=$.call(this,M),C.handleDraggerMouseDown=function(y){var b=C.props.id,T=C.wrapper.current;C.props.onDragStart&&C.props.onDragStart(b,T,y)},C.wrapper=u.default.createRef(),C}return(0,n.default)(U,[{key:"render",value:function(){var C=this.props,y=C.isDraggingTempo,b=C.isDraggingMe,T=C.dragging,R=(0,s.default)(C,p),S=R.isTrueLocked,A={};b&&y&&(v._isReorderingTree||(A={top:T.y,left:T.x,width:T.w}));var W=F(B,"group-or-rule",b&&y?"qb-draggable":null,b&&!y?"qb-placeholder":null,S?"locked":null);return u.default.createElement("div",{className:W,style:A,ref:this.wrapper,"data-id":this.props.id},u.default.createElement(G,(0,f.default)({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:b,isDraggingTempo:y},R)))}}]),U}(u.PureComponent),K.propTypes={isDraggingTempo:d.default.bool,isDraggingMe:d.default.bool,onDragStart:d.default.func,dragging:d.default.object,isLocked:d.default.bool,isTrueLocked:d.default.bool},K}};e.default=j},43253:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(12475)),n=r(t(29511)),o=r(t(28452)),i=r(t(63072)),a=L(t(96540)),u=r(t(83175)),d=r(t(73916)),v=r(t(81079)),p=t(37584),m=t(64249),P=t(68429);function E(G){if(typeof WeakMap!="function")return null;var K=new WeakMap,Y=new WeakMap;return(E=function(U){return U?Y:K})(G)}function L(G,K){if(!K&&G&&G.__esModule)return G;if(G===null||c(G)!=="object"&&typeof G!="function")return{default:G};var Y=E(K);if(Y&&Y.has(G))return Y.get(G);var $={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in G)if(M!=="default"&&Object.prototype.hasOwnProperty.call(G,M)){var C=U?Object.getOwnPropertyDescriptor(G,M):null;C&&(C.get||C.set)?Object.defineProperty($,M,C):$[M]=G[M]}return $.default=G,Y&&Y.set(G,$),$}function F(G){var K=j();return function(){var $=(0,i.default)(G),U;if(K){var M=(0,i.default)(this).constructor;U=Reflect.construct($,arguments,M)}else U=$.apply(this,arguments);return(0,o.default)(this,U)}}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var D=function(K){var Y;return Y=function($){(0,n.default)(M,$);var U=F(M);function M(C){var y;return(0,f.default)(this,M),y=U.call(this,C),y._selectedConjunction=function(b){return b=b||y.props,b.conjunction||(0,P.defaultGroupConjunction)(b.config,b.field)},y.setConjunction=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;y.props.actions.setConjunction(y.props.path,b)},y.setNot=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;y.props.actions.setNot(y.props.path,b)},y.setLock=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;y.props.actions.setLock(y.props.path,b)},y.dummyFn=function(){},y.removeSelf=function(){y.props.actions.removeGroup(y.props.path)},y.addGroup=function(){y.props.actions.addGroup(y.props.path)},y.addCaseGroup=function(){y.props.actions.addCaseGroup(y.props.path)},y.addDefaultCaseGroup=function(){y.props.actions.addDefaultCaseGroup(y.props.path)},y.addRule=function(){y.props.actions.addRule(y.props.path)},y.setField=function(b){y.props.actions.setField(y.props.path,b)},y.setOperator=function(b){y.props.actions.setOperator(y.props.path,b)},y.setValue=function(b,T,R){y.props.actions.setValue(y.props.path,b,T,R)},(0,p.useOnPropsChanged)((0,l.default)(y)),y.selectedConjunction=y._selectedConjunction(C),y.conjunctionOptions=y._getConjunctionOptions(C),y.dummyFn.isDummyFn=!0,y}return(0,s.default)(M,[{key:"shouldComponentUpdate",value:function(y,b){var T=this.props,R=this.state,S=(0,p.pureShouldComponentUpdate)(this)(y,b);if(S&&R==b&&T!=y){var A=y.dragging.id||T.dragging.id,W=A==y.id,I=[];for(var O in y){var h=y[O]!=T[O];O=="dragging"&&!W&&(h=!1),h&&I.push(O)}I.length||(S=!1)}return S}},{key:"onPropsChanged",value:function(y){var b=y.config,T=y.id,R=y.conjunction,S=this.props.config,A=this.props.conjunction;(S!=b||A!=R)&&(this.selectedConjunction=this._selectedConjunction(y),this.conjunctionOptions=this._getConjunctionOptions(y))}},{key:"_getConjunctionOptions",value:function(y){var b=this;return(0,d.default)(y.config.conjunctions,function(T,R){return{id:"conjunction-".concat(y.id,"-").concat(R),name:"conjunction[".concat(y.id,"]"),key:R,label:T.label,checked:R===b._selectedConjunction(y)}})}},{key:"render",value:function(){var y=this.props.dragging.id==this.props.id,b=this.props.path.size,T=this.props.config.settings.maxNesting,R=!y&&this.props.isDraggingTempo,S=typeof T>"u"||b<T,A=b==1;return a.default.createElement("div",{className:"group-or-rule-container group-container","data-id":this.props.id},[y?a.default.createElement(K,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:A,allowFurtherNesting:S,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,a.default.createElement(K,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:y,isDraggingTempo:R,onDragStart:this.props.onDragStart,isRoot:A,allowFurtherNesting:S,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:R?this.dummyFn:this.setConjunction,setNot:R?this.dummyFn:this.setNot,setLock:R?this.dummyFn:this.setLock,removeSelf:R?this.dummyFn:this.removeSelf,addGroup:R?this.dummyFn:this.addGroup,addCaseGroup:R?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:R?this.dummyFn:this.addDefaultCaseGroup,addRule:R?this.dummyFn:this.addRule,setField:R?this.dummyFn:this.setField,setOperator:R?this.dummyFn:this.setOperator,setValue:R?this.dummyFn:this.setValue,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}]),M}(a.Component),Y.propTypes={config:u.default.object.isRequired,actions:u.default.object.isRequired,path:u.default.any.isRequired,id:u.default.string.isRequired,groupId:u.default.string,not:u.default.bool,conjunction:u.default.string,children1:u.default.any,onDragStart:u.default.func,reordableNodesCnt:u.default.number,field:u.default.string,parentField:u.default.string,isLocked:u.default.bool,isTrueLocked:u.default.bool,dragging:u.default.object,isDraggingTempo:u.default.bool},Y},B=function(K){var Y=(0,m.connect)(function($){return{dragging:$.dragging}},null,null,{context:v.default})(D(K));return Y.displayName="ConnectedGroupContainer",Y};e.default=B},57258:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(29511)),n=r(t(28452)),o=r(t(63072)),i=P(t(96540)),a=r(t(83175)),u=r(t(81079)),d=t(67212),v=t(37584),p=t(64249);function m(B){if(typeof WeakMap!="function")return null;var G=new WeakMap,K=new WeakMap;return(m=function($){return $?K:G})(B)}function P(B,G){if(!G&&B&&B.__esModule)return B;if(B===null||c(B)!=="object"&&typeof B!="function")return{default:B};var K=m(G);if(K&&K.has(B))return K.get(B);var Y={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in B)if(U!=="default"&&Object.prototype.hasOwnProperty.call(B,U)){var M=$?Object.getOwnPropertyDescriptor(B,U):null;M&&(M.get||M.set)?Object.defineProperty(Y,U,M):Y[U]=B[U]}return Y.default=B,K&&K.set(B,Y),Y}function E(B){var G=L();return function(){var Y=(0,o.default)(B),$;if(G){var U=(0,o.default)(this).constructor;$=Reflect.construct(Y,arguments,U)}else $=Y.apply(this,arguments);return(0,n.default)(this,$)}}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var F=t(46942),j=function(G){var K;return K=function(Y){(0,l.default)(U,Y);var $=E(U);function U(M){var C;return(0,f.default)(this,U),C=$.call(this,M),C.dummyFn=function(){},C.removeSelf=function(){C.props.actions.removeRule(C.props.path)},C.setLock=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;C.props.actions.setLock(C.props.path,y)},C.setField=function(y){C.props.actions.setField(C.props.path,y)},C.setOperator=function(y){C.props.actions.setOperator(C.props.path,y)},C.setOperatorOption=function(y,b){C.props.actions.setOperatorOption(C.props.path,y,b)},C.setValue=function(y,b,T,R,S){C.props.actions.setValue(C.props.path,y,b,T,R,S)},C.setValueSrc=function(y,b){C.props.actions.setValueSrc(C.props.path,y,b)},C.dummyFn.isDummyFn=!0,C}return(0,s.default)(U,[{key:"shouldComponentUpdate",value:function(C,y){var b=this.props,T=this.state,R=(0,v.pureShouldComponentUpdate)(this)(C,y);if(R&&T==y&&b!=C){var S=C.dragging.id||b.dragging.id,A=S==C.id,W=[];for(var I in C){var O=C[I]!=b[I];I=="dragging"&&!A&&(O=!1),O&&W.push(I)}W.length||(R=!1)}return R}},{key:"render",value:function(){var C=this.props.dragging.id==this.props.id,y=(0,d.getFieldConfig)(this.props.config,this.props.field),b=this.props.config.settings.showErrorMessage,T=y&&y.type=="!struct",R=!C&&this.props.isDraggingTempo,S=this.props.valueError,A=S&&S.toArray().filter(function(I){return!!I}).shift()||null,W=A!=null&&b;return i.default.createElement("div",{className:F("group-or-rule-container","rule-container",W?"rule-with-error":null),"data-id":this.props.id},[C?i.default.createElement(G,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,i.default.createElement(G,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:C,isDraggingTempo:R,onDragStart:this.props.onDragStart,setLock:R?this.dummyFn:this.setLock,removeSelf:R?this.dummyFn:this.removeSelf,setField:R?this.dummyFn:this.setField,setOperator:R?this.dummyFn:this.setOperator,setOperatorOption:R?this.dummyFn:this.setOperatorOption,setValue:R?this.dummyFn:this.setValue,setValueSrc:R?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}]),U}(i.Component),K.propTypes={id:a.default.string.isRequired,groupId:a.default.string,config:a.default.object.isRequired,path:a.default.any.isRequired,operator:a.default.string,field:a.default.string,actions:a.default.object.isRequired,onDragStart:a.default.func,value:a.default.any,valueSrc:a.default.any,asyncListValues:a.default.array,valueError:a.default.any,operatorOptions:a.default.object,reordableNodesCnt:a.default.number,parentField:a.default.string,isLocked:a.default.bool,isTrueLocked:a.default.bool,dragging:a.default.object,isDraggingTempo:a.default.bool},K},D=function(G){var K=(0,p.connect)(function(Y){return{dragging:Y.dragging}},null,null,{context:u.default})(j(G));return K.displayName="ConnectedRuleContainer",K};e.default=D},68668:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e._isReorderingTree=void 0;var f=r(t(94634)),s=r(t(41132)),l=r(t(17383)),n=r(t(34579)),o=r(t(12475)),i=r(t(29511)),a=r(t(28452)),u=r(t(63072)),d=G(t(96540)),v=t(64249),p=t(8930),m=t(46897),P=r(t(81079)),E=G(t(1476)),L=r(t(1779)),F=r(t(83175)),j=G(t(63597)),D=t(37584);function B(C){if(typeof WeakMap!="function")return null;var y=new WeakMap,b=new WeakMap;return(B=function(R){return R?b:y})(C)}function G(C,y){if(!y&&C&&C.__esModule)return C;if(C===null||c(C)!=="object"&&typeof C!="function")return{default:C};var b=B(y);if(b&&b.has(C))return b.get(C);var T={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in C)if(S!=="default"&&Object.prototype.hasOwnProperty.call(C,S)){var A=R?Object.getOwnPropertyDescriptor(C,S):null;A&&(A.get||A.set)?Object.defineProperty(T,S,A):T[S]=C[S]}return T.default=C,b&&b.set(C,T),T}function K(C){var y=Y();return function(){var T=(0,u.default)(C),R;if(y){var S=(0,u.default)(this).constructor;R=Reflect.construct(T,arguments,S)}else R=T.apply(this,arguments);return(0,a.default)(this,R)}}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var $=!1;e._isReorderingTree=$;var U=function(y){var b,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return b=function(R){(0,i.default)(A,R);var S=K(A);function A(W){var I;return(0,l.default)(this,A),I=S.call(this,W),I._getEventTarget=function(O,h){return O&&O.__mocked_window||document.body||window},I.onDragStart=function(O,h,w){var V=h.closest(".query-builder");I._isUsingLegacyReactDomRender===void 0&&(I._isUsingLegacyReactDomRender=(0,D.isUsingLegacyReactDomRender)(V)),document.body.classList.add("qb-dragging"),V.classList.add("qb-dragging");var H=V.closest(".query-builder-container")||V;H=I._getScrollParent(H)||document.body;var _=H.scrollTop,oe=I._getDraggableNodeEl(V),te=I._getPlaceholderNodeEl(V),Q=V.querySelectorAll(".group--children"),X=Q.length?Q[0]:null,k;X&&(k=window.getComputedStyle(X,null).getPropertyValue("padding-left"),k=parseInt(k));var re={id:O,x:h.offsetLeft,y:h.offsetTop,w:h.offsetWidth,h:h.offsetHeight,itemInfo:I.tree.items[O],paddingLeft:k},q={id:O,x:h.offsetLeft,y:h.offsetTop,scrollTop:_,clientX:w.clientX,clientY:w.clientY,itemInfo:(0,L.default)(I.tree.items[O]),treeEl:V,treeElContainer:H},le={clientX:w.clientX,clientY:w.clientY},ee=I._getEventTarget(w,q);I.eventTarget=ee,ee.addEventListener("mousemove",I.onDrag),ee.addEventListener("mouseup",I.onDragEnd),I.props.setDragStart(q,re,le)},I.onDrag=function(O){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,w=Object.assign({},I.props.dragging),V=I.props.dragStart,H=w.paddingLeft,_=V.treeElContainer,oe=_.scrollTop;if(w.itemInfo=I.tree.items[w.id],!!w.itemInfo){var te={clientX:O.clientX,clientY:O.clientY},Q={clientX:V.clientX,clientY:V.clientY};if(O.__mock_dom){var X=V.treeEl,k=I._getDraggableNodeEl(X),re=I._getPlaceholderNodeEl(X);O.__mock_dom({treeEl:X,dragEl:k,plhEl:re})}if(!V.plX){var q=V.treeEl,le=I._getPlaceholderNodeEl(q);le&&(V.plX=le.getBoundingClientRect().left+window.scrollX,V.plY=le.getBoundingClientRect().top+window.scrollY)}var ee=V.x,ie=V.y,he=V.clientX,me=V.clientY,be=V.scrollTop,Be={x:ee+(O.clientX-he),y:ie+(O.clientY-me)+(oe-be)};w.x=Be.x,w.y=Be.y,w.paddingLeft=H,w.mousePos=te,w.startMousePos=Q,I.props.setDragProgress(te,w);var je=h?I.handleDrag(w,O,T):!1;je||O.preventDefault&&O.preventDefault()}},I.onDragEnd=function(){var O=I.props.dragStart.treeEl;I.props.setDragEnd(),O.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),I._cacheEls={};var h=I.eventTarget||I._getEventTarget();h.removeEventListener("mousemove",I.onDrag),h.removeEventListener("mouseup",I.onDragEnd)},(0,D.useOnPropsChanged)((0,o.default)(I)),I.onPropsChanged(W),I}return(0,n.default)(A,[{key:"onPropsChanged",value:function(I){this.tree=(0,p.getFlatTree)(I.tree)}},{key:"shouldComponentUpdate",value:function(I,O){var h=this.props,w=this.state,V=(0,D.pureShouldComponentUpdate)(this)(I,O);if(V&&w==O&&h!=I){var H=[];for(var _ in I){var oe=I[_]!=h[_];oe&&_!="dragging"&&_!="mousePos"&&H.push(_)}H.length||(V=!1)}return V}},{key:"componentDidUpdate",value:function(I,O){var h=this.props.dragging,w=this.props.dragStart;if(e._isReorderingTree=$=!1,w&&w.id&&(h.itemInfo=this.tree.items[h.id],h.itemInfo&&(h.itemInfo.index!=w.itemInfo.index||h.itemInfo.parent!=w.itemInfo.parent))){var V=w.treeEl,H=w.treeElContainer,_=this._getPlaceholderNodeEl(V,!0);if(_){var oe=_.getBoundingClientRect().left+window.scrollX,te=_.getBoundingClientRect().top+window.scrollY,Q=w.plX,X=w.plY,k=H.scrollTop;w.plX=oe,w.plY=te,w.itemInfo=(0,L.default)(h.itemInfo),w.y=_.offsetTop,w.x=_.offsetLeft,w.clientY+=te-X,w.clientX+=oe-Q,H!=document.body&&(w.scrollTop=k),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(I,O){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(O==null)return null;this._cacheEls||(this._cacheEls={});var w=this._cacheEls[O];return w&&document.contains(w)&&!h||(w=I.querySelector('.group-or-rule-container[data-id="'+O+'"]'),this._cacheEls[O]=w),w}},{key:"_getDraggableNodeEl",value:function(I){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var h=this._cacheEls.draggable;if(h&&document.contains(h)&&!O)return h;var w=I.getElementsByClassName("qb-draggable");return h=w.length?w[0]:null,this._cacheEls.draggable=h,h}},{key:"_getPlaceholderNodeEl",value:function(I){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var h=this._cacheEls.placeholder;if(h&&document.contains(h)&&!O)return h;var w=I.getElementsByClassName("qb-placeholder");return h=w.length?w[0]:null,this._cacheEls.placeholder=h,h}},{key:"_isScrollable",value:function(I){var O=window.getComputedStyle(I)["overflow-y"];return(O==="scroll"||O==="auto")&&I.scrollHeight>I.offsetHeight}},{key:"_getScrollParent",value:function(I){return I==null?null:I===document.body||this._isScrollable(I)?I:this._getScrollParent(I.parentNode)}},{key:"handleDrag",value:function(I,O,h){var w=this,V=!0,H=I.itemInfo,_=I.paddingLeft,oe=null,te=this.props.dragStart.treeEl,Q=I.id,X=this._getDraggableNodeEl(te),k=this._getPlaceholderNodeEl(te),re,q,le,ee;if(X&&k){if(re=X.getBoundingClientRect(),q=k.getBoundingClientRect(),!q.width)return;var ie={hrz:0,vrt:0};re.top<q.top?ie.vrt=-1:re.bottom>q.bottom&&(ie.vrt=1),re.left>q.left?ie.hrz=1:re.left<q.left&&(ie.hrz=-1),ee=te.getBoundingClientRect();var he={x:ee.left+(ee.right-ee.left)/2,y:ie.vrt>=0?re.bottom:re.top},me;if(O.__mocked_hov_container)me=O.__mocked_hov_container;else{var be=document.elementFromPoint(he.x,he.y-1);if(me=be?be.closest(".group-or-rule-container"):null,!me&&be&&be.classList.contains("query-builder-container")){var Be,je=be==null||(Be=be.firstChild)===null||Be===void 0?void 0:Be.firstChild;je&&je.classList.contains("group-or-rule-container")&&(me=je)}}if(!me)m.logger.log("out of tree bounds!");else{var Ue=me.classList.contains("group-container"),Ie=me.getAttribute("data-id"),$e=me,qe=!1,tt=!1;if($e){le=$e.getBoundingClientRect();var ct=le.bottom-le.top,gt=this.tree.items[Ie],dt=null,Ot=null,Me=null,Le=null;if(ie.vrt==0)Me=H,Ot=k,Ot&&(dt=Ot.getBoundingClientRect());else if(Ue){if(ie.vrt>0){var He=me.getElementsByClassName("group--header"),_e=He.length?He[0]:null;if(_e){var Xe=_e.getBoundingClientRect(),rt=Xe.bottom-Xe.top,ke=re.bottom-Xe.top>rt*3/4;ke&&gt.top>I.itemInfo.top&&(Me=gt,dt=Xe,Ot=_e,tt=!0)}}else if(ie.vrt<0&&gt.lev>=H.lev){var ft=le.bottom-re.top>=2;ft&&gt.top<I.itemInfo.top&&(Me=gt,dt=le,Ot=$e,qe=!0)}if(!tt&&!qe||V){var vt=ie.vrt<0?le.bottom-re.top>ct-5:re.bottom-le.top>ct-5;vt&&(!tt&&!qe&&(Me=gt,dt=le,Ot=$e),V&&(Le=gt))}}else{var Pt=ie.vrt<0?le.bottom-re.top>ct/2:re.bottom-le.top>ct/2;Pt&&(Me=gt,dt=le,Ot=$e)}var ht=Me&&Me.id==Q;if(dt){var Rt=re.left-ee.left,jt=dt.left-ee.left,ut=jt/_,Ft=Math.max(0,Math.round(Rt/_)),Wt=[],Lt=[];if(!ht){if(Ue&&(qe?Wt.push([E.PLACEMENT_APPEND,Me,Me.lev+1]):tt&&Wt.push([E.PLACEMENT_PREPEND,Me,Me.lev+1]),V&&Le)){var $t=Le.lev==0,Gt=Le.type=="case_group"&&H.type!="case_group",Yt=Le.prev&&this.tree.items[Le.prev].caseId,Kt=Le.next&&this.tree.items[Le.next].caseId;H.caseId==Yt&&(Yt=null),H.caseId==Kt&&(Kt=null);var nr=Yt&&this.tree.items[Yt],_t=Kt&&this.tree.items[Kt];ie.vrt>0?$t?Lt.push([E.PLACEMENT_APPEND,Le,Le.lev+1]):Gt&&_t?Lt.push([E.PLACEMENT_PREPEND,_t,_t.lev+1]):Lt.push([E.PLACEMENT_AFTER,Le,Le.lev]):ie.vrt<0&&($t?Lt.push([E.PLACEMENT_PREPEND,Le,Le.lev+1]):Gt&&nr?Lt.push([E.PLACEMENT_APPEND,nr,nr.lev+1]):Lt.push([E.PLACEMENT_BEFORE,Le,Le.lev]))}!qe&&!tt&&(ie.vrt<0?Wt.push([E.PLACEMENT_BEFORE,Me,Me.lev]):ie.vrt>0&&Wt.push([E.PLACEMENT_AFTER,Me,Me.lev]))}var Xt=function(qt){var pr=qt[1],bt=H.caseId?w.tree.items[H.caseId]:null,fr=pr.caseId?w.tree.items[pr.caseId]:null;return[].concat((0,s.default)(qt),[bt,fr])};Wt=Wt.map(Xt),Lt=Lt.map(Xt),Wt=Wt.filter(function(mt){var qt=mt[0],pr=mt[1];if((qt==E.PLACEMENT_BEFORE||qt==E.PLACEMENT_AFTER)&&pr.parent==null||pr.collapsed&&(qt==E.PLACEMENT_APPEND||qt==E.PLACEMENT_PREPEND))return!1;var bt=pr.id==H.id;if(!bt){for(var fr=pr;fr.parent;)if(fr=w.tree.items[fr.parent],fr.id==H.id){bt=!0;break}}return!bt}).map(function(mt){var qt=mt[0],pr=mt[1],bt=mt[2],fr=mt[3],Or=mt[4],de=null;return qt==E.PLACEMENT_APPEND||qt==E.PLACEMENT_PREPEND?de=pr:de=w.tree.items[pr.parent],de&&de.parent==null&&(de=null),mt[5]=de,mt});var ar=null,cr=Wt.filter(function(mt){return w.canMove(H,mt[1],mt[0],mt[3],mt[4],mt[5],h)});V&&cr.length==0&&Lt.length>0&&(cr=Lt.filter(function(mt){return w.canMove(H,mt[1],mt[0],mt[3],mt[4],mt[5],h)}));var wr=cr.map(function(mt){return mt[2]}),kt=H.lev,hr=wr.concat(kt),ir=null;hr.indexOf(Ft)!=-1?ir=Ft:Ft>Math.max.apply(Math,(0,s.default)(hr))?ir=Math.max.apply(Math,(0,s.default)(hr)):Ft<Math.min.apply(Math,(0,s.default)(hr))&&(ir=Math.min.apply(Math,(0,s.default)(hr))),ar=cr.find(function(mt){return mt[2]==ir}),!ht&&!ar&&cr.length&&(ar=cr[0]),oe=ar}}}}return oe?(this.move(H,oe[1],oe[0],oe[3]),!0):!1}},{key:"canMove",value:function(I,O,h,w,V,H,_){if(!I||!O||I.id===O.id)return!1;var oe=this.props.config.settings,te=oe.canRegroup,Q=oe.canRegroupCases,X=oe.maxNesting,k=oe.maxNumberOfRules,re=oe.canLeaveEmptyCase,q=H?H.lev+1:O.lev,le=h==E.PLACEMENT_BEFORE||h==E.PLACEMENT_AFTER,ee=h==E.PLACEMENT_PREPEND||h==E.PLACEMENT_APPEND,ie=le&&O.lev==1||ee&&O.lev==0,he=I.parent!=O.parent,me=ee||he,be=I.type=="case_group"&&!ie||I.parentType=="rule_group"||O.type=="rule_group"||O.parentType=="rule_group"||I.type!="case_group"&&O.type=="case_group"&&le||I.type!="case_group"&&O.type=="switch_group"||!Q&&I.caseId!=O.caseId,Be=O.isLocked||I.isLocked||H&&H.isLocked;if(X&&q>X||me&&(!te||be||Be))return!1;if(I.type!="case_group"&&I.caseId!=O.caseId){var je=w?w._height==2:!1,Ue=V?V.leafsCount+1:0;if(k&&Ue>k||je&&!re)return!1}if(I.type=="case_group"&&(I.isDefaultCase||O.isDefaultCase||O.type=="switch_group"&&h==E.PLACEMENT_APPEND))return!1;var Ie=!0;return _&&(Ie=_(I.node.toJS(),O.node.toJS(),h,H?H.node.toJS():null)),Ie}},{key:"move",value:function(I,O,h,w){this._isUsingLegacyReactDomRender||(e._isReorderingTree=$=!0),this.props.actions.moveItem(I.path,O.path,h)}},{key:"render",value:function(){return d.default.createElement(y,(0,f.default)({},this.props,{onDragStart:this.onDragStart}))}}]),A}(d.Component),b.propTypes={tree:F.default.any.isRequired,actions:F.default.object.isRequired},b},M=function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=(0,v.connect)(function(R){return{dragging:R.dragging,dragStart:R.dragStart,mousePos:R.mousePos}},{setDragStart:j.drag.setDragStart,setDragProgress:j.drag.setDragProgress,setDragEnd:j.drag.setDragEnd},null,{context:P.default})(U(y,b));return T.displayName="ConnectedSortableContainer",T};e.default=M},68327:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(43693)),f=r(t(17383)),s=r(t(34579)),l=r(t(12475)),n=r(t(32395)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=r(t(96540)),d=r(t(83175)),v=r(t(43253)),p=r(t(58700)),m=t(58331),P=t(76351),E=t(37584),L=t(70039),F=r(t(13745)),j,D,B;function G(y,b){var T=Object.keys(y);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(y);b&&(R=R.filter(function(S){return Object.getOwnPropertyDescriptor(y,S).enumerable})),T.push.apply(T,R)}return T}function K(y){for(var b=1;b<arguments.length;b++){var T=arguments[b]!=null?arguments[b]:{};b%2?G(Object(T),!0).forEach(function(R){(0,c.default)(y,R,T[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(T)):G(Object(T)).forEach(function(R){Object.defineProperty(y,R,Object.getOwnPropertyDescriptor(T,R))})}return y}function Y(y){var b=$();return function(){var R=(0,a.default)(y),S;if(b){var A=(0,a.default)(this).constructor;S=Reflect.construct(R,arguments,A)}else S=R.apply(this,arguments);return(0,i.default)(this,S)}}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var U=t(46942),M=(j=(0,p.default)("group case_group"),(0,v.default)(D=j(D=(0,L.ConfirmFn)(D=(B=function(y){(0,o.default)(T,y);var b=Y(T);function T(R){var S;return(0,f.default)(this,T),S=b.call(this,R),S.childrenClassName=function(){return"case_group--children"},S.renderFooterWrapper=function(){return null},(0,E.useOnPropsChanged)((0,l.default)(S)),S.onPropsChanged(R),S}return(0,s.default)(T,[{key:"onPropsChanged",value:function(S){}},{key:"isDefaultCase",value:function(){return this.props.children1==null}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(S){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(S){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return this.isDefaultCase()?!1:(0,n.default)((0,a.default)(T.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return u.default.createElement("div",{key:"group-header",className:U("group--header",this.isOneChild()?"one--child":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:u.default.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderValue())}},{key:"renderHeaderLeft",value:function(){if(this.isDefaultCase()){var S=this.props.config.settings.defaultCaseLabel;return S||""}return u.default.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:(0,n.default)((0,a.default)(T.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?this.renderValue():null}},{key:"canAddGroup",value:function(){return this.isDefaultCase()?!1:(0,n.default)((0,a.default)(T.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return this.isDefaultCase()?!1:(0,n.default)((0,a.default)(T.prototype),"canAddRule",this).call(this)}},{key:"renderValue",value:function(){var S=this.props,A=S.config,W=S.isLocked,I=S.value,O=S.setValue,h=S.id,w=A.settings.immutableValuesMode,V=u.default.createElement(F.default,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:I,valueSrc:"value",valueError:null,config:A,setValue:w?L.dummyFn:O,setValueSrc:L.dummyFn,readonly:w||W,id:h,groupId:null});return u.default.createElement(L.Col,{className:"case_group--value"},V)}},{key:"renderActions",value:function(){var S=this.props,A=S.config,W=S.addGroup,I=S.addRule,O=S.isLocked,h=S.isTrueLocked,w=S.id;return u.default.createElement(P.GroupActions,{config:A,addGroup:W,addRule:I,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:O,isTrueLocked:h,id:w})}},{key:"isEmptyCurrentGroup",value:function(){var S=this.props.value,A=S&&S.size?S.get(0):null,W=A!=null&&(Array.isArray(A)?A.length>0:!0);return(0,n.default)((0,a.default)(T.prototype),"isEmptyCurrentGroup",this).call(this)&&!W}}]),T}(m.BasicGroup),B.propTypes=K(K({},m.BasicGroup.propTypes),{},{parentReordableNodesCnt:d.default.number,value:d.default.any,setValue:d.default.func}),B))||D)||D)||D),C=M;e.default=C},58331:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BasicGroup=void 0;var f=r(t(94634)),s=r(t(43693)),l=r(t(17383)),n=r(t(34579)),o=r(t(12475)),i=r(t(29511)),a=r(t(28452)),u=r(t(63072)),d=D(t(96540)),v=r(t(83175)),p=r(t(22331)),m=r(t(43253)),P=r(t(58700)),E=t(20593),L=t(76351),F=t(70039);function j(y){if(typeof WeakMap!="function")return null;var b=new WeakMap,T=new WeakMap;return(j=function(S){return S?T:b})(y)}function D(y,b){if(!b&&y&&y.__esModule)return y;if(y===null||c(y)!=="object"&&typeof y!="function")return{default:y};var T=j(b);if(T&&T.has(y))return T.get(y);var R={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in y)if(A!=="default"&&Object.prototype.hasOwnProperty.call(y,A)){var W=S?Object.getOwnPropertyDescriptor(y,A):null;W&&(W.get||W.set)?Object.defineProperty(R,A,W):R[A]=y[A]}return R.default=y,T&&T.set(y,R),R}function B(y,b){var T=Object.keys(y);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(y);b&&(R=R.filter(function(S){return Object.getOwnPropertyDescriptor(y,S).enumerable})),T.push.apply(T,R)}return T}function G(y){for(var b=1;b<arguments.length;b++){var T=arguments[b]!=null?arguments[b]:{};b%2?B(Object(T),!0).forEach(function(R){(0,s.default)(y,R,T[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(T)):B(Object(T)).forEach(function(R){Object.defineProperty(y,R,Object.getOwnPropertyDescriptor(T,R))})}return y}function K(y){var b=Y();return function(){var R=(0,u.default)(y),S;if(b){var A=(0,u.default)(this).constructor;S=Reflect.construct(R,arguments,A)}else S=R.apply(this,arguments);return(0,a.default)(this,S)}}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var $=t(46942),U="topRight",M=function(y){(0,i.default)(T,y);var b=K(T);function T(R){var S;return(0,l.default)(this,T),S=b.call(this,R),S.childrenClassName=function(){return""},S.renderBeforeActions=function(){var A=S.props.config.settings.renderBeforeActions;return A==null?null:typeof A=="function"?d.default.createElement(A,S.props):A},S.renderAfterActions=function(){var A=S.props.config.settings.renderAfterActions;return A==null?null:typeof A=="function"?d.default.createElement(A,S.props):A},S.removeSelf=S.removeSelf.bind((0,o.default)(S)),S.setLock=S.setLock.bind((0,o.default)(S)),S.renderItem=S.renderItem.bind((0,o.default)(S)),S}return(0,n.default)(T,[{key:"isGroupTopPosition",value:function(){return(0,p.default)(this.props.config.settings.groupActionsPosition||U,"top")}},{key:"setLock",value:function(S){this.props.setLock(S)}},{key:"removeSelf",value:function(){var S=this,A=this.props.confirmFn,W=this.props.config.settings,I=W.renderConfirm,O=W.removeGroupConfirmOptions,h=function(){S.props.removeSelf()};O&&!this.isEmptyCurrentGroup()?I(G(G({},O),{},{onOk:h,onCancel:null,confirmFn:A})):h()}},{key:"isEmptyCurrentGroup",value:function(){var S=this.props.children1;return!S||S.size==0||S.size==1&&this.isEmpty(S.first())}},{key:"isEmpty",value:function(S){var A=S.get("type")=="group"||S.get("type")=="rule_group";return A?this.isEmptyGroup(S):this.isEmptyRule(S)}},{key:"isEmptyGroup",value:function(S){var A=S.get("children1");return!A||A.size==0||A.size==1&&this.isEmpty(A.first())}},{key:"isEmptyRule",value:function(S){var A=S.get("properties");return!(A.get("field")!==null&&A.get("operator")!==null&&A.get("value").filter(function(W){return W!==void 0}).size>0)}},{key:"render",value:function(){return d.default.createElement(d.default.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}},{key:"showNot",value:function(){var S=this.props.config;return S.settings.showNot}},{key:"showConjs",value:function(){var S=this.props,A=S.conjunctionOptions,W=S.children1,I=S.config,O=Object.keys(A).length;return O>1||this.showNot()}},{key:"isOneChild",value:function(){var S=this.props.children1;return S?S.size<2:!0}},{key:"renderChildrenWrapper",value:function(){var S=this.props.children1;return S&&d.default.createElement("div",{key:"group-children",className:$("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var S=this.isGroupTopPosition();return d.default.createElement("div",{key:"group-header",className:$("group--header",this.isOneChild()?"one--child":"")},this.renderHeader(),S&&this.renderBeforeActions(),S&&this.renderActions(),S&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){var S=this.isGroupTopPosition();return!S&&d.default.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var S=this.props,A=S.config,W=S.addRule,I=S.addGroup,O=S.isLocked,h=S.isTrueLocked,w=S.id;return d.default.createElement(L.GroupActions,{config:A,addRule:W,addGroup:I,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:O,isTrueLocked:h,id:w})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var S=this.props.config.settings.maxNumberOfRules,A=this.props.totalRulesCnt;return S?A<S:!0}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var S=this.props.children1;return S?S.map(this.renderItem).toList():null}},{key:"renderItem",value:function(S){var A=this.props,W=A.config,I=A.actions,O=A.onDragStart,h=A.isLocked,w=S.get("type")=="group"&&S.getIn(["properties","field"])!=null,V=w?"rule_group":S.get("type");return d.default.createElement(E.Item,(0,f.default)({},this.extraPropsForItem(S),{key:S.get("id"),id:S.get("id"),groupId:A.id,path:S.get("path"),type:V,properties:S.get("properties"),config:W,actions:I,children1:S.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(S),totalRulesCnt:this.totalRulesCntForItem(S),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:O,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:h}))}},{key:"extraPropsForItem",value:function(S){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(S){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(S){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var S=this.props,A=S.config,W=S.isRoot,I=S.isLocked,O=this.reordableNodesCnt();return A.settings.canReorder&&!W&&O>1&&!I}},{key:"renderDrag",value:function(){var S=this.props.handleDraggerMouseDown,A=this.showDragIcon()&&d.default.createElement("span",{key:"group-drag-icon",className:"qb-drag-handler group--drag-handler",onMouseDown:S},d.default.createElement(F.DragIcon,null)," ");return A}},{key:"conjunctionOptions",value:function(){var S=this.props.conjunctionOptions;return S}},{key:"renderConjs",value:function(){var S=this.props,A=S.config,W=S.children1,I=S.id,O=S.selectedConjunction,h=S.setConjunction,w=S.not,V=S.setNot,H=S.isLocked,_=A.settings,oe=_.immutableGroupsMode,te=_.renderConjs,Q=_.showNot,X=_.notLabel,k=this.conjunctionOptions();if(!this.showConjs()||!W||!W.size)return null;var re={disabled:this.isOneChild(),readonly:oe||H,selectedConjunction:O,setConjunction:oe?F.dummyFn:h,conjunctionOptions:k,config:A,not:w||!1,id:I,setNot:oe?F.dummyFn:V,notLabel:X,showNot:this.showNot(),isLocked:H};return d.default.createElement(te,re)}},{key:"renderHeader",value:function(){return d.default.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}}]),T}(d.PureComponent);e.BasicGroup=M,M.propTypes={reordableNodesCnt:v.default.number,conjunctionOptions:v.default.object.isRequired,allowFurtherNesting:v.default.bool.isRequired,isRoot:v.default.bool.isRequired,not:v.default.bool,selectedConjunction:v.default.string,config:v.default.object.isRequired,id:v.default.string.isRequired,groupId:v.default.string,path:v.default.any,children1:v.default.any,isDraggingMe:v.default.bool,isDraggingTempo:v.default.bool,isLocked:v.default.bool,isTrueLocked:v.default.bool,handleDraggerMouseDown:v.default.func,onDragStart:v.default.func,addRule:v.default.func.isRequired,addGroup:v.default.func.isRequired,removeSelf:v.default.func.isRequired,setConjunction:v.default.func.isRequired,setNot:v.default.func.isRequired,setLock:v.default.func.isRequired,actions:v.default.object.isRequired};var C=(0,m.default)((0,P.default)("group")((0,F.ConfirmFn)(M)));e.default=C},76351:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.GroupActions=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(29511)),n=r(t(28452)),o=r(t(63072)),i=u(t(96540));function a(E){if(typeof WeakMap!="function")return null;var L=new WeakMap,F=new WeakMap;return(a=function(D){return D?F:L})(E)}function u(E,L){if(!L&&E&&E.__esModule)return E;if(E===null||c(E)!=="object"&&typeof E!="function")return{default:E};var F=a(L);if(F&&F.has(E))return F.get(E);var j={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in E)if(B!=="default"&&Object.prototype.hasOwnProperty.call(E,B)){var G=D?Object.getOwnPropertyDescriptor(E,B):null;G&&(G.get||G.set)?Object.defineProperty(j,B,G):j[B]=E[B]}return j.default=E,F&&F.set(E,j),j}function d(E){var L=v();return function(){var j=(0,o.default)(E),D;if(L){var B=(0,o.default)(this).constructor;D=Reflect.construct(j,arguments,B)}else D=j.apply(this,arguments);return(0,n.default)(this,D)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var p={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},m="topRight",P=function(E){(0,l.default)(F,E);var L=d(F);function F(){return(0,f.default)(this,F),L.apply(this,arguments)}return(0,s.default)(F,[{key:"render",value:function(){var D=this.props,B=D.config,G=D.addRule,K=D.addGroup,Y=D.removeSelf,$=D.setLock,U=D.isLocked,M=D.isTrueLocked,C=D.id,y=D.canAddGroup,b=D.canAddRule,T=D.canDeleteGroup,R=B.settings,S=R.immutableGroupsMode,A=R.addRuleLabel,W=R.addGroupLabel,I=R.delGroupLabel,O=R.groupActionsPosition,h=R.renderButton,w=R.renderSwitch,V=R.renderButtonGroup,H=R.lockLabel,_=R.lockedLabel,oe=R.showLock,te=R.canDeleteLocked,Q=p[O||m],X=oe&&!(U&&!M)&&i.default.createElement(w,{type:"lock",id:C,value:U,setValue:$,label:H,checkedLabel:_,config:B}),k=!S&&b&&!U&&i.default.createElement(h,{type:"addRule",onClick:G,label:A,readonly:U,config:B}),re=!S&&y&&!U&&i.default.createElement(h,{type:"addGroup",onClick:K,label:W,readonly:U,config:B}),q=!S&&T&&(!U||U&&te)&&i.default.createElement(h,{type:"delGroup",onClick:Y,label:I,config:B});return i.default.createElement("div",{className:"group--actions ".concat(Q)},i.default.createElement(V,{config:B},X,k,re,q))}}]),F}(i.PureComponent);e.GroupActions=P},20593:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.Item=void 0;var f=r(t(91847)),s=r(t(17383)),l=r(t(34579)),n=r(t(29511)),o=r(t(28452)),i=r(t(63072)),a=r(t(94634)),u=r(t(43693)),d=B(t(96540)),v=r(t(83175)),p=r(t(91192)),m=r(t(58331)),P=r(t(28013)),E=r(t(8674)),L=r(t(37711)),F=r(t(68327)),j=["type"];function D(b){if(typeof WeakMap!="function")return null;var T=new WeakMap,R=new WeakMap;return(D=function(A){return A?R:T})(b)}function B(b,T){if(!T&&b&&b.__esModule)return b;if(b===null||c(b)!=="object"&&typeof b!="function")return{default:b};var R=D(T);if(R&&R.has(b))return R.get(b);var S={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in b)if(W!=="default"&&Object.prototype.hasOwnProperty.call(b,W)){var I=A?Object.getOwnPropertyDescriptor(b,W):null;I&&(I.get||I.set)?Object.defineProperty(S,W,I):S[W]=b[W]}return S.default=b,R&&R.set(b,S),S}function G(b){var T=K();return function(){var S=(0,i.default)(b),A;if(T){var W=(0,i.default)(this).constructor;A=Reflect.construct(S,arguments,W)}else A=S.apply(this,arguments);return(0,o.default)(this,A)}}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Y(b,T){var R=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);T&&(S=S.filter(function(A){return Object.getOwnPropertyDescriptor(b,A).enumerable})),R.push.apply(R,S)}return R}function $(b){for(var T=1;T<arguments.length;T++){var R=arguments[T]!=null?arguments[T]:{};T%2?Y(Object(R),!0).forEach(function(S){(0,u.default)(b,S,R[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(R)):Y(Object(R)).forEach(function(S){Object.defineProperty(b,S,Object.getOwnPropertyDescriptor(R,S))})}return b}var U=["rule","group","rule_group","switch_group","case_group"],M=function(T){var R=T.properties.toObject(),S=$({},R);return T.isParentLocked&&(S.isLocked=!0),R.isLocked&&(S.isTrueLocked=!0),S},C={rule:function(T){return d.default.createElement(p.default,(0,a.default)({},M(T),{id:T.id,groupId:T.groupId,path:T.path,actions:T.actions,reordableNodesCnt:T.reordableNodesCnt,totalRulesCnt:T.totalRulesCnt,config:T.config,onDragStart:T.onDragStart,isDraggingTempo:T.isDraggingTempo,parentField:T.parentField,parentReordableNodesCnt:T.parentReordableNodesCnt}))},group:function(T){return d.default.createElement(m.default,(0,a.default)({},M(T),{id:T.id,groupId:T.groupId,path:T.path,actions:T.actions,config:T.config,reordableNodesCnt:T.reordableNodesCnt,totalRulesCnt:T.totalRulesCnt,onDragStart:T.onDragStart,isDraggingTempo:T.isDraggingTempo,children1:T.children1,parentField:null,parentReordableNodesCnt:T.parentReordableNodesCnt}))},rule_group:function(T){return d.default.createElement(P.default,(0,a.default)({},M(T),{id:T.id,groupId:T.groupId,path:T.path,actions:T.actions,config:T.config,reordableNodesCnt:T.reordableNodesCnt,totalRulesCnt:T.totalRulesCnt,onDragStart:T.onDragStart,isDraggingTempo:T.isDraggingTempo,children1:T.children1,parentField:T.parentField,parentReordableNodesCnt:T.parentReordableNodesCnt}))},rule_group_ext:function(T){return d.default.createElement(E.default,(0,a.default)({},M(T),{id:T.id,groupId:T.groupId,path:T.path,actions:T.actions,config:T.config,reordableNodesCnt:T.reordableNodesCnt,totalRulesCnt:T.totalRulesCnt,onDragStart:T.onDragStart,isDraggingTempo:T.isDraggingTempo,children1:T.children1,parentField:T.parentField,parentReordableNodesCnt:T.parentReordableNodesCnt}))},switch_group:function(T){return d.default.createElement(L.default,(0,a.default)({},M(T),{id:T.id,groupId:T.groupId,path:T.path,actions:T.actions,config:T.config,reordableNodesCnt:T.reordableNodesCnt,totalRulesCnt:T.totalRulesCnt,onDragStart:T.onDragStart,isDraggingTempo:T.isDraggingTempo,children1:T.children1,parentField:null,parentReordableNodesCnt:T.parentReordableNodesCnt}))},case_group:function(T){return d.default.createElement(F.default,(0,a.default)({},M(T),{id:T.id,groupId:T.groupId,path:T.path,actions:T.actions,config:T.config,reordableNodesCnt:T.reordableNodesCnt,totalRulesCnt:T.totalRulesCnt,onDragStart:T.onDragStart,isDraggingTempo:T.isDraggingTempo,children1:T.children1,parentField:null,parentReordableNodesCnt:T.parentReordableNodesCnt}))}},y=function(b){(0,n.default)(R,b);var T=G(R);function R(){return(0,s.default)(this,R),T.apply(this,arguments)}return(0,l.default)(R,[{key:"render",value:function(){var A=this.props,W=A.type,I=(0,f.default)(A,j),O=I.properties.get("mode"),h=O=="array"?"_ext":"",w=I.config.settings.renderItem,V=C[W+h];return w?w($($({},I),{},{type:W,itemComponent:V})):V?V(I):null}}]),R}(d.PureComponent);e.Item=y,y.propTypes={config:v.default.object.isRequired,id:v.default.string.isRequired,groupId:v.default.string,type:v.default.oneOf(U).isRequired,path:v.default.any.isRequired,properties:v.default.any.isRequired,children1:v.default.any,actions:v.default.object.isRequired,reordableNodesCnt:v.default.number,onDragStart:v.default.func,parentField:v.default.string,isDraggingTempo:v.default.bool,isParentLocked:v.default.bool}},91192:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(43693)),s=r(t(17383)),l=r(t(34579)),n=r(t(12475)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=U(t(96540)),d=r(t(83175)),v=r(t(57258)),p=r(t(58700)),m=r(t(26686)),P=r(t(52762)),E=r(t(13745)),L=r(t(36987)),F=t(67212),j=t(76348),D=t(37584),B=t(70039),G,K,Y;function $(A){if(typeof WeakMap!="function")return null;var W=new WeakMap,I=new WeakMap;return($=function(h){return h?I:W})(A)}function U(A,W){if(!W&&A&&A.__esModule)return A;if(A===null||c(A)!=="object"&&typeof A!="function")return{default:A};var I=$(W);if(I&&I.has(A))return I.get(A);var O={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in A)if(w!=="default"&&Object.prototype.hasOwnProperty.call(A,w)){var V=h?Object.getOwnPropertyDescriptor(A,w):null;V&&(V.get||V.set)?Object.defineProperty(O,w,V):O[w]=A[w]}return O.default=A,I&&I.set(A,O),O}function M(A,W){var I=Object.keys(A);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(A);W&&(O=O.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),I.push.apply(I,O)}return I}function C(A){for(var W=1;W<arguments.length;W++){var I=arguments[W]!=null?arguments[W]:{};W%2?M(Object(I),!0).forEach(function(O){(0,f.default)(A,O,I[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(I)):M(Object(I)).forEach(function(O){Object.defineProperty(A,O,Object.getOwnPropertyDescriptor(I,O))})}return A}function y(A){var W=b();return function(){var O=(0,a.default)(A),h;if(W){var w=(0,a.default)(this).constructor;h=Reflect.construct(O,arguments,w)}else h=O.apply(this,arguments);return(0,i.default)(this,h)}}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var T=t(46942),R=(G=(0,p.default)("rule"),(0,v.default)(K=G(K=(0,B.ConfirmFn)(K=(Y=function(A){(0,o.default)(I,A);var W=y(I);function I(O){var h;return(0,s.default)(this,I),h=W.call(this,O),(0,D.useOnPropsChanged)((0,n.default)(h)),h.removeSelf=h.removeSelf.bind((0,n.default)(h)),h.setLock=h.setLock.bind((0,n.default)(h)),h.onPropsChanged(O),h}return(0,l.default)(I,[{key:"onPropsChanged",value:function(h){var w=this.props,V=["selectedField","selectedOperator","config","reordableNodesCnt","isLocked"],H=!this.meta||V.map(function(_){return h[_]!==w[_]}).filter(function(_){return _}).length>0;H&&(this.meta=this.getMeta(h))}},{key:"getMeta",value:function(h){var w=h.selectedField,V=h.selectedOperator,H=h.config,_=h.reordableNodesCnt,oe=h.isLocked,te=(0,j.getFieldPathLabels)(w,H),Q=(0,F.getFieldConfig)(H,w),X=Q&&Q.type=="!struct",k=w&&V&&!X,re=(0,F.getOperatorConfig)(H,V,w),q=re&&re.options!=null,le=(0,F.getFieldWidgetConfig)(H,w,V)||{},ee=le.hideOperator,ie=H.settings.canReorder&&_>1&&!oe,he=w&&!ee,me=w&&ee&&le.operatorInlineLabel,be=k,Be=k&&q;return{selectedFieldPartsLabels:te,selectedFieldWidgetConfig:le,showDragIcon:ie,showOperator:he,showOperatorLabel:me,showWidget:be,showOperatorOptions:Be}}},{key:"setLock",value:function(h){this.props.setLock(h)}},{key:"removeSelf",value:function(){var h=this,w=this.props.confirmFn,V=this.props.config.settings,H=V.renderConfirm,_=V.removeRuleConfirmOptions,oe=function(){h.props.removeSelf()};_&&!this.isEmptyCurrentRule()?H(C(C({},_),{},{onOk:oe,onCancel:null,confirmFn:w})):oe()}},{key:"isEmptyCurrentRule",value:function(){return!(this.props.selectedField!==null&&this.props.selectedOperator!==null&&this.props.value.filter(function(h){return h!==void 0}).size>0)}},{key:"renderField",value:function(){var h=this.props,w=h.config,V=h.isLocked,H=w.settings.immutableFieldsMode;return u.default.createElement(P.default,{key:"field",classname:"rule--field",config:w,selectedField:this.props.selectedField,setField:H?B.dummyFn:this.props.setField,parentField:this.props.parentField,readonly:H||V,id:this.props.id,groupId:this.props.groupId})}},{key:"renderOperator",value:function(){var h=this.props,w=h.config,V=h.isLocked,H=this.meta,_=H.selectedFieldPartsLabels,oe=H.selectedFieldWidgetConfig,te=H.showOperator,Q=H.showOperatorLabel,X=w.settings.immutableOpsMode;return u.default.createElement(m.default,{key:"operator",config:w,selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,setOperator:X?B.dummyFn:this.props.setOperator,selectedFieldPartsLabels:_,showOperator:te,showOperatorLabel:Q,selectedFieldWidgetConfig:oe,readonly:X||V,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var h=this.props,w=h.config,V=h.valueError,H=h.isLocked,_=this.meta.showWidget,oe=w.settings.immutableValuesMode;if(!_)return null;var te=u.default.createElement(E.default,{key:"values",field:this.props.selectedField,parentField:this.props.parentField,operator:this.props.selectedOperator,value:this.props.value,valueSrc:this.props.valueSrc,asyncListValues:this.props.asyncListValues,valueError:V,config:w,setValue:oe?B.dummyFn:this.props.setValue,setValueSrc:oe?B.dummyFn:this.props.setValueSrc,readonly:oe||H,id:this.props.id,groupId:this.props.groupId});return u.default.createElement(B.Col,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},te)}},{key:"renderOperatorOptions",value:function(){var h=this.props.config,w=this.meta.showOperatorOptions,V=h.settings,H=V.immutableOpsMode,_=V.immutableValuesMode;if(!w)return null;var oe=u.default.createElement(L.default,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:H?B.dummyFn:this.props.setOperatorOption,config:h,readonly:_});return u.default.createElement(B.Col,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},oe)}},{key:"renderBeforeWidget",value:function(){var h=this.props.config,w=h.settings.renderBeforeWidget;return w&&u.default.createElement(B.Col,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},typeof w=="function"?w(this.props):w)}},{key:"renderAfterWidget",value:function(){var h=this.props.config,w=h.settings.renderAfterWidget;return w&&u.default.createElement(B.Col,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},typeof w=="function"?w(this.props):w)}},{key:"renderError",value:function(){var h=this.props,w=h.config,V=h.valueError,H=w.settings,_=H.renderRuleError,oe=H.showErrorMessage,te=V&&V.toArray().filter(function(Q){return!!Q}).shift()||null;return oe&&te&&u.default.createElement("div",{className:"rule--error"},_?_({error:te}):te)}},{key:"renderDrag",value:function(){var h=this.meta.showDragIcon;return h&&u.default.createElement("span",{key:"rule-drag-icon",className:"qb-drag-handler rule--drag-handler",onMouseDown:this.props.handleDraggerMouseDown},u.default.createElement(B.DragIcon,null)," ")}},{key:"renderDel",value:function(){var h=this.props,w=h.config,V=h.isLocked,H=w.settings,_=H.deleteLabel,oe=H.immutableGroupsMode,te=H.renderButton,Q=H.canDeleteLocked;return!oe&&(!V||V&&Q)&&u.default.createElement(te,{type:"delRule",onClick:this.removeSelf,label:_,config:w})}},{key:"renderLock",value:function(){var h=this.props,w=h.config,V=h.isLocked,H=h.isTrueLocked,_=h.id,oe=w.settings,te=oe.lockLabel,Q=oe.lockedLabel,X=oe.showLock,k=oe.renderSwitch;return X&&!(V&&!H)&&u.default.createElement(k,{type:"lock",id:_,value:V,setValue:this.setLock,label:te,checkedLabel:Q,hideLabel:!0,config:w})}},{key:"render",value:function(){var h=this.meta,w=h.showOperatorOptions,V=h.selectedFieldWidgetConfig,H=this.props,_=H.valueSrc,oe=H.value,te=H.config,Q=_.first()=="value"&&!w&&oe.size==1&&V.fullWidth,X=te.settings.renderButtonGroup,k=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],re=u.default.createElement("div",{key:"rule-body",className:T("rule--body",Q&&"can--shrink--value")},k),q=this.renderError(),le=this.renderDrag(),ee=this.renderLock(),ie=this.renderDel();return u.default.createElement(u.default.Fragment,null,le,u.default.createElement("div",{className:"rule--body--wrapper"},re,q),u.default.createElement("div",{className:"rule--header"},u.default.createElement(X,{config:te},ee,ie)))}}]),I}(u.PureComponent),Y.propTypes={id:d.default.string.isRequired,groupId:d.default.string,selectedField:d.default.string,selectedOperator:d.default.string,operatorOptions:d.default.object,config:d.default.object.isRequired,value:d.default.any,valueSrc:d.default.any,asyncListValues:d.default.array,isDraggingMe:d.default.bool,isDraggingTempo:d.default.bool,parentField:d.default.string,valueError:d.default.any,isLocked:d.default.bool,isTrueLocked:d.default.bool,handleDraggerMouseDown:d.default.func,setField:d.default.func,setOperator:d.default.func,setOperatorOption:d.default.func,setLock:d.default.func,removeSelf:d.default.func,setValue:d.default.func,setValueSrc:d.default.func,reordableNodesCnt:d.default.number},Y))||K)||K)||K),S=R;e.default=S},28013:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(43693)),f=r(t(17383)),s=r(t(34579)),l=r(t(12475)),n=r(t(32395)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=r(t(96540)),d=r(t(83175)),v=r(t(43253)),p=r(t(58700)),m=t(58331),P=t(99786),E=r(t(52762)),L=t(37584),F=t(70039),j,D,B;function G(C,y){var b=Object.keys(C);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(C);y&&(T=T.filter(function(R){return Object.getOwnPropertyDescriptor(C,R).enumerable})),b.push.apply(b,T)}return b}function K(C){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{};y%2?G(Object(b),!0).forEach(function(T){(0,c.default)(C,T,b[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(b)):G(Object(b)).forEach(function(T){Object.defineProperty(C,T,Object.getOwnPropertyDescriptor(b,T))})}return C}function Y(C){var y=$();return function(){var T=(0,a.default)(C),R;if(y){var S=(0,a.default)(this).constructor;R=Reflect.construct(T,arguments,S)}else R=T.apply(this,arguments);return(0,i.default)(this,R)}}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var U=(j=(0,p.default)("group rule_group"),(0,v.default)(D=j(D=(0,F.ConfirmFn)(D=(B=function(C){(0,o.default)(b,C);var y=Y(b);function b(T){var R;return(0,f.default)(this,b),R=y.call(this,T),R.childrenClassName=function(){return"rule_group--children"},R.renderHeaderWrapper=function(){return null},R.renderFooterWrapper=function(){return null},R.renderConjs=function(){return null},R.canAddGroup=function(){return!1},R.canAddRule=function(){return!0},R.canDeleteGroup=function(){return!1},(0,L.useOnPropsChanged)((0,l.default)(R)),R.onPropsChanged(T),R}return(0,s.default)(b,[{key:"onPropsChanged",value:function(R){}},{key:"reordableNodesCntForItem",value:function(R){if(this.props.isLocked)return 0;var S=this.props.children1;return S.size}},{key:"renderChildrenWrapper",value:function(){return u.default.createElement(u.default.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),(0,n.default)((0,a.default)(b.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var R=this.props,S=R.config,A=R.selectedField,W=R.setField,I=R.parentField,O=R.id,h=R.groupId,w=R.isLocked,V=S.settings.immutableFieldsMode;return u.default.createElement(E.default,{key:"field",classname:"group--field",config:S,selectedField:A,setField:W,parentField:I,readonly:V||w,id:O,groupId:h})}},{key:"renderActions",value:function(){var R=this.props,S=R.config,A=R.addRule,W=R.isLocked,I=R.isTrueLocked,O=R.id;return u.default.createElement(P.RuleGroupActions,{config:S,addRule:A,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:W,isTrueLocked:I,id:O})}},{key:"extraPropsForItem",value:function(R){return{parentField:this.props.selectedField}}}]),b}(m.BasicGroup),B.propTypes=K(K({},m.BasicGroup.propTypes),{},{selectedField:d.default.string,parentField:d.default.string,setField:d.default.func}),B))||D)||D)||D),M=U;e.default=M},99786:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.RuleGroupActions=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(29511)),n=r(t(28452)),o=r(t(63072)),i=u(t(96540));function a(m){if(typeof WeakMap!="function")return null;var P=new WeakMap,E=new WeakMap;return(a=function(F){return F?E:P})(m)}function u(m,P){if(!P&&m&&m.__esModule)return m;if(m===null||c(m)!=="object"&&typeof m!="function")return{default:m};var E=a(P);if(E&&E.has(m))return E.get(m);var L={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in m)if(j!=="default"&&Object.prototype.hasOwnProperty.call(m,j)){var D=F?Object.getOwnPropertyDescriptor(m,j):null;D&&(D.get||D.set)?Object.defineProperty(L,j,D):L[j]=m[j]}return L.default=m,E&&E.set(m,L),L}function d(m){var P=v();return function(){var L=(0,o.default)(m),F;if(P){var j=(0,o.default)(this).constructor;F=Reflect.construct(L,arguments,j)}else F=L.apply(this,arguments);return(0,n.default)(this,F)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var p=function(m){(0,l.default)(E,m);var P=d(E);function E(){return(0,f.default)(this,E),P.apply(this,arguments)}return(0,s.default)(E,[{key:"render",value:function(){var F=this.props,j=F.config,D=F.addRule,B=F.canAddRule,G=F.canDeleteGroup,K=F.removeSelf,Y=F.setLock,$=F.isLocked,U=F.isTrueLocked,M=F.id,C=j.settings,y=C.immutableGroupsMode,b=C.addRuleLabel,T=C.delGroupLabel,R=C.renderButton,S=C.renderSwitch,A=C.renderButtonGroup,W=C.lockLabel,I=C.lockedLabel,O=C.showLock,h=C.canDeleteLocked,w=O&&!($&&!U)&&i.default.createElement(S,{type:"lock",id:M,value:$,setValue:Y,label:W,checkedLabel:I,hideLabel:!0,config:j}),V=!y&&B&&!$&&i.default.createElement(R,{type:"addRuleGroup",onClick:D,label:b,readonly:$,config:j}),H=!y&&G&&(!$||$&&h)&&i.default.createElement(R,{type:"delRuleGroup",onClick:K,label:T,config:j});return i.default.createElement("div",{className:"group--actions"},i.default.createElement(A,{config:j},w,V,H))}}]),E}(i.PureComponent);e.RuleGroupActions=p},8674:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(43693)),f=r(t(17383)),s=r(t(34579)),l=r(t(12475)),n=r(t(32395)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=r(t(96540)),d=r(t(83175)),v=r(t(43253)),p=r(t(58700)),m=t(58331),P=t(30471),E=r(t(52762)),L=r(t(26686)),F=t(37584),j=t(70039),D=t(67212),B=r(t(13745)),G,K,Y;function $(W,I){var O=Object.keys(W);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(W);I&&(h=h.filter(function(w){return Object.getOwnPropertyDescriptor(W,w).enumerable})),O.push.apply(O,h)}return O}function U(W){for(var I=1;I<arguments.length;I++){var O=arguments[I]!=null?arguments[I]:{};I%2?$(Object(O),!0).forEach(function(h){(0,c.default)(W,h,O[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(O)):$(Object(O)).forEach(function(h){Object.defineProperty(W,h,Object.getOwnPropertyDescriptor(O,h))})}return W}function M(W,I){var O=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!O){if(Array.isArray(W)||(O=C(W))||I&&W&&typeof W.length=="number"){O&&(W=O);var h=0,w=function(){};return{s:w,n:function(){return h>=W.length?{done:!0}:{done:!1,value:W[h++]}},e:function(te){throw te},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V=!0,H=!1,_;return{s:function(){O=O.call(W)},n:function(){var te=O.next();return V=te.done,te},e:function(te){H=!0,_=te},f:function(){try{!V&&O.return!=null&&O.return()}finally{if(H)throw _}}}}function C(W,I){if(W){if(typeof W=="string")return y(W,I);var O=Object.prototype.toString.call(W).slice(8,-1);if(O==="Object"&&W.constructor&&(O=W.constructor.name),O==="Map"||O==="Set")return Array.from(W);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return y(W,I)}}function y(W,I){(I==null||I>W.length)&&(I=W.length);for(var O=0,h=new Array(I);O<I;O++)h[O]=W[O];return h}function b(W){var I=T();return function(){var h=(0,a.default)(W),w;if(I){var V=(0,a.default)(this).constructor;w=Reflect.construct(h,arguments,V)}else w=h.apply(this,arguments);return(0,i.default)(this,w)}}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var R=t(46942),S=(G=(0,p.default)("group rule_group_ext"),(0,v.default)(K=G(K=(0,j.ConfirmFn)(K=(Y=function(W){(0,o.default)(O,W);var I=b(O);function O(h){var w;return(0,f.default)(this,O),w=I.call(this,h),w.childrenClassName=function(){return"rule_group_ext--children"},w.renderFooterWrapper=function(){return null},w.canAddGroup=function(){return!1},w.canAddRule=function(){return!0},w.canDeleteGroup=function(){return!0},(0,F.useOnPropsChanged)((0,l.default)(w)),w.onPropsChanged(h),w}return(0,s.default)(O,[{key:"onPropsChanged",value:function(w){}},{key:"renderHeaderWrapper",value:function(){return u.default.createElement("div",{key:"group-header",className:R("group--header",this.isOneChild()?"one--child":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return u.default.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return u.default.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget())}},{key:"showNot",value:function(){var w=this.props,V=w.config,H=w.selectedField,_=w.selectedOperator,oe=(0,D.getFieldConfig)(V,H)||{};return oe.showNot!=null?oe.showNot:V.settings.showNot}},{key:"conjunctionOptions",value:function(){var w=this.props,V=w.config,H=w.selectedField,_=w.selectedOperator,oe=(0,D.getFieldConfig)(V,H)||{},te=(0,n.default)((0,a.default)(O.prototype),"conjunctionOptions",this).call(this);if(oe.conjunctions){var Q={},X=M(oe.conjunctions),k;try{for(X.s();!(k=X.n()).done;){var re=k.value;Q[re]=te[re]}}catch(q){X.e(q)}finally{X.f()}te=Q}return te}},{key:"renderField",value:function(){var w=this.props,V=w.config,H=w.selectedField,_=w.setField,oe=w.parentField,te=w.id,Q=w.groupId,X=w.isLocked,k=V.settings.immutableFieldsMode;return u.default.createElement(E.default,{key:"field",classname:"rule--field",config:V,selectedField:H,setField:_,parentField:oe,readonly:k||X,id:te,groupId:Q})}},{key:"renderOperator",value:function(){var w=this.props,V=w.config,H=w.selectedField,_=w.selectedOperator,oe=w.setField,te=w.setOperator,Q=w.isLocked,X=V.settings.immutableFieldsMode,k=(0,D.getFieldWidgetConfig)(V,H,_)||{},re=k.hideOperator,q=H&&re&&k.operatorInlineLabel,le=H&&!re;return u.default.createElement(L.default,{key:"operator",classname:"group--operator",config:V,selectedField:H,selectedOperator:_,setField:oe,setOperator:te,selectedFieldPartsLabels:["group"],showOperator:le,showOperatorLabel:q,selectedFieldWidgetConfig:k,readonly:X||Q,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var w=this.props,V=w.config,H=w.selectedField,_=w.selectedOperator,oe=w.isLocked,te=V.settings.immutableValuesMode,Q=H&&_,X=Q;if(!X)return null;var k=u.default.createElement(B.default,{key:"values",isForRuleGruop:!0,field:this.props.selectedField,operator:this.props.selectedOperator,value:this.props.value,valueSrc:"value",valueError:null,config:V,setValue:te?j.dummyFn:this.props.setValue,setValueSrc:j.dummyFn,readonly:te||oe,id:this.props.id,groupId:this.props.groupId});return u.default.createElement(j.Col,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},k)}},{key:"renderActions",value:function(){var w=this.props,V=w.config,H=w.addRule,_=w.isLocked,oe=w.isTrueLocked,te=w.id;return u.default.createElement(P.RuleGroupExtActions,{config:V,addRule:H,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:_,isTrueLocked:oe,id:te})}},{key:"reordableNodesCntForItem",value:function(w){if(this.props.isLocked)return 0;var V=this.props.children1;return V.size}},{key:"extraPropsForItem",value:function(w){return{parentField:this.props.selectedField}}}]),O}(m.BasicGroup),Y.propTypes=U(U({},m.BasicGroup.propTypes),{},{selectedField:d.default.string,selectedOperator:d.default.string,value:d.default.any,parentField:d.default.string,setField:d.default.func,setOperator:d.default.func,setValue:d.default.func}),Y))||K)||K)||K),A=S;e.default=A},30471:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.RuleGroupExtActions=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(29511)),n=r(t(28452)),o=r(t(63072)),i=u(t(96540));function a(m){if(typeof WeakMap!="function")return null;var P=new WeakMap,E=new WeakMap;return(a=function(F){return F?E:P})(m)}function u(m,P){if(!P&&m&&m.__esModule)return m;if(m===null||c(m)!=="object"&&typeof m!="function")return{default:m};var E=a(P);if(E&&E.has(m))return E.get(m);var L={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in m)if(j!=="default"&&Object.prototype.hasOwnProperty.call(m,j)){var D=F?Object.getOwnPropertyDescriptor(m,j):null;D&&(D.get||D.set)?Object.defineProperty(L,j,D):L[j]=m[j]}return L.default=m,E&&E.set(m,L),L}function d(m){var P=v();return function(){var L=(0,o.default)(m),F;if(P){var j=(0,o.default)(this).constructor;F=Reflect.construct(L,arguments,j)}else F=L.apply(this,arguments);return(0,n.default)(this,F)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var p=function(m){(0,l.default)(E,m);var P=d(E);function E(){return(0,f.default)(this,E),P.apply(this,arguments)}return(0,s.default)(E,[{key:"render",value:function(){var F=this.props,j=F.config,D=F.addRule,B=F.canAddRule,G=F.canDeleteGroup,K=F.removeSelf,Y=F.setLock,$=F.isLocked,U=F.isTrueLocked,M=F.id,C=j.settings,y=C.immutableGroupsMode,b=C.addSubRuleLabel,T=C.delGroupLabel,R=C.renderButton,S=C.renderSwitch,A=C.renderButtonGroup,W=C.lockLabel,I=C.lockedLabel,O=C.showLock,h=C.canDeleteLocked,w=O&&!($&&!U)&&i.default.createElement(S,{type:"lock",id:M,value:$,setValue:Y,label:W,checkedLabel:I,config:j}),V=!y&&B&&!$&&i.default.createElement(R,{type:"addRuleGroupExt",onClick:D,label:b,readonly:$,config:j}),H=!y&&G&&(!$||$&&h)&&i.default.createElement(R,{type:"delRuleGroup",onClick:K,label:T,config:j});return i.default.createElement("div",{className:"group--actions group--actions--tr"},i.default.createElement(A,{config:j},w,V,H))}}]),E}(i.PureComponent);e.RuleGroupExtActions=p},37711:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(43693)),f=r(t(17383)),s=r(t(34579)),l=r(t(12475)),n=r(t(29511)),o=r(t(28452)),i=r(t(63072)),a=r(t(96540)),u=r(t(83175)),d=r(t(43253)),v=r(t(58700)),p=t(58331),m=t(23376),P=t(37584),E=t(70039),L=t(8930),F,j,D;function B(C,y){var b=Object.keys(C);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(C);y&&(T=T.filter(function(R){return Object.getOwnPropertyDescriptor(C,R).enumerable})),b.push.apply(b,T)}return b}function G(C){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{};y%2?B(Object(b),!0).forEach(function(T){(0,c.default)(C,T,b[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(b)):B(Object(b)).forEach(function(T){Object.defineProperty(C,T,Object.getOwnPropertyDescriptor(b,T))})}return C}function K(C){var y=Y();return function(){var T=(0,i.default)(C),R;if(y){var S=(0,i.default)(this).constructor;R=Reflect.construct(T,arguments,S)}else R=T.apply(this,arguments);return(0,o.default)(this,R)}}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var $=t(46942),U=(F=(0,v.default)("group switch_group"),(0,d.default)(j=F(j=(0,E.ConfirmFn)(j=(D=function(C){(0,n.default)(b,C);var y=K(b);function b(T){var R;return(0,f.default)(this,b),R=y.call(this,T),R.childrenClassName=function(){return"switch_group--children"},R.renderFooterWrapper=function(){return null},R.hasDefaultCase=function(){return R.props.children1.size&&R.props.children1.filter(function(S){return S.get("children1")==null}).size>0},(0,P.useOnPropsChanged)((0,l.default)(R)),R.onPropsChanged(T),R}return(0,s.default)(b,[{key:"onPropsChanged",value:function(R){}},{key:"canAddGroup",value:function(){var R=this.props.config.settings.maxNumberOfCases,S=this.props.children1.size;return R?S<R:!0}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var R=this.props.children1.size,S=R;return this.hasDefaultCase()&&S--,S}},{key:"totalRulesCntForItem",value:function(R){return(0,L.getTotalRulesCountInTree)(R)}},{key:"reordableNodesCntForItem",value:function(R){if(this.props.isLocked)return 0;var S=this.props.config.settings,A=S.canLeaveEmptyCase,W=S.canRegroupCases,I=this.props.children1.size,O=I;this.hasDefaultCase()&&O--;var h=(0,L.getTotalReordableNodesCountInTree)(R),w=h;return w==1&&W&&A&&O>1&&(w=111),w}},{key:"renderHeaderWrapper",value:function(){return a.default.createElement("div",{key:"group-header",className:$("group--header",this.isOneChild()?"one--child":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return a.default.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){var R=this.props.config.settings.renderSwitchPrefix;return R?R():null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var R=this.props,S=R.config,A=R.addCaseGroup,W=R.addDefaultCaseGroup,I=R.isLocked,O=R.isTrueLocked,h=R.id;return a.default.createElement(m.SwitchGroupActions,{config:S,addCaseGroup:A,addDefaultCaseGroup:W,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:I,isTrueLocked:O,id:h})}}]),b}(p.BasicGroup),D.propTypes=G({},p.BasicGroup.propTypes),D))||j)||j)||j),M=U;e.default=M},23376:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.SwitchGroupActions=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(29511)),n=r(t(28452)),o=r(t(63072)),i=u(t(96540));function a(E){if(typeof WeakMap!="function")return null;var L=new WeakMap,F=new WeakMap;return(a=function(D){return D?F:L})(E)}function u(E,L){if(!L&&E&&E.__esModule)return E;if(E===null||c(E)!=="object"&&typeof E!="function")return{default:E};var F=a(L);if(F&&F.has(E))return F.get(E);var j={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in E)if(B!=="default"&&Object.prototype.hasOwnProperty.call(E,B)){var G=D?Object.getOwnPropertyDescriptor(E,B):null;G&&(G.get||G.set)?Object.defineProperty(j,B,G):j[B]=E[B]}return j.default=E,F&&F.set(E,j),j}function d(E){var L=v();return function(){var j=(0,o.default)(E),D;if(L){var B=(0,o.default)(this).constructor;D=Reflect.construct(j,arguments,B)}else D=j.apply(this,arguments);return(0,n.default)(this,D)}}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var p={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},m="topRight",P=function(E){(0,l.default)(F,E);var L=d(F);function F(){return(0,f.default)(this,F),L.apply(this,arguments)}return(0,s.default)(F,[{key:"render",value:function(){var D=this.props,B=D.config,G=D.addCaseGroup,K=D.addDefaultCaseGroup,Y=D.setLock,$=D.isLocked,U=D.isTrueLocked,M=D.id,C=D.canAddGroup,y=D.canAddDefault,b=B.settings,T=b.immutableGroupsMode,R=b.addCaseLabel,S=b.addDefaultCaseLabel,A=b.groupActionsPosition,W=b.renderButton,I=b.renderSwitch,O=b.renderButtonGroup,h=b.lockLabel,w=b.lockedLabel,V=b.showLock,H=p[A||m],_=V&&!($&&!U)&&i.default.createElement(I,{type:"lock",id:M,value:$,setValue:Y,label:h,checkedLabel:w,config:B}),oe=!T&&C&&!$&&i.default.createElement(W,{type:"addCaseGroup",onClick:G,label:R,readonly:$,config:B}),te=!T&&y&&!$&&i.default.createElement(W,{type:"addDefaultCaseGroup",onClick:K,label:S,readonly:$,config:B});return i.default.createElement("div",{className:"group--actions ".concat(H)},i.default.createElement(O,{config:B},_,oe,te))}}]),F}(i.PureComponent);e.SwitchGroupActions=P},71105:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(94634)),s=r(t(17383)),l=r(t(34579)),n=r(t(29511)),o=r(t(28452)),i=r(t(63072)),a=p(t(96540)),u=r(t(83175)),d=r(t(23181));function v(L){if(typeof WeakMap!="function")return null;var F=new WeakMap,j=new WeakMap;return(v=function(B){return B?j:F})(L)}function p(L,F){if(!F&&L&&L.__esModule)return L;if(L===null||c(L)!=="object"&&typeof L!="function")return{default:L};var j=v(F);if(j&&j.has(L))return j.get(L);var D={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var G in L)if(G!=="default"&&Object.prototype.hasOwnProperty.call(L,G)){var K=B?Object.getOwnPropertyDescriptor(L,G):null;K&&(K.get||K.set)?Object.defineProperty(D,G,K):D[G]=L[G]}return D.default=L,j&&j.set(L,D),D}function m(L){var F=P();return function(){var D=(0,i.default)(L),B;if(F){var G=(0,i.default)(this).constructor;B=Reflect.construct(D,arguments,G)}else B=D.apply(this,arguments);return(0,o.default)(this,B)}}function P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var E=function(L){(0,n.default)(j,L);var F=m(j);function j(){var D;(0,s.default)(this,j);for(var B=arguments.length,G=new Array(B),K=0;K<B;K++)G[K]=arguments[K];return D=F.call.apply(F,[this].concat(G)),D.handleChange=function(Y){D.props.setOption("proximity",parseInt(Y))},D}return(0,l.default)(j,[{key:"render",value:function(){var B=this.props,G=B.defaults,K=B.options,Y=B.config,$=B.optionLabel,U=B.optionPlaceholder,M=B.customProps,C=B.minProximity,y=B.maxProximity,b=B.optionTextBefore,T=B.readonly,R=Y.settings,S=Y.widgets,A=G?G.proximity:void 0,W=R.showLabels,I=K.get("proximity",A),O=(0,d.default)(C,y+1).map(function(w){return{title:w,value:w}}),h=S.select.factory;return a.default.createElement("div",{className:"operator--PROXIMITY"},a.default.createElement("div",{className:"operator--options"},W&&a.default.createElement("label",{className:"rule--label"},$),!W&&b&&a.default.createElement("div",{className:"operator--options--sep"},a.default.createElement("span",null,b)),a.default.createElement(h,(0,f.default)({config:Y,value:I,listValues:O,setValue:this.handleChange,readonly:T,placeholder:U},M))),a.default.createElement("div",{className:"operator--widgets"},this.props.children))}}]),j}(a.PureComponent);e.default=E,E.propTypes={config:u.default.object.isRequired,setOption:u.default.func.isRequired,options:u.default.any.isRequired,minProximity:u.default.number,maxProximity:u.default.number,optionPlaceholder:u.default.string,optionTextBefore:u.default.string,optionLabel:u.default.string,customProps:u.default.object,readonly:u.default.bool},E.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null}},27036:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ProximityOperator",{enumerable:!0,get:function(){return c.default}});var c=r(t(71105))},72313:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(43693)),s=r(t(17383)),l=r(t(34579)),n=r(t(12475)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=j(t(96540)),d=r(t(83175)),v=t(67212),p=t(76348),m=t(46897),P=t(37584),E=r(t(68090)),L=r(t(95950));function F($){if(typeof WeakMap!="function")return null;var U=new WeakMap,M=new WeakMap;return(F=function(y){return y?M:U})($)}function j($,U){if(!U&&$&&$.__esModule)return $;if($===null||c($)!=="object"&&typeof $!="function")return{default:$};var M=F(U);if(M&&M.has($))return M.get($);var C={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in $)if(b!=="default"&&Object.prototype.hasOwnProperty.call($,b)){var T=y?Object.getOwnPropertyDescriptor($,b):null;T&&(T.get||T.set)?Object.defineProperty(C,b,T):C[b]=$[b]}return C.default=$,M&&M.set($,C),C}function D($,U){var M=Object.keys($);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols($);U&&(C=C.filter(function(y){return Object.getOwnPropertyDescriptor($,y).enumerable})),M.push.apply(M,C)}return M}function B($){for(var U=1;U<arguments.length;U++){var M=arguments[U]!=null?arguments[U]:{};U%2?D(Object(M),!0).forEach(function(C){(0,f.default)($,C,M[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(M)):D(Object(M)).forEach(function(C){Object.defineProperty($,C,Object.getOwnPropertyDescriptor(M,C))})}return $}function G($){var U=K();return function(){var C=(0,a.default)($),y;if(U){var b=(0,a.default)(this).constructor;y=Reflect.construct(C,arguments,b)}else y=C.apply(this,arguments);return(0,i.default)(this,y)}}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Y=function($){(0,o.default)(M,$);var U=G(M);function M(C){var y;return(0,s.default)(this,M),y=U.call(this,C),(0,P.useOnPropsChanged)((0,n.default)(y)),y.onPropsChanged(C),y}return(0,l.default)(M,[{key:"onPropsChanged",value:function(y){var b=this.props,T=["selectedField","config","parentField"],R=!this.meta||T.map(function(S){return y[S]!==b[S]}).filter(function(S){return S}).length>0;R&&(this.meta=this.getMeta(y))}},{key:"getMeta",value:function(y){var b=y.selectedField,T=y.config,R=y.parentField,S=b,A=T.settings,W=A.maxLabelsLength,I=A.fieldSeparatorDisplay,O=A.fieldPlaceholder,h=A.fieldSeparator,w=!!b,V=w?null:(0,m.truncateString)(O,W),H=w?(0,v.getFieldConfig)(T,S):null,_=H||{},oe=(0,p.getFieldPath)(S,T),te=(0,p.getFieldPath)(S,T,!0),Q=this.getFieldLabel(H,S,T),X=(0,p.getFieldPathLabels)(S,T),k=X?X.join(I):null;(k==Q||R)&&(k=null);var re=_.label2,q=typeof R=="string"?R.split(h):R,le=R?(0,v.getFieldConfig)(T,R):null,ee=R?le&&le.subfields:T.fields,ie=this.buildOptions(q,T,ee,q);return{placeholder:V,items:ie,parentField:R,selectedKey:S,selectedKeys:oe,selectedPath:te,selectedLabel:Q,selectedOpts:_,selectedAltLabel:re,selectedFullLabel:k}}},{key:"getFieldLabel",value:function(y,b,T){if(!b)return null;var R=T.settings.fieldSeparator,S=T.settings.maxLabelsLength,A=Array.isArray(b)?b:b.split(R),W=y&&y.label||(0,E.default)(A);return W=(0,m.truncateString)(W,S),W}},{key:"buildOptions",value:function(y,b,T){var R=this,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!T)return null;var W=b.settings,I=W.fieldSeparator,O=W.fieldSeparatorDisplay,h=S?S.join(I)+I:"";return(0,L.default)(T).map(function(w){var V=T[w],H=R.getFieldLabel(V,w,b),_=(0,p.getFieldPathLabels)(h+w,b),oe=_.join(O);(oe==H||y)&&(oe=null);var te=V.label2,Q=V.tooltip,X=(S||[]).concat(w),k=V.disabled;if(!V.hideForSelect)return V.type=="!struct"?{disabled:k,key:w,path:h+w,label:H,fullLabel:oe,altLabel:te,tooltip:Q,items:R.buildOptions(y,b,V.subfields,X,H)}:{disabled:k,key:w,path:h+w,label:H,fullLabel:oe,altLabel:te,tooltip:Q,grouplabel:A}}).filter(function(w){return!!w})}},{key:"render",value:function(){var y=this.props,b=y.config,T=y.customProps,R=y.setField,S=y.readonly,A=y.id,W=y.groupId,I=b.settings.renderField,O=B({id:A,groupId:W,config:b,customProps:T,readonly:S,setField:R},this.meta);return I(O)}}]),M}(u.PureComponent);e.default=Y,Y.propTypes={id:d.default.string,groupId:d.default.string,config:d.default.object.isRequired,selectedField:d.default.string,parentField:d.default.string,customProps:d.default.object,readonly:d.default.bool,setField:d.default.func.isRequired}},52762:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(29511)),n=r(t(28452)),o=r(t(63072)),i=v(t(96540)),a=r(t(72313)),u=t(70039);function d(E){if(typeof WeakMap!="function")return null;var L=new WeakMap,F=new WeakMap;return(d=function(D){return D?F:L})(E)}function v(E,L){if(!L&&E&&E.__esModule)return E;if(E===null||c(E)!=="object"&&typeof E!="function")return{default:E};var F=d(L);if(F&&F.has(E))return F.get(E);var j={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in E)if(B!=="default"&&Object.prototype.hasOwnProperty.call(E,B)){var G=D?Object.getOwnPropertyDescriptor(E,B):null;G&&(G.get||G.set)?Object.defineProperty(j,B,G):j[B]=E[B]}return j.default=E,F&&F.set(E,j),j}function p(E){var L=m();return function(){var j=(0,o.default)(E),D;if(L){var B=(0,o.default)(this).constructor;D=Reflect.construct(j,arguments,B)}else D=j.apply(this,arguments);return(0,n.default)(this,D)}}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var P=function(E){(0,l.default)(F,E);var L=p(F);function F(){return(0,f.default)(this,F),L.apply(this,arguments)}return(0,s.default)(F,[{key:"render",value:function(){var D=this.props,B=D.config,G=D.selectedField,K=D.setField,Y=D.parentField,$=D.classname,U=D.readonly,M=D.id,C=D.groupId;return i.default.createElement(u.Col,{className:$},B.settings.showLabels&&i.default.createElement("label",{className:"rule--label"},B.settings.fieldLabel),i.default.createElement(a.default,{config:B,selectedField:G,parentField:Y,setField:K,customProps:B.settings.customFieldSelectProps,readonly:U,id:M,groupId:C}))}}]),F}(i.PureComponent);e.default=P},20491:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(43693)),s=r(t(85715)),l=r(t(17383)),n=r(t(34579)),o=r(t(12475)),i=r(t(29511)),a=r(t(28452)),u=r(t(63072)),d=B(t(96540)),v=r(t(83175)),p=t(67212),m=t(76348),P=t(46897),E=t(37584),L=r(t(68090)),F=r(t(95950)),j=r(t(1779));function D(M){if(typeof WeakMap!="function")return null;var C=new WeakMap,y=new WeakMap;return(D=function(T){return T?y:C})(M)}function B(M,C){if(!C&&M&&M.__esModule)return M;if(M===null||c(M)!=="object"&&typeof M!="function")return{default:M};var y=D(C);if(y&&y.has(M))return y.get(M);var b={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in M)if(R!=="default"&&Object.prototype.hasOwnProperty.call(M,R)){var S=T?Object.getOwnPropertyDescriptor(M,R):null;S&&(S.get||S.set)?Object.defineProperty(b,R,S):b[R]=M[R]}return b.default=M,y&&y.set(M,b),b}function G(M,C){var y=Object.keys(M);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(M);C&&(b=b.filter(function(T){return Object.getOwnPropertyDescriptor(M,T).enumerable})),y.push.apply(y,b)}return y}function K(M){for(var C=1;C<arguments.length;C++){var y=arguments[C]!=null?arguments[C]:{};C%2?G(Object(y),!0).forEach(function(b){(0,f.default)(M,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(y)):G(Object(y)).forEach(function(b){Object.defineProperty(M,b,Object.getOwnPropertyDescriptor(y,b))})}return M}function Y(M){var C=$();return function(){var b=(0,u.default)(M),T;if(C){var R=(0,u.default)(this).constructor;T=Reflect.construct(b,arguments,R)}else T=b.apply(this,arguments);return(0,a.default)(this,T)}}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var U=function(M){(0,i.default)(y,M);var C=Y(y);function y(b){var T;return(0,l.default)(this,y),T=C.call(this,b),(0,E.useOnPropsChanged)((0,o.default)(T)),T.onPropsChanged(b),T}return(0,n.default)(y,[{key:"onPropsChanged",value:function(T){var R=this.props,S=["config","field","operator","isFuncArg"],A=["config","field","value"],W=!this.items||S.map(function(O){return T[O]!==R[O]}).filter(function(O){return O}).length>0,I=!this.meta||A.map(function(O){return T[O]!==R[O]}).filter(function(O){return O}).length>0;I&&(this.meta=this.getMeta(T)),W&&(this.items=this.getItems(T))}},{key:"getItems",value:function(T){var R=T.config,S=T.field,A=T.operator,W=T.parentFuncs,I=T.fieldDefinition,O=T.isFuncArg,h=R.settings.canUseFuncForField,w=this.filterFuncs(R,R.funcs,S,A,h,W,O,I),V=this.buildOptions(R,w);return V}},{key:"getMeta",value:function(T){var R=T.config,S=T.field,A=T.value,W=R.settings,I=W.funcPlaceholder,O=W.fieldSeparatorDisplay,h=A,w=!!A,V=(0,p.getFieldConfig)(R,S),H=V.widgets.field,_=H&&H.widgetProps||{},oe=w?null:I,te=w?(0,p.getFuncConfig)(R,h):null,Q=te||{},X=(0,m.getFieldPath)(h,R),k=(0,m.getFieldPath)(h,R,!0),re=this.getFuncLabel(te,h,R),q=(0,m.getFuncPathLabels)(h,R),le=q?q.join(O):null;return le==re&&(le=null),{placeholder:oe,selectedKey:h,selectedKeys:X,selectedPath:k,selectedLabel:re,selectedOpts:Q,selectedFullLabel:le}}},{key:"filterFuncs",value:function(T,R,S,A,W,I,O,h){R=(0,j.default)(R);var w=T.settings.fieldSeparator,V=(0,p.getFieldConfig)(T,S),H,_=V,oe=(0,m.getWidgetForFieldOp)(T,S,A,"value");if(O&&h)_=h,H=h.type;else if(oe){var te=T.widgets[oe],Q=te.type;H=Q}else H=V.type;function X(k,re){for(var q in k){var le=k[q].subfields,ee=(re||[]).concat(q),ie=ee.join(w),he=(0,p.getFuncConfig)(T,ie);if(he.type=="!struct")X(le,ee)==0&&delete k[q];else{var me=he.returnType==H;_.funcs&&(me=me&&_.funcs.includes(ie)),W&&(me=me&&W(S,V,ie,he,A)),!he.allowSelfNesting&&I&&I.map(function(be){var Be=(0,s.default)(be,2),je=Be[0],Ue=Be[1];return je}).includes(ie)&&(me=!1),me||delete k[q]}}return(0,F.default)(k).length}return X(R,[]),R}},{key:"buildOptions",value:function(T,R){var S=this,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!R)return null;var I=T.settings,O=I.fieldSeparator,h=I.fieldSeparatorDisplay,w=A?A.join(O)+O:"";return(0,F.default)(R).map(function(V){var H=R[V],_=S.getFuncLabel(H,V,T),oe=(0,m.getFuncPathLabels)(V,T),te=oe.join(h);te==_&&(te=null);var Q=H.tooltip,X=(A||[]).concat(V);return H.type=="!struct"?{key:V,path:w+V,label:_,fullLabel:te,tooltip:Q,items:S.buildOptions(T,H.subfields,X,_)}:{key:V,path:w+V,label:_,fullLabel:te,tooltip:Q,grouplabel:W}})}},{key:"getFuncLabel",value:function(T,R,S){if(!R)return null;var A=S.settings.fieldSeparator,W=S.settings.maxLabelsLength,I=Array.isArray(R)?R:R.split(A),O=T.label||(0,L.default)(I);return O=(0,P.truncateString)(O,W),O}},{key:"render",value:function(){var T=this.props,R=T.config,S=T.customProps,A=T.setValue,W=T.readonly,I=T.id,O=T.groupId,h=R.settings.renderFunc,w=K({config:R,customProps:S,readonly:W,setField:A,items:this.items,id:I,groupId:O},this.meta);return h(w)}}]),y}(d.PureComponent);e.default=U,U.propTypes={id:v.default.string,groupId:v.default.string,config:v.default.object.isRequired,field:v.default.string.isRequired,operator:v.default.string,customProps:v.default.object,value:v.default.string,setValue:v.default.func.isRequired,readonly:v.default.bool,parentFuncs:v.default.array,fieldDefinition:v.default.object,isFuncArg:v.default.bool}},29255:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(94634)),s=r(t(41132)),l=r(t(17383)),n=r(t(34579)),o=r(t(12475)),i=r(t(29511)),a=r(t(28452)),u=r(t(63072)),d=D(t(96540)),v=r(t(83175)),p=r(t(20491)),m=t(67212),P=r(t(13745)),E=t(70039),L=t(22980),F=t(37584);function j($){if(typeof WeakMap!="function")return null;var U=new WeakMap,M=new WeakMap;return(j=function(y){return y?M:U})($)}function D($,U){if(!U&&$&&$.__esModule)return $;if($===null||c($)!=="object"&&typeof $!="function")return{default:$};var M=j(U);if(M&&M.has($))return M.get($);var C={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in $)if(b!=="default"&&Object.prototype.hasOwnProperty.call($,b)){var T=y?Object.getOwnPropertyDescriptor($,b):null;T&&(T.get||T.set)?Object.defineProperty(C,b,T):C[b]=$[b]}return C.default=$,M&&M.set($,C),C}function B($){var U=G();return function(){var C=(0,u.default)($),y;if(U){var b=(0,u.default)(this).constructor;y=Reflect.construct(C,arguments,b)}else y=C.apply(this,arguments);return(0,a.default)(this,y)}}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var K=function($){(0,i.default)(M,$);var U=B(M);function M(C){var y;return(0,l.default)(this,M),y=U.call(this,C),y.setFunc=function(b){y.props.setValue((0,L.setFunc)(y.props.value,b,y.props.config))},y.setArgValue=function(b,T){var R=y.props.config,S=y.meta.funcDefinition,A=S.args,W=A[b];y.props.setValue((0,L.setArgValue)(y.props.value,b,T,W,R))},y.setArgValueSrc=function(b,T){var R=y.props.config,S=y.meta.funcDefinition,A=S.args,W=A[b];y.props.setValue((0,L.setArgValueSrc)(y.props.value,b,T,W,R))},y.renderFuncSelect=function(){var b=y.props,T=b.config,R=b.field,S=b.operator,A=b.customProps,W=b.value,I=b.readonly,O=b.parentFuncs,h=b.id,w=b.groupId,V=b.isFuncArg,H=b.fieldDefinition,_=W?W.get("func"):null,oe={value:_,setValue:y.setFunc,config:T,field:R,operator:S,customProps:A,readonly:I,parentFuncs:O,isFuncArg:V,fieldDefinition:H,id:h,groupId:w},te=T.settings,Q=te.showLabels,X=te.funcLabel,k=Q?d.default.createElement("label",{className:"rule--label"},X):null;return d.default.createElement(E.Col,{key:"func",className:"rule--func"},k,d.default.createElement(p.default,oe))},y.renderArgLabel=function(b,T){var R=T.valueSources,S=T.type,A=T.showPrefix,W=T.label,I=y.props.config,O=R&&R.length==1&&R[0]=="const",h=!I.settings.showLabels&&(S=="boolean"||O)&&A;return h?d.default.createElement(E.Col,{className:"rule--func--arg-label"},W||b):null},y.renderArgLabelSep=function(b,T){var R=T.valueSources,S=T.type,A=T.showPrefix,W=y.props.config,I=R&&R.length==1&&R[0]=="const",O=!W.settings.showLabels&&(S=="boolean"||I)&&A;return O?d.default.createElement(E.Col,{className:"rule--func--arg-label-sep"},":"):null},y.renderArgVal=function(b,T,R){var S=y.props,A=S.config,W=S.field,I=S.operator,O=S.value,h=S.readonly,w=S.parentFuncs,V=S.id,H=S.groupId,_=O?O.getIn(["args",T]):null,oe=_?_.get("value"):void 0,te=R.valueSources.length==1?R.valueSources[0]:void 0,Q=_?_.get("valueSrc")||te||"value":te,X={config:A,fieldFunc:b,fieldArg:T,leftField:W,operator:null,value:oe,valueSrc:Q,setValue:y.setArgValue,setValueSrc:y.setArgValueSrc,funcKey:b,argKey:T,argDefinition:R,readonly:h,parentFuncs:w,id:V,groupId:H};return d.default.createElement(E.Col,{className:"rule--func--arg-value"},d.default.createElement(Y,X))},y.renderArgSep=function(b,T,R,S){var A=S.renderSeps;return R?d.default.createElement(E.Col,{className:"rule--func--arg-sep"},A?A[R-1]:", "):null},y.renderBracketBefore=function(b){var T=b.renderBrackets;return d.default.createElement(E.Col,{key:"before_args",className:"rule--func--bracket-before"},T?T[0]:"(")},y.renderBracketAfter=function(b){var T=b.renderBrackets;return d.default.createElement(E.Col,{key:"after_args",className:"rule--func--bracket-after"},T?T[1]:")")},y.renderFuncArgs=function(){var b=y.meta,T=b.funcDefinition,R=b.funcKey;if(!R)return null;var S=T.args;return S?d.default.createElement(d.default.Fragment,null,y.renderBracketBefore(T),d.default.createElement(E.Col,{key:"args",className:"rule--func--args"},Object.keys(S).map(function(A,W){return d.default.createElement(E.Col,{key:"arg-".concat(A,"-").concat(W),className:"rule--func--arg"},y.renderArgSep(A,S[A],W,T),y.renderArgLabel(A,S[A]),y.renderArgLabelSep(A,S[A]),y.renderArgVal(R,A,S[A]))})),y.renderBracketAfter(T)):null},(0,F.useOnPropsChanged)((0,o.default)(y)),y.onPropsChanged(C),y}return(0,n.default)(M,[{key:"onPropsChanged",value:function(y){var b=this.props,T=["config","field","operator","value"],R=!this.meta||T.map(function(S){return y[S]!==b[S]}).filter(function(S){return S}).length>0;R&&(this.meta=this.getMeta(y))}},{key:"getMeta",value:function(y){var b=y.config,T=y.field,R=y.operator,S=y.value,A=S?S.get("func"):null,W=A?(0,m.getFuncConfig)(b,A):null;return{funcDefinition:W,funcKey:A}}},{key:"render",value:function(){return d.default.createElement(E.Col,{className:"rule--func--wrapper"},this.renderFuncSelect(),this.renderFuncArgs())}}]),M}(d.PureComponent);e.default=K,K.propTypes={id:v.default.string,groupId:v.default.string,config:v.default.object.isRequired,field:v.default.string.isRequired,operator:v.default.string,customProps:v.default.object,value:v.default.object,setValue:v.default.func.isRequired,readonly:v.default.bool,parentFuncs:v.default.array,fieldDefinition:v.default.object,isFuncArg:v.default.bool};var Y=function($){(0,i.default)(M,$);var U=B(M);function M(){var C;(0,l.default)(this,M);for(var y=arguments.length,b=new Array(y),T=0;T<y;T++)b[T]=arguments[T];return C=U.call.apply(U,[this].concat(b)),C.setValue=function(R,S,A){var W=C.props,I=W.setValue,O=W.argKey;I(O,S)},C.setValueSrc=function(R,S,A){var W=C.props,I=W.setValueSrc,O=W.argKey;I(O,S)},C}return(0,n.default)(M,[{key:"render",value:function(){var y=this.props,b=y.funcKey,T=y.argKey,R=y.parentFuncs;return d.default.createElement(P.default,(0,f.default)({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:[].concat((0,s.default)(R||[]),[[b,T]])}))}}]),M}(d.PureComponent);Y.propTypes={funcKey:v.default.string.isRequired,argKey:v.default.string.isRequired,setValue:v.default.func.isRequired,setValueSrc:v.default.func.isRequired,readonly:v.default.bool,parentFuncs:v.default.array,id:v.default.string,groupId:v.default.string}},36293:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(43693)),s=r(t(17383)),l=r(t(34579)),n=r(t(12475)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=F(t(96540)),d=r(t(83175)),v=t(67212),p=r(t(95950)),m=r(t(71086)),P=r(t(73916)),E=t(37584);function L(Y){if(typeof WeakMap!="function")return null;var $=new WeakMap,U=new WeakMap;return(L=function(C){return C?U:$})(Y)}function F(Y,$){if(!$&&Y&&Y.__esModule)return Y;if(Y===null||c(Y)!=="object"&&typeof Y!="function")return{default:Y};var U=L($);if(U&&U.has(Y))return U.get(Y);var M={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in Y)if(y!=="default"&&Object.prototype.hasOwnProperty.call(Y,y)){var b=C?Object.getOwnPropertyDescriptor(Y,y):null;b&&(b.get||b.set)?Object.defineProperty(M,y,b):M[y]=Y[y]}return M.default=Y,U&&U.set(Y,M),M}function j(Y,$){var U=Object.keys(Y);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(Y);$&&(M=M.filter(function(C){return Object.getOwnPropertyDescriptor(Y,C).enumerable})),U.push.apply(U,M)}return U}function D(Y){for(var $=1;$<arguments.length;$++){var U=arguments[$]!=null?arguments[$]:{};$%2?j(Object(U),!0).forEach(function(M){(0,f.default)(Y,M,U[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(U)):j(Object(U)).forEach(function(M){Object.defineProperty(Y,M,Object.getOwnPropertyDescriptor(U,M))})}return Y}function B(Y){var $=G();return function(){var M=(0,a.default)(Y),C;if($){var y=(0,a.default)(this).constructor;C=Reflect.construct(M,arguments,y)}else C=M.apply(this,arguments);return(0,i.default)(this,C)}}function G(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var K=function(Y){(0,o.default)(U,Y);var $=B(U);function U(M){var C;return(0,s.default)(this,U),C=$.call(this,M),(0,E.useOnPropsChanged)((0,n.default)(C)),C.onPropsChanged(M),C}return(0,l.default)(U,[{key:"onPropsChanged",value:function(C){var y=this.props,b=["config","selectedField","selectedOperator"],T=!this.meta||b.map(function(R){return C[R]!==y[R]}).filter(function(R){return R}).length>0;T&&(this.meta=this.getMeta(C))}},{key:"getMeta",value:function(C){var y=C.config,b=C.selectedField,T=C.selectedOperator,R=(0,v.getFieldConfig)(y,b),S=R?.operators,A=(0,P.default)((0,m.default)(y.operators,function(te,Q){return S?.indexOf(Q)!==-1}),function(te,Q){return(0,v.getOperatorConfig)(y,Q,b)}),W=this.buildOptions(y,A,S),I=!!T,O=I?A[T]:null,h=O||{},w=this.props.config.settings.operatorPlaceholder,V=T,H=I?[V]:null,_=H,oe=h.label;return{placeholder:w,items:W,selectedKey:V,selectedKeys:H,selectedPath:_,selectedLabel:oe,selectedOpts:h,fieldConfig:R}}},{key:"buildOptions",value:function(C,y,b){return!y||!b?null:(0,p.default)(y).sort(function(T,R){return b.indexOf(T)-b.indexOf(R)}).map(function(T){var R=y[T],S=R.label;return{key:T,path:T,label:S}})}},{key:"render",value:function(){var C=this.props,y=C.config,b=C.customProps,T=C.setOperator,R=C.readonly,S=C.id,A=C.groupId,W=y.settings.renderOperator,I=D({id:S,groupId:A,config:y,customProps:b,readonly:R,setField:T},this.meta);return I.items?W(I):null}}]),U}(u.PureComponent);e.default=K,K.propTypes={id:d.default.string,groupId:d.default.string,config:d.default.object.isRequired,selectedField:d.default.string,selectedOperator:d.default.string,readonly:d.default.bool,setOperator:d.default.func.isRequired}},36987:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(91847)),s=r(t(17383)),l=r(t(34579)),n=r(t(29511)),o=r(t(28452)),i=r(t(63072)),a=m(t(96540)),u=r(t(83175)),d=t(67212),v=["factory"];function p(F){if(typeof WeakMap!="function")return null;var j=new WeakMap,D=new WeakMap;return(p=function(G){return G?D:j})(F)}function m(F,j){if(!j&&F&&F.__esModule)return F;if(F===null||c(F)!=="object"&&typeof F!="function")return{default:F};var D=p(j);if(D&&D.has(F))return D.get(F);var B={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in F)if(K!=="default"&&Object.prototype.hasOwnProperty.call(F,K)){var Y=G?Object.getOwnPropertyDescriptor(F,K):null;Y&&(Y.get||Y.set)?Object.defineProperty(B,K,Y):B[K]=F[K]}return B.default=F,D&&D.set(F,B),B}function P(F){var j=E();return function(){var B=(0,i.default)(F),G;if(j){var K=(0,i.default)(this).constructor;G=Reflect.construct(B,arguments,K)}else G=B.apply(this,arguments);return(0,o.default)(this,G)}}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var L=function(F){(0,n.default)(D,F);var j=P(D);function D(){return(0,s.default)(this,D),j.apply(this,arguments)}return(0,l.default)(D,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var G=(0,d.getOperatorConfig)(this.props.config,this.props.selectedOperator,this.props.selectedField);if(typeof G.options>"u")return null;var K=G.options,Y=K.factory,$=(0,f.default)(K,v),U=Object.assign({},$,{config:this.props.config,field:this.props.selectedField,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),M=Y(U),C=this.props.selectedOperator;return a.default.createElement("div",{className:"rule--operator rule--operator--".concat(C.toUpperCase())},M)}}]),D}(a.PureComponent);e.default=L,L.propTypes={config:u.default.object.isRequired,operatorOptions:u.default.any.isRequired,selectedField:u.default.string.isRequired,selectedOperator:u.default.string.isRequired,readonly:u.default.bool,setOperatorOption:u.default.func.isRequired}},26686:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(17383)),s=r(t(34579)),l=r(t(29511)),n=r(t(28452)),o=r(t(63072)),i=v(t(96540)),a=r(t(36293)),u=t(70039);function d(E){if(typeof WeakMap!="function")return null;var L=new WeakMap,F=new WeakMap;return(d=function(D){return D?F:L})(E)}function v(E,L){if(!L&&E&&E.__esModule)return E;if(E===null||c(E)!=="object"&&typeof E!="function")return{default:E};var F=d(L);if(F&&F.has(E))return F.get(E);var j={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in E)if(B!=="default"&&Object.prototype.hasOwnProperty.call(E,B)){var G=D?Object.getOwnPropertyDescriptor(E,B):null;G&&(G.get||G.set)?Object.defineProperty(j,B,G):j[B]=E[B]}return j.default=E,F&&F.set(E,j),j}function p(E){var L=m();return function(){var j=(0,o.default)(E),D;if(L){var B=(0,o.default)(this).constructor;D=Reflect.construct(j,arguments,B)}else D=j.apply(this,arguments);return(0,n.default)(this,D)}}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var P=function(E){(0,l.default)(F,E);var L=p(F);function F(){return(0,f.default)(this,F),L.apply(this,arguments)}return(0,s.default)(F,[{key:"render",value:function(){var D=this.props,B=D.config,G=D.selectedField,K=D.selectedOperator,Y=D.setOperator,$=D.selectedFieldPartsLabels,U=D.showOperator,M=D.showOperatorLabel,C=D.selectedFieldWidgetConfig,y=D.readonly,b=D.id,T=D.groupId,R=U&&i.default.createElement(u.Col,{key:"operators-for-"+($||[]).join("_"),className:"rule--operator"},B.settings.showLabels&&i.default.createElement("label",{className:"rule--label"},B.settings.operatorLabel),i.default.createElement(a.default,{key:"operator",config:B,selectedField:G,selectedOperator:K,setOperator:Y,readonly:y,id:b,groupId:T})),S=M&&i.default.createElement(u.Col,{key:"operators-for-"+($||[]).join("_"),className:"rule--operator"},i.default.createElement("div",{className:"rule--operator"},B.settings.showLabels?i.default.createElement("label",{className:"rule--label"},"\xA0"):null,i.default.createElement("span",null,C.operatorInlineLabel)));return[R,S]}}]),F}(i.PureComponent);e.default=P},54662:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(43693)),s=r(t(17383)),l=r(t(34579)),n=r(t(12475)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=D(t(96540)),d=r(t(83175)),v=t(67212),p=t(76348),m=t(46897),P=t(37584),E=r(t(68090)),L=r(t(95950)),F=r(t(1779));function j(U){if(typeof WeakMap!="function")return null;var M=new WeakMap,C=new WeakMap;return(j=function(b){return b?C:M})(U)}function D(U,M){if(!M&&U&&U.__esModule)return U;if(U===null||c(U)!=="object"&&typeof U!="function")return{default:U};var C=j(M);if(C&&C.has(U))return C.get(U);var y={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in U)if(T!=="default"&&Object.prototype.hasOwnProperty.call(U,T)){var R=b?Object.getOwnPropertyDescriptor(U,T):null;R&&(R.get||R.set)?Object.defineProperty(y,T,R):y[T]=U[T]}return y.default=U,C&&C.set(U,y),y}function B(U,M){var C=Object.keys(U);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(U);M&&(y=y.filter(function(b){return Object.getOwnPropertyDescriptor(U,b).enumerable})),C.push.apply(C,y)}return C}function G(U){for(var M=1;M<arguments.length;M++){var C=arguments[M]!=null?arguments[M]:{};M%2?B(Object(C),!0).forEach(function(y){(0,f.default)(U,y,C[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(C)):B(Object(C)).forEach(function(y){Object.defineProperty(U,y,Object.getOwnPropertyDescriptor(C,y))})}return U}function K(U){var M=Y();return function(){var y=(0,a.default)(U),b;if(M){var T=(0,a.default)(this).constructor;b=Reflect.construct(y,arguments,T)}else b=y.apply(this,arguments);return(0,i.default)(this,b)}}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var $=function(U){(0,o.default)(C,U);var M=K(C);function C(y){var b;return(0,s.default)(this,C),b=M.call(this,y),(0,P.useOnPropsChanged)((0,n.default)(b)),b.onPropsChanged(y),b}return(0,l.default)(C,[{key:"onPropsChanged",value:function(b){var T=this.props,R=["config","field","operator","isFuncArg","parentField"],S=["config","field","operator","value","placeholder","isFuncArg","parentField"],A=!this.items||R.map(function(I){return b[I]!==T[I]}).filter(function(I){return I}).length>0,W=!this.meta||S.map(function(I){return b[I]!==T[I]}).filter(function(I){return I}).length>0;A&&(this.items=this.getItems(b)),W&&(this.meta=this.getMeta(b))}},{key:"getItems",value:function(b){var T=b.config,R=b.field,S=b.operator,A=b.parentField,W=b.isFuncArg,I=b.fieldDefinition,O=T.settings.canCompareFieldWithField,h=T.settings.fieldSeparator,w=typeof A=="string"?A.split(h):A,V=A?(0,v.getFieldConfig)(T,A):null,H=A?V&&V.subfields:T.fields,_=this.filterFields(T,H,R,A,w,S,O,W,I),oe=this.buildOptions(w,T,_,w);return oe}},{key:"getMeta",value:function(b){var T=b.config,R=b.field,S=b.operator,A=b.value,W=b.placeholder,I=b.isFuncArg,O=b.parentField,h=T.settings,w=h.fieldPlaceholder,V=h.fieldSeparatorDisplay,H=A,_=!!A,oe=(0,v.getFieldConfig)(T,R),te=oe.widgets.field,Q=te&&te.widgetProps||{},X=_?null:I&&W||Q.valuePlaceholder||w,k=_?(0,v.getFieldConfig)(T,H):null,re=k||{},q=(0,p.getFieldPath)(H,T),le=(0,p.getFieldPath)(H,T,!0),ee=this.getFieldLabel(k,H,T),ie=(0,p.getFieldPathLabels)(H,T),he=ie?ie.join(V):null;(he==ee||O)&&(he=null);var me=re.label2;return{placeholder:X,selectedKey:H,selectedKeys:q,selectedPath:le,selectedLabel:ee,selectedOpts:re,selectedAltLabel:me,selectedFullLabel:he}}},{key:"filterFields",value:function(b,T,R,S,A,W,I,O,h){T=(0,F.default)(T);var w=b.settings.fieldSeparator,V=(0,v.getFieldConfig)(b,R),H,_=(0,p.getWidgetForFieldOp)(b,R,W,"value");if(O&&h)H=h.type;else if(_){var oe=b.widgets[_],te=oe.type;H=te}else H=V.type;function Q(X,k){for(var re in X){var q=X[re].subfields,le=(k||[]).concat(re),ee=le.join(w),ie=(0,v.getFieldConfig)(b,ee);if(!ie)delete X[re];else if(ie.type=="!struct"||ie.type=="!group")Q(q,le)==0&&delete X[re];else{var he=ie.type==H&&(O?!0:ee!=R),me=I||b.settings.canCompareFieldWithField;me&&(he=he&&me(R,V,ee,ie,W)),he||delete X[re]}}return(0,L.default)(X).length}return Q(T,A||[]),T}},{key:"buildOptions",value:function(b,T,R){var S=this,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!R)return null;var I=T.settings,O=I.fieldSeparator,h=I.fieldSeparatorDisplay,w=A?A.join(O)+O:"";return(0,L.default)(R).map(function(V){var H=R[V],_=S.getFieldLabel(H,V,T),oe=(0,p.getFieldPathLabels)(V,T),te=oe.join(h);(te==_||b)&&(te=null);var Q=H.label2,X=H.tooltip,k=(A||[]).concat(V);if(!H.hideForCompare)return H.type=="!struct"||H.type=="!group"?{key:V,path:w+V,label:_,fullLabel:te,altLabel:Q,tooltip:X,items:S.buildOptions(b,T,H.subfields,k,_)}:{key:V,path:w+V,label:_,fullLabel:te,altLabel:Q,tooltip:X,grouplabel:W}}).filter(function(V){return!!V})}},{key:"getFieldLabel",value:function(b,T,R){if(!T)return null;var S=R.settings.fieldSeparator,A=R.settings.maxLabelsLength,W=Array.isArray(T)?T:T.split(S),I=b.label||(0,E.default)(W);return I=(0,m.truncateString)(I,A),I}},{key:"render",value:function(){var b=this.props,T=b.config,R=b.customProps,S=b.setValue,A=b.readonly,W=b.id,I=b.groupId,O=T.settings.renderField,h=G({config:T,customProps:R,setField:S,readonly:A,items:this.items,id:W,groupId:I},this.meta);return O(h)}}]),C}(u.PureComponent);e.default=$,$.propTypes={id:d.default.string,groupId:d.default.string,setValue:d.default.func.isRequired,config:d.default.object.isRequired,field:d.default.string.isRequired,value:d.default.string,operator:d.default.string,customProps:d.default.object,readonly:d.default.bool,parentField:d.default.string,fieldDefinition:d.default.object,isFuncArg:d.default.bool}},13745:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(94634)),s=r(t(17383)),l=r(t(34579)),n=r(t(12475)),o=r(t(29511)),i=r(t(28452)),a=r(t(63072)),u=G(t(96540)),d=r(t(83175)),v=r(t(23181)),p=t(67212),m=t(76348),P=t(46897),E=t(37584),L=r(t(44383)),F=r(t(36940)),j=r(t(28807)),D=t(70039);function B(M){if(typeof WeakMap!="function")return null;var C=new WeakMap,y=new WeakMap;return(B=function(T){return T?y:C})(M)}function G(M,C){if(!C&&M&&M.__esModule)return M;if(M===null||c(M)!=="object"&&typeof M!="function")return{default:M};var y=B(C);if(y&&y.has(M))return y.get(M);var b={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in M)if(R!=="default"&&Object.prototype.hasOwnProperty.call(M,R)){var S=T?Object.getOwnPropertyDescriptor(M,R):null;S&&(S.get||S.set)?Object.defineProperty(b,R,S):b[R]=M[R]}return b.default=M,y&&y.set(M,b),b}function K(M){var C=Y();return function(){var b=(0,a.default)(M),T;if(C){var R=(0,a.default)(this).constructor;T=Reflect.construct(b,arguments,R)}else T=b.apply(this,arguments);return(0,i.default)(this,T)}}function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var $={cardinality:1},U=function(M){(0,o.default)(y,M);var C=K(y);function y(b){var T;return(0,s.default)(this,y),T=C.call(this,b),T._setValue=function(R,S,A,W,I,O){if(R&&Array.isArray(W)){var h=[T.props.value.get(0),T.props.value.get(1)];h[0]!=W[0]&&T.props.setValue(0,W[0],A,I,O),h[1]!=W[1]&&T.props.setValue(1,W[1],A,I,O)}else T.props.setValue(S,W,A,I,O)},T._onChangeValueSrc=function(R,S){T.props.setValueSrc(R,S)},T.renderWidget=function(R,S,A){var W=A.config,I=A.isFuncArg,O=A.leftField,h=A.operator,w=A.value,V=A.valueError,H=A.readonly,_=A.parentField,oe=A.parentFuncs,te=A.id,Q=A.groupId,X=W.settings,k=S.widgets,re=S.iValues,q=S.aField,le=I?re:w,ee=I?O:q,ie=k[R],he=ie.valueSrc,me=ie.valueLabel,be=X.showLabels?u.default.createElement("label",{className:"rule--label"},me.label):null;return u.default.createElement("div",{key:"widget-"+ee+"-"+R,className:"widget--widget"},he=="func"?null:be,u.default.createElement(j.default,(0,f.default)({id:te,groupId:Q,valueSrc:he,delta:R,value:le,valueError:V,isFuncArg:I},(0,L.default)(S,["isSpecialRange","fieldDefinition","asyncListValues"]),(0,L.default)(k[R],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValueHandler"]),{config:W,field:ee,parentField:_,parentFuncs:oe,operator:h,readonly:H})))},T.renderValueSources=function(R,S,A){var W=A.config,I=A.isFuncArg,O=A.leftField,h=A.operator,w=A.readonly,V=W.settings,H=S.valueSources,_=S.widgets,oe=S.aField,te=I?O:oe,Q=_[R],X=Q.valueSrc,k=Q.setValueSrcHandler,re=V.valueSourcesInfo,q=V.renderValueSources,le=H.map(function(ie){return[ie,{label:re[ie].label}]}),ee=V.showLabels?u.default.createElement("label",{className:"rule--label"},"\xA0"):null;return H.length>1&&!w&&u.default.createElement("div",{key:"valuesrc-"+te+"-"+R,className:"widget--valuesrc"},ee,u.default.createElement(q,{key:"valuesrc-"+R,delta:R,valueSources:le,valueSrc:X,config:W,field:te,operator:h,setValueSrc:k,readonly:w,title:V.valueSourcesPopupTitle}))},T.renderSep=function(R,S,A){var W=A.config,I=S.widgets,O=W.settings,h=I[R].sepText,w=O.showLabels?u.default.createElement("label",{className:"rule--label"},"\xA0"):null;return h&&u.default.createElement("div",{key:"widget-separators-"+R,className:"widget--sep"},w,u.default.createElement("span",null,h))},T.renderWidgetDelta=function(R){var S=T.renderSep(R,T.meta,T.props),A=T.renderValueSources(R,T.meta,T.props),W=T.renderWidget(R,T.meta,T.props);return[S,A,W]},(0,E.useOnPropsChanged)((0,n.default)(T)),T.onPropsChanged(b),T}return(0,l.default)(y,[{key:"onPropsChanged",value:function(T){var R=this.props,S=["config","field","fieldFunc","fieldArg","leftField","operator","valueSrc","isFuncArg","asyncListValues"],A=!this.meta||S.map(function(W){return T[W]!==R[W]||W=="isFuncArg"&&T.isFuncArg&&T.value!==R.value}).filter(function(W){return W}).length>0;A&&(this.meta=this.getMeta(T))}},{key:"getMeta",value:function(T){var R=this,S=T.config,A=T.field,W=T.fieldFunc,I=T.fieldArg,O=T.operator,h=T.valueSrc,w=T.value,V=T.isForRuleGruop,H=T.isCaseValue,_=T.isFuncArg,oe=T.leftField,te=T.asyncListValues,Q=_?{func:W,arg:I}:A,X=h,k=w;(_||V||H)&&(X=F.default.List([h]),k=F.default.List([w]));var re=(0,p.getFieldConfig)(S,Q),q=(0,m.getWidgetForFieldOp)(S,Q,O),le=(0,m.getWidgetsForFieldOp)(S,Q,O),ee=_?$:(0,p.getOperatorConfig)(S,O,Q);if((re==null||ee==null)&&!H)return null;var ie=ee?.isSpecialRange,he=ie&&(X.get(0)=="field"||X.get(1)=="field"),me=ie&&!he,be=me?1:(0,P.defaultValue)(ee?.cardinality,1);if(be===0)return null;var Be=(0,m.getValueSourcesForFieldOp)(S,Q,O,re,_?oe:null),je=(0,v.default)(0,be).map(function(Ue){var Ie,$e=X.get(Ue)||null,qe=(0,m.getWidgetForFieldOp)(S,Q,O,$e),tt=(0,p.getFieldWidgetConfig)(S,Q,O,qe,$e);he&&(qe=tt.singleWidget,tt=(0,p.getFieldWidgetConfig)(S,Q,O,qe,$e));var ct=(Ie=tt)===null||Ie===void 0?void 0:Ie.type,gt=(0,m.getValueLabel)(S,Q,O,Ue,$e,me),dt=(0,m.getValueLabel)(S,Q,O,Ue,null,me),Ot=ee!=null&&ee.textSeparators?ee?.textSeparators[Ue]:null,Me=R._onChangeValueSrc.bind(R,Ue),Le=null,He=null;ie&&(Le=[(0,m.getValueLabel)(S,Q,O,0),(0,m.getValueLabel)(S,Q,O,1)],Le={placeholder:[Le[0].placeholder,Le[1].placeholder],label:[Le[0].label,Le[1].label]},He=ee?.textSeparators);var _e=R._setValue.bind(R,ie,Ue,ct);return{valueSrc:$e,valueLabel:gt,widget:qe,sepText:Ot,setValueSrcHandler:Me,widgetDefinition:tt,widgetValueLabel:dt,valueLabels:Le,textSeparators:He,setValueHandler:_e}});return{defaultWidget:q,fieldDefinition:re,operatorDefinition:ee,isSpecialRange:me,cardinality:be,valueSources:Be,widgets:je,iValues:k,aField:Q,asyncListValues:te}}},{key:"render",value:function(){if(!this.meta)return null;var T=this.meta,R=T.defaultWidget,S=T.cardinality;if(!R)return null;var A=R;return u.default.createElement(D.Col,{className:"rule--widget rule--widget--".concat(A.toUpperCase()),key:"widget-col-"+A},(0,v.default)(0,S).map(this.renderWidgetDelta))}}]),y}(u.PureComponent);e.default=U,U.propTypes={config:d.default.object.isRequired,value:d.default.any,valueSrc:d.default.any,valueError:d.default.any,field:d.default.string,operator:d.default.string,readonly:d.default.bool,asyncListValues:d.default.array,id:d.default.string,groupId:d.default.string,setValue:d.default.func,setValueSrc:d.default.func,isFuncArg:d.default.bool,fieldFunc:d.default.string,fieldArg:d.default.string,leftField:d.default.string,isForRuleGruop:d.default.bool,parentField:d.default.string,parentFuncs:d.default.array,isCaseValue:d.default.bool}},28807:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(91847)),f=r(t(96540)),s=t(46897),l=["factory"],n=function(i){var a=i.delta,u=i.isFuncArg,d=i.valueSrc,v=i.value,p=i.valueError,m=i.asyncListValues,P=i.isSpecialRange,E=i.fieldDefinition,L=i.widget,F=i.widgetDefinition,j=i.widgetValueLabel,D=i.valueLabels,B=i.textSeparators,G=i.setValueHandler,K=i.config,Y=i.field,$=i.operator,U=i.readonly,M=i.parentField,C=i.parentFuncs,y=i.id,b=i.groupId,T=F.factory,R=(0,c.default)(F,l),S=u&&E.valueSources&&E.valueSources.length==1&&E.valueSources[0]=="const",A=E.defaultValue;if(!T)return"?";var W=P?[v.get(0),v.get(1)]:v?v.get(a):void 0,I=p&&(P?[p.get(0),p.get(1)]:p.get(a))||null;P&&W[0]===void 0&&W[1]===void 0&&(W=void 0);var O=E||{},h=O.fieldSettings,w=Object.assign({},R,h,{config:K,field:Y,parentField:M,parentFuncs:C,fieldDefinition:E,operator:$,delta:a,isSpecialRange:P,isFuncArg:u,value:W,valueError:I,label:j.label,placeholder:j.placeholder,placeholders:D?D.placeholder:null,textSeparators:B,setValue:G,readonly:U,asyncListValues:m,id:y,groupId:b});return L=="field",S&&A?typeof A=="boolean"?A?w.labelYes||"YES":w.labelNo||"NO":h.listValues?Array.isArray(A)?A.map(function(V){return(0,s.getTitleInListValues)(h.listValues,V)||V}).join(", "):(0,s.getTitleInListValues)(h.listValues,A)||A:""+A:T(w)};e.default=n},70039:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.dummyFn=e.DragIcon=e.ConfirmFn=e.Col=void 0;var c=r(t(94634)),f=r(t(91847)),s=r(t(96540)),l=["children"],n=function(d){var v=d.children,p=(0,f.default)(d,l);return s.default.createElement("div",p,v)};e.Col=n;var o=function(){};e.dummyFn=o;var i=function(){return s.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},s.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.default.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))};e.DragIcon=i;var a=function(d){return function(v){var p=v.config.settings.useConfirm,m=p?p():null;return s.default.createElement(d,(0,c.default)({},v,{confirmFn:m}))}};e.ConfirmFn=a},61036:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0});var c={ValueFieldWidget:!0,FuncWidget:!0};Object.defineProperty(e,"FuncWidget",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"ValueFieldWidget",{enumerable:!0,get:function(){return f.default}});var f=r(t(54662)),s=r(t(29255)),l=t(28775);Object.keys(l).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(c,n)||n in e&&e[n]===l[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return l[n]}})})},53561:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(96540)),f=function(l){var n=l.type,o=l.label,i=l.onClick,a=l.readonly,u=l.config,d={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"},v=o||d[n];return c.default.createElement("button",{onClick:i,type:"button",disabled:a},v)};e.default=f},56266:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(96540)),f=function(l){var n=l.children,o=l.config;return c.default.createElement(c.default.Fragment,null,n)};e.default=f},13562:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(96540)),f=function(l){var n=l.id,o=l.not,i=l.setNot,a=l.conjunctionOptions,u=l.setConjunction,d=l.disabled,v=l.readonly,p=l.config,m=l.showNot,P=l.notLabel,E=Object.keys(a).length,L=d,F=p.settings.forceShowConj,j=F||E>1&&!L,D=function(){return Object.keys(a).map(function($){var U=a[$],M=U.id,C=U.name,y=U.label,b=U.checked,T=u.isDummyFn?"__dummy":"";return(v||d)&&!b?null:[c.default.createElement("input",{key:M+T,type:"radio",id:M+T,name:C+T,checked:b,disabled:v||d,value:$,onChange:G}),c.default.createElement("label",{key:M+T+"label",htmlFor:M+T},y)]})},B=function(){var $="not";return[c.default.createElement("input",{key:n+$,type:"checkbox",id:n+$,checked:o,disabled:v,onChange:K}),c.default.createElement("label",{key:n+$+"label",htmlFor:n+$},P||"NOT")]},G=function($){return u($.target.value)},K=function($){return i($.target.checked)};return[m&&B(),j&&D()]};e.default=f},28117:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(96540)),f=function(l){var n=l.items,o=l.setField,i=l.selectedKey,a=l.readonly,u=function p(m){return m.map(function(P){var E=P.items,L=P.path,F=P.label,j=P.disabled;return E?c.default.createElement("optgroup",{disabled:j,key:L,label:F},p(E)):c.default.createElement("option",{disabled:j,key:L,value:L},F)})},d=function(m){return o(m.target.value)},v=i!=null;return c.default.createElement("select",{onChange:d,value:v?i:"",disabled:a},!v&&c.default.createElement("option",{disabled:!0,value:""}),u(n))};e.default=f},31161:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(96540)),f=function(l){var n=l.value,o=l.setValue,i=l.label,a=l.id,u=l.config,d=l.type,v=function(P){return o(P.target.checked)},p=d;return[c.default.createElement("input",{key:a+p,type:"checkbox",id:a+p,checked:!!n,onChange:v}),c.default.createElement("label",{key:a+p+"label",htmlFor:a+p},i)]};e.default=f},76112:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(85715)),f=r(t(96540)),s=function(n){var o=n.config,i=n.valueSources,a=n.valueSrc,u=n.title,d=n.setValueSrc,v=n.readonly,p=function(E){return E.map(function(L){var F=(0,c.default)(L,2),j=F[0],D=F[1];return f.default.createElement("option",{key:j,value:j},D.label)})},m=function(E){return d(E.target.value)};return f.default.createElement("select",{onChange:m,value:a,disabled:v},p(i))};e.default=s},57017:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(c){var f=c.onOk,s=c.okText,l=c.cancelText,n=c.title;confirm(n)&&f()};e.default=t},28775:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"VanillaBooleanWidget",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"VanillaButton",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"VanillaButtonGroup",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"VanillaConjs",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"VanillaDateTimeWidget",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"VanillaDateWidget",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"VanillaFieldSelect",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"VanillaMultiSelectWidget",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"VanillaNumberWidget",{enumerable:!0,get:function(){return d.default}}),e.VanillaProvider=void 0,Object.defineProperty(e,"VanillaSelectWidget",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"VanillaSliderWidget",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"VanillaSwitch",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"VanillaTextAreaWidget",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"VanillaTextWidget",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"VanillaTimeWidget",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"VanillaValueSources",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"vanillaConfirm",{enumerable:!0,get:function(){return j.default}});var c=r(t(96540)),f=r(t(20869)),s=r(t(59362)),l=r(t(27783)),n=r(t(70113)),o=r(t(88968)),i=r(t(15988)),a=r(t(38376)),u=r(t(69269)),d=r(t(50452)),v=r(t(67788)),p=r(t(28117)),m=r(t(13562)),P=r(t(53561)),E=r(t(56266)),L=r(t(76112)),F=r(t(31161)),j=r(t(57017)),D=function(G){var K=G.config,Y=G.children;return Y};e.VanillaProvider=D},20869:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=r(t(21428)),l=function(o){var i=o.value,a=o.setValue,u=o.config,d=o.labelYes,v=o.labelNo,p=o.readonly,m=o.customProps,P=m===void 0?{}:m,E=P.radioYes||{},L=P.radioNo||{},F=function(K){return a(K.target.checked)},j=function(K){return a(K.target.value=="true")},D=(0,s.default)(),B=(0,s.default)();return f.default.createElement(f.default.Fragment,null,f.default.createElement("input",(0,c.default)({key:D,type:"radio",id:D,value:!0,checked:!!i,disabled:p,onChange:j},E)),f.default.createElement("label",{style:{display:"inline"},key:D+"label",htmlFor:D},d),f.default.createElement("input",(0,c.default)({key:B,type:"radio",id:B,value:!1,checked:!i,disabled:p,onChange:j},L)),f.default.createElement("label",{style:{display:"inline"},key:B+"label",htmlFor:B},v))};e.default=l},70113:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=r(t(95093)),l=function(o){var i=o.value,a=o.setValue,u=o.config,d=o.valueFormat,v=o.readonly,p=o.customProps,m=function(E){var L=E.target.value;L==""&&(L=void 0),a(L)};return f.default.createElement("input",(0,c.default)({type:"date",value:i||"",disabled:v,onChange:m},p))};e.default=l},15988:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=r(t(95093)),l=function(o){var i=o.value,a=o.setValue,u=o.config,d=o.valueFormat,v=o.use12Hours,p=o.readonly,m=o.customProps,P=function(F){var j=F.target.value;j==""?j=void 0:j=(0,s.default)(new Date(j)).format(d),a(j)},E=i;return i?E=(0,s.default)(i).format("YYYY-MM-DDTHH:mm"):E="",f.default.createElement("input",(0,c.default)({type:"datetime-local",value:E,disabled:p,onChange:P},m))};e.default=l},38376:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=t(46897),l=r(t(90179)),n=function(i){var a=i.listValues,u=i.value,d=i.setValue,v=i.allowCustomValues,p=i.readonly,m=i.customProps,P=function(){return(0,s.mapListValues)(a,function(j){var D=j.title,B=j.value;return f.default.createElement("option",{key:B,value:B},D)})},E=function(j){for(var D=[],B=j.options,G=0;G<B.length;G++){var K=B[G];K.selected&&D.push(K.value)}return D.length||(D=void 0),D},L=function(j){return d(E(j.target))};return f.default.createElement("select",(0,c.default)({multiple:!0,onChange:L,value:u,disabled:p},(0,l.default)(m,["showSearch","input","showCheckboxes"])),P())};e.default=n},50452:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=function(n){var o=n.value,i=n.setValue,a=n.config,u=n.readonly,d=n.min,v=n.max,p=n.step,m=n.placeholder,P=n.customProps,E=function(j){var D=j.target.value;D===""||D===null?D=void 0:D=Number(D),i(D)},L=o??"";return f.default.createElement("input",(0,c.default)({type:"number",value:L,placeholder:m,disabled:u,min:d,max:v,step:p,onChange:E},P))};e.default=s},69269:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=t(46897),l=r(t(90179)),n=function(i){var a=i.listValues,u=i.value,d=i.setValue,v=i.allowCustomValues,p=i.readonly,m=i.customProps,P=function(){return(0,s.mapListValues)(a,function(j){var D=j.title,B=j.value;return f.default.createElement("option",{key:B,value:B},D)})},E=function(j){return d(j.target.value)},L=u!=null;return f.default.createElement("select",(0,c.default)({onChange:E,value:L?u:"",disabled:p},(0,l.default)(m,["showSearch","input"])),!L&&f.default.createElement("option",{disabled:!0,value:""}),P())};e.default=n},67788:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=function(n){var o=n.value,i=n.setValue,a=n.config,u=n.readonly,d=n.min,v=n.max,p=n.step,m=n.placeholder,P=n.customProps,E=P===void 0?{}:P,L=E.input||{},F=E.slider||E,j=function(G){var K=G.target.value;K===""||K===null?K=void 0:K=Number(K),i(K)},D=o??"";return[f.default.createElement("input",(0,c.default)({key:"number",type:"number",value:D,placeholder:m,disabled:u,min:d,max:v,step:p,onChange:j},L)),f.default.createElement("input",(0,c.default)({key:"range",type:"range",value:D,disabled:u,min:d,max:v,step:p,onChange:j},F))]};e.default=s},59362:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=function(n){var o=n.value,i=n.setValue,a=n.config,u=n.readonly,d=n.placeholder,v=n.maxLength,p=n.customProps,m=function(L){var F=L.target.value;F===""&&(F=void 0),i(F)},P=o||"";return f.default.createElement("input",(0,c.default)({type:"text",value:P,placeholder:d,disabled:u,onChange:m,maxLength:v},p))};e.default=s},27783:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=function(n){var o=n.value,i=n.setValue,a=n.config,u=n.readonly,d=n.placeholder,v=n.maxLength,p=n.maxRows,m=n.fullWidth,P=n.customProps,E=function(j){var D=j.target.value;D===""&&(D=void 0),i(D)},L=o||"";return f.default.createElement("textarea",(0,c.default)({value:L,placeholder:d,disabled:u,onChange:E,maxLength:v,style:{width:m?"100%":void 0}},P))};e.default=s},88968:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(94634)),f=r(t(96540)),s=function(n){var o=n.value,i=n.setValue,a=n.config,u=n.valueFormat,d=n.use12Hours,v=n.readonly,p=n.customProps,m=function(E){var L=E.target.value;L==""&&(L=void 0),i(L)};return f.default.createElement("input",(0,c.default)({type:"time",value:o||"",disabled:v,onChange:m},p))};e.default=s},68766:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.stringifyForDisplay=e.mongoFormatOp2=e.mongoFormatOp1=e.default=void 0;var f=r(t(43693)),s=r(t(96540)),l=v(t(61036)),n=v(t(27036)),o=t(76669),i=t(46897),a=r(t(95093)),u=t(68697);function d(O){if(typeof WeakMap!="function")return null;var h=new WeakMap,w=new WeakMap;return(d=function(H){return H?w:h})(O)}function v(O,h){if(!h&&O&&O.__esModule)return O;if(O===null||c(O)!=="object"&&typeof O!="function")return{default:O};var w=d(h);if(w&&w.has(O))return w.get(O);var V={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in O)if(_!=="default"&&Object.prototype.hasOwnProperty.call(O,_)){var oe=H?Object.getOwnPropertyDescriptor(O,_):null;oe&&(oe.get||oe.set)?Object.defineProperty(V,_,oe):V[_]=O[_]}return V.default=O,w&&w.set(O,V),V}function p(O,h){var w=Object.keys(O);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(O);h&&(V=V.filter(function(H){return Object.getOwnPropertyDescriptor(O,H).enumerable})),w.push.apply(w,V)}return w}function m(O){for(var h=1;h<arguments.length;h++){var w=arguments[h]!=null?arguments[h]:{};h%2?p(Object(w),!0).forEach(function(V){(0,f.default)(O,V,w[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(w)):p(Object(w)).forEach(function(V){Object.defineProperty(O,V,Object.getOwnPropertyDescriptor(w,V))})}return O}var P=l.VanillaBooleanWidget,E=l.VanillaTextWidget,L=l.VanillaTextAreaWidget,F=l.VanillaDateWidget,j=l.VanillaTimeWidget,D=l.VanillaDateTimeWidget,B=l.VanillaMultiSelectWidget,G=l.VanillaSelectWidget,K=l.VanillaNumberWidget,Y=l.VanillaSliderWidget,$=l.ValueFieldWidget,U=l.FuncWidget,M=n.ProximityOperator,C={AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(h,w,V,H){return h.size>1?(V?"NOT ":"")+"("+h.join(" "+(H?"AND":"&&")+" ")+")":(V?"NOT (":"")+h.first()+(V?")":"")},sqlFormatConj:function(h,w,V){return h.size>1?(V?"NOT ":"")+"("+h.join(" AND ")+")":(V?"NOT (":"")+h.first()+(V?")":"")},spelFormatConj:function(h,w,V,H){return V&&(H=!1),h.size>1?(V?"!":"")+(H?"":"(")+h.join(" && ")+(H?"":")"):(V?"!(":"")+h.first()+(V?")":"")}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(h,w,V,H){return h.size>1?(V?"NOT ":"")+"("+h.join(" "+(H?"OR":"||")+" ")+")":(V?"NOT (":"")+h.first()+(V?")":"")},sqlFormatConj:function(h,w,V){return h.size>1?(V?"NOT ":"")+"("+h.join(" OR ")+")":(V?"NOT (":"")+h.first()+(V?")":"")},spelFormatConj:function(h,w,V,H){return V&&(H=!1),h.size>1?(V?"!":"")+(H?"":"(")+h.join(" || ")+(H?"":")"):(V?"!(":"")+h.first()+(V?")":"")}}},y=function(h,w,V,H,_,oe,te,Q,X,k,re,q){var le=typeof H=="string"&&!H.startsWith("$")?"$"+H:H,ee=w(oe,q);if(ee!==void 0)return V?!te&&(!h||h=="$eq")?(0,f.default)({},H,{$ne:ee}):te?{$not:(0,f.default)({},h,[le,ee])}:(0,f.default)({},H,{$not:(0,f.default)({},h,ee)}):!te&&(!h||h=="$eq")?(0,f.default)({},H,ee):te?(0,f.default)({},h,[le,ee]):(0,f.default)({},H,(0,f.default)({},h,ee))};e.mongoFormatOp1=y;var b=function(h,w,V,H,_,oe,te,Q,X,k,re){var q=typeof V=="string"&&!V.startsWith("$")?"$"+V:V;if(w){var le;return oe?{$not:{$and:[(0,f.default)({},h[0],[q,_[0]]),(0,f.default)({},h[1],[q,_[1]])]}}:(0,f.default)({},V,{$not:(le={},(0,f.default)(le,h[0],_[0]),(0,f.default)(le,h[1],_[1]),le)})}else{var ee;return oe?{$and:[(0,f.default)({},h[0],[q,_[0]]),(0,f.default)({},h[1],[q,_[1]])]}:(0,f.default)({},V,(ee={},(0,f.default)(ee,h[0],_[0]),(0,f.default)(ee,h[1],_[1]),ee))}};e.mongoFormatOp2=b;var T={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(h,w,V,H,_,oe,te,Q,X){var k=Q?"=":oe.label;return _=="boolean"&&Q?V=="No"?"NOT ".concat(h):"".concat(h):"".concat(h," ").concat(k," ").concat(V)},mongoFormatOp:y.bind(null,"$eq",function(O){return O},!1),jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(h,w,V,H,_,oe,te,Q,X){return _=="boolean"&&Q?V=="No"?"".concat(h):"NOT ".concat(h):"".concat(h," ").concat(oe.label," ").concat(V)},mongoFormatOp:y.bind(null,"$ne",function(O){return O},!1),jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:y.bind(null,"$lt",function(O){return O},!1),jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:y.bind(null,"$lte",function(O){return O},!1),jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:y.bind(null,"$gt",function(O){return O},!1),jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:y.bind(null,"$gte",function(O){return O},!1),jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:".contains",spelOps:["matches",".contains"],mongoFormatOp:y.bind(null,"$regex",function(O){return typeof O=="string"?(0,i.escapeRegExp)(O):void 0},!1),jsonLogic:"in",_jsonLogicIsRevArgs:!0,valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:y.bind(null,"$regex",function(O){return typeof O=="string"?(0,i.escapeRegExp)(O):void 0},!0),valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:".startsWith",spelOps:["matches",".startsWith"],mongoFormatOp:y.bind(null,"$regex",function(O){return typeof O=="string"?"^"+(0,i.escapeRegExp)(O):void 0},!1),jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:".endsWith",spelOps:["matches",".endsWith"],mongoFormatOp:y.bind(null,"$regex",function(O){return typeof O=="string"?(0,i.escapeRegExp)(O)+"$":void 0},!1),jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(h,w,V,H,_,oe,te,Q){var X=V.first(),k=V.get(1);return Q?"".concat(h," BETWEEN ").concat(X," AND ").concat(k):"".concat(h," >= ").concat(X," && ").concat(h," <= ").concat(k)},spelFormatOp:function(h,w,V,H,_,oe,te,Q){var X=V[0],k=V[1];return"".concat(h," >= ").concat(X," && ").concat(h," <= ").concat(k)},mongoFormatOp:b.bind(null,["$gte","$lte"],!1),valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(h){return h[0]!=null&&h[1]!=null?h[0]<=h[1]?null:"Invalid range":null},elasticSearchQueryType:function(h){return h==="time"?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(h,w,V,H,_,oe,te,Q){var X=V.first(),k=V.get(1);return Q?"".concat(h," NOT BETWEEN ").concat(X," AND ").concat(k):"(".concat(h," < ").concat(X," || ").concat(h," > ").concat(k,")")},spelFormatOp:function(h,w,V,H,_,oe,te,Q){var X=V[0],k=V[1];return"(".concat(h," < ").concat(X," || ").concat(h," > ").concat(k,")")},mongoFormatOp:b.bind(null,["$gte","$lte"],!0),valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",validateValues:function(h){return h[0]!=null&&h[1]!=null?h[0]<=h[1]?null:"Invalid range":null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(h,w,V,H,_,oe,te,Q){return Q?"".concat(h," IS EMPTY"):"!".concat(h)},sqlFormatOp:function(h,w,V,H,_,oe,te,Q){var X=(0,o.sqlEmptyValue)(Q);return"COALESCE(".concat(h,", ").concat(X,") = ").concat(X)},spelFormatOp:function(h,w,V,H,_,oe,te,Q){return"".concat(h," <= ''")},mongoFormatOp:y.bind(null,"$in",function(O,h){return[(0,o.mongoEmptyValue)(h),null]},!1),jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(h,w,V,H,_,oe,te,Q){return Q?"".concat(h," IS NOT EMPTY"):"!!".concat(h)},sqlFormatOp:function(h,w,V,H,_,oe,te,Q){var X=(0,o.sqlEmptyValue)(Q);return"COALESCE(".concat(h,", ").concat(X,") <> ").concat(X)},spelFormatOp:function(h,w,V,H,_,oe,te,Q){return"".concat(h," > ''")},mongoFormatOp:y.bind(null,"$nin",function(O,h){return[(0,o.mongoEmptyValue)(h),null]},!1),jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(h,w,V,H,_,oe,te,Q){return Q?"".concat(h," IS NULL"):"!".concat(h)},spelFormatOp:function(h,w,V,H,_,oe,te,Q){return"".concat(h," == null")},mongoFormatOp:y.bind(null,"$eq",function(O){return null},!1),jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(h,w,V,H,_,oe,te,Q){return Q?"".concat(h," IS NOT NULL"):"!!".concat(h)},spelFormatOp:function(h,w,V,H,_,oe,te,Q){return"".concat(h," != null")},mongoFormatOp:y.bind(null,"$ne",function(O){return null},!1),jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(h,w,V,H,_,oe,te,Q){var X=Q?"=":"==";return"".concat(h," ").concat(X," ").concat(V)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:y.bind(null,"$eq",function(O){return O},!1),reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(h,w,V,H,_,oe,te,Q){return"".concat(h," != ").concat(V)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:y.bind(null,"$ne",function(O){return O},!1),reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(h,w,V,H,_,oe,te,Q){return H=="value"?"".concat(h," IN (").concat(V.join(", "),")"):"".concat(h," IN (").concat(V,")")},sqlFormatOp:function(h,w,V,H,_,oe,te,Q){if(H=="value")return"".concat(h," IN (").concat(V.join(", "),")")},spelOp:"$contains",mongoFormatOp:y.bind(null,"$in",function(O){return O},!1),reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(h,w,V,H,_,oe,te,Q){return H=="value"?"".concat(h," NOT IN (").concat(V.join(", "),")"):"".concat(h," NOT IN (").concat(V,")")},sqlFormatOp:function(h,w,V,H,_,oe,te,Q){if(H=="value")return"".concat(h," NOT IN (").concat(V.join(", "),")")},mongoFormatOp:y.bind(null,"$nin",function(O){return O},!1),reversedOp:"select_any_in"},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(h,w,V,H,_,oe,te,Q){return H=="value"?"".concat(h," CONTAINS [").concat(V.join(", "),"]"):"".concat(h," CONTAINS ").concat(V)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(h,w,V){return{some:[h,{in:[{var:""},V]}]}},spelOp:"CollectionUtils.containsAny()",elasticSearchQueryType:"term",mongoFormatOp:y.bind(null,"$in",function(O){return O},!1)},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(h,w,V,H,_,oe,te,Q){return H=="value"?"".concat(h," NOT CONTAINS [").concat(V.join(", "),"]"):"".concat(h," NOT CONTAINS ").concat(V)},reversedOp:"multiselect_contains"},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(h,w,V,H,_,oe,te,Q){var X=Q?"=":"==";return H=="value"?"".concat(h," ").concat(X," [").concat(V.join(", "),"]"):"".concat(h," ").concat(X," ").concat(V)},sqlFormatOp:function(h,w,V,H,_,oe,te,Q){if(H=="value")return"".concat(h," = '").concat(V.map(function(X){return o.SqlString.trim(X)}).join(","),"'")},spelOp:".equals",mongoFormatOp:y.bind(null,"$eq",function(O){return O},!1),reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(h,w,V){return{all:[h,{in:[{var:""},V]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(h,w,V,H,_,oe,te,Q){return H=="value"?"".concat(h," != [").concat(V.join(", "),"]"):"".concat(h," != ").concat(V)},sqlFormatOp:function(h,w,V,H,_,oe,te,Q){if(H=="value")return"".concat(h," != '").concat(V.map(function(X){return o.SqlString.trim(X)}).join(","),"'")},mongoFormatOp:y.bind(null,"$ne",function(O){return O},!1),reversedOp:"multiselect_equals"},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(h,w,V,H,_,oe,te,Q){var X=V.first(),k=V.get(1),re=te.get("proximity");return"".concat(h," ").concat(X," NEAR/").concat(re," ").concat(k)},sqlFormatOp:function(h,w,V,H,_,oe,te,Q){var X=V.first(),k=V.get(1),re=o.SqlString.trim(X),q=o.SqlString.trim(k),le=te.get("proximity");return"CONTAINS(".concat(h,", 'NEAR((").concat(re,", ").concat(q,"), ").concat(le,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",factory:function(h){return s.default.createElement(M,h)},minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(h){return"".concat(h," > 0")},mongoFormatOp:y.bind(null,"$gt",function(O){return 0},!1)},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(h,w,V){return"".concat(h," == ").concat(V)},mongoFormatOp:y.bind(null,"$eq",function(O){return O},!1)},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(h){return"".concat(h," == 0")},mongoFormatOp:y.bind(null,"$eq",function(O){return 0},!1)}},R=function(h){return h==null?"NULL":h.toString()};e.stringifyForDisplay=R;var S={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",factory:function(h){return s.default.createElement(E,h)},formatValue:function(h,w,V,H){return H?R(h):JSON.stringify(h)},spelFormatValue:function(h,w,V,H,_){if(_.spelOp=="matches"&&H!="regex"){var oe;return H=="starts_with"?oe="(?s)^".concat((0,i.escapeRegExp)(h),".*"):H=="ends_with"?oe="(?s).*".concat((0,i.escapeRegExp)(h),"$"):oe="(?s).*".concat((0,i.escapeRegExp)(h),".*"),(0,o.spelEscape)(oe)}else return(0,o.spelEscape)(h)},sqlFormatValue:function(h,w,V,H,_){return _.sqlOp=="LIKE"||_.sqlOp=="NOT LIKE"?o.SqlString.escapeLike(h,H!="starts_with",H!="ends_with"):o.SqlString.escape(h)},toJS:function(h,w){return h},mongoFormatValue:function(h,w,V){return h}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",factory:function(h){return s.default.createElement(L,h)},formatValue:function(h,w,V,H){return H?R(h):JSON.stringify(h)},sqlFormatValue:function(h,w,V,H,_){return _.sqlOp=="LIKE"||_.sqlOp=="NOT LIKE"?o.SqlString.escapeLike(h,H!="starts_with",H!="ends_with"):o.SqlString.escape(h)},spelFormatValue:function(h){return(0,o.spelEscape)(h)},toJS:function(h,w){return h},mongoFormatValue:function(h,w,V){return h},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",factory:function(h){return s.default.createElement(K,h)},valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(h,w,V,H){return H?R(h):JSON.stringify(h)},sqlFormatValue:function(h,w,V,H,_){return o.SqlString.escape(h)},spelFormatValue:function(h,w,V){var H=V.step&&!Number.isInteger(V.step);return(0,o.spelEscape)(h,H)},toJS:function(h,w){return h},mongoFormatValue:function(h,w,V){return h}},slider:{type:"number",jsType:"number",valueSrc:"value",factory:function(h){return s.default.createElement(Y,h)},valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(h,w,V,H){return H?R(h):JSON.stringify(h)},sqlFormatValue:function(h,w,V,H,_){return o.SqlString.escape(h)},spelFormatValue:function(h){return(0,o.spelEscape)(h)},toJS:function(h,w){return h},mongoFormatValue:function(h,w,V){return h}},select:{type:"select",jsType:"string",valueSrc:"value",factory:function(h){return s.default.createElement(G,h)},valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(h,w,V,H){var _=(0,i.getTitleInListValues)(w.fieldSettings.listValues||w.asyncListValues,h);return H?R(_):JSON.stringify(h)},sqlFormatValue:function(h,w,V,H,_){return o.SqlString.escape(h)},spelFormatValue:function(h){return(0,o.spelEscape)(h)},toJS:function(h,w){return h},mongoFormatValue:function(h,w,V){return h}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",factory:function(h){return s.default.createElement(B,h)},valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(h,w,V,H){var _=h.map(function(oe){return(0,i.getTitleInListValues)(w.fieldSettings.listValues||w.asyncListValues,oe)});return H?_.map(R):h.map(JSON.stringify)},sqlFormatValue:function(h,w,V,H,_){return h.map(function(oe){return o.SqlString.escape(oe)})},spelFormatValue:function(h,w,V,H,_){var oe=_.spelOp&&_.spelOp[0]=="$",te=(0,o.spelEscape)(h);return oe&&(te=(0,o.spelFixList)(te)),te},toJS:function(h,w){return h},mongoFormatValue:function(h,w,V){return h}},date:{type:"date",jsType:"string",valueSrc:"value",factory:function(h){return s.default.createElement(F,h)},dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",useKeyboard:!0,valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(h,w,V,H){var _=(0,a.default)(h,V.valueFormat);return H?_.format(V.dateFormat):JSON.stringify(h)},sqlFormatValue:function(h,w,V,H,_){var oe=(0,a.default)(h,V.valueFormat);return o.SqlString.escape(oe.format("YYYY-MM-DD"))},spelFormatValue:function(h,w,V,H,_){var oe=(0,a.default)(h,V.valueFormat);return"new java.text.SimpleDateFormat('yyyy-MM-dd').parse('".concat(oe.format("YYYY-MM-DD"),"')")},jsonLogic:function(h,w,V){return(0,a.default)(h,V.valueFormat).toDate()},toJS:function(h,w){var V=(0,a.default)(h,w.valueFormat);return V.isValid()?V.toDate():void 0},mongoFormatValue:function(h,w,V){var H=(0,a.default)(h,V.valueFormat);return H.isValid()?H.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",factory:function(h){return s.default.createElement(j,h)},timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,useKeyboard:!0,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(h,w,V,H){var _=(0,a.default)(h,V.valueFormat);return H?_.format(V.timeFormat):JSON.stringify(h)},sqlFormatValue:function(h,w,V,H,_){var oe=(0,a.default)(h,V.valueFormat);return o.SqlString.escape(oe.format("HH:mm:ss"))},spelFormatValue:function(h,w,V,H,_){var oe=(0,a.default)(h,V.valueFormat);return"T(java.time.LocalTime).parse('".concat(oe.format("HH:mm:ss"),"')")},jsonLogic:function(h,w,V){var H=(0,a.default)(h,V.valueFormat);return H.get("hour")*60*60+H.get("minute")*60+H.get("second")},toJS:function(h,w){var V=(0,a.default)(h,w.valueFormat);return V.isValid()?V.get("hour")*60*60+V.get("minute")*60+V.get("second"):void 0},mongoFormatValue:function(h,w,V){var H=(0,a.default)(h,V.valueFormat);return H.get("hour")*60*60+H.get("minute")*60+H.get("second")},elasticSearchFormatValue:function(h,w,V,H){return{script:{script:{source:"doc[".concat(H,"][0].getHour() >== params.min && doc[").concat(H,"][0].getHour() <== params.max"),params:{min:w[0],max:w[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",factory:function(h){return s.default.createElement(D,h)},timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,useKeyboard:!0,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(h,w,V,H){var _=(0,a.default)(h,V.valueFormat);return H?_.format(V.dateFormat+" "+V.timeFormat):JSON.stringify(h)},sqlFormatValue:function(h,w,V,H,_){var oe=(0,a.default)(h,V.valueFormat);return o.SqlString.escape(oe.toDate())},spelFormatValue:function(h,w,V,H,_){var oe=(0,a.default)(h,V.valueFormat);return"new java.text.SimpleDateFormat('yyyy-MM-dd HH:mm:ss').parse('".concat(oe.format("YYYY-MM-DD HH:mm:ss"),"')")},jsonLogic:function(h,w,V){return(0,a.default)(h,V.valueFormat).toDate()},toJS:function(h,w){var V=(0,a.default)(h,w.valueFormat);return V.isValid()?V.toDate():void 0},mongoFormatValue:function(h,w,V){var H=(0,a.default)(h,V.valueFormat);return H.isValid()?H.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",factory:function(h){return s.default.createElement(P,h)},labelYes:"Yes",labelNo:"No",formatValue:function(h,w,V,H){return H?h?"Yes":"No":JSON.stringify(!!h)},sqlFormatValue:function(h,w,V,H,_){return o.SqlString.escape(h)},spelFormatValue:function(h,w,V,H,_){return(0,o.spelEscape)(h)},defaultValue:!1,toJS:function(h,w){return h},mongoFormatValue:function(h,w,V){return h}},field:{valueSrc:"field",factory:function(h){return s.default.createElement($,h)},formatValue:function(h,w,V,H,_,oe,te){return H&&te.label||h},sqlFormatValue:function(h,w,V,H,_,oe){return h},spelFormatValue:function(h,w,V,H,_){return h},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare",customProps:{showSearch:!0}},func:{valueSrc:"func",factory:function(h){return s.default.createElement(U,h)},valueLabel:"Function",valuePlaceholder:"Select function",customProps:{}},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(h){return(0,o.spelEscape)(h===""?null:h)},spelImportValue:function(h){return[h.value,[]]},factory:function(h){var w=h.value,V=h.setValue;return s.default.createElement("input",{type:"text",value:w||"",onChange:function(_){return V(_.target.value)}})}}},A={text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"],widgetProps:{customProps:{showSearch:!0}}},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{}}}},W=m(m({},u.settings),{},{formatField:function(h,w,V,H,_,oe){return oe?V:h},formatSpelField:function(h,w,V,H,_,oe){var te=H.map(function(Q,X){var k=Q.key,re=Q.parent;return X==0?re=="[map]"?"#this[".concat((0,o.spelEscape)(k),"]"):(re=="[class]",k):re=="map"||re=="[map]"?"[".concat((0,o.spelEscape)(k),"]"):(re=="class"||re=="[class]",".".concat(k))}).join("");return _.isSpelVariable&&(te="#"+te),te},sqlFormatReverse:function(h){if(h!=null)return"NOT("+h+")"},spelFormatReverse:function(h){if(h!=null)return"!("+h+")"},formatReverse:function(h,w,V,H,_,oe){if(h!=null)return oe?"NOT ("+h+")":"!("+h+")"},formatAggr:function(h,w,V,H,_,oe,te,Q,X,k){var re=te.labelForFormat,q=te.cardinality;if(q==0){var le=h?" HAVE ".concat(h):"";return"".concat(re," OF ").concat(w).concat(le)}else if(q==null||q==1){var ee=h?" WHERE ".concat(h):"";return"COUNT OF ".concat(w).concat(ee," ").concat(re," ").concat(H)}else if(q==2){var ie=h?" WHERE ".concat(h):"",he=H.first(),me=H.get(1);return"COUNT OF ".concat(w).concat(ie," ").concat(re," ").concat(he," AND ").concat(me)}},canCompareFieldWithField:function(h,w,V,H){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},customFieldSelectProps:{showSearch:!0},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5}),I={conjunctions:C,operators:T,widgets:S,types:A,settings:W};e.default=I},68697:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.settings=void 0;var f=n(t(61036)),s=r(t(96540));function l(E){if(typeof WeakMap!="function")return null;var L=new WeakMap,F=new WeakMap;return(l=function(D){return D?F:L})(E)}function n(E,L){if(!L&&E&&E.__esModule)return E;if(E===null||c(E)!=="object"&&typeof E!="function")return{default:E};var F=l(L);if(F&&F.has(E))return F.get(E);var j={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in E)if(B!=="default"&&Object.prototype.hasOwnProperty.call(E,B)){var G=D?Object.getOwnPropertyDescriptor(E,B):null;G&&(G.get||G.set)?Object.defineProperty(j,B,G):j[B]=E[B]}return j.default=E,F&&F.set(E,j),j}var o=f.VanillaFieldSelect,i=f.VanillaConjs,a=f.VanillaButton,u=f.VanillaButtonGroup,d=f.VanillaProvider,v=f.VanillaValueSources,p=f.vanillaConfirm,m=f.VanillaSwitch,P={formatField:function(L,F,j,D,B,G){return G?j:L},renderField:function(L){return s.default.createElement(o,L)},renderOperator:function(L){return s.default.createElement(o,L)},renderFunc:function(L){return s.default.createElement(o,L)},renderConjs:function(L){return s.default.createElement(i,L)},renderSwitch:function(L){return s.default.createElement(m,L)},renderButton:function(L){return s.default.createElement(a,L)},renderButtonGroup:function(L){return s.default.createElement(u,L)},renderProvider:function(L){return s.default.createElement(d,L)},renderValueSources:function(L){return s.default.createElement(v,L)},renderConfirm:p,renderSwitchPrefix:function(){return s.default.createElement(s.default.Fragment,null,"Conditions")},valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",renderSize:"small",maxLabelsLength:100,canReorder:!0,canRegroup:!0,showLock:!1,canDeleteLocked:!1,showNot:!0,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,forceShowConj:!1,canShortMongoQuery:!0,removeEmptyGroupsOnLoad:!0,removeIncompleteRulesOnLoad:!0,removeInvalidMultiSelectValuesOnLoad:!0,groupActionsPosition:"topRight",setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:null,addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"",notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null,defaultGroupConjunction:"AND",jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"}};e.settings=P},88139:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.UPPER=e.RELATIVE_DATETIME=e.NOW=e.LOWER=e.LINEAR_REGRESSION=void 0;var c=r(t(95093)),f={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:function(){return new Date}},spelFunc:"new java.util.Date()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}};e.NOW=f;var s={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],jsonLogic:function(a){var u=a.date,d=a.op,v=a.val,p=a.dim;return{date_add:[u,v*(d=="minus"?-1:1),p]}},jsonLogicImport:function(a){var u=a.date_add[0],d=Math.abs(a.date_add[1]),v=a.date_add[1]>=0?"plus":"minus",p=a.date_add[2];return[u,v,d,p]},jsonLogicCustomOps:{date_add:function(a,u,d){return(0,c.default)(a).add(u,d).toDate()}},sqlFormatFunc:function(a){var u=a.date,d=a.op,v=a.val,p=a.dim;return"DATE_ADD(".concat(u,", INTERVAL ").concat(parseInt(v)*(d=="minus"?-1:1)," ").concat(p.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(a){var u=a.date,d=a.op,v=a.val,p=a.dim;return v?"".concat(u," ").concat(d=="minus"?"-":"+"," ").concat(v," ").concat(p):u},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field"]},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}}},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"]},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}}}}};e.RELATIVE_DATETIME=s;var l={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:".toLowerCase",jsonLogicCustomOps:{toLowerCase:function(a){return a.toLowerCase()}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field"]}}};e.LOWER=l;var n={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:".toUpperCase",jsonLogicCustomOps:{toUpperCase:function(a){return a.toUpperCase()}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field"]}}};e.UPPER=n;var o={label:"Linear regression",returnType:"number",formatFunc:function(a,u){var d=a.coef,v=a.bias,p=a.val;return"(".concat(d," * ").concat(p," + ").concat(v,")")},sqlFormatFunc:function(a){var u=a.coef,d=a.bias,v=a.val;return"(".concat(u," * ").concat(v," + ").concat(d,")")},spelFormatFunc:function(a){var u=a.coef,d=a.bias,v=a.val;return"(".concat(u," * ").concat(v," + ").concat(d,")")},mongoFormatFunc:function(a){var u=a.coef,d=a.bias,v=a.val;return{$sum:[{$multiply:[u,v]},d]}},jsonLogic:function(a){var u=a.coef,d=a.bias,v=a.val;return{"+":[{"*":[u,v]},d]}},jsonLogicImport:function(a){var u=a["+"][0]["*"][0],d=a["+"][0]["*"][1],v=a["+"][1];return[u,d,v]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}};e.LINEAR_REGRESSION=o},1476:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_VALUE_SRC=e.SET_VALUE=e.SET_TREE=e.SET_OPERATOR_OPTION=e.SET_OPERATOR=e.SET_NOT=e.SET_LOCK=e.SET_FIELD=e.SET_DRAG_START=e.SET_DRAG_PROGRESS=e.SET_DRAG_END=e.SET_CONJUNCTION=e.REMOVE_RULE=e.REMOVE_GROUP=e.PLACEMENT_PREPEND=e.PLACEMENT_BEFORE=e.PLACEMENT_APPEND=e.PLACEMENT_AFTER=e.MOVE_ITEM=e.ADD_RULE=e.ADD_GROUP=e.ADD_CASE_GROUP=void 0;var t="ADD_GROUP";e.ADD_GROUP=t;var r="ADD_CASE_GROUP";e.ADD_CASE_GROUP=r;var c="REMOVE_GROUP";e.REMOVE_GROUP=c;var f="SET_CONJUNCTION";e.SET_CONJUNCTION=f;var s="SET_NOT";e.SET_NOT=s;var l="ADD_RULE";e.ADD_RULE=l;var n="REMOVE_RULE";e.REMOVE_RULE=n;var o="SET_FIELD";e.SET_FIELD=o;var i="SET_OPERATOR";e.SET_OPERATOR=i;var a="SET_VALUE";e.SET_VALUE=a;var u="SET_VALUE_SRC";e.SET_VALUE_SRC=u;var d="SET_OPERATOR_OPTION";e.SET_OPERATOR_OPTION=d;var v="SET_LOCK";e.SET_LOCK=v;var p="SET_TREE";e.SET_TREE=p;var m="MOVE_ITEM";e.MOVE_ITEM=m;var P="after";e.PLACEMENT_AFTER=P;var E="before";e.PLACEMENT_BEFORE=E;var L="append";e.PLACEMENT_APPEND=L;var F="prepend";e.PLACEMENT_PREPEND=F;var j="SET_DRAG_PROGRESS";e.SET_DRAG_PROGRESS=j;var D="SET_DRAG_START";e.SET_DRAG_START=D;var B="SET_DRAG_END";e.SET_DRAG_END=B},35583:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.elasticSearchFormat=L;var c=r(t(43693)),f=t(76348),s=t(68429);function l(F,j){var D=Object.keys(F);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(F);j&&(B=B.filter(function(G){return Object.getOwnPropertyDescriptor(F,G).enumerable})),D.push.apply(D,B)}return D}function n(F){for(var j=1;j<arguments.length;j++){var D=arguments[j]!=null?arguments[j]:{};j%2?l(Object(D),!0).forEach(function(B){(0,c.default)(F,B,D[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(D)):l(Object(D)).forEach(function(B){Object.defineProperty(F,B,Object.getOwnPropertyDescriptor(D,B))})}return F}function o(F){if(F==null)return null;var j=F.split(",").map(Number);return{top_left:{lat:j[0],lon:j[1]},bottom_right:{lat:j[2],lon:j[3]}}}function i(F,j){if(F.length>1)return{gte:"".concat(F[0]),lte:"".concat(F[1])};var D=F[0];switch(j){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(D,"||/d"),lte:"".concat(D,"||+1d")};case"less_or_equal":return{lte:"".concat(D)};case"greater_or_equal":return{gte:"".concat(D)};case"less":return{lt:"".concat(D)};case"greater":return{gt:"".concat(D)};default:return}}function a(F){return{value:"*"+F+"*"}}function u(F,j){switch(F){case"AND":return j?"must_not":"must";case"OR":return j?"should_not":"should";case"NOT":return j?"must":"must_not";default:return}}function d(F,j,D){if(F==="boolean")return j;switch(D){case"term":case"wildcard":return"".concat(j,".keyword");case"geo_bounding_box":case"range":case"match":return j;default:return console.error("Can't determine query field for query type ".concat(D)),null}}function v(F){return{value:F}}function p(F,j){return F}function m(F,j,D,B,G){var K=p(B,G);switch(F){case"filter":return{script:G.operators[D].elasticSearchScript(B,j)};case"exists":return{field:B};case"match":return(0,c.default)({},K,j[0]);case"term":return(0,c.default)({},B,j[0]);case"geo_bounding_box":return(0,c.default)({},B,o(j[0]));case"range":return(0,c.default)({},B,i(j,D));case"wildcard":return(0,c.default)({},B,a(j[0]));case"regexp":return(0,c.default)({},B,v(j[0]));default:return}}function P(F,j,D,B,G){if(!(!F||!D||j==null)){var K=D,Y=B.operators[K];if(Y){var $=Y,U=$.elasticSearchQueryType,M=!1;if(!U&&Y.reversedOp){M=!0,K=Y.reversedOp,Y=B.operators[K];var C=Y;U=C.elasticSearchQueryType}var y=(0,f.getWidgetForFieldOp)(B,F,K,G),b=B.widgets[y];if(b){var T=b.elasticSearchFormatValue,R;if(typeof U=="function"?R=U(y):R=U,!!R){var S;return typeof T=="function"?S=T(R,j,K,F,B):S=m(R,j,K,F,B),M?{bool:{must_not:(0,c.default)({},R,n({},S))}}:(0,c.default)({},R,n({},S))}}}}}function E(F,j,D,B,G){if(!(!F||!F.size)){var K=F.valueSeq().toArray(),Y=u(j,D),$=K.map(function(M){return B(M,G)}).filter(function(M){return M!==void 0});if($.length){var U=$.flat(1/0);return{bool:(0,c.default)({},Y,U)}}}}function L(F,j){if(F){var D=F.get("type"),B=F.get("properties")||new Map;if(D==="rule"&&B.get("field")){var G,K,Y=B.get("operator"),$=B.get("field"),U=B.get("value").toJS(),M=(G=B.get("valueType"))===null||G===void 0?void 0:G.get(0),C=(K=B.get("valueSrc"))===null||K===void 0?void 0:K.get(0);return C==="func"?void 0:U&&Array.isArray(U[0])?U[0].map(function(R){return P($,[R],Y,j,C)}):P($,U,Y,j,C)}if(D==="group"||D==="rule_group"){var y=B.get("not"),b=B.get("conjunction");b||(b=(0,s.defaultConjunction)(j));var T=F.get("children1");return E(T,b,y,L,j)}}}},84484:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(3193);Object.keys(r).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===r[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[i]}})});var c=t(17496);Object.keys(c).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===c[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return c[i]}})});var f=t(34958);Object.keys(f).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===f[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return f[i]}})});var s=t(48032);Object.keys(s).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===s[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return s[i]}})});var l=t(88899);Object.keys(l).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===l[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return l[i]}})});var n=t(13589);Object.keys(n).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===n[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return n[i]}})});var o=t(35583);Object.keys(o).forEach(function(i){i==="default"||i==="__esModule"||i in e&&e[i]===o[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return o[i]}})})},17496:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.jsonLogicFormat=void 0;var c=r(t(41132)),f=r(t(43693)),s=t(46897),l=t(67212),n=t(76348),o=t(68429),i=t(22980),a=t(36940),u=r(t(90179)),d=r(t(44383));function v(M,C){var y=Object.keys(M);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(M);C&&(b=b.filter(function(T){return Object.getOwnPropertyDescriptor(M,T).enumerable})),y.push.apply(y,b)}return y}function p(M){for(var C=1;C<arguments.length;C++){var y=arguments[C]!=null?arguments[C]:{};C%2?v(Object(y),!0).forEach(function(b){(0,f.default)(M,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(y)):v(Object(y)).forEach(function(b){Object.defineProperty(M,b,Object.getOwnPropertyDescriptor(y,b))})}return M}function m(M,C){var y=typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!y){if(Array.isArray(M)||(y=P(M))||C&&M&&typeof M.length=="number"){y&&(M=y);var b=0,T=function(){};return{s:T,n:function(){return b>=M.length?{done:!0}:{done:!1,value:M[b++]}},e:function(I){throw I},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=!0,S=!1,A;return{s:function(){y=y.call(M)},n:function(){var I=y.next();return R=I.done,I},e:function(I){S=!0,A=I},f:function(){try{!R&&y.return!=null&&y.return()}finally{if(S)throw A}}}}function P(M,C){if(M){if(typeof M=="string")return E(M,C);var y=Object.prototype.toString.call(M).slice(8,-1);if(y==="Object"&&M.constructor&&(y=M.constructor.name),y==="Map"||y==="Set")return Array.from(M);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return E(M,C)}}function E(M,C){(C==null||C>M.length)&&(C=M.length);for(var y=0,b=new Array(C);y<C;y++)b[y]=M[y];return b}var L=function(C,y){var b={usedFields:[],errors:[]},T=F(C,y,b,!0),R=b.errors,S=b.usedFields,A=y.settings.fieldSeparator,W={},I=m(S),O;try{for(I.s();!(O=I.n()).done;)for(var h=O.value,w=(0,l.getFieldConfig)(y,h)||{},V=h.split(A),H=W,_=0;_<V.length;_++){var oe=V[_],te=(0,l.getFieldConfig)(y,V.slice(0,_+1))||{};_!=V.length-1?te.type=="!group"&&te.mode!="struct"?(H[oe]||(H[oe]=[{}]),H=H[oe][0]):(H[oe]||(H[oe]={}),H=H[oe]):H[oe]||(H[oe]=null)}}catch(Q){I.e(Q)}finally{I.f()}return{errors:R,logic:T,data:W}};e.jsonLogicFormat=L;var F=function(C,y,b,T){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(C){var S=C.get("type"),A=C.get("properties")||new a.Map,W=A.get("isLocked"),I=y.settings.jsonLogic.lockedOp,O;return S==="group"||S==="rule_group"?O=j(C,y,b,T,R):S==="rule"&&(O=D(C,y,b,R)),W&&O&&I&&(O=(0,f.default)({},I,O)),O}},j=function(C,y,b,T){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,S=C.get("type"),A=C.get("properties")||new a.Map,W=A.get("mode"),I=C.get("children1"),O=A.get("field");if(I){var h=A.get("conjunction");h||(h=(0,o.defaultConjunction)(y));var w=y.conjunctions[h],V=w.jsonLogicConj||h.toLowerCase(),H=A.get("not");if(V!="and"&&V!="or"){b.errors.push("Conjunction ".concat(V," is not supported"));return}var _=S==="rule_group"&&!T,oe=_&&W!="struct"?O:R,te=A.get("operator"),Q=te&&(0,l.getOperatorConfig)(y,te,O)||null,X=B(y,A,b,te,R),k=_&&(!te||Q.cardinality==0),re=I.map(function(me){return F(me,y,b,!1,oe)}).filter(function(me){return typeof me<"u"});if(_&&W!="struct"&&!k){if(X==null)return}else if(!re.size)return;var q={};if(re.size==1&&!T?q=re.first():q[V]=re.toList().toJS(),H&&(q={"!":q}),_&&W!="struct"){var le=Y(b,y,O,R);if(k){var ee=te||"some";q=(0,f.default)({},ee,[le,q])}else{var ie=re.size?{filter:[le,q]}:le,he={reduce:[ie,{"+":[1,{var:"accumulator"}]},0]};q=U(y,A,he,X,te)}}return q}},D=function(C,y,b){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,R=C.get("properties")||new a.Map,S=R.get("field"),A=R.get("operator"),W=R.get("operatorOptions");if(W=W?W.toJS():null,W&&!Object.keys(W).length&&(W=null),!(S==null||A==null)){var I=(0,l.getFieldConfig)(y,S)||{},O=(0,l.getOperatorConfig)(y,A,S)||{},h=O.reversedOp,w=(0,l.getOperatorConfig)(y,h,S)||{},V=!1;if(!O.jsonLogic&&!w.jsonLogic){b.errors.push("Operator ".concat(A," is not supported"));return}if(!O.jsonLogic&&w.jsonLogic){V=!0;var H=[h,A];A=H[0],h=H[1];var _=[w,O];O=_[0],w=_[1]}var oe=B(y,R,b,A,T);if(oe!==void 0){var te=Y(b,y,S,T);return U(y,R,te,oe,A,W,I,V)}}},B=function(C,y,b,T,R){var S=y.get("field"),A=y.get("valueSrc"),W=y.get("valueType"),I=(0,l.getFieldConfig)(C,S)||{},O=(0,l.getOperatorConfig)(C,T,S)||{},h=(0,s.defaultValue)(O.cardinality,1),w=y.get("value"),V=y.get("asyncListValues");if(w!=null){var H=[],_=[],oe=b.usedFields,te=w.map(function(X,k){var re=A?A.get(k):null,q=W?W.get(k):null,le=(0,i.completeValue)(X,re,C),ee=(0,n.getWidgetForFieldOp)(C,S,T,re),ie=(0,u.default)((0,l.getFieldWidgetConfig)(C,S,T,ee,re),["factory"]),he=G(b,C,le,re,q,ie,I,T,O,R,V);return he!==void 0&&(H.push(re),_.push(q)),he}),Q=te.filter(function(X){return X===void 0}).size>0;if(te.size<h||Q){b.usedFields=oe;return}return h>1?te.toArray():h==1?te.first():null}},G=function(C,y,b,T,R,S,A,W,I){var O=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,h=arguments.length>10?arguments[10]:void 0;if(b!==void 0){var w;if(T=="field")w=Y(C,y,b,O);else if(T=="func")w=K(C,y,b,O);else if(typeof S.jsonLogic=="function"){var V=S.jsonLogic,H=[b,p(p({},(0,d.default)(A,["fieldSettings","listValues"])),{},{asyncListValues:h}),(0,u.default)(S,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"])];W&&(H.push(W),H.push(I)),w=V.apply(void 0,H)}else w=b;return w}},K=function(C,y,b){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,R=b.get("func"),S=b.get("args"),A=(0,l.getFuncConfig)(y,R);if(!A.jsonLogic){C.errors.push("Func ".concat(R," is not supported"));return}var W={};for(var I in A.args){var O=A.args[I],h=(0,l.getFieldConfig)(y,O),w=S?S.get(I):void 0,V=w?w.get("value"):void 0,H=w?w.get("valueSrc"):void 0,_=G(C,y,V,H,O.type,h,O,null,null,T);if(V!=null&&_===void 0){C.errors.push("Can't format value of arg ".concat(I," for func ").concat(R));return}_!==void 0&&(W[I]=_)}var oe=Object.values(W),te;if(typeof A.jsonLogic=="function"){var Q=A.jsonLogic,X=[W];te=Q.apply(void 0,X)}else{var k=A.jsonLogic||R,re=!!A.jsonLogicIsMethod;if(re){var q=oe[0],le=oe.slice(1);le.length?te={method:[q,k,le]}:te={method:[q,k]}}else te=(0,f.default)({},k,oe)}return te},Y=function(C,y,b){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,R=y.settings,S=R.fieldSeparator,A=R.jsonLogic,W;if(b){Array.isArray(b)&&(b=b.join(S));var I=(0,l.getFieldConfig)(y,b)||{},O=b;if(I.fieldName&&(O=I.fieldName),T){var h=(0,l.getFieldConfig)(y,T)||{},w=T;h.fieldName&&(w=h.fieldName),O.indexOf(w+S)==0?O=O.slice((w+S).length):C.errors.push("Can't cut group ".concat(w," from field ").concat(O))}var V=I.jsonLogicVar||(I.type=="!group"?A.groupVarKey:"var");W=(0,f.default)({},V,O),C.usedFields.indexOf(b)==-1&&C.usedFields.push(b)}return W},$=function(C,y,b,T){var R=C,S=(0,s.defaultValue)(y.cardinality,1),A=(0,s.defaultValue)(y._jsonLogicIsRevArgs,!1);typeof y.jsonLogic=="string"&&(R=y.jsonLogic);var W=["<","<=",">",">="],I=["==","!="],O=function(w,V,H,_,oe){return S==0&&I.includes(R)?(0,f.default)({},R,[b,null]):S==0?(0,f.default)({},R,b):S==1&&A?(0,f.default)({},R,[T,b]):S==1?(0,f.default)({},R,[b,T]):S==2&&W.includes(R)?(0,f.default)({},R,[T[0],b,T[1]]):(0,f.default)({},R,[b].concat((0,c.default)(T)))};return O},U=function(C,y,b,T,R){var S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,A=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,W=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,I=y.get("field"),O=(0,l.getOperatorConfig)(C,R,I)||{},h=typeof O.jsonLogic=="function"?O.jsonLogic:$(R,O,b,T),w=[b,R,T,(0,u.default)(O,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),S,A],V=h.apply(void 0,w);return W&&(V={"!":V}),V}},34958:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.mongodbFormat=e._mongodbFormat=void 0;var c=r(t(85715)),f=r(t(43693)),s=r(t(41132)),l=r(t(73738)),n=t(46897),o=t(67212),i=t(76348),a=t(68429),u=t(22980),d=r(t(90179)),v=r(t(44383)),p=t(36940),m=t(68697);function P(M,C){var y=Object.keys(M);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(M);C&&(b=b.filter(function(T){return Object.getOwnPropertyDescriptor(M,T).enumerable})),y.push.apply(y,b)}return y}function E(M){for(var C=1;C<arguments.length;C++){var y=arguments[C]!=null?arguments[C]:{};C%2?P(Object(y),!0).forEach(function(b){(0,f.default)(M,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(y)):P(Object(y)).forEach(function(b){Object.defineProperty(M,b,Object.getOwnPropertyDescriptor(y,b))})}return M}var L=function(C){return(0,l.default)(C)=="object"&&C!==null&&!Array.isArray(C)},F=function(C,y){return j(C,y,!1)};e.mongodbFormat=F;var j=function(C,y){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,T={errors:[]},R=D([],C,y,T);return b?[R,T.errors]:(T.errors.length&&console.warn("Errors while exporting to MongoDb:",T.errors),R)};e._mongodbFormat=j;var D=function(C,y,b,T){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,A=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,W=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0;if(y){var I=y.get("type");if(I==="group"||I==="rule_group")return B(C,y,b,T,R,S,A,W);if(I==="rule")return G(C,y,b,T,R,S,A,W)}},B=function(C,y,b,T){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,A=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,W=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0,I=y.get("type"),O=y.get("properties")||new p.Map,h=y.get("children1"),w=b.settings.canShortMongoQuery;if(h){var V=C.filter(function(Ie){return Ie.get("type")=="rule_group"}).length>0,H=C.filter(function(Ie){return Ie.get("type")=="rule_group"}).map(function(Ie){return Ie.get("properties").get("field")}).slice(-1).pop(),_=V&&H,oe=I==="rule_group"?O.get("field"):null,te=Y(oe,b,T,_),Q=(0,o.getFieldConfig)(b,oe)||{},X=Q.mode,k=oe&&X=="array",re=R?!O.get("not"):O.get("not"),q=h.map(function(Ie){return D([].concat((0,s.default)(C),[y]),Ie,b,T,re,!0,X=="array"?function($e){return"$$el.".concat($e)}:void 0)}).filter(function(Ie){return typeof Ie<"u"});if(!(!k&&!q.size)){var le=O.get("conjunction");le||(le=(0,a.defaultConjunction)(b));var ee=b.conjunctions[le],ie=ee.reversedConj;re&&ie&&(le=ie,ee=b.conjunctions[le]);var he=ee.mongoConj,me;if(q.size==1)me=q.first();else if(q.size>1){var be=q.toList().toJS(),Be=w&&he=="$and";Be&&(me=be.reduce(function(Ie,$e){if(Ie){for(var qe in $e){if(qe[0]=="$"){Ie=void 0;break}if(Ie[qe]==null)Ie[qe]=$e[qe];else{var tt=Ie[qe],ct=$e[qe];L(tt)||(tt={$eq:tt}),L(ct)||(ct={$eq:ct});var gt=Object.keys(tt)[0],dt=Object.keys(ct)[0];if(gt==dt){Ie=void 0;break}Ie[qe]=Object.assign({},tt,ct)}}return Ie}},{})),me||(me=(0,f.default)({},he,be))}if(oe)if(X=="array"){var je={$size:te},Ue=me?{$size:{$filter:{input:"$"+te,as:"el",cond:me}}}:je;me=D(C,y.set("type","rule"),b,T,!1,!1,function(Ie){return Ue},je),me={$expr:me}}else me=(0,f.default)({},te,{$elemMatch:me});return me}}},G=function(C,y,b,T){var R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,A=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,W=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0,I=y.get("properties")||new p.Map,O=C.filter(function(Ot){return Ot.get("type")=="rule_group"}).length>0,h=C.filter(function(Ot){return Ot.get("type")=="rule_group"}).map(function(Ot){return Ot.get("properties").get("field")}).slice(-1).pop(),w=O&&h,V=I.get("operator"),H=I.get("operatorOptions"),_=I.get("field"),oe=I.get("value"),te=I.get("valueSrc"),Q=I.get("valueType"),X=I.get("asyncListValues");if(!(_==null||V==null||oe===void 0)){var k=(0,o.getFieldConfig)(b,_)||{},re=(0,o.getOperatorConfig)(b,V,_)||{},q=re.reversedOp,le=(0,o.getOperatorConfig)(b,q,_)||{},ee=(0,n.defaultValue)(re.cardinality,1),ie=R;if(ie&&q){var he=[q,V];V=he[0],q=he[1];var me=[le,re];re=me[0],le=me[1],ie=!1}var be=Y(_,b,T,w),Be=[],je=[],Ue=!1,Ie=oe.map(function(Ot,Me){var Le=te?te.get(Me):null,He=Q?Q.get(Me):null,_e=(0,u.completeValue)(Ot,Le,b),Xe=(0,i.getWidgetForFieldOp)(b,_,V,Le),rt=(0,d.default)((0,o.getFieldWidgetConfig)(b,_,V,Xe,Le),["factory"]),ke=K(T,b,_e,Le,He,rt,k,w,V,re,X),ft=(0,c.default)(ke,2),vt=ft[0],Pt=ft[1];return vt!==void 0&&(Ue=Ue||Pt,Be.push(Le),je.push(He)),vt});A&&(Ue=!0);var $e=Ue&&S,qe=Ie.filter(function(Ot){return Ot===void 0}).size>0;if(!(Ie.size<ee||qe)){var tt=ee>1?Ie.toArray():ee==1?Ie.first():null,ct=re.mongoFormatOp;if(!ct){T.errors.push("Operator ".concat(V," is not supported"));return}var gt=[A?A(be):be,V,W!==void 0&&tt==null?W:tt,Ue,Be.length>1?Be:Be[0],je.length>1?je:je[0],(0,d.default)(re,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),H,k],dt=ct.apply(void 0,gt);return $e&&(dt={$expr:dt}),ie&&(dt={$not:dt}),dt}}},K=function(C,y,b,T,R,S,A,W,I,O,h){if(b===void 0)return[void 0,!1];var w,V=!1;if(T=="field"){var H=$(C,y,b,W),_=(0,c.default)(H,2);w=_[0],V=_[1]}else if(T=="func"){var oe=U(C,y,b,W),te=(0,c.default)(oe,2);w=te[0],V=te[1]}else if(typeof S.mongoFormatValue=="function"){var Q=S.mongoFormatValue,X=[b,E(E({},(0,v.default)(A,["fieldSettings","listValues"])),{},{asyncListValues:h}),(0,d.default)(S,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"])];I&&(X.push(I),X.push(O)),w=Q.apply(void 0,X)}else w=b;return[w,V]},Y=function(C,y,b,T){if(C){var R=(0,o.getFieldConfig)(y,C)||{},S=y.settings.fieldSeparator,A=Array.isArray(C)?C:C.split(S),W=Array.isArray(C)?C.join(S):C;if(R.fieldName&&(W=R.fieldName),T){var I=(0,o.getFieldConfig)(y,T)||{},O=T;I.fieldName&&(O=I.fieldName),W.indexOf(O+".")==0?W=W.slice((O+".").length):b.errors.push("Can't cut group ".concat(O," from field ").concat(W))}return W}},$=function(C,y,b,T){var R=y.settings.fieldSeparator,S,A=!0;if(b){var W=(0,o.getFieldConfig)(y,b)||{},I=Array.isArray(b)?b:b.split(R),O=(0,i.getFieldPath)(b,y),h=(0,i.getFieldPathLabels)(b,y),w=h?h.join(R):null,V=y.settings.formatField||m.settings.formatField,H=Y(b,y,C,T),_=V(H,I,w,W,y,!1);S="$"+_}return[S,A]},U=function(C,y,b,T){var R=!0,S,A=b.get("func"),W=b.get("args"),I=(0,o.getFuncConfig)(y,A),O=I.mongoFunc||A,h=I.mongoArgsAsObject,w={},V=0,H=void 0;for(var _ in I.args){var oe=I.args[_],te=(0,o.getFieldConfig)(y,oe),Q=W?W.get(_):void 0,X=Q?Q.get("value"):void 0,k=Q?Q.get("valueSrc"):void 0,re=Q?Q.get("asyncListValues"):void 0,q=(0,i.getWidgetForFieldOp)(y,te,null,k),le=(0,d.default)((0,o.getFieldWidgetConfig)(y,te,null,q,k),["factory"]),ee=K(C,y,X,k,oe.type,le,te,T,null,null,re),ie=(0,c.default)(ee,2),he=ie[0],me=ie[1];if(X!=null&&he===void 0)return C.errors.push("Can't format value of arg ".concat(_," for func ").concat(A)),[void 0,!1];V++,he!==void 0&&(w[_]=he,H=he)}if(typeof I.mongoFormatFunc=="function"){var be=I.mongoFormatFunc,Be=[w];S=be.apply(void 0,Be)}else{if(I.mongoFormatFunc===null)return C.errors.push("Functon ".concat(O," is not supported")),[void 0,!1];h?S=(0,f.default)({},O,w):V==1&&H!==void 0?S=(0,f.default)({},O,H):S=(0,f.default)({},O,Object.values(w))}return[S,R]}},3193:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.queryBuilderFormat=void 0;var c=r(t(43693)),f=t(46897),s=t(67212),l=t(68429),n=t(76348),o=t(22980),i=t(36940);function a(P,E){var L=Object.keys(P);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(P);E&&(F=F.filter(function(j){return Object.getOwnPropertyDescriptor(P,j).enumerable})),L.push.apply(L,F)}return L}function u(P){for(var E=1;E<arguments.length;E++){var L=arguments[E]!=null?arguments[E]:{};E%2?a(Object(L),!0).forEach(function(F){(0,c.default)(P,F,L[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(L)):a(Object(L)).forEach(function(F){Object.defineProperty(P,F,Object.getOwnPropertyDescriptor(L,F))})}return P}var d=function(E,L){var F={usedFields:[]},j=v(E,L,F);if(j)return u(u({},j),F)};e.queryBuilderFormat=d;var v=function(E,L,F){if(E){var j=E.get("type"),D=E.get("children1");if((j==="group"||j==="rule_group")&&D&&D.size)return p(E,L,F);if(j==="rule")return m(E,L,F)}},p=function(E,L,F){var j=E.get("properties")||new i.Map,D=E.get("children1"),B=E.get("id"),G=D.map(function(U){return v(U,L,F)}).filter(function(U){return typeof U<"u"});if(G.size){var K=j.get("conjunction");K||(K=(0,l.defaultConjunction)(L));var Y=j.get("not"),$={id:B,rules:G.toList(),condition:K.toUpperCase(),not:Y};return $}},m=function(E,L,F){var j=E.get("properties")||new i.Map,D=E.get("id"),B=j.get("operator"),G=j.get("operatorOptions"),K=j.get("field"),Y=j.get("value"),$=j.get("valueSrc"),U=j.get("valueType"),M=Y.filter(function(V){return V===void 0}).size>0;if(!(K==null||B==null||M)){var C=(0,s.getFieldConfig)(L,K)||{},y=(0,s.getOperatorConfig)(L,B,K)||{},b=C.type||"undefined",T=(0,f.defaultValue)(y.cardinality,1),R=L.types[C.type]||{},S=(0,n.formatFieldName)(K,L,F);if(!(Y.size<T)){F.usedFields.indexOf(K)==-1&&F.usedFields.push(K),Y=Y.toArray(),$=$.toArray(),U=U.toArray();for(var A=[],W=0;W<Y.length;W++){var I={type:U[W],value:Y[W]};if(A.push(I),$[W]=="field"){var O=Y[W];F.usedFields.indexOf(O)==-1&&F.usedFields.push(O)}}var h=G?G.toJS():null;h&&!Object.keys(h).length&&(h=null);var w={id:D,fieldName:S,type:b,input:R.mainWidget,operator:B};return h&&(w.operatorOptions=h),w.values=A,w}}}},13589:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.queryString=void 0;var c=r(t(43693)),f=r(t(85715)),s=r(t(41132)),l=t(67212),n=t(76348),o=r(t(90179)),i=r(t(44383)),a=t(46897),u=t(68429),d=t(68697),v=t(22980),p=t(36940);function m($,U){var M=Object.keys($);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols($);U&&(C=C.filter(function(y){return Object.getOwnPropertyDescriptor($,y).enumerable})),M.push.apply(M,C)}return M}function P($){for(var U=1;U<arguments.length;U++){var M=arguments[U]!=null?arguments[U]:{};U%2?m(Object(M),!0).forEach(function(C){(0,c.default)($,C,M[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(M)):m(Object(M)).forEach(function(C){Object.defineProperty($,C,Object.getOwnPropertyDescriptor(M,C))})}return $}var E=function(U,M){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y={errors:[]},b=L(U,M,y,C,null);return y.errors.length&&console.warn("Errors while exporting to string:",y.errors),b};e.queryString=E;var L=function(U,M,C){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(U){var T=U.get("type"),R=U.get("children1");if(T==="group"||T==="rule_group")return F(U,M,C,y,b);if(T==="rule")return B(U,M,C,y,b)}},F=function(U,M,C){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,T=U.get("type"),R=U.get("properties")||new p.Map,S=R.get("mode"),A=U.get("children1");if(A){var W=T==="rule_group",I=W&&S=="array"?R.get("field"):null,O=W&&S=="array",h=R.get("not"),w=A.map(function(re){return L(re,M,C,y,I)}).filter(function(re){return typeof re<"u"});if(!(!O&&!w.size)){var V=R.get("conjunction");V||(V=(0,u.defaultConjunction)(M));var H=M.conjunctions[V],_=w.size?H.formatConj(w,V,h,y):null,oe;if(I){var te=B(U,M,C,y,b,!0);if(te){var Q,X=te.pop(),k=[_].concat((0,s.default)(te));oe=(Q=M.settings).formatAggr.apply(Q,(0,s.default)(k)),X&&(oe=M.settings.formatReverse(oe,null,null,null,null,y))}}else oe=_;return oe}}},j=function(U,M,C,y,b,T){var R=M.get("field"),S=M.get("valueSrc"),A=M.get("valueType"),W=(0,l.getFieldConfig)(U,R)||{},I=y||M.get("operator"),O=(0,l.getOperatorConfig)(U,I,R)||{},h=(0,a.defaultValue)(O.cardinality,1),w=M.get("value"),V=M.get("asyncListValues"),H=[],_=[],oe;if(w!=null){var te=w.map(function(X,k){var re=S?S.get(k):null,q=A?A.get(k):null,le=(0,v.completeValue)(X,re,U),ee=(0,n.getWidgetForFieldOp)(U,R,I,re),ie=(0,o.default)((0,l.getFieldWidgetConfig)(U,R,I,ee,re),["factory"]),he=G(U,C,le,re,q,ie,W,I,O,b,T,V);return he!==void 0&&(H.push(re),_.push(q)),he}),Q=te.filter(function(X){return X===void 0}).size>0;Q||te.size<h||(oe=h==1?te.first():te)}return[oe,H.length>1?H:H[0],_.length>1?_:_[0]]},D=function(U,M){var C=M.labelForFormat||U,y=(0,a.defaultValue)(M.cardinality,1),b;return y==0?b=function(R,S,A,W,I,O,h,w){return"".concat(R," ").concat(C)}:y==1?b=function(R,S,A,W,I,O,h,w){return"".concat(R," ").concat(C," ").concat(A)}:y==2&&(b=function(R,S,A,W,I,O,h,w){var V=A.first(),H=A.get(1);return"".concat(R," ").concat(C," ").concat(V," AND ").concat(H)}),b},B=function(U,M,C){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,R=U.get("properties")||new p.Map,S=R.get("field"),A=R.get("operator"),W=R.get("operatorOptions");if(!(S==null||A==null)){var I=(0,l.getFieldConfig)(M,S)||{},O=(0,l.getOperatorConfig)(M,A,S)||{},h=O.reversedOp,w=(0,l.getOperatorConfig)(M,h,S)||{},V=!1,H=O.formatOp;if(!H&&h&&(H=w.formatOp,H)){V=!0;var _=[h,A];A=_[0],h=_[1];var oe=[w,O];O=oe[0],w=oe[1]}if(H||(H=D(A,O)),!!H){var te=K(M,C,S,y,b),Q=j(M,R,C,A,y,b),X=(0,f.default)(Q,3),k=X[0],re=X[1],q=X[2];if(k!==void 0){var le=[te,A,k,re,q,(0,o.default)(O,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),W,y,I,V];if(T)return le;var ee=H.apply(void 0,le);return V&&(ee=M.settings.formatReverse(ee,A,h,O,w,y)),ee}}}},G=function(U,M,C,y,b,T,R,S,A,W){var I=arguments.length>10&&arguments[10]!==void 0?arguments[10]:null,O=arguments.length>11?arguments[11]:void 0;if(C!==void 0){var h;if(y=="field")h=K(U,M,C,W,I);else if(y=="func")h=Y(U,M,C,W,I);else if(typeof T.formatValue=="function"){var w=T.formatValue,V=[C,P(P({},(0,i.default)(R,["fieldSettings","listValues"])),{},{asyncListValues:O}),(0,o.default)(T,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"]),W];if(S&&(V.push(S),V.push(A)),y=="field"){var H=(0,l.getFieldConfig)(U,C)||{};V.push(H)}h=w.apply(void 0,V)}else h=C;return h}},K=function(U,M,C,y){var b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,R=U.settings,S=R.fieldSeparator,A=R.fieldSeparatorDisplay,W=null;if(C){var I=(0,l.getFieldConfig)(U,C)||{},O=Array.isArray(C)?C:C.split(S),h=(0,n.getFieldPath)(C,U),w=(0,n.getFieldPathLabels)(C,U,T?b:null),V=w?w.join(A):null,H=I.label2||V,_=U.settings.formatField||d.settings.formatField,oe=(0,n.formatFieldName)(C,U,M,T?b:null);W=_(oe,O,H,I,U,y)}return W},Y=function(U,M,C,y){var b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,T=C.get("func"),R=C.get("args"),S=(0,l.getFuncConfig)(U,T),A=y&&S.label||T,W={},I={};for(var O in S.args){var h=S.args[O],w=(0,l.getFieldConfig)(U,h),V=R?R.get(O):void 0,H=V?V.get("value"):void 0,_=V?V.get("valueSrc"):void 0,oe=V?V.get("asyncListValues"):void 0,te=G(U,M,H,_,h.type,w,h,null,null,y,b,oe),Q=y&&h.label||O;te!==void 0&&(W[O]=te,I[Q]=te)}var X=null;if(typeof S.formatFunc=="function"){var k=S.formatFunc,re=[W,y];X=k.apply(void 0,re)}else{var q=Object.entries(I).map(function(le){var ee=(0,f.default)(le,2),ie=ee[0],he=ee[1];return y?"".concat(ie,": ").concat(he):"".concat(he)}).join(", ");X="".concat(A,"(").concat(q,")")}return X}},88899:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.spelFormat=e._spelFormat=void 0;var c=r(t(8053)),f=r(t(43693)),s=r(t(85715)),l=t(67212),n=t(76348),o=r(t(90179)),i=r(t(44383)),a=t(46897),u=t(68429),d=t(68697),v=t(22980),p=t(36940),m=t(76669);function P(T,R){var S=Object.keys(T);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(T);R&&(A=A.filter(function(W){return Object.getOwnPropertyDescriptor(T,W).enumerable})),S.push.apply(S,A)}return S}function E(T){for(var R=1;R<arguments.length;R++){var S=arguments[R]!=null?arguments[R]:{};R%2?P(Object(S),!0).forEach(function(A){(0,f.default)(T,A,S[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(S)):P(Object(S)).forEach(function(A){Object.defineProperty(T,A,Object.getOwnPropertyDescriptor(S,A))})}return T}var L=function(R,S){return F(R,S,!1)};e.spelFormat=L;var F=function(R,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,W={errors:[]},I=j(R,S,W,null);return A?[I,W.errors]:(W.errors.length&&console.warn("Errors while exporting to SpEL:",W.errors),I)};e._spelFormat=F;var j=function(R,S,A){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(R){var I=R.get("type");if(I==="group"||I==="rule_group")return G(R,S,A,W);if(I==="rule")return U(R,S,A,W);if(I=="switch_group")return B(R,S,A,W);if(I=="case_group")return D(R,S,A,W)}},D=function(R,S,A){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,I=R.get("type");if(I!="case_group"){A.errors.push("Unexpected child of type ".concat(I," inside switch"));return}var O=R.get("properties")||new p.Map,h=M(S,O,A,null,W,"!case_value"),w=(0,s.default)(h,3),V=w[0],H=w[1],_=w[2],oe=G(R,S,A,W);return[oe,V]},B=function(R,S,A){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,I=R.get("properties")||new p.Map,O=R.get("children1");if(O){var h=O.map(function(k){return D(k,S,A,null)}).filter(function(k){return typeof k<"u"}).toArray();if(h.length){if(h.length==1&&!h[0][0])return h[0][1];for(var w=[],V=0;V<h.length;V++)V!=h.length-1&&!h[V][0]?A.errors.push("No condition for case ".concat(V)):(w.push(h[V]),V==h.length-1&&h[V][0]&&w.push([void 0,null]));for(var H="",_="",oe=0;oe<w.length;oe++){var te=(0,s.default)(w[oe],2),Q=te[0],X=te[1];X==null&&(X="null"),Q==null&&(Q="true"),oe!=w.length-1?(H+="(".concat(Q," ? ").concat(X," : "),_+=")"):H+="".concat(X)}return H+_}}},G=function(R,S,A){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,I=R.get("type"),O=R.get("properties")||new p.Map,h=O.get("mode"),w=R.get("children1"),V=O.get("field");if(w){var H=O.get("conjunction");H||(H=(0,u.defaultConjunction)(S));var _=S.conjunctions[H],oe=O.get("not"),te=I==="rule_group",Q=te&&h!="struct",X=Q?V:W,k=(0,l.getFieldConfig)(S,X)||{},re=k.isSpelArray,q=O.get("operator");!q&&(!h||h=="some")&&(q="some");var le=$(S,q,V),ee=le!=q,ie=q&&(0,l.getOperatorConfig)(S,le,V)||null,he=te&&(!le||ie.cardinality==0),me=M(S,O,A,le,W,null),be=(0,s.default)(me,3),Be=be[0],je=be[1],Ue=be[2],Ie=w.map(function(Le){return j(Le,S,A,X)}).filter(function(Le){return typeof Le<"u"});if(Q&&!he){if(Be==null)return}else if(!Ie.size)return;var $e=te,qe=Ie.size?_.spelFormatConj(Ie,H,oe,$e):null,tt;if(Q){var ct=y(A,S,V,W),gt=re?".length":".size()",dt="".concat(ct).concat(gt),Ot=qe?"".concat(ct,".?[").concat(qe,"]").concat(gt):dt,Me=he?dt:Be;tt=Y(A,S,O,Ot,Me,le,je,Ue,ee)}else tt=qe;return tt}},K=function(R,S){var A=S.spelOp;if(A){var W=A[0]=="$",I=A[0]=="."||W,O=A.substring(A.length-2)=="()",h=I?A.slice(1):O?A.substring(0,A.length-2):A,w,V=(0,a.defaultValue)(S.cardinality,1);return V==0?w=function(_,oe,te,Q,X,k,re,q){return I?"".concat(_,".").concat(h,"()"):"".concat(_," ").concat(h)}:V==1&&(w=function(_,oe,te,Q,X,k,re,q){return W?"".concat(te,".").concat(h,"(").concat(_,")"):O?"".concat(h,"(").concat(_,", ").concat(te,")"):I?"".concat(_,".").concat(h,"(").concat(te,")"):"".concat(_," ").concat(h," ").concat(te)}),w}},Y=function(R,S,A,W,I,O,h,w){var V=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,H=A.get("field"),_=(0,l.getOperatorConfig)(S,O,H)||{},oe=(0,l.getFieldConfig)(S,H)||{},te=A.get("operatorOptions"),Q=_.spelFormatOp||K(O,_);if(!Q){R.errors.push("Operator ".concat(O," is not supported"));return}var X=[W,O,I,h,w,(0,o.default)(_,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),te,oe],k;return k=Q.apply(void 0,X),V&&(k=S.settings.spelFormatReverse(k)),k===void 0&&R.errors.push("Operator ".concat(O," is not supported for value source ").concat(h)),k},$=function(R,S,A){if(S){var W=(0,l.getOperatorConfig)(R,S,A)||{},I=W.reversedOp,O=(0,l.getOperatorConfig)(R,I,A)||{},h=!1,w=W.spelOp||W.spelFormatOp,V=O.spelOp||O.spelFormatOp;if(!(!w&&!V)){if(!w&&V){h=!0;var H=[I,S];S=H[0],I=H[1];var _=[O,W];W=_[0],O=_[1]}return S}}},U=function(R,S,A){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,I=R.get("properties")||new p.Map,O=I.get("field"),h=I.get("operator");if(!(O==null||h==null)){var w=$(S,h,O);if(!w){A.errors.push("Operator ".concat(h," is not supported"));return}var V=w!=h,H=M(S,I,A,w,W,null),_=(0,s.default)(H,3),oe=_[0],te=_[1],Q=_[2];if(oe!==void 0){var X=y(A,S,O,W),k=Y(A,S,I,X,oe,w,te,Q,V);return k}}},M=function(R,S,A,W,I){var O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,h=S.get("field"),w=S.get("valueSrc"),V=S.get("valueType");(O=="!case_value"||V&&V.get(0)=="case_value")&&(h="!case_value");var H=(0,l.getFieldConfig)(R,h)||{},_=(0,l.getOperatorConfig)(R,W,h)||{},oe=(0,a.defaultValue)(_.cardinality,1),te=S.get("value"),Q=S.get("asyncListValues"),X=[],k=[],re;if(te!=null){var q=te.map(function(ee,ie){var he=w?w.get(ie):null,me=V?V.get(ie):null,be=(0,v.completeValue)(ee,he,R),Be=(0,n.getWidgetForFieldOp)(R,h,W,he),je=(0,o.default)((0,l.getFieldWidgetConfig)(R,h,W,Be,he),["factory"]),Ue=C(A,R,be,he,me,je,H,W,_,I,Q);return Ue!==void 0&&(X.push(he),k.push(me)),Ue}),le=q.filter(function(ee){return ee===void 0}).size>0;q.size<oe||le||(re=oe>1?q.toArray():oe==1?q.first():null)}return[re,X.length>1?X:X[0],k.length>1?k:k[0]]},C=function(R,S,A,W,I,O,h,w,V){var H=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,_=arguments.length>10?arguments[10]:void 0;if(A!==void 0){var oe;if(W=="field")oe=y(R,S,A,H);else if(W=="func")oe=b(R,S,A,H);else if(typeof O.spelFormatValue=="function"){var te=O.spelFormatValue,Q=[A,E(E({},(0,i.default)(h,["fieldSettings","listValues"])),{},{asyncListValues:_}),(0,o.default)(O,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"])];if(w&&(Q.push(w),Q.push(V)),W=="field"){var X=(0,l.getFieldConfig)(S,A)||{};Q.push(X)}oe=te.apply(void 0,Q)}else oe=(0,m.spelEscape)(A);return oe}},y=function(R,S,A){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(A){var I=S.settings.fieldSeparator,O=(0,l.getFieldConfig)(S,A)||{},h=Array.isArray(A)?A:A.split(I),w=(0,n.getFieldPath)(A,S,W),V=(0,n.getFieldPartsConfigs)(A,S,W),H=S.settings.formatSpelField,_=(0,n.formatFieldName)(A,S,R);if(W){var oe=(0,l.getFieldConfig)(S,W)||{},te=W;oe.fieldName&&(te=oe.fieldName),_.indexOf(te+I)==0?_=_.slice((te+I).length):R.errors.push("Can't cut group ".concat(te," from field ").concat(_))}var Q=V.map(function(k){var re=(0,s.default)(k,3),q=re[0],le=re[1],ee=re[2],ie;ee&&(ee.type=="!struct"||ee.type=="!group"&&ee.mode=="struct"?ie=le.isSpelMap?"map":"class":ee.type=="!group"?ie=le.isSpelItemMap?"[map]":"[class]":ie="class");var he=le?.isSpelVariable;return{key:q,parent:ie,isSpelVariable:he}}),X=H(_,W,h,Q,O,S);return X}},b=function(R,S,A){var W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,I=A.get("func"),O=A.get("args"),h=(0,l.getFuncConfig)(S,I),w=h.spelFunc||I,V={};for(var H in h.args){var _=h.args[H],oe=(0,l.getFieldConfig)(S,_),te=O?O.get(H):void 0,Q=te?te.get("value"):void 0,X=te?te.get("valueSrc"):void 0,k=te?te.get("asyncListValues"):void 0,re=C(R,S,Q,X,_.type,oe,_,null,null,W,k);if(Q!=null&&re===void 0){R.errors.push("Can't format value of arg ".concat(H," for func ").concat(I));return}re!==void 0&&(V[H]=re)}var q;if(typeof h.spelFormatFunc=="function"){var le=h.spelFormatFunc,ee=[V];q=le.apply(void 0,ee)}else{var ie=Object.entries(V).map(function(Be){var je=(0,s.default)(Be,2),Ue=je[0],Ie=je[1];return Ie});if(w[0]=="."&&ie.length){var he=(0,c.default)(ie),me=he[0],be=he.slice(1);q="".concat(me).concat(w,"(").concat(be.join(", "),")")}else q="".concat(w,"(").concat(ie.join(", "),")")}return q}},48032:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.sqlFormat=e._sqlFormat=void 0;var c=r(t(85715)),f=r(t(43693)),s=t(67212),l=t(76348),n=r(t(90179)),o=r(t(44383)),i=t(46897),a=t(68429),u=t(68697),d=t(22980),v=t(36940),p=t(76669);function m($,U){var M=Object.keys($);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols($);U&&(C=C.filter(function(y){return Object.getOwnPropertyDescriptor($,y).enumerable})),M.push.apply(M,C)}return M}function P($){for(var U=1;U<arguments.length;U++){var M=arguments[U]!=null?arguments[U]:{};U%2?m(Object(M),!0).forEach(function(C){(0,f.default)($,C,M[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(M)):m(Object(M)).forEach(function(C){Object.defineProperty($,C,Object.getOwnPropertyDescriptor(M,C))})}return $}var E=function(U,M){return L(U,M,!1)};e.sqlFormat=E;var L=function(U,M){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,y={errors:[]},b=F(U,M,y);return C?[b,y.errors]:(y.errors.length&&console.warn("Errors while exporting to SQL:",y.errors),b)};e._sqlFormat=L;var F=function(U,M,C){if(U){var y=U.get("type"),b=U.get("children1");if((y==="group"||y==="rule_group")&&b&&b.size)return j(U,M,C);if(y==="rule")return B(U,M,C)}},j=function(U,M,C){var y=U.get("type"),b=U.get("properties")||new v.Map,T=U.get("children1"),R=y==="rule_group"?b.get("field"):null,S=(0,s.getFieldConfig)(M,R)||{};S.mode=="array"&&C.errors.push("Aggregation is not supported for ".concat(R));var A=b.get("not"),W=T.map(function(h){return F(h,M,C)}).filter(function(h){return typeof h<"u"});if(W.size){var I=b.get("conjunction");I||(I=(0,a.defaultConjunction)(M));var O=M.conjunctions[I];return O.sqlFormatConj(W,I,A)}},D=function(U,M){var C=M.sqlOp||U,y=(0,i.defaultValue)(M.cardinality,1),b;return y==0?b=function(R,S,A,W,I,O,h,w){return"".concat(R," ").concat(C)}:y==1?b=function(R,S,A,W,I,O,h,w){return"".concat(R," ").concat(C," ").concat(A)}:y==2&&(b=function(R,S,A,W,I,O,h,w){var V=A.first(),H=A.get(1);return"".concat(R," ").concat(C," ").concat(V," AND ").concat(H)}),b},B=function(U,M,C){var y=U.get("properties")||new v.Map,b=y.get("field"),T=y.get("operator"),R=y.get("operatorOptions"),S=y.get("valueSrc"),A=y.get("valueType"),W=y.get("value"),I=y.get("asyncListValues");if(!(b==null||T==null)){var O=(0,s.getFieldConfig)(M,b)||{},h=(0,s.getOperatorConfig)(M,T,b)||{},w=h.reversedOp,V=(0,s.getOperatorConfig)(M,w,b)||{},H=(0,i.defaultValue)(h.cardinality,1),_=!1,oe=h.sqlOp||h.sqlFormatOp,te=V.sqlOp||V.sqlFormatOp;if(!oe&&!te){C.errors.push("Operator ".concat(T," is not supported"));return}if(!te&&te){_=!0;var Q=[w,T];T=Q[0],w=Q[1];var X=[V,h];h=X[0],V=X[1]}var k=[],re=[],q=W.map(function(Be,je){var Ue=S?S.get(je):null,Ie=A?A.get(je):null,$e=(0,d.completeValue)(Be,Ue,M),qe=(0,l.getWidgetForFieldOp)(M,b,T,Ue),tt=(0,n.default)((0,s.getFieldWidgetConfig)(M,b,T,qe,Ue),["factory"]),ct=G(C,M,$e,Ue,Ie,tt,O,T,h,I);return ct!==void 0&&(k.push(Ue),re.push(Ie)),ct}),le=q.filter(function(Be){return Be===void 0}).size>0;if(!(le||q.size<H)){var ee=H==1?q.first():q,ie=h.sqlFormatOp||D(T,h);if(!ie){C.errors.push("Operator ".concat(T," is not supported"));return}var he=K(C,M,b),me=[he,T,ee,k.length>1?k:k[0],re.length>1?re:re[0],(0,n.default)(h,["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"]),R,O],be;if(be=ie.apply(void 0,me),_&&(be=M.settings.sqlFormatReverse(be)),be===void 0){C.errors.push("Operator ".concat(T," is not supported for value source ").concat(k.join(", ")));return}return be}}},G=function(U,M,C,y,b,T,R,S,A,W){if(C!==void 0){var I;if(y=="field")I=K(U,M,C);else if(y=="func")I=Y(U,M,C);else if(typeof T.sqlFormatValue=="function"){var O=T.sqlFormatValue,h=[C,P(P({},(0,o.default)(R,["fieldSettings","listValues"])),{},{asyncListValues:W}),(0,n.default)(T,["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue"])];if(S&&(h.push(S),h.push(A)),y=="field"){var w=(0,s.getFieldConfig)(M,C)||{};h.push(w)}I=O.apply(void 0,h)}else Array.isArray(C)?I=C.map(function(V){return p.SqlString.escape(V)}):I=p.SqlString.escape(C);return I}},K=function(U,M,C){if(C){var y=M.settings.fieldSeparator,b=(0,s.getFieldConfig)(M,C)||{},T=Array.isArray(C)?C:C.split(y),R=(0,l.getFieldPath)(C,M),S=(0,l.getFieldPathLabels)(C,M),A=S?S.join(y):null,W=M.settings.formatField||u.settings.formatField,I=(0,l.formatFieldName)(C,M,U),O=W(I,T,A,b,M);return O}},Y=function(U,M,C){var y=C.get("func"),b=C.get("args"),T=(0,s.getFuncConfig)(M,y),R=T.sqlFunc||y,S={};for(var A in T.args){var W=T.args[A],I=(0,s.getFieldConfig)(M,W),O=b?b.get(A):void 0,h=O?O.get("value"):void 0,w=O?O.get("valueSrc"):void 0,V=O?O.get("asyncListValues"):void 0,H=G(U,M,h,w,W.type,I,W,null,null,V);if(h!=null&&H===void 0){U.errors.push("Can't format value of arg ".concat(A," for func ").concat(y));return}H!==void 0&&(S[A]=H)}var _;if(typeof T.sqlFormatFunc=="function"){var oe=T.sqlFormatFunc,te=[S];_=oe.apply(void 0,te)}else{var Q=Object.entries(S).map(function(X){var k=(0,c.default)(X,2),re=k[0],q=k[1];return q}).join(", ");_="".concat(R,"(").concat(Q,")")}return _}},35327:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(44435);Object.keys(r).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===r[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return r[s]}})});var c=t(26475);Object.keys(c).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===c[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return c[s]}})});var f=t(44161);Object.keys(f).forEach(function(s){s==="default"||s==="__esModule"||s in e&&e[s]===f[s]||Object.defineProperty(e,s,{enumerable:!0,get:function(){return f[s]}})})},26475:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.loadFromJsonLogic=e._loadFromJsonLogic=void 0;var c=r(t(41132)),f=r(t(8053)),s=r(t(43693)),l=r(t(85715)),n=r(t(21428)),o=t(46897),i=t(67212),a=t(76348),u=t(44435),d=t(68429),v=r(t(95093));function p(T,R){var S=Object.keys(T);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(T);R&&(A=A.filter(function(W){return Object.getOwnPropertyDescriptor(T,W).enumerable})),S.push.apply(S,A)}return S}function m(T){for(var R=1;R<arguments.length;R++){var S=arguments[R]!=null?arguments[R]:{};R%2?p(Object(S),!0).forEach(function(A){(0,s.default)(T,A,S[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(S)):p(Object(S)).forEach(function(A){Object.defineProperty(T,A,Object.getOwnPropertyDescriptor(S,A))})}return T}var P=function(R){return Array.from(new Set(R))},E=function(R){return R.reduce(function(S,A){var W=(0,l.default)(A,2),I=W[0],O=W[1];return m(m({},S),{},(0,s.default)({},I,O))},{})},L=function(R,S){return F(R,S,!1)};e.loadFromJsonLogic=L;var F=function(R,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,W={errors:[]},I=(0,i.extendConfig)(S),O=j(I),h=R?D(R,O,I,"rule",W):void 0;h&&h.type!="group"&&(h=M(h,I));var w=h?(0,u.loadTree)(h):void 0;return A?[w,W.errors]:(W.errors.length&&console.warn("Errors while importing from JsonLogic:",W.errors),w)};e._loadFromJsonLogic=F;var j=function(R){var S={};for(var A in R.operators){var W=R.operators[A];if(typeof W.jsonLogic=="string"){var I=(W._jsonLogicIsRevArgs?"#":"")+W.jsonLogic+"/"+(0,o.defaultValue)(W.cardinality,1);S[I]||(S[I]=[]),S[I].push(A)}else if(typeof W.jsonLogic2=="string"){var O=W.jsonLogic2+"/"+(0,o.defaultValue)(W.cardinality,1);S[O]||(S[O]=[]),S[O].push(A)}}var h={};for(var w in R.conjunctions){var V=R.conjunctions[w],H=V.jsonLogicConj||w.toLowerCase();h[H]=w}var _={};for(var oe in R.funcs){var te=R.funcs[oe],Q=void 0;te.jsonLogicIsMethod?Q="#"+te.jsonLogic:typeof te.jsonLogic=="string"&&(Q=te.jsonLogic),Q&&(_[Q]||(_[Q]=[]),_[Q].push(oe))}var X=R.settings.jsonLogic,k=X.groupVarKey,re=X.altVarKey;return{operators:S,conjunctions:h,funcs:_,varKeys:["var",k,re]}},D=function T(R,S,A,W,I){var O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,h=arguments.length>6?arguments[6]:void 0,w=arguments.length>7?arguments[7]:void 0,V=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,H=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,_,oe;(0,o.isJsonLogic)(R)&&(_=Object.keys(R)[0],oe=R[_],Array.isArray(oe)||(oe=[oe]));var te,Q=I.errors.length,X=A.settings.jsonLogic.lockedOp,k=_=="!"&&oe.length==1&&oe[0]&&(0,o.isJsonLogic)(oe[0])&&S.varKeys.includes(Object.keys(oe[0])[0]),re=_=="!"&&!k,q=X&&_==X;q?te=T(oe[0],S,A,W,I,O,h,w,V,!0):re?te=T(oe[0],S,A,W,I,!O,h,w,V):W=="val"?te=G(_,oe,S,A,O,I,V)||K(_,oe,S,A,O,h,I,V)||B(R,h,w,A,I):W=="rule"&&(te=Y(_,oe,S,A,O,I,V,!1)||b(_,oe,S,A,O,I,V));var le=I.errors.length;return _!="!"&&te===void 0&&le==Q&&I.errors.push("Can't parse logic ".concat(JSON.stringify(R))),q&&(te.properties.isLocked=!0),te},B=function(R,S,A,W,I){if(R!==void 0){var O=W.widgets[A||S.mainWidget];if(!O){I.errors.push("No widget for type ".concat(S.type));return}if((0,o.isJsonLogic)(R)){I.errors.push("Unexpected logic in value: ".concat(JSON.stringify(R)));return}if(S&&S.type=="time"&&typeof R=="number"){var h=Math.floor(R/60/60)%24,w=Math.floor(R/60)%60,V=R%60,H=O.valueFormat;if(H){var _=new Date(R);_.setMilliseconds(0),_.setHours(h),_.setMinutes(w),_.setSeconds(V),R=(0,v.default)(_).format(H)}else R="".concat(h,":").concat(w,":").concat(V)}if(S&&["date","datetime"].includes(S.type)&&R&&!(R instanceof Date))try{var oe=new Date(R);oe instanceof Date&&oe.toISOString()===R&&(R=oe)}catch{I.errors.push("Can't convert value ".concat(R," as Date")),R=void 0}if(R instanceof Date&&S){var te=O.valueFormat;te&&(R=(0,v.default)(R).format(te))}var Q;if(R&&S.fieldSettings&&S.fieldSettings.asyncFetch){var X=Array.isArray(R)?R:[R];Q=X}return{valueSrc:"value",value:R,valueType:O.type,asyncListValues:Q}}},G=function(R,S,A,W,I,O){var h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,w=W.settings.fieldSeparator;if(A.varKeys.includes(R)&&typeof S[0]=="string"){var V=S[0];h&&(V=[h,V].join(w)),V=(0,i.normalizeField)(W,V);var H=(0,i.getFieldConfig)(W,V);if(!H){O.errors.push("No config for field ".concat(V));return}return{valueSrc:"field",value:V,valueType:H.type}}},K=function(R,S,A,W,I,O,h){var w=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(R){var V,H,_,oe=R=="method";if(oe){var te,Q,X=(0,f.default)(S);te=X[0],V=X[1],Q=X.slice(2),H=[te].concat((0,c.default)(Q))}else V=R,H=S;var k=(oe?"#":"")+V,re=(A.funcs[k]||[]).filter(function(Ie){return O?W.funcs[Ie].returnType==O.type:!0});if(re.length)_=re[0];else for(var q=(0,s.default)({},R,S),le=0,ee=Object.entries(W.funcs||{});le<ee.length;le++){var ie=(0,l.default)(ee[le],2),he=ie[0],me=ie[1];if(me.jsonLogicImport&&me.returnType==O.type){var be=void 0;try{be=me.jsonLogicImport(q)}catch{}be&&(_=he,H=be)}}if(_&&_){var Be=W.funcs[_],je=Object.keys(Be.args||{}),Ue=H.reduce(function(Ie,$e,qe){var tt=je[qe],ct=Be.args[tt],gt=D($e,A,W,"val",h,!1,ct,null,w);if(gt===void 0&&(gt=ct.defaultValue,gt===void 0)){h.errors.push("No value for arg ".concat(tt," of func ").concat(_));return}return m(m({},Ie),{},(0,s.default)({},tt,gt))},{});return{valueSrc:"func",value:{func:_,args:Ue},valueType:Be.returnType}}}},Y=function(R,S,A,W,I,O){var h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,w=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,V=A.conjunctions[R],H=W.settings.fieldSeparator,_=h?(0,i.getFieldConfig)(W,h):null,oe=_?.type=="!group";if(V){var te="group",Q=S.map(function(be){return D(be,A,W,"rule",O,!1,null,null,h)}).filter(function(be){return be!==void 0}).reduce(function(be,Be){return m(m({},be),{},(0,s.default)({},Be.id,Be))},{}),X=Object.values(Q).map(function(be){var Be;return be==null||(Be=be.properties)===null||Be===void 0?void 0:Be.field}).filter(function(be){return be&&be.includes(H)}),k=Object.fromEntries(P(X).map(function(be){var Be=be.split(H),je=Object.fromEntries(Be.slice(0,-1).map(function(Ue,Ie,$e){return[].concat((0,c.default)($e.slice(0,Ie)),[Ue])}).map(function(Ue){return[Ue.join(H),(0,i.getFieldConfig)(W,Ue)]}).filter(function(Ue){var Ie=(0,l.default)(Ue,2),$e=Ie[0],qe=Ie[1];return qe.type=="!group"}));return[be,Object.keys(je)]})),re=Object.values(Q).map(function(be){var Be;return be==null||(Be=be.properties)===null||Be===void 0?void 0:Be.field}).map(function(be){return k[be]}).filter(function(be){return be&&be.length}),q=P(Object.values(k).flat()),le=$(q),ee={conjunction:V,not:I},ie=(0,n.default)(),he={},me={};return Object.entries(Q).map(function(be){var Be=(0,l.default)(be,2),je=Be[0],Ue=Be[1];if(Ue.type=="group"||Ue.type=="rule_group")he[je]=Ue;else{var Ie,$e=Ue==null||(Ie=Ue.properties)===null||Ie===void 0?void 0:Ie.field,qe=k[$e],tt=qe?.at(-1);if(!tt)he[je]=Ue;else{var ct=he,gt=h?h.split(H):[],dt=(0,o.shallowEqual)(gt,tt.split(H).slice(0,gt.length));dt||(gt=[]);var Ot=tt.split(H).slice(gt.length).map(function(Me,Le,He){return[].concat((0,c.default)(gt),(0,c.default)(He.slice(0,Le)),[Me]).join(H)}).map(function(Me){return(0,i.normalizeField)(W,Me)}).map(function(Me){return{f:Me,fc:(0,i.getFieldConfig)(W,Me)||{}}}).filter(function(Me){var Le=Me.fc;return Le.type!="!struct"});Ot.map(function(Me,Le){var He=Me.f,_e=Me.fc,Xe=me[He];Xe||(Xe=(0,n.default)(),me[He]=Xe,ct[Xe]={type:"rule_group",id:Xe,children1:{},properties:{conjunction:V,not:!1,field:He,mode:_e.mode}}),ct=ct[Xe].children1}),ct[je]=Ue}}}),{type:te,id:ie,children1:he,properties:ee}}},$=function(R){for(var S=(0,c.default)(R).sort(function(I,O){return I.length-O.length}),A=0;A<S.length;A++)for(var W=A+1;W<S.length;W++)S[W].indexOf(S[A])==0&&(S.splice(W,1),W--);return S},U=function(R,S,A,W,I){if(R)return{type:"rule_group",id:(0,n.default)(),children1:(0,s.default)({},R.id,R),properties:{conjunction:I||(0,d.defaultGroupConjunction)(W,A),not:!1,field:S}}},M=function(R,S){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:(0,n.default)(),children1:(0,s.default)({},R.id,R),properties:{conjunction:(0,d.defaultConjunction)(S),not:A}}},C=function(R,S,A,W,I,O,h){var w=[],V=y(R,S,A,W,I,O,w,!1)||y(R,S,A,W,I,O,w,!0);if(!V){h.errors.push(w.join("; ")||"Unknown op ".concat(R,"/").concat(S));return}return V},y=function(R,S,A,W,I,O,h,w){var V=(R=="all"||R=="some")&&(0,o.isJsonLogic)(A[1])&&Object.keys(A[1])[0]=="in",H=!V&&O.settings.groupOperators.includes(R),_=["==","!="],oe=H?0:S-1;(H||_.includes(R)&&oe==1&&A[1]===null)&&(oe=0);var te=R+"/"+oe,Q=O.settings.fieldSeparator,X=I.operators[(w?"#":"")+te];if(X){var k,re=[],q=["<","<=",">",">="];if(q.includes(R)&&S==3)k=A[1],re=[A[0],A[2]];else if(w)k=A[1],re=[A[0]];else{var le=(0,f.default)(A);k=le[0],re=le.slice(1)}if(!(0,o.isJsonLogic)(k)){h.push("Incorrect operands for ".concat(R,": ").concat(JSON.stringify(A)));return}var ee=Object.keys(k)[0],ie=Object.values(k)[0],he,me,be;if(I.varKeys.includes(ee)&&typeof ie=="string"&&(he=ie),H&&(be=!0,me=re[0],re=[]),ee=="reduce"&&Array.isArray(ie)&&ie.length==3){var Be=ie,je=(0,l.default)(Be,3),Ue=je[0],Ie=je[1],$e=je[2];if((0,o.isJsonLogic)(Ue)&&$e==0&&(0,o.isJsonLogic)(Ie)&&Array.isArray(Ie["+"])&&Ie["+"][0]==1&&(0,o.isJsonLogic)(Ie["+"][1])&&Ie["+"][1].var=="accumulator")if(ee=Object.keys(Ue)[0],ie=Object.values(Ue)[0],ee=="filter"){var qe=ie,tt=(0,l.default)(qe,2),ct=tt[0],gt=tt[1];(0,o.isJsonLogic)(ct)&&(ee=Object.keys(ct)[0],ie=Object.values(ct)[0],I.varKeys.includes(ee)&&typeof ie=="string"&&(he=ie,me=gt,be=!0))}else I.varKeys.includes(ee)&&typeof ie=="string"&&(he=ie,be=!0)}if(!he){h.push("Unknown field ".concat(JSON.stringify(k)));return}W&&(he=[W,he].join(Q)),he=(0,i.normalizeField)(O,he);var dt=(0,i.getFieldConfig)(O,he);if(!dt){h.push("No config for field ".concat(he));return}var Ot=X[0];if(X.length>1&&dt&&dt.operators){if(X=X.filter(function(Me){return dt.operators.includes(Me)}),X.length==0){h.push("No corresponding ops for field ".concat(he));return}Ot=X[0]}return{field:he,fieldConfig:dt,opKey:Ot,args:re,having:me}}},b=function T(R,S,A,W,I,O){var h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(R){var w=S.length;if((R=="all"||R=="some")&&(0,o.isJsonLogic)(S[1])){var V=Object.keys(S[1])[0];V=="in"&&(S=[S[0],S[1][V][1]],R=R+"-"+V)}var H=C(R,w,S,h,A,W,O);if(H){var _=H.field,oe=H.fieldConfig,te=H.opKey,Q=H.args,X=H.having,k=W.operators[te],re=oe.showNot!==void 0?oe.showNot:W.settings.showNot,q=!0,le,ee;if(oe.type=="!group"&&X){le=Object.keys(X)[0],ee=X[le],Array.isArray(ee)||(ee=[ee]);var ie=le=="!"&&ee.length==1&&ee[0]&&(0,o.isJsonLogic)(ee[0])&&A.varKeys.includes(Object.keys(ee[0])[0]);le=="!"&&!ie&&(I=!I,X=X["!"],le=Object.keys(X)[0],ee=X[le],Array.isArray(ee)||(ee=[ee]))}I&&q&&k.reversedOp&&(I=!1,te=k.reversedOp,k=W.operators[te]);var he=(0,a.getWidgetForFieldOp)(W,_,te),me=Q.map(function($e){return D($e,A,W,"val",O,!1,oe,he,h)});if(!me.filter(function($e){return $e===void 0}).length){var be;if(oe.type=="!group"&&X){if(A.conjunctions[le]!==void 0)be=Y(le,ee,A,W,I,O,_,!0),I=!1;else{var Be,je=T(le,ee,A,W,I&&q,O,_);I&&q&&!(je!=null&&(Be=je.properties)!==null&&Be!==void 0&&Be.not)&&(I=!1),be=U(je,_,oe,W,A.conjunctions.and)}if(!be)return;be.type="rule_group",I&&Object.assign(be.properties,{not:I}),Object.assign(be.properties,{field:_,mode:oe.mode,operator:te}),oe.mode=="array"&&Object.assign(be.properties,{value:me.map(function($e){return $e.value}),valueSrc:me.map(function($e){return $e.valueSrc}),valueType:me.map(function($e){return $e.valueType})})}else if(oe.type=="!group"&&!X)be={type:"rule_group",id:(0,n.default)(),children1:{},properties:{conjunction:(0,d.defaultGroupConjunction)(W,oe),not:I,mode:oe.mode,field:_,operator:te}},oe.mode=="array"&&Object.assign(be.properties,{value:me.map(function($e){return $e.value}),valueSrc:me.map(function($e){return $e.valueSrc}),valueType:me.map(function($e){return $e.valueType})});else{var Ue=me.map(function($e){return $e.asyncListValues}).filter(function($e){return $e!=null}),Ie=Ue.length?Ue[0]:void 0;be={type:"rule",id:(0,n.default)(),properties:{field:_,operator:te,value:me.map(function($e){return $e.value}),valueSrc:me.map(function($e){return $e.valueSrc}),valueType:me.map(function($e){return $e.valueType}),asyncListValues:Ie}},I&&(be=M(be,W,I))}return be}}}}},44161:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.loadFromSpel=e._loadFromSpel=void 0;var c=r(t(85715)),f=r(t(73738)),s=r(t(43693)),l=r(t(41132)),n=t(21450),o=r(t(21428)),i=t(67212),a=t(76348),u=t(44435),d=t(68429),v=t(46897),p=r(t(95093));function m(S,A){var W=Object.keys(S);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(S);A&&(I=I.filter(function(O){return Object.getOwnPropertyDescriptor(S,O).enumerable})),W.push.apply(W,I)}return W}function P(S){for(var A=1;A<arguments.length;A++){var W=arguments[A]!=null?arguments[A]:{};A%2?m(Object(W),!0).forEach(function(I){(0,s.default)(S,I,W[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(W)):m(Object(W)).forEach(function(I){Object.defineProperty(S,I,Object.getOwnPropertyDescriptor(W,I))})}return S}var E=function(A,W){return L(A,W,!0)};e.loadFromSpel=E;var L=function(A,W){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,O={errors:[]},h=(0,i.extendConfig)(W),w=D(h),V,H,_=void 0;try{var oe=n.SpelExpressionEvaluator.compile(A);V=oe._compiledExpression}catch(Q){O.errors.push(Q)}V&&(v.logger.debug("compiledExpression:",V),H=F(V,O),v.logger.debug("convertedObj:",H,O),_=U(H,w,h,O),_&&_.type!="group"&&_.type!="switch_group"&&(_=R(_,h,H.not)),v.logger.debug("jsTree:",_));var te=_?(0,u.loadTree)(_):void 0;return I?[te,O.errors]:(O.errors.length&&console.warn("Errors while importing from SpEL:",O.errors),te)};e._loadFromSpel=L;var F=function S(A,W){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,O=A.getType(),h=A.getChildren().map(function(Ie){return S(Ie,W,A)});if((O=="op-or"||O=="op-and")&&(h=h.reduce(function(Ie,$e){var qe=$e.type==O&&!$e.not,tt=qe?$e.children:[$e];return[].concat((0,l.default)(Ie),(0,l.default)(tt))},[])),O=="op-not")return h.length!=1&&W.errors.push("Operator NOT should have 1 child, but got ".concat(h.length,"}")),P(P({},h[0]),{},{not:!h[0].not});if(O=="compound"){h=h.filter(function(Ie){var $e=Ie.type=="selection"&&Ie.children.length==1&&Ie.children[0].type=="boolean"&&Ie.children[0].val==!0;return!$e});var w=h.find(function(Ie){return Ie.type=="selection"});w&&w.children.length!=1&&W.errors.push("Selection should have 1 child, but got ".concat(w.children.length));var V=w?w.children[0]:null,H=h[h.length-1],_=H.type=="method"&&H.val.methodName=="size"||H.type=="!func"&&H.methodName=="size",oe=H.type=="property"&&H.val=="length",te=h.filter(function(Ie){return Ie!==w&&Ie!==H}),Q={type:"compound",children:te};if(_||oe)return{type:"!aggr",filter:V,source:Q};if(h=h.filter(function(Ie){var $e=Ie.type=="variable"&&Ie.val=="this",qe=Ie.type=="variable"&&Ie.val=="root";return!($e||qe)}),h=h.map(function(Ie){return Ie.type=="indexer"&&Ie.children.length==1?{type:"indexer",val:Ie.children[0].val,itype:Ie.children[0].type}:Ie}),H.type=="method"){var X=h.filter(function(Ie){return Ie!==H});return{type:"!func",obj:X,methodName:H.val.methodName,args:H.val.args}}if(H.type=="!func"){var k=h.filter(function(Ie){return Ie!==H});return P(P({},H),{},{obj:k})}}var re;try{A.getRaw?re=A.getRaw():A.getValue.length==0&&(re=A.getValue())}catch(Ie){v.logger.error("[spel2js] Error in getValue()",Ie)}if(O=="ternary"&&(re=j(h)),(0,f.default)(re)==="object"&&re!==null&&(re.methodName||re.functionName)&&(re.args=re.args.map(function(Ie){return S(Ie,W,A)})),O=="list"&&(re=re.map(function(Ie){return S(Ie,W,A)}),!I&&re.length==1))return re[0];if(O=="constructorref"){var q=h.find(function(Ie){return Ie.type=="qualifiedidentifier"}),le=q?.val;if(!le){W.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(h)));return}var ee=h.filter(function(Ie){return Ie.type!="qualifiedidentifier"});return{type:"!new",cls:le,args:ee}}if(O=="typeref"){var ie=h.find(function(Ie){return Ie.type=="qualifiedidentifier"}),he=ie?.val;if(!he){W.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(h)));return}var me=h.filter(function(Ie){return Ie.type!="qualifiedidentifier"});return{type:"!type",cls:he}}if(O=="function"||O=="method"){var be=re,Be=be.functionName,je=be.methodName,Ue=be.args;return{type:"!func",methodName:Be||je,isVar:O=="function",args:Ue}}return{type:O,children:h,val:re}},j=function(A){var W=[];function I(O){var h=(0,c.default)(O,3),w=h[0],V=h[1],H=h[2];W.push([w,V]),H?.type=="ternary"?I(H.children):W.push([void 0,H])}return I(A),W},D=function(A){var W={},I=function(k){var re=A.operators[k];if(re.spelOps)re.spelOps.forEach(function(le){var ee=le;W[ee]||(W[ee]=[]),W[ee].push(k)});else if(re.spelOp){var q=re.spelOp;W[q]||(W[q]=[]),W[q].push(k)}else v.logger.log("[spel] No spelOp for operator ".concat(k))};for(var O in A.operators)I(O);var h={};for(var w in A.conjunctions){var V=A.conjunctions[w],H=V.spelConj||w.toLowerCase();h[H]=w}var _={};for(var oe in A.funcs){var te=A.funcs[oe],Q=void 0;typeof te.spelFunc=="string"&&(Q=te.spelFunc),Q&&(_[Q]||(_[Q]=[]),_[Q].push(oe))}return{operators:W,conjunctions:h,funcs:_}},B=function(A,W){var I=!1,O=A.map(function(h){if(h.type=="variable"||h.type=="property"||h.type=="indexer"&&h.itype=="string")return h.val;I=!0,W.errors.push("Unexpected item in compound: ".concat(JSON.stringify(h)))});return I?void 0:O},G=function S(A,W,I,O,h){if(A!=null){var w=I.settings.fieldSeparator,V={number:"number",string:"text",boolean:"boolean",null:"null"},H=h!=null&&h._groupField?[h?._groupField]:[];if(A.type=="compound"){var _,oe,te=B(A.children,O);if(!te)return;var Q=[].concat(H,(0,l.default)(te)),X=((_=A.children)===null||_===void 0||(oe=_[0])===null||oe===void 0?void 0:oe.type)=="variable";return{valueSrc:"field",isVariable:X,value:Q.join(w)}}else if(A.type=="variable"||A.type=="property"){var k=[].concat(H,[A.val]),re=A.type=="variable";return{valueSrc:"field",isVariable:re,value:k.join(w)}}else if(V[A.type]){var q=A.val,le=V[A.type];return h!=null&&h.isUnary&&(q=-q),{valueSrc:"value",valueType:le,value:q}}else if(A.type=="list"){var ee,ie=A.val.map(function(kt){return S(kt,W,I,O,A)}),he=ie.length?(ee=ie[0])===null||ee===void 0?void 0:ee.valueType:null,me=ie.map(function(kt){return kt?.value}),be="multiselect";return{valueSrc:"value",valueType:be,value:me}}else if(A.type=="!func"){var Be,je=A.obj,Ue=A.methodName,Ie=A.args,$e=A.isVar,qe=(Be={},(0,s.default)(Be,".contains","like"),(0,s.default)(Be,".startsWith","starts_with"),(0,s.default)(Be,".endsWith","ends_with"),(0,s.default)(Be,"$contains","select_any_in"),(0,s.default)(Be,".equals","multiselect_equals"),(0,s.default)(Be,"CollectionUtils.containsAny()","multiselect_contains"),Be),tt=Ie.map(function(kt){return S(kt,W,I,O,P(P({},A),{},{_groupField:h?._groupField}))});if(Ue=="contains"&&je&&je[0].type=="list"){var ct=je.map(function(kt){return S(kt,W,I,O,A)});if(!(tt.length==1&&tt[0].valueSrc=="field")){O.errors.push("Expected arg to method ".concat(Ue," to be field but got: ").concat(JSON.stringify(tt)));return}var gt=tt[0].value;if(!(ct.length==1&&ct[0].valueType=="multiselect")){O.errors.push("Expected object of method ".concat(Ue," to be inline list but got: ").concat(JSON.stringify(ct)));return}var dt=qe["$"+Ue],Ot=ct[0];return K(I,O,gt,dt,[Ot])}else if(je&&je[0].type=="property"&&qe[je[0].val+"."+Ue+"()"]){var Me=qe[je[0].val+"."+Ue+"()"],Le=tt[0].value,He=tt.slice(1);return K(I,O,Le,Me,He)}else if(qe["."+Ue]){var _e=qe["."+Ue],Xe=B(je,O);if(Xe&&tt.length==1){var rt=[].concat(H,(0,l.default)(Xe)),ke=rt.join(w);return K(I,O,ke,_e,tt)}}else if(Ue=="parse"&&je&&je[0].type=="!new"&&je[0].cls.at(-1)=="SimpleDateFormat"){var ft=je[0].args.map(function(kt){return S(kt,W,I,O,P(P({},A),{},{_groupField:h?._groupField}))});if(!(ft.length==1&&ft[0].valueType=="text")){O.errors.push("Expected args of ".concat(je[0].cls.join("."),".").concat(Ue," to be 1 string but got: ").concat(JSON.stringify(ft)));return}if(!(tt.length==1&&tt[0].valueType=="text")){O.errors.push("Expected args of ".concat(je[0].cls.join(".")," to be 1 string but got: ").concat(JSON.stringify(tt)));return}var vt=ft[0].value,Pt=tt[0].value,ht=vt.includes(" ")?"datetime":"date",Rt=null,jt=ht,ut=(0,i.getFieldConfig)(I,Rt),Ft=I.widgets[jt||ut?.mainWidget],Wt=Ft.valueFormat,Lt=(0,p.default)(Pt,p.default.ISO_8601),$t=Lt.isValid()?Lt.format(Wt):void 0;return{valueSrc:"value",valueType:ht,value:$t}}else if(Ue=="parse"&&je&&je[0].type=="!type"&&je[0].cls.at(-1)=="LocalTime"){if(!(tt.length==1&&tt[0].valueType=="text")){O.errors.push("Expected args of ".concat(je[0].cls.join(".")," to be 1 string but got: ").concat(JSON.stringify(tt)));return}var Gt=tt[0].value,Yt="time",Kt=null,nr=Yt,_t=(0,i.getFieldConfig)(I,Kt),Xt=I.widgets[nr||_t?.mainWidget],ar=Xt.valueFormat,cr=(0,p.default)(Gt,"HH:mm:ss"),wr=cr.isValid()?cr.format(ar):void 0;return{valueSrc:"value",valueType:Yt,value:wr}}else O.errors.push("Unsupported method ".concat(Ue))}else{if(A.type=="op-plus"&&h?.type=="ternary")return y(A,W,I,O);O.errors.push("Can't convert arg of type ".concat(A.type))}}},K=function(A,W,I,O,h){if(!h.filter(function(Q){return Q===void 0}).length){var w=(0,i.getFieldConfig)(A,I);if(!w){W.errors.push("No config for field ".concat(I));return}var V=(0,a.getWidgetForFieldOp)(A,I,O),H=A.widgets[V||w.mainWidget],_=h.map(function(Q){return Q.asyncListValues}).filter(function(Q){return Q!=null}),oe=_.length?_[0]:void 0,te={type:"rule",id:(0,o.default)(),properties:{field:I,operator:O,value:h.map(function(Q){return Q.value}),valueSrc:h.map(function(Q){return Q.valueSrc}),valueType:h.map(function(Q){return Q.valueSrc=="value"&&(H?.type||w?.type)||Q.valueType}),asyncListValues:oe}};return te}},Y=function(A,W,I,O,h){var w=A.groupFilter,V=A.groupFieldValue;if(V.valueSrc!="field")throw"Bad groupFieldValue: ".concat(JSON.stringify(V));var H=V.value,_=K(O,h,H,W,I);if(_){var oe=(0,i.getFieldConfig)(O,H),te=oe?.mode,Q=P(P({},w||{}),{},{type:"rule_group",properties:P(P(P({},_.properties),w?.properties||{}),{},{mode:te})});return Q.id||(Q.id=(0,o.default)()),Q}},$=function(A,W,I,O,h,w){var V=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(A.type==W.type)if(A.type=="!aggr"){var H=[A.source,W.source].map(function(q){return G(q,O,h,w,P(P({},I),{},{_groupField:V?._groupField}))}),_=(0,c.default)(H,2),oe=_[0],te=_[1];return oe.value==te.value}else{var Q=[A,W].map(function(q){return G(q,O,h,w,P(P({},I),{},{_groupField:V?._groupField}))}),X=(0,c.default)(Q,2),k=X[0],re=X[1];return k.value==re.value}return!1},U=function S(A,W,I,O){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(A){var w;if(A.type.indexOf("op-")==0){var V=A.type.slice(3),H=(V=="minus"||V=="plus")&&A.children.length==1;if(H)return A.isUnary=!0,S(A.children[0],W,I,O,A);var _=V=="and"&&A.children.length==2&&A.children[0].type=="op-ge"&&A.children[1].type=="op-le",oe=V=="or"&&A.children.length==2&&A.children[0].type=="op-lt"&&A.children[1].type=="op-gt",te=_||oe;if(te){var Q=(0,c.default)(A.children[0].children,2),X=Q[0],k=Q[1],re=(0,c.default)(A.children[1].children,2),q=re[0],le=re[1],ee=k.type=="number"&&le.type=="number",ie=$(X,q,A,W,I,O,h);if(ee&&ie){var he=k.val,me=le.val,be={type:"op-between",children:[X,k,le]};return S(be,W,I,O,h)}}var Be=W.operators[V],je;V=="eq"&&A.children[1].type=="null"?je="is_null":V=="ne"&&A.children[1].type=="null"?je="is_not_null":V=="le"&&A.children[1].type=="string"&&A.children[1].val==""?(je="is_empty",Be=["is_empty"]):V=="gt"&&A.children[1].type=="string"&&A.children[1].val==""?(je="is_not_empty",Be=["is_not_empty"]):V=="between"&&(je="between",Be=["between"]);var Ue=function(){return A.children.map(function(vt){return S(vt,W,I,O,P(P({},A),{},{_groupField:h?._groupField}))})};if(V=="and"||V=="or"){var Ie={},$e=Ue();$e.forEach(function(ft){if(ft){var vt=(0,o.default)();ft.id=vt,ft.type!=null?Ie[vt]=ft:O.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(ft)))}}),w={type:"group",id:(0,o.default)(),children1:Ie,properties:{conjunction:W.conjunctions[V],not:A.not}}}else if(Be){var qe=Ue(),tt=qe[0],ct=qe.slice(1);if(je=Be[0],tt)if(tt.groupFieldValue){tt.groupFieldValue.valueSrc!="field"&&O.errors.push("Expected group field ".concat(JSON.stringify(tt)));var gt=tt.groupFieldValue.value,dt=ct[0];dt&&dt.groupFieldValue&&dt.groupFieldValue.valueSrc=="field"&&dt.groupFieldValue.value==gt?(je="all",ct=[]):je=="equal"&&dt.valueSrc=="value"&&dt.valueType=="number"&&dt.value==0?(je="none",ct=[]):je=="greater"&&dt.valueSrc=="value"&&dt.valueType=="number"&&dt.value==0&&(je="some",ct=[]),w=Y(tt,je,ct,I,O)}else{tt.valueSrc!="field"&&O.errors.push("Expected field ".concat(JSON.stringify(tt)));var Ot=tt.value;if(Be.length>1){v.logger.warn("[spel] Spel operator ".concat(V," can be mapped to ").concat(Be));var Me=Be.map(function(ft){return{op:ft,widget:(0,a.getWidgetForFieldOp)(I,Ot,ft)}});if(V=="eq"||V=="ne"){var Le=Me.find(function(ft){var vt=ft.op,Pt=ft.widget;return Pt&&Pt!="field"});je=Le.op}}w=K(I,O,Ot,je,ct)}}else h||(w=M(A,W,I,O)),w||O.errors.push("Can't convert op ".concat(V))}else if(A.type=="!aggr"){var He,_e=S(A.source,W,I,O,P(P({},A),{},{_groupField:h?._groupField})),Xe=S(A.filter,W,I,O,P(P({},A),{},{_groupField:_e?.value}));((He=Xe)===null||He===void 0?void 0:He.type)=="rule"&&(Xe=R(Xe,I)),w={groupFilter:Xe,groupFieldValue:_e},h||(w=void 0,O.errors.push("Unexpected !aggr in root"))}else if(A.type=="ternary"){var rt={};A.val.forEach(function(ft){var vt=(0,c.default)(ft,2),Pt=vt[0],ht=vt[1],Rt=C(Pt,ht,W,I,O,A);Rt&&(rt[Rt.id]=Rt)}),w={type:"switch_group",id:(0,o.default)(),children1:rt,properties:{}}}else if(w=G(A,W,I,O,h),w&&!w.type&&!h){var ke=M(A,W,I,O);ke?w=ke:(w=void 0,O.errors.push("Can't convert rule of type ".concat(A.type,", it looks like var/literal")))}return w}},M=function(A,W,I,O){var h={},w=null,V=C(w,A,W,I,O);V&&(h[V.id]=V);var H={type:"switch_group",id:(0,o.default)(),children1:h,properties:{}};return H},C=function(A,W,I,O,h){var w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,V=b(O,h,I,W,w),H;return A?(H=U(A,I,O,h,w),H&&H.type?(H.type!="group"&&(H=R(H,O)),H.type="case_group"):(h.errors.push("Unexpected case: ".concat(JSON.stringify(H))),H=void 0)):H={id:(0,o.default)(),type:"case_group",properties:{}},H&&(H.properties=P(P({},H.properties),V)),H},y=function(A,W,I,O){var h=[];function w(V){V.map(function(H){if(H.type=="op-plus")w(H.children);else{var _=G(H,W,I,O,A);_?h.push(_):O.errors.push("Can't convert ".concat(H.type," in concatenation"))}})}return w(A.children),{valueSrc:"value",valueType:"case_value",value:h}},b=function(A,W,I,O){var h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,w={},V;O?.type=="op-plus"?V=y(O,I,A,W):V=G(O,I,A,W,h);var H=A.widgets.case_value,_=H?.spelImportValue;if(_){var oe=_(V),te=(0,c.default)(oe,2),Q=te[0],X=te[1];X.map(function(k){return W.errors.push(k)}),Q&&(w={value:[Q],valueSrc:["value"],valueType:["case_value"]})}else W.errors.push("No fucntion to import case value");return w},T=function(A,W,I,O,h){if(A)return{type:"rule_group",id:(0,o.default)(),children1:(0,s.default)({},A.id,A),properties:{conjunction:h||(0,d.defaultGroupConjunction)(O,I),not:!1,field:W}}},R=function(A,W){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:(0,o.default)(),children1:(0,s.default)({},A.id,A),properties:{conjunction:(0,d.defaultConjunction)(W),not:I||!1}}}},44435:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.isImmutableTree=e.getTree=e.checkTree=void 0,Object.defineProperty(e,"isJsonLogic",{enumerable:!0,get:function(){return i.isJsonLogic}}),e.loadTree=e.isValidTree=e.isTree=void 0;var f=r(t(73738)),s=u(t(36940)),l=t(33588),n=t(67212),o=t(8930),i=t(46897);function a(F){if(typeof WeakMap!="function")return null;var j=new WeakMap,D=new WeakMap;return(a=function(G){return G?D:j})(F)}function u(F,j){if(!j&&F&&F.__esModule)return F;if(F===null||c(F)!=="object"&&typeof F!="function")return{default:F};var D=a(j);if(D&&D.has(F))return D.get(F);var B={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in F)if(K!=="default"&&Object.prototype.hasOwnProperty.call(F,K)){var Y=G?Object.getOwnPropertyDescriptor(F,K):null;Y&&(Y.get||Y.set)?Object.defineProperty(B,K,Y):B[K]=F[K]}return B.default=F,D&&D.set(F,B),B}var d=function(j){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(j){var G=j;return G=G.toJS(),D&&(G=(0,o.getLightTree)(G,B)),G}};e.getTree=d;var v=function(j){if(P(j))return j;if(E(j))return L(j);if(typeof j=="string"&&j.startsWith('["~#iM"'))throw"You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17";if(typeof j=="string")return L(JSON.parse(j));throw"Can't load tree!"};e.loadTree=v;var p=function(j,D){if(j){var B=(0,n.extendConfig)(D);return(0,l.validateTree)(j,null,B,B)}};e.checkTree=p;var m=function(j){return(0,o.getTreeBadFields)(j).length==0};e.isValidTree=m;var P=function(j){return s.Map.isMap(j)};e.isImmutableTree=P;var E=function(j){return(0,f.default)(j)=="object"&&(j.type=="group"||j.type=="switch_group")};e.isTree=E;function L(F){return(0,s.fromJS)(F,function(j,D){var B;if(j=="properties"){B=D.toOrderedMap();for(var G=0;G<2;G++){var K;((K=B.get("value"))===null||K===void 0?void 0:K.get(G))===null&&(B=B.setIn(["value",G],void 0))}}else if(j=="value"&&D.get(0)&&D.get(0).toJS!==void 0){var Y=D.get(0).toJS();Y.func?B=D.toOrderedMap():B=s.default.List.of(Y)}else j=="asyncListValues"?B=D.toJS():j=="children1"&&s.default.Iterable.isIndexed(D)?B=new s.default.OrderedMap(D.map(function($){return[$.get("id"),$]})):B=s.default.Iterable.isIndexed(D)?D.toList():D.toOrderedMap();return B})}},94541:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BasicConfig",{enumerable:!0,get:function(){return v.default}}),e.BasicFuncs=void 0,Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return l.default}}),e.Operators=e.Import=e.Export=void 0,Object.defineProperty(e,"Query",{enumerable:!0,get:function(){return s.default}}),e.Widgets=e.Utils=void 0;var f=r(t(43693)),s=r(t(89327)),l=r(t(11001)),n=m(t(84484));e.Export=n;var o=m(t(35327));e.Import=o;var i=m(t(61036));e.Widgets=i;var a=m(t(27036));e.Operators=a;var u=m(t(62543)),d=m(t(88139));e.BasicFuncs=d;var v=r(t(68766));function p(F){if(typeof WeakMap!="function")return null;var j=new WeakMap,D=new WeakMap;return(p=function(G){return G?D:j})(F)}function m(F,j){if(!j&&F&&F.__esModule)return F;if(F===null||c(F)!=="object"&&typeof F!="function")return{default:F};var D=p(j);if(D&&D.has(F))return D.get(F);var B={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in F)if(K!=="default"&&Object.prototype.hasOwnProperty.call(F,K)){var Y=G?Object.getOwnPropertyDescriptor(F,K):null;Y&&(Y.get||Y.set)?Object.defineProperty(B,K,Y):B[K]=F[K]}return B.default=F,D&&D.set(F,B),B}function P(F,j){var D=Object.keys(F);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(F);j&&(B=B.filter(function(G){return Object.getOwnPropertyDescriptor(F,G).enumerable})),D.push.apply(D,B)}return D}function E(F){for(var j=1;j<arguments.length;j++){var D=arguments[j]!=null?arguments[j]:{};j%2?P(Object(D),!0).forEach(function(B){(0,f.default)(F,B,D[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(D)):P(Object(D)).forEach(function(B){Object.defineProperty(F,B,Object.getOwnPropertyDescriptor(D,B))})}return F}var L=E(E(E({},u),n),o);e.Utils=L},81079:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=r(t(96540)),f=c.default.createContext();e.default=f},38410:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=r(t(85715)),s=r(t(43693)),l=r(t(36940)),n=t(8930),o=t(68429),i=L(t(1476)),a=r(t(21428)),u=t(67212),d=t(76348),v=t(46897),p=t(33588),m=r(t(90179)),P=r(t(73916));function E(te){if(typeof WeakMap!="function")return null;var Q=new WeakMap,X=new WeakMap;return(E=function(re){return re?X:Q})(te)}function L(te,Q){if(!Q&&te&&te.__esModule)return te;if(te===null||c(te)!=="object"&&typeof te!="function")return{default:te};var X=E(Q);if(X&&X.has(te))return X.get(te);var k={},re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in te)if(q!=="default"&&Object.prototype.hasOwnProperty.call(te,q)){var le=re?Object.getOwnPropertyDescriptor(te,q):null;le&&(le.get||le.set)?Object.defineProperty(k,q,le):k[q]=te[q]}return k.default=te,X&&X.set(te,k),k}function F(te,Q){var X=typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(!X){if(Array.isArray(te)||(X=j(te))||Q&&te&&typeof te.length=="number"){X&&(te=X);var k=0,re=function(){};return{s:re,n:function(){return k>=te.length?{done:!0}:{done:!1,value:te[k++]}},e:function(he){throw he},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q=!0,le=!1,ee;return{s:function(){X=X.call(te)},n:function(){var he=X.next();return q=he.done,he},e:function(he){le=!0,ee=he},f:function(){try{!q&&X.return!=null&&X.return()}finally{if(le)throw ee}}}}function j(te,Q){if(te){if(typeof te=="string")return D(te,Q);var X=Object.prototype.toString.call(te).slice(8,-1);if(X==="Object"&&te.constructor&&(X=te.constructor.name),X==="Map"||X==="Set")return Array.from(te);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return D(te,Q)}}function D(te,Q){(Q==null||Q>te.length)&&(Q=te.length);for(var X=0,k=new Array(Q);X<Q;X++)k[X]=te[X];return k}function B(te,Q){var X=Object.keys(te);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(te);Q&&(k=k.filter(function(re){return Object.getOwnPropertyDescriptor(te,re).enumerable})),X.push.apply(X,k)}return X}function G(te){for(var Q=1;Q<arguments.length;Q++){var X=arguments[Q]!=null?arguments[Q]:{};Q%2?B(Object(X),!0).forEach(function(k){(0,s.default)(te,k,X[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(X)):B(Object(X)).forEach(function(k){Object.defineProperty(te,k,Object.getOwnPropertyDescriptor(X,k))})}return te}var K=function(Q,X,k,re,q,le){var ee=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,ie=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},he=le.settings.shouldCreateEmptyGroup,me=X.push(re),be=!he,Be=!!(ie!=null&&ie.isDefaultCase),je=Q;return Q=b(Q,X,k,re,(0,o.defaultGroupProperties)(le).merge(q||{}),le,ee),Q!==je&&(!ee&&!Be&&(Q=Q.setIn((0,n.expandTreePath)(me,"children1"),new l.default.OrderedMap),be&&(Q=b(Q,me,"rule",(0,a.default)(),(0,o.defaultRuleProperties)(le),le))),Q=(0,n.fixPathsInTree)(Q)),Q},Y=function(Q,X,k){Q=T(Q,X);var re=k.settings.canLeaveEmptyGroup,q=X.slice(0,-1),le=!(0,n.hasChildren)(Q,q);return le&&!re&&(Q=(0,n.fixEmptyGroupsInTree)(Q),(0,n.isEmptyTree)(Q)&&!re&&(Q=b(Q,new l.default.List,"rule",(0,a.default)(),(0,o.defaultRuleProperties)(k),k))),Q=(0,n.fixPathsInTree)(Q),Q},$=function(Q,X,k){Q=T(Q,X);var re=k.settings.canLeaveEmptyGroup,q=X.pop(),le=Q.getIn((0,n.expandTreePath)(q)),ee=le.getIn(["properties","field"]),ie=le.getIn(["properties","operator"]),he=le.getIn(["properties","value",0]),me=ee?(0,u.getFieldConfig)(k,ee):null,be=ie?(0,u.getOperatorConfig)(k,ie,ee):null,Be=ee&&ie&&be.cardinality!=0,je=le.get("type")=="rule_group",Ue=!(0,n.hasChildren)(Q,q),Ie=je?Be&&me.initialEmptyWhere:re;return Ue&&!Ie&&(je&&(Q=Q.deleteIn((0,n.expandTreePath)(q))),Q=(0,n.fixEmptyGroupsInTree)(Q),(0,n.isEmptyTree)(Q)&&!re&&(Q=b(Q,new l.default.List,"rule",(0,a.default)(),(0,o.defaultRuleProperties)(k),k))),Q=(0,n.fixPathsInTree)(Q),Q},U=function(Q,X,k){return Q.setIn((0,n.expandTreePath)(X,"properties","not"),k)},M=function(Q,X,k){return(0,n.removeIsLockedInTree)(Q.setIn((0,n.expandTreePath)(X,"properties","isLocked"),k))},C=function(Q,X,k){return Q.setIn((0,n.expandTreePath)(X,"properties","conjunction"),k)},y=function te(Q,X,k){k&&Array.isArray(k)&&(X.children1=new l.default.OrderedMap(k.reduce(function(re,q){var le=(0,a.default)(),ee=G(G({},q),{},{properties:(0,o.defaultItemProperties)(Q,q).merge(q.properties||{}),id:le});return te(Q,ee,ee.children1),G(G({},re),{},(0,s.default)({},le,new l.default.Map(ee)))},{})))},b=function(Q,X,k,re,q,le){var ee=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(k=="switch_group")throw new Error("Can't add switch_group programmatically");var ie=le.settings,he=ie.maxNumberOfCases,me=ie.maxNumberOfRules,be=ie.maxNesting,Be=Q.get("type"),je=Be=="switch_group",Ue=Q.getIn((0,n.expandTreePath)(X)),Ie=je?Q.getIn((0,n.expandTreePath)(X.take(2))):null,$e=(0,n.expandTreePath)(X,"children1"),qe=Q.getIn($e),tt=!!qe&&qe.size,ct=tt?qe.size:null,gt,dt;k=="case_group"?(gt=ct,dt=he):k=="group"?(gt=X.size,dt=be):Ue?.get("type")=="rule_group"||(gt=je?(0,n.getTotalRulesCountInTree)(Ie):(0,n.getTotalRulesCountInTree)(Q),dt=me);var Ot=dt&&gt?gt<dt:!0,Me={type:k,id:re,properties:q};y(le,Me,ee);var Le=k=="case_group"&&tt&&qe.last().get("children1")==null;if(Ot){var He=new l.default.OrderedMap((0,s.default)({},re,new l.default.Map(Me)));if(!tt)Q=Q.setIn($e,He);else if(Le){var _e,Xe=qe.last(),rt=new l.default.OrderedMap((_e={},(0,s.default)(_e,re,new l.default.Map(Me)),(0,s.default)(_e,Xe.get("id"),Xe),_e));Q=Q.deleteIn((0,n.expandTreePath)($e,"children1",Xe.get("id"))),Q=Q.mergeIn($e,rt)}else Q=Q.mergeIn($e,He);Q=(0,n.fixPathsInTree)(Q)}return Q},T=function(Q,X){return Q=Q.deleteIn((0,n.expandTreePath)(X)),Q=(0,n.fixPathsInTree)(Q),Q},R=function(Q,X,k,re,q){var le=(0,n.getItemByPath)(Q,X),ee=X.pop(),ie=X.size>1?(0,n.getItemByPath)(Q,ee):null,he=ie?ie.get("children1"):null,me=(0,n.getItemByPath)(Q,k),be=re==i.PLACEMENT_APPEND||re==i.PLACEMENT_PREPEND?k:k.pop(),Be=re==i.PLACEMENT_APPEND||re==i.PLACEMENT_PREPEND?me:k.size>1?(0,n.getItemByPath)(Q,be):null,je=Be?Be.get("children1"):null;if(!ie||!Be||!le)return Q;var Ue=ie.get("id")==Be.get("id"),Ie=be.size<ee.size&&(0,v.deepEqual)(be.toArray(),ee.toArray().slice(0,be.size)),$e=be.size>ee.size&&(0,v.deepEqual)(ee.toArray(),be.toArray().slice(0,ee.size)),qe=null,tt=null;Ie?qe=l.default.List(ee.toArray().slice(be.size)):$e&&(tt=l.default.List(be.toArray().slice(ee.size)));var ct=je,gt=he;return $e||(gt=gt.delete(le.get("id"))),Ue?ct=gt:Ie&&(ct=ct.updateIn((0,n.expandTreeSubpath)(qe,"children1"),function(dt){return gt})),re==i.PLACEMENT_BEFORE||re==i.PLACEMENT_AFTER?ct=l.default.OrderedMap().withMutations(function(dt){var Ot=F(ct.entries()),Me;try{for(Ot.s();!(Me=Ot.n()).done;){var Le=(0,f.default)(Me.value,2),He=Le[0],_e=Le[1];He==me.get("id")&&re==i.PLACEMENT_BEFORE&&dt.set(le.get("id"),le),dt.set(He,_e),He==me.get("id")&&re==i.PLACEMENT_AFTER&&dt.set(le.get("id"),le)}}catch(Xe){Ot.e(Xe)}finally{Ot.f()}}):re==i.PLACEMENT_APPEND?ct=ct.merge((0,s.default)({},le.get("id"),le)):re==i.PLACEMENT_PREPEND&&(ct=l.default.OrderedMap((0,s.default)({},le.get("id"),le)).merge(ct)),$e&&(gt=gt.updateIn((0,n.expandTreeSubpath)(tt,"children1"),function(dt){return ct}),gt=gt.delete(le.get("id"))),!Ue&&!Ie&&(Q=Q.updateIn((0,n.expandTreePath)(ee,"children1"),function(dt){return gt})),$e||(Q=Q.updateIn((0,n.expandTreePath)(be,"children1"),function(dt){return ct})),Q=(0,n.fixPathsInTree)(Q),Q},S=function(Q,X,k,re){if(!k)return T(Q,X);var q=re.settings,le=q.fieldSeparator,ee=q.setOpOnChangeField,ie=q.showErrorMessage;Array.isArray(k)&&(k=k.join(le));var he=Q.getIn((0,n.expandTreePath)(X,"type")),me=Q.getIn((0,n.expandTreePath)(X,"properties")),be=he=="rule_group",Be=(0,u.getFieldConfig)(re,k),je=Be.type=="!group",Ue=je&&Be.mode=="array",Ie=be!=je,$e=me.get("operator"),qe=me.get("operatorOptions"),tt=me.get("field"),ct=me.get("value"),gt=me.get("valueSrc",new l.default.List),dt=me.get("valueType",new l.default.List),Ot=Be&&Be.operators.indexOf($e)!==-1?$e:null,Me=null,Le=(0,d.getOperatorsForField)(re,k);if(Le&&Le.length==1)Me=Le[0];else if(Le&&Le.length>1){var He=F(ee||[]),_e;try{for(He.s();!(_e=He.n()).done;){var Xe=_e.value;if(Xe=="keep"&&!Ie?Me=Ot:Xe=="default"?Me=(0,o.defaultOperator)(re,k,!1):Xe=="first"&&(Me=(0,d.getFirstOperator)(re,k)),Me)break}}catch(jt){He.e(jt)}finally{He.f()}}if(!je&&!Be.operators)return console.warn("Type ".concat(Be.type," is not supported")),Q;if(be&&!je&&(Q=Q.setIn((0,n.expandTreePath)(X,"type"),"rule"),Q=Q.deleteIn((0,n.expandTreePath)(X,"children1")),Q=Q.setIn((0,n.expandTreePath)(X,"properties"),new l.default.OrderedMap)),je){Q=Q.setIn((0,n.expandTreePath)(X,"type"),"rule_group");var rt=(0,d.getNewValueForFieldOp)(re,re,me,k,Me,"field",!0),ke=rt.canReuseValue,ft=rt.newValue,vt=rt.newValueSrc,Pt=rt.newValueType,ht=rt.operatorCardinality,Rt=(0,o.defaultGroupProperties)(re,Be).merge({field:k,mode:Be.mode});return Ue&&(Rt=Rt.merge({operator:Me,value:ft,valueSrc:vt,valueType:Pt})),Q=Q.setIn((0,n.expandTreePath)(X,"children1"),new l.default.OrderedMap),Q=Q.setIn((0,n.expandTreePath)(X,"properties"),Rt),Be.initialEmptyWhere&&ht==1||(Q=b(Q,X,"rule",(0,a.default)(),(0,o.defaultRuleProperties)(re,k),re)),Q=(0,n.fixPathsInTree)(Q),Q}return Q.updateIn((0,n.expandTreePath)(X,"properties"),function(jt){return jt.withMutations(function(ut){var Ft=(0,d.getNewValueForFieldOp)(re,re,ut,k,Me,"field",!0),Wt=Ft.canReuseValue,Lt=Ft.newValue,$t=Ft.newValueSrc,Gt=Ft.newValueType,Yt=Ft.newValueError;ie&&(ut=ut.set("valueError",Yt));var Kt=Wt?qe:(0,o.defaultOperatorOptions)(re,Me,k);return ut.set("field",k).set("operator",Me).set("operatorOptions",Kt).set("value",Lt).set("valueSrc",$t).set("valueType",Gt).delete("asyncListValues")})})},A=function(Q,X,k,re){var q=re.settings.showErrorMessage,le=Q.getIn((0,n.expandTreePath)(X,"properties")),ee=Q.getIn((0,n.expandTreePath)(X,"children1")),ie=le.get("field"),he=(0,u.getFieldConfig)(re,ie),me=he.type=="!group",be=(0,u.getOperatorConfig)(re,k,ie),Be=be?(0,v.defaultValue)(be.cardinality,1):null;return Q=Q.updateIn((0,n.expandTreePath)(X,"properties"),function(je){return je.withMutations(function(Ue){var Ie=Ue.get("field"),$e=Ue.get("operatorOptions"),qe=Ue.get("value",new l.default.List),tt=Ue.get("valueSrc",new l.default.List),ct=Ue.get("operator"),gt=(0,d.getNewValueForFieldOp)(re,re,Ue,Ie,k,"operator",!0),dt=gt.canReuseValue,Ot=gt.newValue,Me=gt.newValueSrc,Le=gt.newValueType,He=gt.newValueError;q&&(Ue=Ue.set("valueError",He));var _e=dt?$e:(0,o.defaultOperatorOptions)(re,k,Ie);return dt||(Ue=Ue.delete("asyncListValues")),Ue.set("operator",k).set("operatorOptions",_e).set("value",Ot).set("valueSrc",Me).set("valueType",Le)})}),me&&Be==0&&ee.size==0&&(Q=b(Q,X,"rule",(0,a.default)(),(0,o.defaultRuleProperties)(re,ie),re)),Q},W=function(Q,X,k,re,q,le,ee,ie){var he=le.settings,me=he.fieldSeparator,be=he.showErrorMessage,Be,je=Q.getIn((0,n.expandTreePath)(X,"properties","valueSrc",k+""))||null;je==="field"&&Array.isArray(re)&&(re=re.join(me));var Ue=Q.getIn((0,n.expandTreePath)(X,"properties","field"))||null,Ie=Q.getIn((0,n.expandTreePath)(X,"properties","operator"))||null,$e=(0,u.getOperatorConfig)(le,Ie,Ue),qe=Ie?(0,v.defaultValue)($e.cardinality,1):null,tt=!1,ct=q||w(re,je,le),gt=!1,dt=(0,p.validateValue)(le,Ue,Ue,Ie,re,ct,je,ee,gt,tt),Ot=(0,f.default)(dt,2),Me=Ot[0],Le=Ot[1],He=!Me;if(Le!==re&&(re=Le),be){var _e=(0,d.getWidgetForFieldOp)(le,Ue,Ie,je),Xe=(0,u.getFieldWidgetConfig)(le,Ue,Ie,_e,je),rt=Array.from({length:qe},function(Ft,Wt){return Q.getIn((0,n.expandTreePath)(X,"properties","valueSrc",Wt+""))||null});if($e&&$e.validateValues&&rt.filter(function(Ft){return Ft=="value"||Ft==null}).length==qe){var ke=Array.from({length:qe},function(Ft,Wt){return Wt==k?re:Q.getIn((0,n.expandTreePath)(X,"properties","value",Wt+""))||null}),ft=Xe&&Xe.toJS?ke.map(function(Ft){return Xe.toJS(Ft,Xe)}):ke,vt=$e.validateValues(ft);Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueError",qe),vt)}}var Pt=Q.getIn((0,n.expandTreePath)(X,"properties","value"));Pt||(Q=Q.setIn((0,n.expandTreePath)(X,"properties","value"),new l.default.List(new Array(qe))).setIn((0,n.expandTreePath)(X,"properties","valueType"),new l.default.List(new Array(qe))).setIn((0,n.expandTreePath)(X,"properties","valueError"),new l.default.List(new Array(qe))));var ht=Q.getIn((0,n.expandTreePath)(X,"properties","value",k+"")),Rt=Q.getIn((0,n.expandTreePath)(X,"properties","valueError",k)),jt=ht==null,ut=!!Rt;return(He||be)&&(Q=Q.deleteIn((0,n.expandTreePath)(X,"properties","asyncListValues")),typeof re>"u"?(Q=Q.setIn((0,n.expandTreePath)(X,"properties","value",k+""),void 0),Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueType",k+""),null)):(ee&&(Q=Q.setIn((0,n.expandTreePath)(X,"properties","asyncListValues"),ee)),Q=Q.setIn((0,n.expandTreePath)(X,"properties","value",k+""),re),Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueType",k+""),ct),Be=ie&&!jt&&!ut)),be&&(Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueError",k),Me)),ie&&(He&&ut||!He&&!ut)&&(Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueError",k),Me),Be=!1),{tree:Q,isInternalValueChange:Be}},I=function(Q,X,k,re,q){var le=q.settings.showErrorMessage,ee=Q.getIn((0,n.expandTreePath)(X,"properties","field"))||null,ie=Q.getIn((0,n.expandTreePath)(X,"properties","operator"))||null;if(Q=Q.setIn((0,n.expandTreePath)(X,"properties","value",k+""),void 0),Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueType",k+""),null),Q=Q.deleteIn((0,n.expandTreePath)(X,"properties","asyncListValues")),le){Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueError",k),null);var he=(0,u.getOperatorConfig)(q,ie,ee),me=ie?(0,v.defaultValue)(he.cardinality,1):null;he.validateValues&&(Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueError",me),null))}if(typeof re>"u"?Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueSrc",k+""),null):Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueSrc",k+""),re),re){var be=Q.getIn((0,n.expandTreePath)(X,"properties")),Be=(0,d.getNewValueForFieldOp)(q,q,be,ee,ie,"valueSrc",!0),je=Be.canReuseValue,Ue=Be.newValue,Ie=Be.newValueSrc,$e=Be.newValueType,qe=Be.newValueError;!je&&Ie.get(k)==re&&(Q=Q.setIn((0,n.expandTreePath)(X,"properties","value",k+""),Ue.get(k)),Q=Q.setIn((0,n.expandTreePath)(X,"properties","valueType",k+""),$e.get(k)))}return Q},O=function(Q,X,k,re){return Q.setIn((0,n.expandTreePath)(X,"properties","operatorOptions",k),re)},h=function(Q,X){var k=X.settings.canLeaveEmptyGroup;return k||(Q=(0,n.fixEmptyGroupsInTree)(Q)),Q},w=function(Q,X,k){var re=null;if(Q){if(X==="field"){var q=(0,u.getFieldConfig)(k,Q);q&&(re=q.type)}else if(X==="func"){var le=Q.get("func");if(le){var ee=(0,u.getFuncConfig)(k,le);ee&&(re=ee.returnType)}}}return re},V=function(Q,X){var k=Q.getIn((0,n.expandTreePath)(X,"properties","field"))||null;return k},H={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},_=function(Q,X){var k=["config","asyncListValues","__isInternal"],re=[i.SET_TREE,i.SET_DRAG_START,i.SET_DRAG_PROGRESS,i.SET_DRAG_END],q=(0,P.default)((0,m.default)(Q,k),v.applyToJS),le=Q.path&&V(X.tree,Q.path)||Q.field;return le&&(q.affectedField=le),(re.includes(Q.type)||Q.type.indexOf("@@redux")==0)&&(q=null),q},oe=function(Q,X,k){var re=(0,o.defaultRoot)(Q),q=X||re,le=G({tree:q},H);return function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:le,ie=arguments.length>1?arguments[1]:void 0,he={__isInternalValueChange:void 0,__lastAction:void 0},me={},be=_(ie,ee);switch(ie.type){case i.SET_TREE:{var Be=k(ie.config,ie.tree);me.tree=Be;break}case i.ADD_CASE_GROUP:{me.tree=K(ee.tree,ie.path,"case_group",ie.id,ie.properties,ie.config,ie.children,ie.meta);break}case i.ADD_GROUP:{me.tree=K(ee.tree,ie.path,"group",ie.id,ie.properties,ie.config,ie.children,ie.meta);break}case i.REMOVE_GROUP:{me.tree=Y(ee.tree,ie.path,ie.config);break}case i.ADD_RULE:{me.tree=b(ee.tree,ie.path,ie.ruleType,ie.id,ie.properties,ie.config,ie.children);break}case i.REMOVE_RULE:{me.tree=$(ee.tree,ie.path,ie.config);break}case i.SET_CONJUNCTION:{me.tree=C(ee.tree,ie.path,ie.conjunction);break}case i.SET_NOT:{me.tree=U(ee.tree,ie.path,ie.not);break}case i.SET_FIELD:{me.tree=S(ee.tree,ie.path,ie.field,ie.config);break}case i.SET_LOCK:{me.tree=M(ee.tree,ie.path,ie.lock);break}case i.SET_OPERATOR:{me.tree=A(ee.tree,ie.path,ie.operator,ie.config);break}case i.SET_VALUE:{var je=W(ee.tree,ie.path,ie.delta,ie.value,ie.valueType,ie.config,ie.asyncListValues,ie.__isInternal),Ue=je.tree,Ie=je.isInternalValueChange;me.__isInternalValueChange=Ie,me.tree=Ue;break}case i.SET_VALUE_SRC:{me.tree=I(ee.tree,ie.path,ie.delta,ie.srcKey,ie.config);break}case i.SET_OPERATOR_OPTION:{me.tree=O(ee.tree,ie.path,ie.name,ie.value);break}case i.MOVE_ITEM:{me.tree=R(ee.tree,ie.fromPath,ie.toPath,ie.placement,ie.config);break}case i.SET_DRAG_START:{me.dragStart=ie.dragStart,me.dragging=ie.dragging,me.mousePos=ie.mousePos;break}case i.SET_DRAG_PROGRESS:{me.mousePos=ie.mousePos,me.dragging=ie.dragging;break}case i.SET_DRAG_END:{me.tree=h(ee.tree,Q),me=G(G({},me),H);break}default:break}return be&&(me.__lastAction=be),G(G(G({},ee),he),me)}};e.default=oe},42871:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.simulateAsyncFetch=e.mergeListValues=e.listValueToOption=e.getListValue=void 0;var c=r(t(54756)),f=r(t(41132)),s=r(t(29293)),l=t(46897),n=function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;return function(){var m=(0,s.default)(c.default.mark(function P(E,L,F){var j,D,B,G,K,Y,$,U;return c.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return j=F.pageSize!=null?F.pageSize:v,D=(0,l.listValuesToArray)(d).filter(function(y){var b=y.title;return E==null?!0:b.toUpperCase().indexOf(E.toUpperCase())!=-1}),B=j?Math.ceil(D.length/j):0,G=L||0,K=j?Math.ceil(G/j):null,Y=j?D.slice(G,G+j):D,$=j?G+Y.length:null,U=j?$<D.length:!1,console.debug("simulateAsyncFetch",{search:E,offset:L,values:Y,hasMore:U,filtered:D}),C.next=11,(0,l.sleep)(p);case 11:return C.abrupt("return",{values:Y,hasMore:U});case 12:case"end":return C.stop()}},P)}));return function(P,E,L){return m.apply(this,arguments)}}()};e.simulateAsyncFetch=n;var o=function(d,v){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!v)return d;var m=d||[],P=v.filter(function(L){return m.find(function(F){return F.value==L.value})==null}),E=p?[].concat((0,f.default)(P),(0,f.default)(m)):[].concat((0,f.default)(m),(0,f.default)(P));return E};e.mergeListValues=o;var i=function(d){if(d==null)return null;var v=d.title,p=d.value,m=d.disabled,P=d.groupTitle,E=d.renderTitle,L={title:v,value:p};return m&&(L.disabled=m),P&&(L.groupTitle=P),E&&(L.renderTitle=E),L};e.listValueToOption=i;var a=function(d,v){return(0,l.mapListValues)(v,function(p){return p.value===d?p:null}).filter(function(p){return p!==null}).shift()};e.getListValue=a},67212:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeField=e.getOperatorConfig=e.getFuncConfig=e.getFuncArgConfig=e.getFieldWidgetConfig=e.getFieldRawConfig=e.getFieldConfig=e.extendConfig=e.createConfigMemo=void 0;var c=r(t(41132)),f=r(t(43693)),s=r(t(73738)),l=r(t(55364)),n=r(t(21428)),o=r(t(6924)),i=t(68697),a=r(t(95093)),u=t(46897),d=t(76348),v=r(t(1779)),p=r(t(44383));function m(I,O){var h=Object.keys(I);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(I);O&&(w=w.filter(function(V){return Object.getOwnPropertyDescriptor(I,V).enumerable})),h.push.apply(h,w)}return h}function P(I){for(var O=1;O<arguments.length;O++){var h=arguments[O]!=null?arguments[O]:{};O%2?m(Object(h),!0).forEach(function(w){(0,f.default)(I,w,h[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(h)):m(Object(h)).forEach(function(w){Object.defineProperty(I,w,Object.getOwnPropertyDescriptor(h,w))})}return I}function E(I,O){var h=typeof Symbol<"u"&&I[Symbol.iterator]||I["@@iterator"];if(!h){if(Array.isArray(I)||(h=L(I))||O&&I&&typeof I.length=="number"){h&&(I=h);var w=0,V=function(){};return{s:V,n:function(){return w>=I.length?{done:!0}:{done:!1,value:I[w++]}},e:function(Q){throw Q},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H=!0,_=!1,oe;return{s:function(){h=h.call(I)},n:function(){var Q=h.next();return H=Q.done,Q},e:function(Q){_=!0,oe=Q},f:function(){try{!H&&h.return!=null&&h.return()}finally{if(_)throw oe}}}}function L(I,O){if(I){if(typeof I=="string")return F(I,O);var h=Object.prototype.toString.call(I).slice(8,-1);if(h==="Object"&&I.constructor&&(h=I.constructor.name),h==="Map"||h==="Set")return Array.from(I);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return F(I,O)}}function F(I,O){(O==null||O>I.length)&&(O=I.length);for(var h=0,w=new Array(O);h<O;h++)w[h]=I[h];return w}var j=["conjunctions","fields","types","operators","widgets","settings","funcs"],D=function(O){return(0,p.default)(O,j)},B=function(){var O=new Map,h=2,w=0,V=function(te){var Q=G(te,++w);return O.size+1>h&&O.delete(O.keys()[0]),O.set(te,Q),Q},H=function(te){var Q=E(O.keys()),X;try{var k=function(){var me=X.value,be=j.map(function(Be){return me[Be]===te[Be]}).filter(function(Be){return!Be}).length===0;if(be)return{v:O.get(me)}};for(Q.s();!(X=Q.n()).done;){var re=k();if((0,s.default)(re)==="object")return re.v}}catch(he){Q.e(he)}finally{Q.f()}var q=E(O.values()),le;try{var ee=function(){var me=le.value,be=j.map(function(Be){return me[Be]===te[Be]}).filter(function(Be){return!Be}).length===0;if(be)return{v:me}};for(q.s();!(le=q.n()).done;){var ie=ee();if((0,s.default)(ie)==="object")return ie.v}}catch(he){q.e(he)}finally{q.f()}return null},_=function(te){return H(te)||V(te)};return function(oe){return _(D(oe))}};e.createConfigMemo=B;var G=function(O,h){return O.__configId||(O=P({},O),O.settings=(0,l.default)({},i.settings,O.settings),O._fieldsCntByType={},O._funcsCntByType={},O.types=(0,v.default)(O.types),K(O.types,O),O.fields=(0,v.default)(O.fields),O.__fieldNames={},$(O.fields,O),O.funcs=(0,v.default)(O.funcs),U(O.funcs,O),a.default.locale(O.settings.locale.moment),Object.defineProperty(O,"__configId",{enumerable:!1,writable:!1,value:h||(0,n.default)()})),O};e.extendConfig=G;function K(I,O){for(var h in I){var w=I[h];Y(h,w,O)}}function Y(I,O,h){var w=null,V=null;O.mainWidget=O.mainWidget||Object.keys(O.widgets).filter(function(k){return k!="field"&&k!="func"})[0];for(var H in O.widgets){var _=O.widgets[H];if(_.operators){var oe=_.operators;O.excludeOperators&&(oe=oe.filter(function(k){return!O.excludeOperators.includes(k)})),w=(0,u.mergeArraysSmart)(w,oe)}_.defaultOperator&&(V=_.defaultOperator),H==O.mainWidget&&(_=(0,l.default)({},{widgetProps:O.mainWidgetProps||{}},_)),O.widgets[H]=_}O.valueSources||(O.valueSources=Object.keys(h.settings.valueSourcesInfo));var te=E(O.valueSources),Q;try{for(te.s();!(Q=te.n()).done;){var X=Q.value;X!="value"&&!O.widgets[X]&&(O.widgets[X]={})}}catch(k){te.e(k)}finally{te.f()}!O.operators&&w&&(O.operators=Array.from(new Set(w))),!O.defaultOperator&&V&&(O.defaultOperator=V)}function $(I,O){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];for(var w in I)M(I[w],O,[].concat((0,c.default)(h),[w])),I[w].subfields&&$(I[w].subfields,O,[].concat((0,c.default)(h),[w]))}function U(I,O){if(I)for(var h in I){var w=I[h];w.returnType&&(O._funcsCntByType[w.returnType]||(O._funcsCntByType[w.returnType]=0),O._funcsCntByType[w.returnType]++);for(var V in w.args)M(w.args[V],O,null,!0);if(w.args){var H=Object.keys(w.args),_=!0,oe=E(H.reverse()),te;try{for(oe.s();!(te=oe.n()).done;){var Q=te.value,X=w.args[Q];!_&&X.isOptional&&delete X.isOptional,X.isOptional||(_=!1)}}catch(k){oe.e(k)}finally{oe.f()}}w.subfields&&U(w.subfields,O)}}function M(I,O){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,V=null,H=null,_=O.types[I.type],oe=I.excludeOperators||[];if(I.type!="!struct"&&I.type!="!group"){var te=["listValues","allowCustomValues","validateValue"];I.fieldSettings||(I.fieldSettings={});for(var Q=0,X=te;Q<X.length;Q++){var k=X[Q];I[k]&&(I.fieldSettings[k]=I[k],delete I[k])}if(I.fieldSettings.listValues&&(I.fieldSettings.listValues=(0,u.normalizeListValues)(I.fieldSettings.listValues,I.type,I.fieldSettings)),!_){I.disabled=!0;return}w||(O._fieldsCntByType[I.type]||(O._fieldsCntByType[I.type]=0),O._fieldsCntByType[I.type]++),I.widgets||(I.widgets={}),w&&(I._isFuncArg=!0),I.mainWidget=I.mainWidget||_.mainWidget,I.valueSources=I.valueSources||_.valueSources;var re=_.excludeOperators||[];for(var q in _.widgets){var le=I.widgets[q]||{},ee=_.widgets[q]||{};w||function(){var he=[].concat((0,c.default)(oe),(0,c.default)(re)),me=I.preferWidgets&&(q=="field"||I.preferWidgets.includes(q))||he.length>0;if(le.operators){var be=le.operators.filter(function(je){return!he.includes(je)});V=[].concat((0,c.default)(V||[]),(0,c.default)(be))}else if(me&&ee.operators){var Be=ee.operators.filter(function(je){return!he.includes(je)});V=[].concat((0,c.default)(V||[]),(0,c.default)(Be))}le.defaultOperator&&(H=le.defaultOperator)}(),q==I.mainWidget&&(le=(0,l.default)({},{widgetProps:I.mainWidgetProps||{}},le)),I.widgets[q]=le}w||(!I.operators&&V&&(I.operators=Array.from(new Set(V))),!I.defaultOperator&&H&&(I.defaultOperator=H))}var ie=y(O,h);ie&&(I.fieldName=ie),h&&I.fieldName&&(O.__fieldNames[I.fieldName]=h)}var C=function(O,h){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fields",V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";if(!h)return null;if(h=="!case_value")return{type:"case_value",mainWidget:"case_value",widgets:{case_value:O.widgets.case_value}};var H=O.settings.fieldSeparator,_=Array.isArray(h)?h:h.split(H),oe=O[w];if(!oe)return null;for(var te=oe,Q=null,X=[],k=0;k<_.length;k++){var re=_[k];X.push(re);var q=X.join(H);Q=te[q],k<_.length-1&&(Q&&Q[V]?(te=Q[V],X=[]):Q=null)}return Q};e.getFieldRawConfig=C;var y=function(O,h){if(!h)return null;for(var w=O.settings.fieldSeparator,V=(0,c.default)(h),H=[],_,oe;(_=V.pop())!==void 0&&V.length>0;)if(H.unshift(_),oe=C(O,V),oe.fieldName)return[oe.fieldName].concat(H).join(w);return null},b=function(O,h){var w=O.settings.fieldSeparator,V=Array.isArray(h)?h.join(w):h;return O.__fieldNames[V]?O.__fieldNames[V].join(w):V};e.normalizeField=b;var T=function(O,h){if(!h)return null;var w=C(O,h,"funcs","subfields");return w||null};e.getFuncConfig=T;var R=function(O,h,w){var V=T(O,h);if(!V)return null;var H=V.args&&V.args[w]||null;if(!H)return null;var _=O.types[H.type]||{},oe=(0,o.default)({},_,H||{},function(te,Q,X,k,re,q){if(Array.isArray(te))return Q});return oe};e.getFuncArgConfig=R;var S=function(O,h){if(!h)return null;if((0,s.default)(h)=="object"&&!h.func&&h.type)return h;if((0,s.default)(h)=="object"&&h.func&&h.arg)return R(O,h.func,h.arg);var w=C(O,h);if(!w)return null;var V=O.types[w.type]||{},H=(0,o.default)({},V,w||{},function(_,oe,te,Q,X,k){if(Array.isArray(_))return oe});return H};e.getFieldConfig=S;var A=function(O,h){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!h)return null;var V=O.operators[h];if(w){var H=S(O,w),_=(0,d.getWidgetForFieldOp)(O,w,h),oe=O.widgets[_]||{},te=(H&&H.widgets?H.widgets[_]:{})||{},Q=(oe.opProps||{})[h],X=(te.opProps||{})[h],k=(0,l.default)({},V,Q,X);return k}else return V};e.getOperatorConfig=A;var W=function(O,h,w){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!h||!(w||V)&&H!="const"&&h!="!case_value")return null;var _=S(O,h);V||(V=(0,d.getWidgetForFieldOp)(O,h,w,H));var oe=O.widgets[V]||{},te=(_&&_.widgets?_.widgets[V]:{})||{},Q=te.widgetProps||{},X=(H=="value"||!H)&&_&&_.fieldSettings||{},k=(0,l.default)({},oe,Q,X);return k};e.getFieldWidgetConfig=W},68429:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.defaultRuleProperties=e.defaultRule=e.defaultRoot=e.defaultOperatorOptions=e.defaultOperator=e.defaultItemProperties=e.defaultGroupProperties=e.defaultGroupConjunction=e.defaultField=e.defaultConjunction=void 0;var c=r(t(43693)),f=r(t(36940)),s=r(t(21428)),l=t(67212),n=t(76348);function o(j,D){var B=Object.keys(j);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(j);D&&(G=G.filter(function(K){return Object.getOwnPropertyDescriptor(j,K).enumerable})),B.push.apply(B,G)}return B}function i(j){for(var D=1;D<arguments.length;D++){var B=arguments[D]!=null?arguments[D]:{};D%2?o(Object(B),!0).forEach(function(G){(0,c.default)(j,G,B[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(B)):o(Object(B)).forEach(function(G){Object.defineProperty(j,G,Object.getOwnPropertyDescriptor(B,G))})}return j}var a=function(D){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return typeof D.settings.defaultField=="function"?D.settings.defaultField(G):D.settings.defaultField||(B?(0,n.getFirstField)(D,G):null)};e.defaultField=a;var u=function(D,B){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,K=(0,l.getFieldConfig)(D,B),Y=K&&K.operators||[],$=K&&K.defaultOperator;Y.includes($)||($=null),!$&&G&&($=(0,n.getFirstOperator)(D,B));var U=typeof D.settings.defaultOperator=="function"?D.settings.defaultOperator(B,K):$;return U};e.defaultOperator=u;var d=function(D,B,G){var K=B?(0,l.getOperatorConfig)(D,B,G):null;return K&&K.options?new f.default.Map(K.options&&K.options.defaults||{}):null};e.defaultOperatorOptions=d;var v=function(D){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,K=null,Y=null,$=D.settings,U=$.setDefaultFieldAndOp,M=$.showErrorMessage;if(G){var C,y;K=G==null||(C=G.properties)===null||C===void 0?void 0:C.field,Y=G==null||(y=G.properties)===null||y===void 0?void 0:y.operator}else U&&(K=a(D,!0,B),Y=u(D,K));var b=new f.default.Map({field:K,operator:Y,value:new f.default.List,valueSrc:new f.default.List,operatorOptions:d(D,Y,K)});if(M&&(b=b.set("valueError",new f.default.List)),K&&Y){var T=(0,n.getNewValueForFieldOp)(D,D,b,K,Y,"operator",!1),R=T.newValue,S=T.newValueSrc,A=T.newValueType,W=T.newValueError;b=b.set("value",R).set("valueSrc",S).set("valueType",A),M&&(b=b.set("valueError",W))}return b};e.defaultRuleProperties=v;var p=function(D){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;B=(0,l.getFieldConfig)(D,B);var G=B&&B.conjunctions||Object.keys(D.conjunctions);return G.length==1?G[0]:D.settings.defaultGroupConjunction||D.settings.defaultConjunction||G[0]};e.defaultGroupConjunction=p;var m=function(D){return D.settings.defaultConjunction||Object.keys(D.conjunctions)[0]};e.defaultConjunction=m;var P=function(D){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new f.default.Map({conjunction:p(D,B),not:!1})};e.defaultGroupProperties=P;var E=function(D,B){var G;return B&&B.type=="group"?P(D,B==null||(G=B.properties)===null||G===void 0?void 0:G.field):v(D,null,B)};e.defaultItemProperties=E;var L=function(D,B){return(0,c.default)({},D,new f.default.Map({type:"rule",id:D,properties:v(B)}))};e.defaultRule=L;var F=function(D){return new f.default.Map({type:"group",id:(0,s.default)(),children1:new f.default.OrderedMap(i({},L((0,s.default)(),D))),properties:P(D)})};e.defaultRoot=F},76669:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.sqlEmptyValue=e.spelImportConcat=e.spelFormatConcat=e.spelFixList=e.spelEscape=e.mongoEmptyValue=e.SqlString=void 0;var c=r(t(73738)),f=t(61526);e.SqlString=f,f.trim=function(v){return v.charAt(0)=="'"?v.substring(1,v.length-1):v},f.escapeLike=function(v){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,P=f.escape(v);return P=f.trim(P),P=P.replace(/[%_]/g,"\\$&"),P=(p?"%":"")+P+(m?"%":""),P="'"+P+"'",P};var s=function(p){var m="''",P=p?.type;return P=="date"?m="'0000-00-00'":P=="datetime"?m="'0000-00-00 00:00'":P=="time"?m="'00:00'":P=="number"&&(m="0"),m};e.sqlEmptyValue=s;var l=function(p){var m="",P=p?.type;return P=="number"&&(m=0),m};e.mongoEmptyValue=l;var n=function(p){return"'"+p.replace(/'/g,"''")+"'"},o=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P,E,L=["int","float"];p.map(function(D){if(D!=null){if(typeof D=="string")E="String";else if(typeof D=="number")E=Number.isInteger(D)?"int":"float";else throw new Error("spelEscape: Can't use value ".concat(D," in array"));if(!P)P=E;else if(P!=E)if(L.includes(P)&&L.includes(E))P="float";else throw new Error("spelEscape: Can't use different types in array: found ".concat(P," and ").concat(E))}}),P||(P="String");var F;P=="float"?F=p.map(function(D){return a(D,!0)}):F=p.map(function(D){return a(D)});var j;return m?j="new ".concat(P,"[]{").concat(F.join(", "),"}"):j="{".concat(F.join(", "),"}"),j},i=function(p){return"".concat(p,".?[true]")};e.spelFixList=i;var a=function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(p==null)return"null";switch((0,c.default)(p)){case"boolean":return p?"true":"false";case"number":return!Number.isFinite(p)||isNaN(p)?void 0:p+(!Number.isInteger(p)||m?"f":"");case"object":if(Array.isArray(p))return o(p,P);throw new Error("spelEscape: Object is not supported");default:return n(p)}};e.spelEscape=a;var u=function(p){return p&&Array.isArray(p)&&p.length?p.map(function(m){if(m.type=="const")return a(m.value);if(m.type=="property")return""+m.value;if(m.type=="variable")return"#"+m.value}).filter(function(m){return m!=null}).join(" + "):"null"};e.spelFormatConcat=u;var d=function(p){if(p==null)return[void 0,[]];var m=[],P=p.valueType=="case_value"?p.value:[p],E=P.map(function(L){if(L.valueSrc=="value")return L.value===null?void 0:{type:"const",value:L.value};if(L.valueSrc=="field")return{type:L.isVariable?"variable":"property",value:L.value};m.push("Unsupported valueSrc ".concat(L.valueSrc," in concatenation"))}).filter(function(L){return L!=null});return[E,m]};e.spelImportConcat=d},22980:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.setFunc=e.setArgValueSrc=e.setArgValue=e.completeValue=e.completeFuncValue=void 0;var c=r(t(73738)),f=t(67212),s=t(76348),l=r(t(36940));function n(L,F){var j=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!j){if(Array.isArray(L)||(j=o(L))||F&&L&&typeof L.length=="number"){j&&(L=j);var D=0,B=function(){};return{s:B,n:function(){return D>=L.length?{done:!0}:{done:!1,value:L[D++]}},e:function(U){throw U},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G=!0,K=!1,Y;return{s:function(){j=j.call(L)},n:function(){var U=j.next();return G=U.done,U},e:function(U){K=!0,Y=U},f:function(){try{!G&&j.return!=null&&j.return()}finally{if(K)throw Y}}}}function o(L,F){if(L){if(typeof L=="string")return i(L,F);var j=Object.prototype.toString.call(L).slice(8,-1);if(j==="Object"&&L.constructor&&(j=L.constructor.name),j==="Map"||j==="Set")return Array.from(L);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return i(L,F)}}function i(L,F){(F==null||F>L.length)&&(F=L.length);for(var j=0,D=new Array(F);j<F;j++)D[j]=L[j];return D}var a=function(F){return(0,c.default)(F)=="object"&&F!==null&&!Array.isArray(F)},u=function(F,j,D){return j=="func"?d(F,D):F};e.completeValue=u;var d=function(F,j){var D=function(G){if(G){var K=G.get("func"),Y=K&&(0,f.getFuncConfig)(j,K);if(Y){var $=G,U=!1;for(var M in Y.args){var C=Y.args[M],y=C.valueSources,b=C.isOptional,T=C.defaultValue,R=(0,s.filterValueSourcesForField)(j,y,C),S=$.get("args"),A=R.length==1?R[0]:void 0,W=S?S.get(M):void 0,I=W?W.get("value"):void 0,O=(W?W.get("valueSrc"):void 0)||A;if(I!==void 0){var h=u(I,O,j);if(h===void 0||(h!==I&&($=$.setIn(["args",M,"value"],h)),U))return}else if(T!==void 0&&!a(T))$=$.setIn(["args",M,"value"],m(C)),$=$.setIn(["args",M,"valueSrc"],"value");else if(b)U=!0;else return}return $}}};return D(F)};e.completeFuncValue=d;var v=function(F,j){var D=[],B=[],G=function K(Y){var $=Y&&Y.get("args");if($){var U=n($.values()),M;try{for(U.s();!(M=U.n()).done;){var C=M.value;if(C.get("valueSrc")=="field"){var y=C.get("value");if(y){var b=j?(0,f.getFieldConfig)(j,y):void 0;j&&!b?B.push(y):D.push(y)}}else C.get("valueSrc")=="func"&&K(C.get("value"))}}catch(T){U.e(T)}finally{U.f()}}};return G(F),[D,B]},p=function(F,j,D){var B=D.settings.fieldSeparator;F=F||new l.default.Map,Array.isArray(j)&&(j=j.join(B)),F=F.set("func",j),F=F.set("args",new l.default.Map);var G=j&&(0,f.getFuncConfig)(D,j);if(G)for(var K in G.args){var Y=G.args[K],$=Y.valueSources,U=Y.defaultValue,M=(0,s.filterValueSourcesForField)(D,$,Y),C=M.length?M[0]:void 0,y=U?a(U)&&U.func?"func":"value":void 0,b=y||C;U!==void 0&&(F=F.setIn(["args",K,"value"],m(Y))),b&&(F=F.setIn(["args",K,"valueSrc"],b))}return F};e.setFunc=p;var m=function(F){var j=F.defaultValue;return a(j)&&!l.default.Map.isMap(j)&&j.func?l.default.fromJS(j,function(D,B){return l.default.Iterable.isIndexed(B)?B.toList():B.toOrderedMap()}):j},P=function(F,j,D,B,G){if(F&&F.get("func")){F=F.setIn(["args",j,"value"],D);var K=B.valueSources,Y=(0,s.filterValueSourcesForField)(G,K,B),$=Y.length==1?Y[0]:void 0;$&&(F=F.setIn(["args",j,"valueSrc"],$))}return F};e.setArgValue=P;var E=function(F,j,D,B,G){return F&&F.get("func")&&(F=F.setIn(["args",j],new l.default.Map({valueSrc:D}))),F};e.setArgValueSrc=E},62543:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.TreeUtils=e.ExportUtils=e.DefaultUtils=e.ConfigUtils=void 0,Object.defineProperty(e,"getSwitchValues",{enumerable:!0,get:function(){return i.getSwitchValues}}),Object.defineProperty(e,"simulateAsyncFetch",{enumerable:!0,get:function(){return s.simulateAsyncFetch}}),Object.defineProperty(e,"uuid",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"validateTree",{enumerable:!0,get:function(){return f.validateTree}});var f=t(33588),s=t(42871),l=r(t(21428)),n=d(t(67212));e.ConfigUtils=n;var o=d(t(68429));e.DefaultUtils=o;var i=d(t(8930));e.TreeUtils=i;var a=d(t(76669));e.ExportUtils=a;function u(v){if(typeof WeakMap!="function")return null;var p=new WeakMap,m=new WeakMap;return(u=function(E){return E?m:p})(v)}function d(v,p){if(!p&&v&&v.__esModule)return v;if(v===null||c(v)!=="object"&&typeof v!="function")return{default:v};var m=u(p);if(m&&m.has(v))return m.get(v);var P={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in v)if(L!=="default"&&Object.prototype.hasOwnProperty.call(v,L)){var F=E?Object.getOwnPropertyDescriptor(v,L):null;F&&(F.get||F.set)?Object.defineProperty(P,L,F):P[L]=v[L]}return P.default=v,m&&m.set(v,P),P}},37584:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.useOnPropsChanged=e.pureShouldComponentUpdate=e.liteShouldComponentUpdate=e.isUsingLegacyReactDomRender=e.bindActionCreators=void 0;var c=r(t(96540)),f=r(t(73916)),s=t(46897),l=function(m){if(m._reactRootContainer)return"root";if(Object.getOwnPropertyNames(m).filter(function(P){return P.startsWith("__reactContainer")}).length>0)return"container"},n=function p(m){if(m){var P=l(m);return P!==void 0?P:p(m.parentNode)}},o=function(m){return n(m)==="root"};e.isUsingLegacyReactDomRender=o;var i=function(m,P){return function(E,L){var F=m.props,j=m.state,D=E!=F||L!=j;if(D&&j==L&&F!=E){var B=[];for(var G in E){var K=E[G]!=F[G];K&&(P[G]=="ignore"?K=!1:P[G]=="shallow_deep"?K=!(0,s.shallowEqual)(E[G],F[G],!0):P[G]=="shallow"?K=!(0,s.shallowEqual)(E[G],F[G]):typeof P[G]=="function"&&(K=P[G](E[G],F[G],L))),K&&B.push(G)}B.length||(D=!1)}return D}};e.liteShouldComponentUpdate=i;var a=function(m){return function(P,E){return!(0,s.shallowEqual)(m.props,P)||!(0,s.shallowEqual)(m.state,E)}};e.pureShouldComponentUpdate=a;var u=function(){var m=c.default.version.split(".").map(parseInt.bind(null,10));return m[0]==16&&m[1]>=3||m[0]>16},d=function(m){u?m.UNSAFE_componentWillReceiveProps=function(P){m.onPropsChanged(P)}:m.componentWillReceiveProps=function(P){m.onPropsChanged(P)}};e.useOnPropsChanged=d;var v=function(m,P,E){return(0,f.default)(m,function(L){return function(){for(var F=arguments.length,j=new Array(F),D=0;D<F;D++)j[D]=arguments[D];return E(L.apply(void 0,[P].concat(j)))}})};e.bindActionCreators=v},76348:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.getWidgetsForFieldOp=e.getWidgetForFieldOp=e.getValueSourcesForFieldOp=e.getValueLabel=e.getOperatorsForField=e.getNewValueForFieldOp=e.getFuncPathLabels=e.getFirstOperator=e.getFirstField=e.getFieldPathLabels=e.getFieldPath=e.getFieldPartsConfigs=e.formatFieldName=e.filterValueSourcesForField=void 0;var c=r(t(73738)),f=r(t(41132)),s=r(t(85715)),l=t(67212),n=t(46897),o=r(t(36940)),i=t(33588),a=r(t(68090)),u=["select","multiselect","treeselect","treemultiselect"],d=function(M){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=arguments.length>2?arguments[2]:void 0,b=arguments.length>3?arguments[3]:void 0,T=arguments.length>4?arguments[4]:void 0,R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,S=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0,A=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;C||(C=M);var W=y.get("field"),I=y.get("operator"),O=y.get("value"),h=y.get("valueSrc",new o.default.List),w=y.get("valueType",new o.default.List),V=y.get("asyncListValues"),H=M.settings,_=H.convertableWidgets,oe=H.clearValueOnChangeField,te=H.clearValueOnChangeOp,Q=H.showErrorMessage,X=(0,l.getOperatorConfig)(M,T,b),k=T?(0,n.defaultValue)(X.cardinality,1):null,re=(0,l.getFieldConfig)(C,W),q=(0,l.getFieldConfig)(M,b),le=W&&I&&T&&O!=null&&(!R||R=="field"&&!oe||R=="operator"&&!te)&&re&&q&&re.type==q.type;le&&u.includes(re.type)&&R=="field"&&(le=!1);for(var ee=0;ee<k;ee++){var ie=h.get(ee)||null,he=Y(C,W,I,ie),me=Y(M,b,T,ie),be=ie=="value"?he:Y(C,W,I,"value"),Be=ie=="value"?me:Y(M,b,T,"value"),je=Be==be||(_[be]||[]).includes(Be);je||(le=!1)}I!=T&&[I,T].includes("proximity")&&(le=!1);var Ue=(0,l.getFieldWidgetConfig)(M,b,T,null,h.first()),Ie=K(M,b,T),$e={},qe=Array.from({length:k},function(){return null});if(le)for(var tt=function(rt){var ke=O.get(rt),ft=w.get(rt)||null,vt=h.get(rt)||null,Pt=Ie.find(function(Yt){return Yt==vt})!=null;!Pt&&rt>0&&vt==null&&(Pt=!0);var ht=V,Rt=(0,i.validateValue)(M,b,b,T,ke,ft,vt,ht,S,A),jt=(0,s.default)(Rt,2),ut=jt[0],Ft=jt[1],Wt=!ut,Lt=Ft!==ke,$t=!Pt||!Wt&&(R=="field"||!Q&&!Lt),Gt=!!ut&&Q&&!$t&&!Lt;if(Gt&&(qe[rt]=ut),Lt&&($e[rt]=Ft),$t)return le=!1,"break"},ct=0;ct<k;ct++){var gt=tt(ct);if(gt==="break")break}var dt=null,Ot=null,Me=null,Le=null;if(dt=new o.default.List(Array.from({length:k},function(Xe,rt){var ke=void 0;if(le)rt<O.size&&(ke=O.get(rt),$e[rt]!==void 0&&(ke=$e[rt]));else if(k==1){var ft;ke=(0,n.getFirstDefined)([q?.defaultValue,q==null||(ft=q.fieldSettings)===null||ft===void 0?void 0:ft.defaultValue,Ue?.defaultValue])}return ke})),Ot=new o.default.List(Array.from({length:k},function(Xe,rt){var ke=null;return le?rt<h.size&&(ke=h.get(rt)):(Ie.length==1||Ie.length>1)&&(ke=Ie[0]),ke})),Q){if(X&&X.validateValues&&Ot.toJS().filter(function(Xe){return Xe=="value"||Xe==null}).length==k){var He=Ue&&Ue.toJS?dt.toJS().map(function(Xe){return Ue.toJS(Xe,Ue)}):dt.toJS(),_e=X.validateValues(He);Q&&qe.push(_e)}Le=new o.default.List(qe)}return Me=new o.default.List(Array.from({length:k},function(Xe,rt){var ke=null;return le?rt<w.size&&(ke=w.get(rt)):k==1&&Ue&&Ue.type!==void 0?ke=Ue.type:k==1&&q&&q.type!==void 0&&(ke=q.type=="!group"?"number":q.type),ke})),{canReuseValue:le,newValue:dt,newValueSrc:Ot,newValueType:Me,newValueError:Le,operatorCardinality:k}};e.getNewValueForFieldOp=d;var v=function(M){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=M.settings.fieldSeparator,b=typeof C=="string"?C.split(y):C,T=C?(0,l.getFieldRawConfig)(M,C):M,R=T,S=null,A=[];do{var W=R===M?M.fields:R.subfields;if(!W||!Object.keys(W).length){R=S=null;break}S=Object.keys(W)[0],A.push(S),R=W[S]}while(R.type=="!struct"||R.type=="!group");return(b||[]).concat(A).join(y)};e.getFirstField=v;var p=function(M,C){var y=(0,l.getFieldConfig)(M,C),b=y?y.operators:[];return b};e.getOperatorsForField=p;var m=function(M,C){var y=p(M,C);return y?y[0]:null};e.getFirstOperator=m;var P=function(M,C){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!M)return null;var b=C.settings.fieldSeparator,T=Array.isArray(M)?M:M.split(b);return y?T:T.map(function(R,S,A){return A.slice(0,S+1)}).map(function(R){return R.join(b)})};e.getFieldPath=P;var E=function(M,C){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return L(M,C,y,"funcs","subfields")};e.getFuncPathLabels=E;var L=function(M,C){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"fields",T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"subfields";if(!M)return null;var R=C.settings.fieldSeparator,S=Array.isArray(M)?M:M.split(R),A=y?Array.isArray(y)?y:y.split(R):[];return S.slice(A.length).map(function(W,I,O){return O.slice(0,I+1)}).map(function(W){return[].concat((0,f.default)(A),(0,f.default)(W)).join(R)}).map(function(W){var I=(0,l.getFieldRawConfig)(C,W,b,T);return I&&I.label||I&&(0,a.default)(W.split(R))}).filter(function(W){return W!=null})};e.getFieldPathLabels=L;var F=function(M,C){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!M)return null;var b=y&&(0,l.getFieldRawConfig)(C,y)||null,T=C.settings.fieldSeparator,R=Array.isArray(M)?M:M.split(T),S=y?Array.isArray(y)?y:y.split(T):[];return R.slice(S.length).map(function(A,W,I){return I.slice(0,W+1)}).map(function(A){return{part:[].concat((0,f.default)(S),(0,f.default)(A)).join(T),key:A[A.length-1]}}).map(function(A){var W=A.part,I=A.key,O=(0,l.getFieldRawConfig)(C,W);return{key:I,cnf:O}}).map(function(A,W,I){var O=A.key,h=A.cnf,w=W>0?I[W-1].cnf:b;return[O,h,w]})};e.getFieldPartsConfigs=F;var j=function(M,C,y,b){var T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,S=C&&(0,c.default)(C)=="object"&&!!C.func&&!!C.arg,A=M.settings.showLabels,W=(0,l.getFieldConfig)(M,C),I=(0,l.getFieldWidgetConfig)(M,C,y,null,T)||{},O=(0,l.getOperatorConfig)(M,y,C)||{},h=R?1:O.cardinality,w=null;if(h>1){var V=I.valueLabels||O.valueLabels;V&&(w=V[b]),w&&(0,c.default)(w)!="object"&&(w={label:w,placeholder:w}),w||(w={label:M.settings.valueLabel+" "+(b+1),placeholder:M.settings.valuePlaceholder+" "+(b+1)})}else{var H=I.valueLabel,_=I.valuePlaceholder;S&&(H||(H=W.label||C.arg),!_&&!A&&(_=W.label||C.arg)),w={label:H||M.settings.valueLabel,placeholder:_||M.settings.valuePlaceholder}}return w};e.getValueLabel=j;function D(U,M){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,b=[],T=[];if(!M)return{widgets:b,valueSrcs:T};var R=(0,c.default)(M)=="object"&&(!!M.func&&!!M.arg||M._isFuncArg),S=(0,l.getFieldConfig)(U,M),A=C?U.operators[C]:null;if(S&&S.widgets){var W=function(w){var V=S.widgets[w],H=U.widgets[w].valueSrc||"value",_=!0;if(w=="field"&&(_=_&&G(U,["field"],S).length>0),w=="func"&&(_=_&&G(U,["func"],S).length>0),y=="value"&&!V.operators&&!R&&M!="!case_value"&&(_=!1),V.operators&&C&&(_=_&&V.operators.indexOf(C)!=-1),y&&y!=H&&y!="const"&&(_=!1),A&&A.cardinality==0&&H!="value"&&(_=!1),_){b.push(w);var oe=S.valueSources&&S.valueSources.indexOf(H)!=-1;A&&A.valueSources&&A.valueSources.indexOf(H)==-1&&(oe=!1),oe&&!T.find(function(te){return te==H})&&T.push(H)}};for(var I in S.widgets)W(I)}var O=function(w){var V=0;return S.preferWidgets?S.preferWidgets.includes(w)&&(V+=10-S.preferWidgets.indexOf(w)):w==S.mainWidget&&(V+=100),w=="field"&&(V-=1),w=="func"&&(V-=2),V};return b.sort(function(h,w){return O(w)-O(h)}),{widgets:b,valueSrcs:T}}var B=function(M,C,y){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,T=D(M,C,y,b),R=T.widgets;return R};e.getWidgetsForFieldOp=B;var G=function(M,C,y){return y?C.filter(function(b){var T=!0;if(b=="field"&&M._fieldsCntByType){var R=y._isFuncArg?0:1;T=T&&M._fieldsCntByType[y.type]>R}return b=="func"&&(M._funcsCntByType&&(T=T&&!!M._funcsCntByType[y.type]),y.funcs&&(T=T&&y.funcs.length>0)),T}):C};e.filterValueSourcesForField=G;var K=function(M,C,y){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,R=D(M,C,y,null),S=R.valueSrcs,A=G(M,S,b);return A};e.getValueSourcesForFieldOp=K;var Y=function(M,C,y){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,T=D(M,C,y,b),R=T.widgets,S=null;return R.length&&(S=R[0]),S};e.getWidgetForFieldOp=Y;var $=function(M,C,y){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(M){var T=(0,l.getFieldConfig)(C,M)||{},R=C.settings.fieldSeparator,S=Array.isArray(M)?M:M.split(R),A=Array.isArray(M)?M.join(R):M;if(T.tableName){var W=(0,f.default)(S);W[0]=T.tableName,A=W.join(R)}if(T.fieldName&&(A=T.fieldName),b){var I=(0,l.getFieldConfig)(C,b)||{},O=b;I.fieldName&&(O=I.fieldName),A.indexOf(O+R)==0?A=A.slice((O+R).length):y.errors.push("Can't cut group ".concat(O," from field ").concat(A))}return A}};e.formatFieldName=$},46897:(z,e,t)=>{"use strict";var r=t(24994),c=t(73738);Object.defineProperty(e,"__esModule",{value:!0}),e.applyToJS=w,e.mapListValues=e.logger=e.listValuesToArray=e.isJsonLogic=e.isImmutable=e.immutableEqual=e.getValueInListValues=e.getTitleInListValues=e.getLogger=e.getItemInListValues=e.getFirstDefined=e.flatizeTreeData=e.escapeRegExp=e.eqSet=e.eqArrSet=e.defaultValue=e.defaultTreeDataMap=e.deepEqual=void 0,e.mergeArraysSmart=H,e.shallowEqual=e.removePrefixPath=e.normalizeListValues=void 0,e.sleep=O,e.toImmutableList=V,e.truncateString=void 0;var f=r(t(85715)),s=r(t(41132)),l=r(t(73738)),n=i(t(36940));function o(X){if(typeof WeakMap!="function")return null;var k=new WeakMap,re=new WeakMap;return(o=function(le){return le?re:k})(X)}function i(X,k){if(!k&&X&&X.__esModule)return X;if(X===null||c(X)!=="object"&&typeof X!="function")return{default:X};var re=o(k);if(re&&re.has(X))return re.get(X);var q={},le=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ee in X)if(ee!=="default"&&Object.prototype.hasOwnProperty.call(X,ee)){var ie=le?Object.getOwnPropertyDescriptor(X,ee):null;ie&&(ie.get||ie.set)?Object.defineProperty(q,ee,ie):q[ee]=X[ee]}return q.default=X,re&&re.set(X,q),q}function a(X,k){var re=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(!re){if(Array.isArray(X)||(re=u(X))||k&&X&&typeof X.length=="number"){re&&(X=re);var q=0,le=function(){};return{s:le,n:function(){return q>=X.length?{done:!0}:{done:!1,value:X[q++]}},e:function(be){throw be},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee=!0,ie=!1,he;return{s:function(){re=re.call(X)},n:function(){var be=re.next();return ee=be.done,be},e:function(be){ie=!0,he=be},f:function(){try{!ee&&re.return!=null&&re.return()}finally{if(ie)throw he}}}}function u(X,k){if(X){if(typeof X=="string")return d(X,k);var re=Object.prototype.toString.call(X).slice(8,-1);if(re==="Object"&&X.constructor&&(re=X.constructor.name),re==="Map"||re==="Set")return Array.from(X);if(re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return d(X,k)}}function d(X,k){(k==null||k>X.length)&&(k=X.length);for(var re=0,q=new Array(k);re<k;re++)q[re]=X[re];return q}var v=function(k,re){return typeof k>"u"?re:k};e.defaultValue=v;var p=function(k,re,q){if(!re||k.length<=re)return k;var le=k.substr(0,re-1);return(q?le.substr(0,le.lastIndexOf(" ")):le)+"..."};e.truncateString=p;var m=function(k,re){return k===re?!0:k.equals(re)};e.immutableEqual=m;var P=function(k,re){return k===re?!0:n.Map.isMap(k)?k.equals(re):JSON.stringify(k)==JSON.stringify(re)};e.deepEqual=P;var E=function(k,re){if(k.size!==re.size)return!1;var q=a(k),le;try{for(q.s();!(le=q.n()).done;){var ee=le.value;if(!re.has(ee))return!1}}catch(ie){q.e(ie)}finally{q.f()}return!0};e.eqSet=E;var L=function(k,re){return E(new Set(k),new Set(re))};e.eqArrSet=L;var F=function(k,re){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return k===re?!0:Array.isArray(k)?j(k,re,q):n.Map.isMap(k)?k.equals(re):(0,l.default)(k)=="object"?D(k,re,q):k===re};e.shallowEqual=F;function j(X,k){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(X===k)return!0;if(!X||!k)return!1;var q=X.length;if(k.length!==q)return!1;for(var le=0;le<q;le++){var ee=re?F(X[le],k[le],re):X[le]===k[le];if(!ee)return!1}return!0}function D(X,k){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(X===k)return!0;if(!X||!k)return!1;var q=Object.keys(X),le=Object.keys(k),ee=q.length;if(le.length!==ee)return!1;for(var ie=0;ie<ee;ie++){var he=q[ie],me=re?F(X[he],k[he],re):X[he]===k[he];if(!me)return!1}return!0}var B=function(k){return k.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")};e.escapeRegExp=B;var G=function(k){return(0,l.default)(k)=="object"&&k!==null},K=function(k,re){return G(k)?k:{value:k,title:re!==void 0?re:k}},Y=function(k){if(!G(k))return k;if(Array.isArray(k))return k.map(function(ee){return K(ee)});var re=[];for(var q in k){var le=k[q];re.push(K(q,le))}return re};e.listValuesToArray=Y;var $=function(k,re){if(Array.isArray(k)){var q=k.map(function(le){return K(le)});return q.find(function(le){return le.value===re})||q.find(function(le){return"".concat(le.value)===re})}else return k[re]!==void 0?K(re,k[re]):void 0};e.getItemInListValues=$;var U=function(k,re){if(k==null)return re;var q=$(k,re);return q!==void 0?q.title:re};e.getTitleInListValues=U;var M=function(k,re){if(k==null)return re;var q=$(k,re);return q!==void 0?q.value:re};e.getValueInListValues=M;var C=function(k,re){var q=[];if(Array.isArray(k)){var le=a(k),ee;try{for(le.s();!(ee=le.n()).done;){var ie=ee.value,he=re(K(ie));he!=null&&q.push(he)}}catch(Be){le.e(Be)}finally{le.f()}}else for(var me in k){var be=re(K(me,k[me]));be!=null&&q.push(be)}return q};e.mapListValues=C;var y={id:"value",pId:"parent",rootPId:void 0};e.defaultTreeDataMap=y;var b=function(k){var re=y,q,le,ee=function he(me,be,Be){if(me.children){Be==1&&(me[re.pId]=re.rootPId);var je=me.children.length,Ue=a(me.children),Ie;try{for(Ue.s();!(Ie=Ue.n()).done;){var $e=Ie.value;$e[re.pId]=me[re.id],q++,be.splice(q,0,$e),le++,he($e,be,Be+1)}}catch(qe){Ue.e(qe)}finally{Ue.f()}delete me.children,je==0&&(be.splice(q,1),q--,le--)}};if(Array.isArray(k))for(le=k.length,q=0;q<le;q++){var ie=k[q];G(ie)&&(ie[re.pId]!==void 0&&ie[re.pId]!=re.rootPId||ee(ie,k,1))}return k};e.flatizeTreeData=b;var T=function X(k,re){var q=y,le=$(k,re),ee=le?le[q.pId]:void 0,ie=ee?k.find(function(he){return he[q.id]===ee}):void 0;return ie?[ie.value].concat((0,s.default)(X(k,ie.value))):[]},R=function(k,re){var q=y,le=$(k,re);return le?k.filter(function(ee){return ee[q.pId]===le[q.id]}).map(function(ee){return ee.value}):[]},S=function(k,re,q){var le=a(k),ee;try{for(le.s();!(ee=le.n()).done;){var ie=ee.value;if(ie.path=T(k,ie.value),re.treeSelectOnlyLeafs!=!1){var he=R(k,ie.value);q||(ie.selectable=he.length==0)}}}catch(me){le.e(me)}finally{le.f()}return k},A=function(k,re,q){var le=["treeselect","treemultiselect"].includes(re),ee=["multiselect","treemultiselect"].includes(re);return le&&(k=Y(k),k=b(k),k=S(k,q,ee)),k};e.normalizeListValues=A;var W=function(k,re){if(!k)return k;for(var q=!0,le=0;le<re.length;le++){var ee=re[le];if(!(k[le]!==void 0&&ee==k[le])){q=!1;break}}return q?k.slice(re.length):k};e.removePrefixPath=W;var I=function(k){return(0,l.default)(k)==="object"&&k!==null&&!Array.isArray(k)&&Object.keys(k).length===1};e.isJsonLogic=I;function O(X){return new Promise(function(k){setTimeout(k,X)})}var h=function(k){return(0,l.default)(k)==="object"&&k!==null&&typeof k.toJS=="function"};e.isImmutable=h;function w(X){return h(X)?X.toJS():X}function V(X){return h(X)?X:new n.default.List(X)}function H(X,k){return X||(X=[]),k||(k=[]),k.map(function(re){return[re,X.indexOf(re)]}).map(function(re,q,le){var ee=(0,f.default)(re,2),ie=ee[0],he=ee[1];if(he==-1){var me=le.slice(q+1),be=le.slice(0,q),Be=be.reverse().find(function(Ue){var Ie=(0,f.default)(Ue,2),$e=Ie[0],qe=Ie[1];return qe!=-1}),je=me.find(function(Ue){var Ie=(0,f.default)(Ue,2),$e=Ie[0],qe=Ie[1];return qe!=-1});return je?[ie,"before",je[0]]:Be?[ie,"after",Be[0]]:[ie,"append",null]}else return null}).filter(function(re){return re!==null}).reduce(function(re,q){var le=(0,f.default)(q,3),ee=le[0],ie=le[1],he=le[2],me=re.indexOf(he);return re.indexOf(ee)==-1&&(me>-1?re.splice(me+(ie=="after"?1:0),0,ee):re.splice(ie=="append"?1/0:0,0,ee)),re},X.slice())}var _=function(){return typeof process<"u"&&process.env&&!1},oe=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,re=k??_();return re?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}};e.getLogger=oe;var te=function(){for(var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],re,q=0;q<k.length;q++){var le=k[q];if(le!==void 0){re=le;break}}return re};e.getFirstDefined=te;var Q=oe();e.logger=Q},8930:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.removePathsInTree=e.removeIsLockedInTree=e.isEmptyTree=e.hasChildren=e.getTreeBadFields=e.getTotalRulesCountInTree=e.getTotalReordableNodesCountInTree=e.getSwitchValues=e.getLightTree=e.getItemByPath=e.getFlatTree=e.fixPathsInTree=e.fixEmptyGroupsInTree=e.expandTreeSubpath=e.expandTreePath=void 0;var c=r(t(41132)),f=r(t(43693)),s=r(t(36940)),l=function(B){for(var G=arguments.length,K=new Array(G>1?G-1:0),Y=1;Y<G;Y++)K[Y-1]=arguments[Y];return B.interpose("children1").withMutations(function($){return $.skip(1),$.push.apply($,K),$})};e.expandTreePath=l;var n=function(B){for(var G=arguments.length,K=new Array(G>1?G-1:0),Y=1;Y<G;Y++)K[Y-1]=arguments[Y];return B.interpose("children1").withMutations(function($){return $.push.apply($,K),$})};e.expandTreeSubpath=n;var o=function(B,G){var K=new s.default.OrderedMap((0,f.default)({},B.get("id"),B)),Y=B;return G.forEach(function($){Y=K.get($),K=Y.get("children1")}),Y};e.getItemByPath=o;var i=function(B){var G=B;function K(Y,$){var U=$.push(Y.get("id"));Y.get("path")&&(G=G.removeIn(l(U,"path")));var M=Y.get("children1");M&&M.map(function(C,y){K(C,U)})}return K(B,new s.default.List),G};e.removePathsInTree=i;var a=function(B){var G=B;function K(Y,$){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=$.push(Y.get("id")),C=Y.getIn(["properties","isLocked"]);U&&C&&(G=G.deleteIn(l(M,"properties","isLocked")));var y=Y.get("children1");y&&y.map(function(b,T){K(b,M,C||U)})}return K(B,new s.default.List),G};e.removeIsLockedInTree=a;var u=function(B){var G=B;function K(Y,$,U,M){if(Y){var C=Y.get("path"),y=Y.get("id"),b=y||M,T=$.push(b);(!C||!C.equals(T))&&(G=G.setIn(l(T,"path"),T)),y||(G=G.setIn(l(T,"id"),b));var R=Y.get("children1");R&&(R.constructor.name=="Map"&&(G=G.setIn(l(T,"children1"),new s.default.OrderedMap(R))),R.map(function(S,A){K(S,T,U+1,A)}))}}return K(B,new s.default.List,0),G};e.fixPathsInTree=u;var d=function(B){var G=B;function K(Y,$,U,M){if(!Y)return!1;var C=Y.get("id")||M,y=$.push(C),b=Y.get("children1");if(b){var T=b.map(function(R,S){return K(R,y,U+1,S)}).reduce(function(R,S){return R&&S},!0);if((b.size==0||T)&&U>0)return G=G.deleteIn(l(y)),!0}return!1}return K(B,new s.default.List,0),G};e.fixEmptyGroupsInTree=d;var v=function(B){var G=[],K={},Y=0;function $(b,T,R,S,A,W,I,O,h){var w=b.get("type"),V=b.get("collapsed"),H=b.get("id"),_=b.get("children1"),oe=b.getIn(["properties","isLocked"]),te=_?_.map(function(he,me){return me}):null,Q=w=="rule_group",X=!A&&(!_||Q),k=G.length,re=Y;if(G.push(H),R||(Y+=1),I.height=(I.height||0)+1,K[H]={type:w,parent:T.length?T[T.length-1]:null,parentType:O,caseId:w=="case_group"?H:h,isDefaultCase:w=="case_group"&&!_,path:T.concat(H),lev:W,leaf:!_,index:k,id:H,children:te,leafsCount:0,_top:k,_height:le-k,top:R?null:re,height:ie,bottom:(R?null:re)+ie,collapsed:V,node:b,isLocked:oe||S},_){var q={};_.map(function(he,me){$(he,T.concat(H),R||V,S||oe,A||Q,W+1,q,w,w=="case_group"?H:h)}),V||(I.height=(I.height||0)+(q.height||0))}h&&X&&K[h].leafsCount++;var le=G.length,ee=Y,ie=I.height;Object.assign(K[H],{_height:le-k,height:ie,bottom:(R?null:re)+ie})}$(B,[],!1,!1,!1,0,{},null,null);for(var U=0;U<G.length;U++){var M=U>0?G[U-1]:null,C=U<G.length-1?G[U+1]:null,y=K[G[U]];y.prev=M,y.next=C}return{flat:G,items:K}};e.getFlatTree=v;var p=function(B){if(!B)return-1;var G=0;function K(Y,$,U){var M,C,y;typeof Y.get=="function"?(M=Y.get("id"),C=Y.get("children1"),y=Y.get("type")):(M=Y.id,C=Y.children1,y=Y.type);var b=y=="rule_group";G++,C&&!b&&C.map(function(T,R){K(T,$.concat(M),U+1)})}return K(B,[],0),G-1};e.getTotalReordableNodesCountInTree=p;var m=function(B){if(!B)return-1;var G=0;function K(Y,$,U){var M,C,y;typeof Y.get=="function"?(M=Y.get("id"),C=Y.get("children1"),y=Y.get("type")):(M=Y.id,C=Y.children1,y=Y.type),y=="rule"||y=="rule_group"?G++:C&&C.map(function(b,T){K(b,$.concat(M),U+1)})}return K(B,[],0),G};e.getTotalRulesCountInTree=m;var P=function(B){var G=[];function K(Y,$,U){var M=Y.get("id"),C=Y.get("children1"),y=Y.getIn(["properties","valueError"]),b=Y.getIn(["properties","field"]);y&&y.size>0&&y.filter(function(T){return T!=null}).size>0&&G.push(b),C&&C.map(function(T,R){K(T,$.concat(M),U+1)})}return B&&K(B,[],0),Array.from(new Set(G))};e.getTreeBadFields=P;var E=function(B){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K=B;function Y($,U){$.path&&delete $.path,!G&&U&&delete $.id;var M=$.properties;M&&M.operatorOptions==null&&delete M.operatorOptions;var C=$.children1;if(C){for(var y in C)Y(C[y],y);G&&($.children1=Object.values(C))}}return Y(B,null),K};e.getLightTree=E;var L=function(B){var G=[],K=B.get("children1");return K&&K.map(function(Y){var $=Y.getIn(["properties","value"]),U;$&&$.size==1?(U=$.get(0),Array.isArray(U)&&U.length==0&&(U=null)):U=null,G=[].concat((0,c.default)(G),[U])}),G};e.getSwitchValues=L;var F=function(B){return!B.get("children1")||B.get("children1").size==0};e.isEmptyTree=F;var j=function(B,G){return B.getIn(l(G,"children1")).size>0};e.hasChildren=j},21428:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=0,r=function(){var f=(new Date().getTime().toString(16)+"FF").substr(0,11),s="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,function(l){var n=l==="s"?Math.floor(Math.random()*16):t++&15,o=l==="x"?n:n&3|8;return o.toString(16)});return s+f};e.default=r},33588:(z,e,t)=>{"use strict";var r=t(24994);Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateTree=e.validateAndFixTree=e.createValidationMemo=void 0;var c=r(t(41132)),f=r(t(85715)),s=r(t(73738)),l=t(67212),n=t(76348),o=t(46897),i=t(68429),a=t(8930),u=r(t(90179)),d=t(36940),v=function(U){return(0,s.default)(U)=="object"&&U!==null&&Array.isArray(U)?"array":(0,s.default)(U)},p=function(U,M){return v(U)==M||M=="number"&&!isNaN(U)},m=function(){var U,M,C;return function(y,b,T){return b?(y.__configId===C&&((0,o.immutableEqual)(b,U)||(0,o.immutableEqual)(b,M))||(C=y.__configId,U=b,M=P(b,null,y,T||y)),M):null}};e.createValidationMemo=m;var P=function(U,M,C,y){var b=E(U,M,C,y);return b=(0,a.fixPathsInTree)(b),b};e.validateAndFixTree=P;var E=function(U,M,C,y,b,T){b===void 0&&(b=C.settings.removeEmptyGroupsOnLoad),T===void 0&&(T=C.settings.removeIncompleteRulesOnLoad);var R={config:C,oldConfig:y,removeEmptyGroups:b,removeIncompleteRules:T};return L(U,[],null,{},R)};e.validateTree=E;function L($,U,M,C,y){var b=$.get("type"),T=$.get("children1");return(b==="group"||b==="rule_group"||b=="case_group"||b=="switch_group")&&T&&T.size?F($,U,M,C,y):b==="rule"?j($,U,M,C,y):$}function F($,U,M,C,y){var b=y.removeEmptyGroups,T=$.get("id"),R=$.get("children1"),S=R;!T&&M&&(T=M,$=$.set("id",T),C.sanitized=!0);var A={};R=R.map(function(I,O){return L(I,U.concat(T),O,A,y)}),b&&(R=R.filter(function(I){return I!=null}));var W=A.sanitized||S.size!=R.size;return!R.size&&b&&U.length&&(W=!0,$=void 0),W&&(C.sanitized=!0),W&&$&&($=$.set("children1",R)),$}function j($,U,M,C,y){var b=y.removeIncompleteRules,T=y.config,R=y.oldConfig,S=T.settings.showErrorMessage,A=$.get("id"),W=$.get("properties"),I=W.get("field")||null,O=W.get("operator")||null,h=W.get("operatorOptions"),w=W.get("valueSrc"),V=W.get("value"),H=W.get("valueError"),_={field:I,operator:O,operatorOptions:h?h.toJS():{},valueSrc:w?w.toJS():null,value:V?V.toJS():null,valueError:H?H.toJS():null},oe=I&&O&&V&&!V.includes(void 0);!A&&M&&(A=M,$=$.set("id",A),C.sanitized=!0);var te=I?(0,l.getFieldConfig)(T,I):null;I&&!te&&(o.logger.warn("No config for field ".concat(I)),I=null),I==null&&(W=["operator","operatorOptions","valueSrc","value"].reduce(function(je,Ue){return je.delete(Ue)},W),O=null),(O=="range_between"||O=="range_not_between")&&(O=O=="range_between"?"between":"not_between",console.info("Fixed operator ".concat(W.get("operator")," to ").concat(O)),W=W.set("operator",O));var Q=O?(0,l.getOperatorConfig)(T,O,I):null;O&&!Q&&(console.warn("No config for operator ".concat(O)),O=null);var X=I?(0,n.getOperatorsForField)(T,I):[];X?O&&X.indexOf(O)==-1&&(O=="is_empty"||O=="is_not_empty"?(O=O=="is_empty"?"is_null":"is_not_null",console.info("Fixed operator ".concat(W.get("operator")," to ").concat(O," for ").concat(I)),W=W.set("operator",O)):(console.warn("Operator ".concat(O," is not supported for field ").concat(I)),O=null)):(console.warn("Type of field ".concat(I," is not supported")),O=null),O==null&&(W=W.delete("operatorOptions"),W=W.delete("valueSrc"),W=W.delete("value")),h=W.get("operatorOptions");var k=O?(0,o.defaultValue)(Q.cardinality,1):null;!O||h&&!Q.options?(h=null,W=W.delete("operatorOptions")):O&&!h&&Q.options&&(h=(0,i.defaultOperatorOptions)(T,O,I),W=W.set("operatorOptions",h)),w=W.get("valueSrc"),V=W.get("value");var re=!S,q=!0,le=(0,n.getNewValueForFieldOp)(T,R,W,I,O,null,re,q),ee=le.newValue,ie=le.newValueSrc,he=le.newValueError;V=ee,w=ie,H=he,W=W.set("value",V),W=W.set("valueSrc",w),S&&(W=W.set("valueError",H));var me={field:I,operator:O,operatorOptions:h?h.toJS():{},valueSrc:w?w.toJS():null,value:V?V.toJS():null,valueError:H?H.toJS():null},be=!(0,o.deepEqual)(_,me),Be=I&&O&&V&&!V.includes(void 0);return be&&(C.sanitized=!0),!Be&&b?$=void 0:be&&($=$.set("properties",W)),$}var D=function(U,M,C,y,b,T,R,S){var A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,W=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,I=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!0,O=null,h=b;if(b!=null){if(R=="field"){var w=K(M,C,b,R,T,S,U,y,W,A),V=(0,f.default)(w,2);O=V[0],h=V[1]}else if(R=="func"){var H=Y(M,C,b,R,T,S,U,y,W,A),_=(0,f.default)(H,2);O=_[0],h=_[1]}else if(R=="value"||!R){var oe=G(M,C,b,R,T,S,U,y,W,A),te=(0,f.default)(oe,2);O=te[0],h=te[1]}if(!O){var Q=(0,l.getFieldConfig)(U,C),X=(0,n.getWidgetForFieldOp)(U,C,y,R),k=y?(0,l.getOperatorConfig)(U,y,C):null,re=(0,u.default)((0,l.getFieldWidgetConfig)(U,C,y,X,R),["factory"]),q=R=="field"?(0,l.getFieldConfig)(U,b):null,le=re,ee=re.validateValue;if(typeof ee=="function"){var ie=[h,le,y,k];R=="field"&&ie.push(q);var he=ee.apply(void 0,ie);typeof he=="boolean"?he==!1&&(O="Invalid value"):O=he}}}return I&&O&&console.warn("[RAQB validate]","Field ".concat(C,": ").concat(O)),[O,h]};e.validateValue=D;var B=function(U,M,C,y,b){var T=d.List.isList(U)?U.toJS():U instanceof Array?(0,c.default)(U):void 0;if(T){var R=T.reduce(function(w,V){var H=(0,f.default)(w,2),_=H[0],oe=H[1],te=(0,o.getItemInListValues)(M,V);return te==null?[_,[].concat((0,c.default)(oe),[V])]:[[].concat((0,c.default)(_),[te.value]),oe]},[[],[]]),S=(0,f.default)(R,2),A=S[0],W=S[1],I=W.length>1,O=W.length?"".concat(I?"Values":"Value"," ").concat(W.join(", ")," ").concat(I?"are":"is"," not in list of values"):null;return b!==void 0?C=b:C=C||y,[O,C?A:U]}else{var h=(0,o.getItemInListValues)(M,U);return h==null?["Value ".concat(U," is not in list of values"),U]:(U=h.value,[null,U])}},G=function(U,M,C,y,b,T,R){var S=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,W=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1;if(M){var I=(0,l.getFieldConfig)(R,M),O=(0,n.getWidgetForFieldOp)(R,M,S,y),h=R.widgets[O],w=h.type,V=h.jsType,H=I.fieldSettings;if(b!=w)return["Value should have type ".concat(w,", but got value of type ").concat(b),C];if(V&&!p(C,V)&&!H.listValues)return["Value should have JS type ".concat(V,", but got value of type ").concat((0,s.default)(C)),C];if(H){var _=T||H.listValues;if(_&&!H.allowCustomValues)return B(C,_,W,A,R.settings.removeInvalidMultiSelectValuesOnLoad);if(H.min!=null&&C<H.min)return["Value ".concat(C," < min ").concat(H.min),W?H.min:C];if(H.max!=null&&C>H.max)return["Value ".concat(C," > max ").concat(H.max),W?H.max:C]}}return[null,C]},K=function(U,M,C,y,b,T,R){var S=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,W=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,I=R.settings.fieldSeparator,O=(0,s.default)(M)=="object"&&M?._isFuncArg,h=Array.isArray(U)?U.join(I):U,w=Array.isArray(C)?C.join(I):C,V=(0,l.getFieldConfig)(R,C);return V?w==h&&!O?["Can't compare field ".concat(U," with itself"),C]:b&&b!=V.type?["Field ".concat(C," is of type ").concat(V.type,", but expected ").concat(b),C]:[null,C]:["Unknown field ".concat(C),C]},Y=function(U,M,C,y,b,T,R){var S=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,W=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,I=C;if(C){var O=C.get("func");if(O){var h=(0,l.getFuncConfig)(R,O);if(h){if(b&&h.returnType!=b)return["Function ".concat(O," should return value of type ").concat(h.returnType,", but got ").concat(b),C];for(var w in h.args){var V=h.args[w],H=I.get("args"),_=H?H.get(w):void 0,oe=(0,l.getFieldConfig)(R,V),te=_?_.get("value"):void 0,Q=_?_.get("valueSrc"):void 0;if(te!==void 0){var X=D(R,U,oe,S,te,V.type,Q,T,W,A,!1),k=(0,f.default)(X,2),re=k[0],q=k[1];if(re!==null)if(W)I=I.deleteIn(["args",w]),V.defaultValue!==void 0&&(I=I.setIn(["args",w,"value"],V.defaultValue),I=I.setIn(["args",w,"valueSrc"],"value"));else return["Invalid value of arg ".concat(w," for func ").concat(O,": ").concat(re),C];else q!==te&&(I=I.setIn(["args",w,"value"],q))}else if(A&&V.defaultValue===void 0&&!W)return["Value of arg ".concat(w," for func ").concat(O," is required"),C]}}else return["Unknown function ".concat(O),C]}}return[null,I]}},36940:function(z){(function(e,t){z.exports=t()})(this,function(){"use strict";var e=Array.prototype.slice;function t(g,N){N&&(g.prototype=Object.create(N.prototype)),g.prototype.constructor=g}function r(g){return l(g)?g:X(g)}t(c,r);function c(g){return n(g)?g:k(g)}t(f,r);function f(g){return o(g)?g:re(g)}t(s,r);function s(g){return l(g)&&!i(g)?g:q(g)}function l(g){return!!(g&&g[u])}function n(g){return!!(g&&g[d])}function o(g){return!!(g&&g[v])}function i(g){return n(g)||o(g)}function a(g){return!!(g&&g[p])}r.isIterable=l,r.isKeyed=n,r.isIndexed=o,r.isAssociative=i,r.isOrdered=a,r.Keyed=c,r.Indexed=f,r.Set=s;var u="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",v="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",m="delete",P=5,E=1<<P,L=E-1,F={},j={value:!1},D={value:!1};function B(g){return g.value=!1,g}function G(g){g&&(g.value=!0)}function K(){}function Y(g,N){N=N||0;for(var J=Math.max(0,g.length-N),ne=new Array(J),ce=0;ce<J;ce++)ne[ce]=g[ce+N];return ne}function $(g){return g.size===void 0&&(g.size=g.__iterate(M)),g.size}function U(g,N){if(typeof N!="number"){var J=N>>>0;if(""+J!==N||J===4294967295)return NaN;N=J}return N<0?$(g)+N:N}function M(){return!0}function C(g,N,J){return(g===0||J!==void 0&&g<=-J)&&(N===void 0||J!==void 0&&N>=J)}function y(g,N){return T(g,N,0)}function b(g,N){return T(g,N,N)}function T(g,N,J){return g===void 0?J:g<0?Math.max(0,N+g):N===void 0?g:Math.min(N,g)}var R=0,S=1,A=2,W=typeof Symbol=="function"&&Symbol.iterator,I="@@iterator",O=W||I;function h(g){this.next=g}h.prototype.toString=function(){return"[Iterator]"},h.KEYS=R,h.VALUES=S,h.ENTRIES=A,h.prototype.inspect=h.prototype.toSource=function(){return this.toString()},h.prototype[O]=function(){return this};function w(g,N,J,ne){var ce=g===0?N:g===1?J:[N,J];return ne?ne.value=ce:ne={value:ce,done:!1},ne}function V(){return{value:void 0,done:!0}}function H(g){return!!te(g)}function _(g){return g&&typeof g.next=="function"}function oe(g){var N=te(g);return N&&N.call(g)}function te(g){var N=g&&(W&&g[W]||g[I]);if(typeof N=="function")return N}function Q(g){return g&&typeof g.length=="number"}t(X,r);function X(g){return g==null?je():l(g)?g.toSeq():$e(g)}X.of=function(){return X(arguments)},X.prototype.toSeq=function(){return this},X.prototype.toString=function(){return this.__toString("Seq {","}")},X.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},X.prototype.__iterate=function(g,N){return tt(this,g,N,!0)},X.prototype.__iterator=function(g,N){return ct(this,g,N,!0)},t(k,X);function k(g){return g==null?je().toKeyedSeq():l(g)?n(g)?g.toSeq():g.fromEntrySeq():Ue(g)}k.prototype.toKeyedSeq=function(){return this},t(re,X);function re(g){return g==null?je():l(g)?n(g)?g.entrySeq():g.toIndexedSeq():Ie(g)}re.of=function(){return re(arguments)},re.prototype.toIndexedSeq=function(){return this},re.prototype.toString=function(){return this.__toString("Seq [","]")},re.prototype.__iterate=function(g,N){return tt(this,g,N,!1)},re.prototype.__iterator=function(g,N){return ct(this,g,N,!1)},t(q,X);function q(g){return(g==null?je():l(g)?n(g)?g.entrySeq():g:Ie(g)).toSetSeq()}q.of=function(){return q(arguments)},q.prototype.toSetSeq=function(){return this},X.isSeq=be,X.Keyed=k,X.Set=q,X.Indexed=re;var le="@@__IMMUTABLE_SEQ__@@";X.prototype[le]=!0,t(ee,re);function ee(g){this._array=g,this.size=g.length}ee.prototype.get=function(g,N){return this.has(g)?this._array[U(this,g)]:N},ee.prototype.__iterate=function(g,N){for(var J=this._array,ne=J.length-1,ce=0;ce<=ne;ce++)if(g(J[N?ne-ce:ce],ce,this)===!1)return ce+1;return ce},ee.prototype.__iterator=function(g,N){var J=this._array,ne=J.length-1,ce=0;return new h(function(){return ce>ne?V():w(g,ce,J[N?ne-ce++:ce++])})},t(ie,k);function ie(g){var N=Object.keys(g);this._object=g,this._keys=N,this.size=N.length}ie.prototype.get=function(g,N){return N!==void 0&&!this.has(g)?N:this._object[g]},ie.prototype.has=function(g){return this._object.hasOwnProperty(g)},ie.prototype.__iterate=function(g,N){for(var J=this._object,ne=this._keys,ce=ne.length-1,ye=0;ye<=ce;ye++){var Re=ne[N?ce-ye:ye];if(g(J[Re],Re,this)===!1)return ye+1}return ye},ie.prototype.__iterator=function(g,N){var J=this._object,ne=this._keys,ce=ne.length-1,ye=0;return new h(function(){var Re=ne[N?ce-ye:ye];return ye++>ce?V():w(g,Re,J[Re])})},ie.prototype[p]=!0,t(he,re);function he(g){this._iterable=g,this.size=g.length||g.size}he.prototype.__iterateUncached=function(g,N){if(N)return this.cacheResult().__iterate(g,N);var J=this._iterable,ne=oe(J),ce=0;if(_(ne))for(var ye;!(ye=ne.next()).done&&g(ye.value,ce++,this)!==!1;);return ce},he.prototype.__iteratorUncached=function(g,N){if(N)return this.cacheResult().__iterator(g,N);var J=this._iterable,ne=oe(J);if(!_(ne))return new h(V);var ce=0;return new h(function(){var ye=ne.next();return ye.done?ye:w(g,ce++,ye.value)})},t(me,re);function me(g){this._iterator=g,this._iteratorCache=[]}me.prototype.__iterateUncached=function(g,N){if(N)return this.cacheResult().__iterate(g,N);for(var J=this._iterator,ne=this._iteratorCache,ce=0;ce<ne.length;)if(g(ne[ce],ce++,this)===!1)return ce;for(var ye;!(ye=J.next()).done;){var Re=ye.value;if(ne[ce]=Re,g(Re,ce++,this)===!1)break}return ce},me.prototype.__iteratorUncached=function(g,N){if(N)return this.cacheResult().__iterator(g,N);var J=this._iterator,ne=this._iteratorCache,ce=0;return new h(function(){if(ce>=ne.length){var ye=J.next();if(ye.done)return ye;ne[ce]=ye.value}return w(g,ce,ne[ce++])})};function be(g){return!!(g&&g[le])}var Be;function je(){return Be||(Be=new ee([]))}function Ue(g){var N=Array.isArray(g)?new ee(g).fromEntrySeq():_(g)?new me(g).fromEntrySeq():H(g)?new he(g).fromEntrySeq():typeof g=="object"?new ie(g):void 0;if(!N)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+g);return N}function Ie(g){var N=qe(g);if(!N)throw new TypeError("Expected Array or iterable object of values: "+g);return N}function $e(g){var N=qe(g)||typeof g=="object"&&new ie(g);if(!N)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+g);return N}function qe(g){return Q(g)?new ee(g):_(g)?new me(g):H(g)?new he(g):void 0}function tt(g,N,J,ne){var ce=g._cache;if(ce){for(var ye=ce.length-1,Re=0;Re<=ye;Re++){var Ne=ce[J?ye-Re:Re];if(N(Ne[1],ne?Ne[0]:Re,g)===!1)return Re+1}return Re}return g.__iterateUncached(N,J)}function ct(g,N,J,ne){var ce=g._cache;if(ce){var ye=ce.length-1,Re=0;return new h(function(){var Ne=ce[J?ye-Re:Re];return Re++>ye?V():w(N,ne?Ne[0]:Re-1,Ne[1])})}return g.__iteratorUncached(N,J)}function gt(g,N){return N?dt(N,g,"",{"":g}):Ot(g)}function dt(g,N,J,ne){return Array.isArray(N)?g.call(ne,J,re(N).map(function(ce,ye){return dt(g,ce,ye,N)})):Me(N)?g.call(ne,J,k(N).map(function(ce,ye){return dt(g,ce,ye,N)})):N}function Ot(g){return Array.isArray(g)?re(g).map(Ot).toList():Me(g)?k(g).map(Ot).toMap():g}function Me(g){return g&&(g.constructor===Object||g.constructor===void 0)}function Le(g,N){if(g===N||g!==g&&N!==N)return!0;if(!g||!N)return!1;if(typeof g.valueOf=="function"&&typeof N.valueOf=="function"){if(g=g.valueOf(),N=N.valueOf(),g===N||g!==g&&N!==N)return!0;if(!g||!N)return!1}return!!(typeof g.equals=="function"&&typeof N.equals=="function"&&g.equals(N))}function He(g,N){if(g===N)return!0;if(!l(N)||g.size!==void 0&&N.size!==void 0&&g.size!==N.size||g.__hash!==void 0&&N.__hash!==void 0&&g.__hash!==N.__hash||n(g)!==n(N)||o(g)!==o(N)||a(g)!==a(N))return!1;if(g.size===0&&N.size===0)return!0;var J=!i(g);if(a(g)){var ne=g.entries();return N.every(function(Ge,Ye){var Je=ne.next().value;return Je&&Le(Je[1],Ge)&&(J||Le(Je[0],Ye))})&&ne.next().done}var ce=!1;if(g.size===void 0)if(N.size===void 0)typeof g.cacheResult=="function"&&g.cacheResult();else{ce=!0;var ye=g;g=N,N=ye}var Re=!0,Ne=N.__iterate(function(Ge,Ye){if(J?!g.has(Ge):ce?!Le(Ge,g.get(Ye,F)):!Le(g.get(Ye,F),Ge))return Re=!1,!1});return Re&&g.size===Ne}t(_e,re);function _e(g,N){if(!(this instanceof _e))return new _e(g,N);if(this._value=g,this.size=N===void 0?1/0:Math.max(0,N),this.size===0){if(Xe)return Xe;Xe=this}}_e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},_e.prototype.get=function(g,N){return this.has(g)?this._value:N},_e.prototype.includes=function(g){return Le(this._value,g)},_e.prototype.slice=function(g,N){var J=this.size;return C(g,N,J)?this:new _e(this._value,b(N,J)-y(g,J))},_e.prototype.reverse=function(){return this},_e.prototype.indexOf=function(g){return Le(this._value,g)?0:-1},_e.prototype.lastIndexOf=function(g){return Le(this._value,g)?this.size:-1},_e.prototype.__iterate=function(g,N){for(var J=0;J<this.size;J++)if(g(this._value,J,this)===!1)return J+1;return J},_e.prototype.__iterator=function(g,N){var J=this,ne=0;return new h(function(){return ne<J.size?w(g,ne++,J._value):V()})},_e.prototype.equals=function(g){return g instanceof _e?Le(this._value,g._value):He(g)};var Xe;function rt(g,N){if(!g)throw new Error(N)}t(ke,re);function ke(g,N,J){if(!(this instanceof ke))return new ke(g,N,J);if(rt(J!==0,"Cannot step a Range by 0"),g=g||0,N===void 0&&(N=1/0),J=J===void 0?1:Math.abs(J),N<g&&(J=-J),this._start=g,this._end=N,this._step=J,this.size=Math.max(0,Math.ceil((N-g)/J-1)+1),this.size===0){if(ft)return ft;ft=this}}ke.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},ke.prototype.get=function(g,N){return this.has(g)?this._start+U(this,g)*this._step:N},ke.prototype.includes=function(g){var N=(g-this._start)/this._step;return N>=0&&N<this.size&&N===Math.floor(N)},ke.prototype.slice=function(g,N){return C(g,N,this.size)?this:(g=y(g,this.size),N=b(N,this.size),N<=g?new ke(0,0):new ke(this.get(g,this._end),this.get(N,this._end),this._step))},ke.prototype.indexOf=function(g){var N=g-this._start;if(N%this._step===0){var J=N/this._step;if(J>=0&&J<this.size)return J}return-1},ke.prototype.lastIndexOf=function(g){return this.indexOf(g)},ke.prototype.__iterate=function(g,N){for(var J=this.size-1,ne=this._step,ce=N?this._start+J*ne:this._start,ye=0;ye<=J;ye++){if(g(ce,ye,this)===!1)return ye+1;ce+=N?-ne:ne}return ye},ke.prototype.__iterator=function(g,N){var J=this.size-1,ne=this._step,ce=N?this._start+J*ne:this._start,ye=0;return new h(function(){var Re=ce;return ce+=N?-ne:ne,ye>J?V():w(g,ye++,Re)})},ke.prototype.equals=function(g){return g instanceof ke?this._start===g._start&&this._end===g._end&&this._step===g._step:He(this,g)};var ft;t(vt,r);function vt(){throw TypeError("Abstract")}t(Pt,vt);function Pt(){}t(ht,vt);function ht(){}t(Rt,vt);function Rt(){}vt.Keyed=Pt,vt.Indexed=ht,vt.Set=Rt;var jt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(N,J){N=N|0,J=J|0;var ne=N&65535,ce=J&65535;return ne*ce+((N>>>16)*ce+ne*(J>>>16)<<16>>>0)|0};function ut(g){return g>>>1&1073741824|g&3221225471}function Ft(g){if(g===!1||g===null||g===void 0||typeof g.valueOf=="function"&&(g=g.valueOf(),g===!1||g===null||g===void 0))return 0;if(g===!0)return 1;var N=typeof g;if(N==="number"){if(g!==g||g===1/0)return 0;var J=g|0;for(J!==g&&(J^=g*4294967295);g>4294967295;)g/=4294967295,J^=g;return ut(J)}if(N==="string")return g.length>cr?Wt(g):Lt(g);if(typeof g.hashCode=="function")return g.hashCode();if(N==="object")return $t(g);if(typeof g.toString=="function")return Lt(g.toString());throw new Error("Value type "+N+" cannot be hashed.")}function Wt(g){var N=hr[g];return N===void 0&&(N=Lt(g),kt===wr&&(kt=0,hr={}),kt++,hr[g]=N),N}function Lt(g){for(var N=0,J=0;J<g.length;J++)N=31*N+g.charCodeAt(J)|0;return ut(N)}function $t(g){var N;if(nr&&(N=_t.get(g),N!==void 0)||(N=g[ar],N!==void 0)||!Yt&&(N=g.propertyIsEnumerable&&g.propertyIsEnumerable[ar],N!==void 0||(N=Kt(g),N!==void 0)))return N;if(N=++Xt,Xt&1073741824&&(Xt=0),nr)_t.set(g,N);else{if(Gt!==void 0&&Gt(g)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Yt)Object.defineProperty(g,ar,{enumerable:!1,configurable:!1,writable:!1,value:N});else if(g.propertyIsEnumerable!==void 0&&g.propertyIsEnumerable===g.constructor.prototype.propertyIsEnumerable)g.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},g.propertyIsEnumerable[ar]=N;else if(g.nodeType!==void 0)g[ar]=N;else throw new Error("Unable to set a non-enumerable property on object.")}return N}var Gt=Object.isExtensible,Yt=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Kt(g){if(g&&g.nodeType>0)switch(g.nodeType){case 1:return g.uniqueID;case 9:return g.documentElement&&g.documentElement.uniqueID}}var nr=typeof WeakMap=="function",_t;nr&&(_t=new WeakMap);var Xt=0,ar="__immutablehash__";typeof Symbol=="function"&&(ar=Symbol(ar));var cr=16,wr=255,kt=0,hr={};function ir(g){rt(g!==1/0,"Cannot perform this action with an infinite size.")}t(mt,Pt);function mt(g){return g==null?pt():qt(g)&&!a(g)?g:pt().withMutations(function(N){var J=c(g);ir(J.size),J.forEach(function(ne,ce){return N.set(ce,ne)})})}mt.of=function(){var g=e.call(arguments,0);return pt().withMutations(function(N){for(var J=0;J<g.length;J+=2){if(J+1>=g.length)throw new Error("Missing value for key: "+g[J]);N.set(g[J],g[J+1])}})},mt.prototype.toString=function(){return this.__toString("Map {","}")},mt.prototype.get=function(g,N){return this._root?this._root.get(0,void 0,g,N):N},mt.prototype.set=function(g,N){return It(this,g,N)},mt.prototype.setIn=function(g,N){return this.updateIn(g,F,function(){return N})},mt.prototype.remove=function(g){return It(this,g,F)},mt.prototype.deleteIn=function(g){return this.updateIn(g,function(){return F})},mt.prototype.update=function(g,N,J){return arguments.length===1?g(this):this.updateIn([g],N,J)},mt.prototype.updateIn=function(g,N,J){J||(J=N,N=void 0);var ne=Ur(this,An(g),N,J);return ne===F?void 0:ne},mt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):pt()},mt.prototype.merge=function(){return xt(this,void 0,arguments)},mt.prototype.mergeWith=function(g){var N=e.call(arguments,1);return xt(this,g,N)},mt.prototype.mergeIn=function(g){var N=e.call(arguments,1);return this.updateIn(g,pt(),function(J){return typeof J.merge=="function"?J.merge.apply(J,N):N[N.length-1]})},mt.prototype.mergeDeep=function(){return xt(this,gr,arguments)},mt.prototype.mergeDeepWith=function(g){var N=e.call(arguments,1);return xt(this,Vt(g),N)},mt.prototype.mergeDeepIn=function(g){var N=e.call(arguments,1);return this.updateIn(g,pt(),function(J){return typeof J.mergeDeep=="function"?J.mergeDeep.apply(J,N):N[N.length-1]})},mt.prototype.sort=function(g){return yr(Gr(this,g))},mt.prototype.sortBy=function(g,N){return yr(Gr(this,N,g))},mt.prototype.withMutations=function(g){var N=this.asMutable();return g(N),N.wasAltered()?N.__ensureOwner(this.__ownerID):this},mt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new K)},mt.prototype.asImmutable=function(){return this.__ensureOwner()},mt.prototype.wasAltered=function(){return this.__altered},mt.prototype.__iterator=function(g,N){return new ze(this,g,N)},mt.prototype.__iterate=function(g,N){var J=this,ne=0;return this._root&&this._root.iterate(function(ce){return ne++,g(ce[1],ce[0],J)},N),ne},mt.prototype.__ensureOwner=function(g){return g===this.__ownerID?this:g?xe(this.size,this._root,g,this.__hash):(this.__ownerID=g,this.__altered=!1,this)};function qt(g){return!!(g&&g[pr])}mt.isMap=qt;var pr="@@__IMMUTABLE_MAP__@@",bt=mt.prototype;bt[pr]=!0,bt[m]=bt.remove,bt.removeIn=bt.deleteIn;function fr(g,N){this.ownerID=g,this.entries=N}fr.prototype.get=function(g,N,J,ne){for(var ce=this.entries,ye=0,Re=ce.length;ye<Re;ye++)if(Le(J,ce[ye][0]))return ce[ye][1];return ne},fr.prototype.update=function(g,N,J,ne,ce,ye,Re){for(var Ne=ce===F,Ge=this.entries,Ye=0,Je=Ge.length;Ye<Je&&!Le(ne,Ge[Ye][0]);Ye++);var yt=Ye<Je;if(yt?Ge[Ye][1]===ce:Ne)return this;if(G(Re),(Ne||!yt)&&G(ye),!(Ne&&Ge.length===1)){if(!yt&&!Ne&&Ge.length>=cn)return Zt(g,Ge,ne,ce);var Tt=g&&g===this.ownerID,Bt=Tt?Ge:Y(Ge);return yt?Ne?Ye===Je-1?Bt.pop():Bt[Ye]=Bt.pop():Bt[Ye]=[ne,ce]:Bt.push([ne,ce]),Tt?(this.entries=Bt,this):new fr(g,Bt)}};function Or(g,N,J){this.ownerID=g,this.bitmap=N,this.nodes=J}Or.prototype.get=function(g,N,J,ne){N===void 0&&(N=Ft(J));var ce=1<<((g===0?N:N>>>g)&L),ye=this.bitmap;return(ye&ce)===0?ne:this.nodes[Dr(ye&ce-1)].get(g+P,N,J,ne)},Or.prototype.update=function(g,N,J,ne,ce,ye,Re){J===void 0&&(J=Ft(ne));var Ne=(N===0?J:J>>>N)&L,Ge=1<<Ne,Ye=this.bitmap,Je=(Ye&Ge)!==0;if(!Je&&ce===F)return this;var yt=Dr(Ye&Ge-1),Tt=this.nodes,Bt=Je?Tt[yt]:void 0,Qt=wt(Bt,g,N+P,J,ne,ce,ye,Re);if(Qt===Bt)return this;if(!Je&&Qt&&Tt.length>=gn)return ur(g,Tt,Ye,Ne,Qt);if(Je&&!Qt&&Tt.length===2&&or(Tt[yt^1]))return Tt[yt^1];if(Je&&Qt&&Tt.length===1&&or(Qt))return Qt;var Tr=g&&g===this.ownerID,on=Je?Qt?Ye:Ye^Ge:Ye|Ge,ln=Je?Qt?Vr(Tt,yt,Qt,Tr):dr(Tt,yt,Tr):Ir(Tt,yt,Qt,Tr);return Tr?(this.bitmap=on,this.nodes=ln,this):new Or(g,on,ln)};function de(g,N,J){this.ownerID=g,this.count=N,this.nodes=J}de.prototype.get=function(g,N,J,ne){N===void 0&&(N=Ft(J));var ce=(g===0?N:N>>>g)&L,ye=this.nodes[ce];return ye?ye.get(g+P,N,J,ne):ne},de.prototype.update=function(g,N,J,ne,ce,ye,Re){J===void 0&&(J=Ft(ne));var Ne=(N===0?J:J>>>N)&L,Ge=ce===F,Ye=this.nodes,Je=Ye[Ne];if(Ge&&!Je)return this;var yt=wt(Je,g,N+P,J,ne,ce,ye,Re);if(yt===Je)return this;var Tt=this.count;if(!Je)Tt++;else if(!yt&&(Tt--,Tt<Xr))return Rr(g,Ye,Tt,Ne);var Bt=g&&g===this.ownerID,Qt=Vr(Ye,Ne,yt,Bt);return Bt?(this.count=Tt,this.nodes=Qt,this):new de(g,Tt,Qt)};function we(g,N,J){this.ownerID=g,this.keyHash=N,this.entries=J}we.prototype.get=function(g,N,J,ne){for(var ce=this.entries,ye=0,Re=ce.length;ye<Re;ye++)if(Le(J,ce[ye][0]))return ce[ye][1];return ne},we.prototype.update=function(g,N,J,ne,ce,ye,Re){J===void 0&&(J=Ft(ne));var Ne=ce===F;if(J!==this.keyHash)return Ne?this:(G(Re),G(ye),Mt(this,g,N,J,[ne,ce]));for(var Ge=this.entries,Ye=0,Je=Ge.length;Ye<Je&&!Le(ne,Ge[Ye][0]);Ye++);var yt=Ye<Je;if(yt?Ge[Ye][1]===ce:Ne)return this;if(G(Re),(Ne||!yt)&&G(ye),Ne&&Je===2)return new Fe(g,this.keyHash,Ge[Ye^1]);var Tt=g&&g===this.ownerID,Bt=Tt?Ge:Y(Ge);return yt?Ne?Ye===Je-1?Bt.pop():Bt[Ye]=Bt.pop():Bt[Ye]=[ne,ce]:Bt.push([ne,ce]),Tt?(this.entries=Bt,this):new we(g,this.keyHash,Bt)};function Fe(g,N,J){this.ownerID=g,this.keyHash=N,this.entry=J}Fe.prototype.get=function(g,N,J,ne){return Le(J,this.entry[0])?this.entry[1]:ne},Fe.prototype.update=function(g,N,J,ne,ce,ye,Re){var Ne=ce===F,Ge=Le(ne,this.entry[0]);if(Ge?ce===this.entry[1]:Ne)return this;if(G(Re),Ne){G(ye);return}return Ge?g&&g===this.ownerID?(this.entry[1]=ce,this):new Fe(g,this.keyHash,[ne,ce]):(G(ye),Mt(this,g,N,Ft(ne),[ne,ce]))},fr.prototype.iterate=we.prototype.iterate=function(g,N){for(var J=this.entries,ne=0,ce=J.length-1;ne<=ce;ne++)if(g(J[N?ce-ne:ne])===!1)return!1},Or.prototype.iterate=de.prototype.iterate=function(g,N){for(var J=this.nodes,ne=0,ce=J.length-1;ne<=ce;ne++){var ye=J[N?ce-ne:ne];if(ye&&ye.iterate(g,N)===!1)return!1}},Fe.prototype.iterate=function(g,N){return g(this.entry)},t(ze,h);function ze(g,N,J){this._type=N,this._reverse=J,this._stack=g._root&&st(g._root)}ze.prototype.next=function(){for(var g=this._type,N=this._stack;N;){var J=N.node,ne=N.index++,ce;if(J.entry){if(ne===0)return et(g,J.entry)}else if(J.entries){if(ce=J.entries.length-1,ne<=ce)return et(g,J.entries[this._reverse?ce-ne:ne])}else if(ce=J.nodes.length-1,ne<=ce){var ye=J.nodes[this._reverse?ce-ne:ne];if(ye){if(ye.entry)return et(g,ye.entry);N=this._stack=st(ye,N)}continue}N=this._stack=this._stack.__prev}return V()};function et(g,N){return w(g,N[0],N[1])}function st(g,N){return{node:g,index:0,__prev:N}}function xe(g,N,J,ne){var ce=Object.create(bt);return ce.size=g,ce._root=N,ce.__ownerID=J,ce.__hash=ne,ce.__altered=!1,ce}var At;function pt(){return At||(At=xe(0))}function It(g,N,J){var ne,ce;if(g._root){var ye=B(j),Re=B(D);if(ne=wt(g._root,g.__ownerID,0,void 0,N,J,ye,Re),!Re.value)return g;ce=g.size+(ye.value?J===F?-1:1:0)}else{if(J===F)return g;ce=1,ne=new fr(g.__ownerID,[[N,J]])}return g.__ownerID?(g.size=ce,g._root=ne,g.__hash=void 0,g.__altered=!0,g):ne?xe(ce,ne):pt()}function wt(g,N,J,ne,ce,ye,Re,Ne){return g?g.update(N,J,ne,ce,ye,Re,Ne):ye===F?g:(G(Ne),G(Re),new Fe(N,ne,[ce,ye]))}function or(g){return g.constructor===Fe||g.constructor===we}function Mt(g,N,J,ne,ce){if(g.keyHash===ne)return new we(N,ne,[g.entry,ce]);var ye=(J===0?g.keyHash:g.keyHash>>>J)&L,Re=(J===0?ne:ne>>>J)&L,Ne,Ge=ye===Re?[Mt(g,N,J+P,ne,ce)]:(Ne=new Fe(N,ne,ce),ye<Re?[g,Ne]:[Ne,g]);return new Or(N,1<<ye|1<<Re,Ge)}function Zt(g,N,J,ne){g||(g=new K);for(var ce=new Fe(g,Ft(J),[J,ne]),ye=0;ye<N.length;ye++){var Re=N[ye];ce=ce.update(g,0,void 0,Re[0],Re[1])}return ce}function Rr(g,N,J,ne){for(var ce=0,ye=0,Re=new Array(J),Ne=0,Ge=1,Ye=N.length;Ne<Ye;Ne++,Ge<<=1){var Je=N[Ne];Je!==void 0&&Ne!==ne&&(ce|=Ge,Re[ye++]=Je)}return new Or(g,ce,Re)}function ur(g,N,J,ne,ce){for(var ye=0,Re=new Array(E),Ne=0;J!==0;Ne++,J>>>=1)Re[Ne]=J&1?N[ye++]:void 0;return Re[ne]=ce,new de(g,ye+1,Re)}function xt(g,N,J){for(var ne=[],ce=0;ce<J.length;ce++){var ye=J[ce],Re=c(ye);l(ye)||(Re=Re.map(function(Ne){return gt(Ne)})),ne.push(Re)}return Mr(g,N,ne)}function gr(g,N,J){return g&&g.mergeDeep&&l(N)?g.mergeDeep(N):Le(g,N)?g:N}function Vt(g){return function(N,J,ne){if(N&&N.mergeDeepWith&&l(J))return N.mergeDeepWith(g,J);var ce=g(N,J,ne);return Le(N,ce)?N:ce}}function Mr(g,N,J){return J=J.filter(function(ne){return ne.size!==0}),J.length===0?g:g.size===0&&!g.__ownerID&&J.length===1?g.constructor(J[0]):g.withMutations(function(ne){for(var ce=N?function(Re,Ne){ne.update(Ne,F,function(Ge){return Ge===F?Re:N(Ge,Re,Ne)})}:function(Re,Ne){ne.set(Ne,Re)},ye=0;ye<J.length;ye++)J[ye].forEach(ce)})}function Ur(g,N,J,ne){var ce=g===F,ye=N.next();if(ye.done){var Re=ce?J:g,Ne=ne(Re);return Ne===Re?g:Ne}rt(ce||g&&g.set,"invalid keyPath");var Ge=ye.value,Ye=ce?F:g.get(Ge,F),Je=Ur(Ye,N,J,ne);return Je===Ye?g:Je===F?g.remove(Ge):(ce?pt():g).set(Ge,Je)}function Dr(g){return g=g-(g>>1&1431655765),g=(g&858993459)+(g>>2&858993459),g=g+(g>>4)&252645135,g=g+(g>>8),g=g+(g>>16),g&127}function Vr(g,N,J,ne){var ce=ne?g:Y(g);return ce[N]=J,ce}function Ir(g,N,J,ne){var ce=g.length+1;if(ne&&N+1===ce)return g[N]=J,g;for(var ye=new Array(ce),Re=0,Ne=0;Ne<ce;Ne++)Ne===N?(ye[Ne]=J,Re=-1):ye[Ne]=g[Ne+Re];return ye}function dr(g,N,J){var ne=g.length-1;if(J&&N===ne)return g.pop(),g;for(var ce=new Array(ne),ye=0,Re=0;Re<ne;Re++)Re===N&&(ye=1),ce[Re]=g[Re+ye];return ce}var cn=E/4,gn=E/2,Xr=E/4;t(Et,ht);function Et(g){var N=Sn();if(g==null)return N;if(er(g))return g;var J=f(g),ne=J.size;return ne===0?N:(ir(ne),ne>0&&ne<E?Qr(0,ne,P,null,new Pr(J.toArray())):N.withMutations(function(ce){ce.setSize(ne),J.forEach(function(ye,Re){return ce.set(Re,ye)})}))}Et.of=function(){return this(arguments)},Et.prototype.toString=function(){return this.__toString("List [","]")},Et.prototype.get=function(g,N){if(g=U(this,g),g>=0&&g<this.size){g+=this._origin;var J=Dn(this,g);return J&&J.array[g&L]}return N},Et.prototype.set=function(g,N){return mn(this,g,N)},Et.prototype.remove=function(g){return this.has(g)?g===0?this.shift():g===this.size-1?this.pop():this.splice(g,1):this},Et.prototype.insert=function(g,N){return this.splice(g,0,N)},Et.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=P,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Sn()},Et.prototype.push=function(){var g=arguments,N=this.size;return this.withMutations(function(J){_r(J,0,N+g.length);for(var ne=0;ne<g.length;ne++)J.set(N+ne,g[ne])})},Et.prototype.pop=function(){return _r(this,0,-1)},Et.prototype.unshift=function(){var g=arguments;return this.withMutations(function(N){_r(N,-g.length);for(var J=0;J<g.length;J++)N.set(J,g[J])})},Et.prototype.shift=function(){return _r(this,1)},Et.prototype.merge=function(){return fn(this,void 0,arguments)},Et.prototype.mergeWith=function(g){var N=e.call(arguments,1);return fn(this,g,N)},Et.prototype.mergeDeep=function(){return fn(this,gr,arguments)},Et.prototype.mergeDeepWith=function(g){var N=e.call(arguments,1);return fn(this,Vt(g),N)},Et.prototype.setSize=function(g){return _r(this,0,g)},Et.prototype.slice=function(g,N){var J=this.size;return C(g,N,J)?this:_r(this,y(g,J),b(N,J))},Et.prototype.__iterator=function(g,N){var J=0,ne=Zr(this,N);return new h(function(){var ce=ne();return ce===Yr?V():w(g,J++,ce)})},Et.prototype.__iterate=function(g,N){for(var J=0,ne=Zr(this,N),ce;(ce=ne())!==Yr&&g(ce,J++,this)!==!1;);return J},Et.prototype.__ensureOwner=function(g){return g===this.__ownerID?this:g?Qr(this._origin,this._capacity,this._level,this._root,this._tail,g,this.__hash):(this.__ownerID=g,this)};function er(g){return!!(g&&g[tr])}Et.isList=er;var tr="@@__IMMUTABLE_LIST__@@",lr=Et.prototype;lr[tr]=!0,lr[m]=lr.remove,lr.setIn=bt.setIn,lr.deleteIn=lr.removeIn=bt.removeIn,lr.update=bt.update,lr.updateIn=bt.updateIn,lr.mergeIn=bt.mergeIn,lr.mergeDeepIn=bt.mergeDeepIn,lr.withMutations=bt.withMutations,lr.asMutable=bt.asMutable,lr.asImmutable=bt.asImmutable,lr.wasAltered=bt.wasAltered;function Pr(g,N){this.array=g,this.ownerID=N}Pr.prototype.removeBefore=function(g,N,J){if(J===N?1<<N:this.array.length===0)return this;var ne=J>>>N&L;if(ne>=this.array.length)return new Pr([],g);var ce=ne===0,ye;if(N>0){var Re=this.array[ne];if(ye=Re&&Re.removeBefore(g,N-P,J),ye===Re&&ce)return this}if(ce&&!ye)return this;var Ne=nn(this,g);if(!ce)for(var Ge=0;Ge<ne;Ge++)Ne.array[Ge]=void 0;return ye&&(Ne.array[ne]=ye),Ne},Pr.prototype.removeAfter=function(g,N,J){if(J===(N?1<<N:0)||this.array.length===0)return this;var ne=J-1>>>N&L;if(ne>=this.array.length)return this;var ce;if(N>0){var ye=this.array[ne];if(ce=ye&&ye.removeAfter(g,N-P,J),ce===ye&&ne===this.array.length-1)return this}var Re=nn(this,g);return Re.array.splice(ne+1),ce&&(Re.array[ne]=ce),Re};var Yr={};function Zr(g,N){var J=g._origin,ne=g._capacity,ce=dn(ne),ye=g._tail;return Re(g._root,g._level,0);function Re(Ye,Je,yt){return Je===0?Ne(Ye,yt):Ge(Ye,Je,yt)}function Ne(Ye,Je){var yt=Je===ce?ye&&ye.array:Ye&&Ye.array,Tt=Je>J?0:J-Je,Bt=ne-Je;return Bt>E&&(Bt=E),function(){if(Tt===Bt)return Yr;var Qt=N?--Bt:Tt++;return yt&&yt[Qt]}}function Ge(Ye,Je,yt){var Tt,Bt=Ye&&Ye.array,Qt=yt>J?0:J-yt>>Je,Tr=(ne-yt>>Je)+1;return Tr>E&&(Tr=E),function(){do{if(Tt){var on=Tt();if(on!==Yr)return on;Tt=null}if(Qt===Tr)return Yr;var ln=N?--Tr:Qt++;Tt=Re(Bt&&Bt[ln],Je-P,yt+(ln<<Je))}while(!0)}}}function Qr(g,N,J,ne,ce,ye,Re){var Ne=Object.create(lr);return Ne.size=N-g,Ne._origin=g,Ne._capacity=N,Ne._level=J,Ne._root=ne,Ne._tail=ce,Ne.__ownerID=ye,Ne.__hash=Re,Ne.__altered=!1,Ne}var bn;function Sn(){return bn||(bn=Qr(0,0,P))}function mn(g,N,J){if(N=U(g,N),N!==N)return g;if(N>=g.size||N<0)return g.withMutations(function(Re){N<0?_r(Re,N).set(0,J):_r(Re,0,N+1).set(N,J)});N+=g._origin;var ne=g._tail,ce=g._root,ye=B(D);return N>=dn(g._capacity)?ne=En(ne,g.__ownerID,0,N,J,ye):ce=En(ce,g.__ownerID,g._level,N,J,ye),ye.value?g.__ownerID?(g._root=ce,g._tail=ne,g.__hash=void 0,g.__altered=!0,g):Qr(g._origin,g._capacity,g._level,ce,ne):g}function En(g,N,J,ne,ce,ye){var Re=ne>>>J&L,Ne=g&&Re<g.array.length;if(!Ne&&ce===void 0)return g;var Ge;if(J>0){var Ye=g&&g.array[Re],Je=En(Ye,N,J-P,ne,ce,ye);return Je===Ye?g:(Ge=nn(g,N),Ge.array[Re]=Je,Ge)}return Ne&&g.array[Re]===ce?g:(G(ye),Ge=nn(g,N),ce===void 0&&Re===Ge.array.length-1?Ge.array.pop():Ge.array[Re]=ce,Ge)}function nn(g,N){return N&&g&&N===g.ownerID?g:new Pr(g?g.array.slice():[],N)}function Dn(g,N){if(N>=dn(g._capacity))return g._tail;if(N<1<<g._level+P){for(var J=g._root,ne=g._level;J&&ne>0;)J=J.array[N>>>ne&L],ne-=P;return J}}function _r(g,N,J){N!==void 0&&(N=N|0),J!==void 0&&(J=J|0);var ne=g.__ownerID||new K,ce=g._origin,ye=g._capacity,Re=ce+N,Ne=J===void 0?ye:J<0?ye+J:ce+J;if(Re===ce&&Ne===ye)return g;if(Re>=Ne)return g.clear();for(var Ge=g._level,Ye=g._root,Je=0;Re+Je<0;)Ye=new Pr(Ye&&Ye.array.length?[void 0,Ye]:[],ne),Ge+=P,Je+=1<<Ge;Je&&(Re+=Je,ce+=Je,Ne+=Je,ye+=Je);for(var yt=dn(ye),Tt=dn(Ne);Tt>=1<<Ge+P;)Ye=new Pr(Ye&&Ye.array.length?[Ye]:[],ne),Ge+=P;var Bt=g._tail,Qt=Tt<yt?Dn(g,Ne-1):Tt>yt?new Pr([],ne):Bt;if(Bt&&Tt>yt&&Re<ye&&Bt.array.length){Ye=nn(Ye,ne);for(var Tr=Ye,on=Ge;on>P;on-=P){var ln=yt>>>on&L;Tr=Tr.array[ln]=nn(Tr.array[ln],ne)}Tr.array[yt>>>P&L]=Bt}if(Ne<ye&&(Qt=Qt&&Qt.removeAfter(ne,0,Ne)),Re>=Tt)Re-=Tt,Ne-=Tt,Ge=P,Ye=null,Qt=Qt&&Qt.removeBefore(ne,0,Re);else if(Re>ce||Tt<yt){for(Je=0;Ye;){var ea=Re>>>Ge&L;if(ea!==Tt>>>Ge&L)break;ea&&(Je+=(1<<Ge)*ea),Ge-=P,Ye=Ye.array[ea]}Ye&&Re>ce&&(Ye=Ye.removeBefore(ne,Ge,Re-Je)),Ye&&Tt<yt&&(Ye=Ye.removeAfter(ne,Ge,Tt-Je)),Je&&(Re-=Je,Ne-=Je)}return g.__ownerID?(g.size=Ne-Re,g._origin=Re,g._capacity=Ne,g._level=Ge,g._root=Ye,g._tail=Qt,g.__hash=void 0,g.__altered=!0,g):Qr(Re,Ne,Ge,Ye,Qt)}function fn(g,N,J){for(var ne=[],ce=0,ye=0;ye<J.length;ye++){var Re=J[ye],Ne=f(Re);Ne.size>ce&&(ce=Ne.size),l(Re)||(Ne=Ne.map(function(Ge){return gt(Ge)})),ne.push(Ne)}return ce>g.size&&(g=g.setSize(ce)),Mr(g,N,ne)}function dn(g){return g<E?0:g-1>>>P<<P}t(yr,mt);function yr(g){return g==null?hn():In(g)?g:hn().withMutations(function(N){var J=c(g);ir(J.size),J.forEach(function(ne,ce){return N.set(ce,ne)})})}yr.of=function(){return this(arguments)},yr.prototype.toString=function(){return this.__toString("OrderedMap {","}")},yr.prototype.get=function(g,N){var J=this._map.get(g);return J!==void 0?this._list.get(J)[1]:N},yr.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):hn()},yr.prototype.set=function(g,N){return jn(this,g,N)},yr.prototype.remove=function(g){return jn(this,g,F)},yr.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},yr.prototype.__iterate=function(g,N){var J=this;return this._list.__iterate(function(ne){return ne&&g(ne[1],ne[0],J)},N)},yr.prototype.__iterator=function(g,N){return this._list.fromEntrySeq().__iterator(g,N)},yr.prototype.__ensureOwner=function(g){if(g===this.__ownerID)return this;var N=this._map.__ensureOwner(g),J=this._list.__ensureOwner(g);return g?qr(N,J,g,this.__hash):(this.__ownerID=g,this._map=N,this._list=J,this)};function In(g){return qt(g)&&a(g)}yr.isOrderedMap=In,yr.prototype[p]=!0,yr.prototype[m]=yr.prototype.remove;function qr(g,N,J,ne){var ce=Object.create(yr.prototype);return ce.size=g?g.size:0,ce._map=g,ce._list=N,ce.__ownerID=J,ce.__hash=ne,ce}var Pn;function hn(){return Pn||(Pn=qr(pt(),Sn()))}function jn(g,N,J){var ne=g._map,ce=g._list,ye=ne.get(N),Re=ye!==void 0,Ne,Ge;if(J===F){if(!Re)return g;ce.size>=E&&ce.size>=ne.size*2?(Ge=ce.filter(function(Ye,Je){return Ye!==void 0&&ye!==Je}),Ne=Ge.toKeyedSeq().map(function(Ye){return Ye[0]}).flip().toMap(),g.__ownerID&&(Ne.__ownerID=Ge.__ownerID=g.__ownerID)):(Ne=ne.remove(N),Ge=ye===ce.size-1?ce.pop():ce.set(ye,void 0))}else if(Re){if(J===ce.get(ye)[1])return g;Ne=ne,Ge=ce.set(ye,[N,J])}else Ne=ne.set(N,ce.size),Ge=ce.set(ce.size,[N,J]);return g.__ownerID?(g.size=Ne.size,g._map=Ne,g._list=Ge,g.__hash=void 0,g):qr(Ne,Ge)}t(Wr,k);function Wr(g,N){this._iter=g,this._useKeys=N,this.size=g.size}Wr.prototype.get=function(g,N){return this._iter.get(g,N)},Wr.prototype.has=function(g){return this._iter.has(g)},Wr.prototype.valueSeq=function(){return this._iter.valueSeq()},Wr.prototype.reverse=function(){var g=this,N=Tn(this,!0);return this._useKeys||(N.valueSeq=function(){return g._iter.toSeq().reverse()}),N},Wr.prototype.map=function(g,N){var J=this,ne=vn(this,g,N);return this._useKeys||(ne.valueSeq=function(){return J._iter.toSeq().map(g,N)}),ne},Wr.prototype.__iterate=function(g,N){var J=this,ne;return this._iter.__iterate(this._useKeys?function(ce,ye){return g(ce,ye,J)}:(ne=N?Wn(this):0,function(ce){return g(ce,N?--ne:ne++,J)}),N)},Wr.prototype.__iterator=function(g,N){if(this._useKeys)return this._iter.__iterator(g,N);var J=this._iter.__iterator(S,N),ne=N?Wn(this):0;return new h(function(){var ce=J.next();return ce.done?ce:w(g,N?--ne:ne++,ce.value,ce)})},Wr.prototype[p]=!0,t(xr,re);function xr(g){this._iter=g,this.size=g.size}xr.prototype.includes=function(g){return this._iter.includes(g)},xr.prototype.__iterate=function(g,N){var J=this,ne=0;return this._iter.__iterate(function(ce){return g(ce,ne++,J)},N)},xr.prototype.__iterator=function(g,N){var J=this._iter.__iterator(S,N),ne=0;return new h(function(){var ce=J.next();return ce.done?ce:w(g,ne++,ce.value,ce)})},t(kr,q);function kr(g){this._iter=g,this.size=g.size}kr.prototype.has=function(g){return this._iter.includes(g)},kr.prototype.__iterate=function(g,N){var J=this;return this._iter.__iterate(function(ne){return g(ne,ne,J)},N)},kr.prototype.__iterator=function(g,N){var J=this._iter.__iterator(S,N);return new h(function(){var ne=J.next();return ne.done?ne:w(g,ne.value,ne.value,ne)})},t($r,k);function $r(g){this._iter=g,this.size=g.size}$r.prototype.entrySeq=function(){return this._iter.toSeq()},$r.prototype.__iterate=function(g,N){var J=this;return this._iter.__iterate(function(ne){if(ne){Jn(ne);var ce=l(ne);return g(ce?ne.get(1):ne[1],ce?ne.get(0):ne[0],J)}},N)},$r.prototype.__iterator=function(g,N){var J=this._iter.__iterator(S,N);return new h(function(){for(;;){var ne=J.next();if(ne.done)return ne;var ce=ne.value;if(ce){Jn(ce);var ye=l(ce);return w(g,ye?ce.get(0):ce[0],ye?ce.get(1):ce[1],ne)}}})},xr.prototype.cacheResult=Wr.prototype.cacheResult=kr.prototype.cacheResult=$r.prototype.cacheResult=Kn;function Cn(g){var N=tn(g);return N._iter=g,N.size=g.size,N.flip=function(){return g},N.reverse=function(){var J=g.reverse.apply(this);return J.flip=function(){return g.reverse()},J},N.has=function(J){return g.includes(J)},N.includes=function(J){return g.has(J)},N.cacheResult=Kn,N.__iterateUncached=function(J,ne){var ce=this;return g.__iterate(function(ye,Re){return J(Re,ye,ce)!==!1},ne)},N.__iteratorUncached=function(J,ne){if(J===A){var ce=g.__iterator(J,ne);return new h(function(){var ye=ce.next();if(!ye.done){var Re=ye.value[0];ye.value[0]=ye.value[1],ye.value[1]=Re}return ye})}return g.__iterator(J===S?R:S,ne)},N}function vn(g,N,J){var ne=tn(g);return ne.size=g.size,ne.has=function(ce){return g.has(ce)},ne.get=function(ce,ye){var Re=g.get(ce,F);return Re===F?ye:N.call(J,Re,ce,g)},ne.__iterateUncached=function(ce,ye){var Re=this;return g.__iterate(function(Ne,Ge,Ye){return ce(N.call(J,Ne,Ge,Ye),Ge,Re)!==!1},ye)},ne.__iteratorUncached=function(ce,ye){var Re=g.__iterator(A,ye);return new h(function(){var Ne=Re.next();if(Ne.done)return Ne;var Ge=Ne.value,Ye=Ge[0];return w(ce,Ye,N.call(J,Ge[1],Ye,g),Ne)})},ne}function Tn(g,N){var J=tn(g);return J._iter=g,J.size=g.size,J.reverse=function(){return g},g.flip&&(J.flip=function(){var ne=Cn(g);return ne.reverse=function(){return g.flip()},ne}),J.get=function(ne,ce){return g.get(N?ne:-1-ne,ce)},J.has=function(ne){return g.has(N?ne:-1-ne)},J.includes=function(ne){return g.includes(ne)},J.cacheResult=Kn,J.__iterate=function(ne,ce){var ye=this;return g.__iterate(function(Re,Ne){return ne(Re,Ne,ye)},!ce)},J.__iterator=function(ne,ce){return g.__iterator(ne,!ce)},J}function Ln(g,N,J,ne){var ce=tn(g);return ne&&(ce.has=function(ye){var Re=g.get(ye,F);return Re!==F&&!!N.call(J,Re,ye,g)},ce.get=function(ye,Re){var Ne=g.get(ye,F);return Ne!==F&&N.call(J,Ne,ye,g)?Ne:Re}),ce.__iterateUncached=function(ye,Re){var Ne=this,Ge=0;return g.__iterate(function(Ye,Je,yt){if(N.call(J,Ye,Je,yt))return Ge++,ye(Ye,ne?Je:Ge-1,Ne)},Re),Ge},ce.__iteratorUncached=function(ye,Re){var Ne=g.__iterator(A,Re),Ge=0;return new h(function(){for(;;){var Ye=Ne.next();if(Ye.done)return Ye;var Je=Ye.value,yt=Je[0],Tt=Je[1];if(N.call(J,Tt,yt,g))return w(ye,ne?yt:Ge++,Tt,Ye)}})},ce}function Hn(g,N,J){var ne=mt().asMutable();return g.__iterate(function(ce,ye){ne.update(N.call(J,ce,ye,g),0,function(Re){return Re+1})}),ne.asImmutable()}function zn(g,N,J){var ne=n(g),ce=(a(g)?yr():mt()).asMutable();g.__iterate(function(Re,Ne){ce.update(N.call(J,Re,Ne,g),function(Ge){return Ge=Ge||[],Ge.push(ne?[Ne,Re]:Re),Ge})});var ye=$n(g);return ce.map(function(Re){return sr(g,ye(Re))})}function Dt(g,N,J,ne){var ce=g.size;if(N!==void 0&&(N=N|0),J!==void 0&&(J===1/0?J=ce:J=J|0),C(N,J,ce))return g;var ye=y(N,ce),Re=b(J,ce);if(ye!==ye||Re!==Re)return Dt(g.toSeq().cacheResult(),N,J,ne);var Ne=Re-ye,Ge;Ne===Ne&&(Ge=Ne<0?0:Ne);var Ye=tn(g);return Ye.size=Ge===0?Ge:g.size&&Ge||void 0,!ne&&be(g)&&Ge>=0&&(Ye.get=function(Je,yt){return Je=U(this,Je),Je>=0&&Je<Ge?g.get(Je+ye,yt):yt}),Ye.__iterateUncached=function(Je,yt){var Tt=this;if(Ge===0)return 0;if(yt)return this.cacheResult().__iterate(Je,yt);var Bt=0,Qt=!0,Tr=0;return g.__iterate(function(on,ln){if(!(Qt&&(Qt=Bt++<ye)))return Tr++,Je(on,ne?ln:Tr-1,Tt)!==!1&&Tr!==Ge}),Tr},Ye.__iteratorUncached=function(Je,yt){if(Ge!==0&&yt)return this.cacheResult().__iterator(Je,yt);var Tt=Ge!==0&&g.__iterator(Je,yt),Bt=0,Qt=0;return new h(function(){for(;Bt++<ye;)Tt.next();if(++Qt>Ge)return V();var Tr=Tt.next();return ne||Je===S?Tr:Je===R?w(Je,Qt-1,void 0,Tr):w(Je,Qt-1,Tr.value[1],Tr)})},Ye}function mr(g,N,J){var ne=tn(g);return ne.__iterateUncached=function(ce,ye){var Re=this;if(ye)return this.cacheResult().__iterate(ce,ye);var Ne=0;return g.__iterate(function(Ge,Ye,Je){return N.call(J,Ge,Ye,Je)&&++Ne&&ce(Ge,Ye,Re)}),Ne},ne.__iteratorUncached=function(ce,ye){var Re=this;if(ye)return this.cacheResult().__iterator(ce,ye);var Ne=g.__iterator(A,ye),Ge=!0;return new h(function(){if(!Ge)return V();var Ye=Ne.next();if(Ye.done)return Ye;var Je=Ye.value,yt=Je[0],Tt=Je[1];return N.call(J,Tt,yt,Re)?ce===A?Ye:w(ce,yt,Tt,Ye):(Ge=!1,V())})},ne}function Nn(g,N,J,ne){var ce=tn(g);return ce.__iterateUncached=function(ye,Re){var Ne=this;if(Re)return this.cacheResult().__iterate(ye,Re);var Ge=!0,Ye=0;return g.__iterate(function(Je,yt,Tt){if(!(Ge&&(Ge=N.call(J,Je,yt,Tt))))return Ye++,ye(Je,ne?yt:Ye-1,Ne)}),Ye},ce.__iteratorUncached=function(ye,Re){var Ne=this;if(Re)return this.cacheResult().__iterator(ye,Re);var Ge=g.__iterator(A,Re),Ye=!0,Je=0;return new h(function(){var yt,Tt,Bt;do{if(yt=Ge.next(),yt.done)return ne||ye===S?yt:ye===R?w(ye,Je++,void 0,yt):w(ye,Je++,yt.value[1],yt);var Qt=yt.value;Tt=Qt[0],Bt=Qt[1],Ye&&(Ye=N.call(J,Bt,Tt,Ne))}while(Ye);return ye===A?yt:w(ye,Tt,Bt,yt)})},ce}function Rn(g,N){var J=n(g),ne=[g].concat(N).map(function(Re){return l(Re)?J&&(Re=c(Re)):Re=J?Ue(Re):Ie(Array.isArray(Re)?Re:[Re]),Re}).filter(function(Re){return Re.size!==0});if(ne.length===0)return g;if(ne.length===1){var ce=ne[0];if(ce===g||J&&n(ce)||o(g)&&o(ce))return ce}var ye=new ee(ne);return J?ye=ye.toKeyedSeq():o(g)||(ye=ye.toSetSeq()),ye=ye.flatten(!0),ye.size=ne.reduce(function(Re,Ne){if(Re!==void 0){var Ge=Ne.size;if(Ge!==void 0)return Re+Ge}},0),ye}function Vn(g,N,J){var ne=tn(g);return ne.__iterateUncached=function(ce,ye){var Re=0,Ne=!1;function Ge(Ye,Je){var yt=this;Ye.__iterate(function(Tt,Bt){return(!N||Je<N)&&l(Tt)?Ge(Tt,Je+1):ce(Tt,J?Bt:Re++,yt)===!1&&(Ne=!0),!Ne},ye)}return Ge(g,0),Re},ne.__iteratorUncached=function(ce,ye){var Re=g.__iterator(ce,ye),Ne=[],Ge=0;return new h(function(){for(;Re;){var Ye=Re.next();if(Ye.done!==!1){Re=Ne.pop();continue}var Je=Ye.value;if(ce===A&&(Je=Je[1]),(!N||Ne.length<N)&&l(Je))Ne.push(Re),Re=Je.__iterator(ce,ye);else return J?Ye:w(ce,Ge++,Je,Ye)}return V()})},ne}function yn(g,N,J){var ne=$n(g);return g.toSeq().map(function(ce,ye){return ne(N.call(J,ce,ye,g))}).flatten(!0)}function un(g,N){var J=tn(g);return J.size=g.size&&g.size*2-1,J.__iterateUncached=function(ne,ce){var ye=this,Re=0;return g.__iterate(function(Ne,Ge){return(!Re||ne(N,Re++,ye)!==!1)&&ne(Ne,Re++,ye)!==!1},ce),Re},J.__iteratorUncached=function(ne,ce){var ye=g.__iterator(S,ce),Re=0,Ne;return new h(function(){return(!Ne||Re%2)&&(Ne=ye.next(),Ne.done)?Ne:Re%2?w(ne,Re++,N):w(ne,Re++,Ne.value,Ne)})},J}function Gr(g,N,J){N||(N=Xn);var ne=n(g),ce=0,ye=g.toSeq().map(function(Re,Ne){return[Ne,Re,ce++,J?J(Re,Ne,g):Re]}).toArray();return ye.sort(function(Re,Ne){return N(Re[3],Ne[3])||Re[2]-Ne[2]}).forEach(ne?function(Re,Ne){ye[Ne].length=2}:function(Re,Ne){ye[Ne]=Re[1]}),ne?k(ye):o(g)?re(ye):q(ye)}function Hr(g,N,J){if(N||(N=Xn),J){var ne=g.toSeq().map(function(ce,ye){return[ce,J(ce,ye,g)]}).reduce(function(ce,ye){return en(N,ce[1],ye[1])?ye:ce});return ne&&ne[0]}else return g.reduce(function(ce,ye){return en(N,ce,ye)?ye:ce})}function en(g,N,J){var ne=g(J,N);return ne===0&&J!==N&&(J==null||J!==J)||ne>0}function Yn(g,N,J){var ne=tn(g);return ne.size=new ee(J).map(function(ce){return ce.size}).min(),ne.__iterate=function(ce,ye){for(var Re=this.__iterator(S,ye),Ne,Ge=0;!(Ne=Re.next()).done&&ce(Ne.value,Ge++,this)!==!1;);return Ge},ne.__iteratorUncached=function(ce,ye){var Re=J.map(function(Ye){return Ye=r(Ye),oe(ye?Ye.reverse():Ye)}),Ne=0,Ge=!1;return new h(function(){var Ye;return Ge||(Ye=Re.map(function(Je){return Je.next()}),Ge=Ye.some(function(Je){return Je.done})),Ge?V():w(ce,Ne++,N.apply(null,Ye.map(function(Je){return Je.value})))})},ne}function sr(g,N){return be(g)?N:g.constructor(N)}function Jn(g){if(g!==Object(g))throw new TypeError("Expected [K, V] tuple: "+g)}function Wn(g){return ir(g.size),$(g)}function $n(g){return n(g)?c:o(g)?f:s}function tn(g){return Object.create((n(g)?k:o(g)?re:q).prototype)}function Kn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):X.prototype.cacheResult.call(this)}function Xn(g,N){return g>N?1:g<N?-1:0}function An(g){var N=oe(g);if(!N){if(!Q(g))throw new TypeError("Expected iterable or array-like: "+g);N=oe(r(g))}return N}t(Br,Pt);function Br(g,N){var J,ne=function(Re){if(Re instanceof ne)return Re;if(!(this instanceof ne))return new ne(Re);if(!J){J=!0;var Ne=Object.keys(g);_n(ce,Ne),ce.size=Ne.length,ce._name=N,ce._keys=Ne,ce._defaultValues=g}this._map=mt(Re)},ce=ne.prototype=Object.create(jr);return ce.constructor=ne,ne}Br.prototype.toString=function(){return this.__toString(Zn(this)+" {","}")},Br.prototype.has=function(g){return this._defaultValues.hasOwnProperty(g)},Br.prototype.get=function(g,N){if(!this.has(g))return N;var J=this._defaultValues[g];return this._map?this._map.get(g,J):J},Br.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var g=this.constructor;return g._empty||(g._empty=an(this,pt()))},Br.prototype.set=function(g,N){if(!this.has(g))throw new Error('Cannot set unknown key "'+g+'" on '+Zn(this));if(this._map&&!this._map.has(g)){var J=this._defaultValues[g];if(N===J)return this}var ne=this._map&&this._map.set(g,N);return this.__ownerID||ne===this._map?this:an(this,ne)},Br.prototype.remove=function(g){if(!this.has(g))return this;var N=this._map&&this._map.remove(g);return this.__ownerID||N===this._map?this:an(this,N)},Br.prototype.wasAltered=function(){return this._map.wasAltered()},Br.prototype.__iterator=function(g,N){var J=this;return c(this._defaultValues).map(function(ne,ce){return J.get(ce)}).__iterator(g,N)},Br.prototype.__iterate=function(g,N){var J=this;return c(this._defaultValues).map(function(ne,ce){return J.get(ce)}).__iterate(g,N)},Br.prototype.__ensureOwner=function(g){if(g===this.__ownerID)return this;var N=this._map&&this._map.__ensureOwner(g);return g?an(this,N,g):(this.__ownerID=g,this._map=N,this)};var jr=Br.prototype;jr[m]=jr.remove,jr.deleteIn=jr.removeIn=bt.removeIn,jr.merge=bt.merge,jr.mergeWith=bt.mergeWith,jr.mergeIn=bt.mergeIn,jr.mergeDeep=bt.mergeDeep,jr.mergeDeepWith=bt.mergeDeepWith,jr.mergeDeepIn=bt.mergeDeepIn,jr.setIn=bt.setIn,jr.update=bt.update,jr.updateIn=bt.updateIn,jr.withMutations=bt.withMutations,jr.asMutable=bt.asMutable,jr.asImmutable=bt.asImmutable;function an(g,N,J){var ne=Object.create(Object.getPrototypeOf(g));return ne._map=N,ne.__ownerID=J,ne}function Zn(g){return g._name||g.constructor.name||"Record"}function _n(g,N){try{N.forEach(na.bind(void 0,g))}catch{}}function na(g,N){Object.defineProperty(g,N,{get:function(){return this.get(N)},set:function(J){rt(this.__ownerID,"Cannot set on an immutable record."),this.set(N,J)}})}t(br,Rt);function br(g){return g==null?wn():Bn(g)&&!a(g)?g:wn().withMutations(function(N){var J=s(g);ir(J.size),J.forEach(function(ne){return N.add(ne)})})}br.of=function(){return this(arguments)},br.fromKeys=function(g){return this(c(g).keySeq())},br.prototype.toString=function(){return this.__toString("Set {","}")},br.prototype.has=function(g){return this._map.has(g)},br.prototype.add=function(g){return Sr(this,this._map.set(g,!0))},br.prototype.remove=function(g){return Sr(this,this._map.remove(g))},br.prototype.clear=function(){return Sr(this,this._map.clear())},br.prototype.union=function(){var g=e.call(arguments,0);return g=g.filter(function(N){return N.size!==0}),g.length===0?this:this.size===0&&!this.__ownerID&&g.length===1?this.constructor(g[0]):this.withMutations(function(N){for(var J=0;J<g.length;J++)s(g[J]).forEach(function(ne){return N.add(ne)})})},br.prototype.intersect=function(){var g=e.call(arguments,0);if(g.length===0)return this;g=g.map(function(J){return s(J)});var N=this;return this.withMutations(function(J){N.forEach(function(ne){g.every(function(ce){return ce.includes(ne)})||J.remove(ne)})})},br.prototype.subtract=function(){var g=e.call(arguments,0);if(g.length===0)return this;g=g.map(function(J){return s(J)});var N=this;return this.withMutations(function(J){N.forEach(function(ne){g.some(function(ce){return ce.includes(ne)})&&J.remove(ne)})})},br.prototype.merge=function(){return this.union.apply(this,arguments)},br.prototype.mergeWith=function(g){var N=e.call(arguments,1);return this.union.apply(this,N)},br.prototype.sort=function(g){return Jr(Gr(this,g))},br.prototype.sortBy=function(g,N){return Jr(Gr(this,N,g))},br.prototype.wasAltered=function(){return this._map.wasAltered()},br.prototype.__iterate=function(g,N){var J=this;return this._map.__iterate(function(ne,ce){return g(ce,ce,J)},N)},br.prototype.__iterator=function(g,N){return this._map.map(function(J,ne){return ne}).__iterator(g,N)},br.prototype.__ensureOwner=function(g){if(g===this.__ownerID)return this;var N=this._map.__ensureOwner(g);return g?this.__make(N,g):(this.__ownerID=g,this._map=N,this)};function Bn(g){return!!(g&&g[qn])}br.isSet=Bn;var qn="@@__IMMUTABLE_SET__@@",Ar=br.prototype;Ar[qn]=!0,Ar[m]=Ar.remove,Ar.mergeDeep=Ar.merge,Ar.mergeDeepWith=Ar.mergeWith,Ar.withMutations=bt.withMutations,Ar.asMutable=bt.asMutable,Ar.asImmutable=bt.asImmutable,Ar.__empty=wn,Ar.__make=Fn;function Sr(g,N){return g.__ownerID?(g.size=N.size,g._map=N,g):N===g._map?g:N.size===0?g.__empty():g.__make(N)}function Fn(g,N){var J=Object.create(Ar);return J.size=g?g.size:0,J._map=g,J.__ownerID=N,J}var xn;function wn(){return xn||(xn=Fn(pt()))}t(Jr,br);function Jr(g){return g==null?fe():aa(g)?g:fe().withMutations(function(N){var J=s(g);ir(J.size),J.forEach(function(ne){return N.add(ne)})})}Jr.of=function(){return this(arguments)},Jr.fromKeys=function(g){return this(c(g).keySeq())},Jr.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function aa(g){return Bn(g)&&a(g)}Jr.isOrderedSet=aa;var Un=Jr.prototype;Un[p]=!0,Un.__empty=fe,Un.__make=ue;function ue(g,N){var J=Object.create(Un);return J.size=g?g.size:0,J._map=g,J.__ownerID=N,J}var ve;function fe(){return ve||(ve=ue(hn()))}t(ae,ht);function ae(g){return g==null?Ve():Te(g)?g:Ve().unshiftAll(g)}ae.of=function(){return this(arguments)},ae.prototype.toString=function(){return this.__toString("Stack [","]")},ae.prototype.get=function(g,N){var J=this._head;for(g=U(this,g);J&&g--;)J=J.next;return J?J.value:N},ae.prototype.peek=function(){return this._head&&this._head.value},ae.prototype.push=function(){if(arguments.length===0)return this;for(var g=this.size+arguments.length,N=this._head,J=arguments.length-1;J>=0;J--)N={value:arguments[J],next:N};return this.__ownerID?(this.size=g,this._head=N,this.__hash=void 0,this.__altered=!0,this):We(g,N)},ae.prototype.pushAll=function(g){if(g=f(g),g.size===0)return this;ir(g.size);var N=this.size,J=this._head;return g.reverse().forEach(function(ne){N++,J={value:ne,next:J}}),this.__ownerID?(this.size=N,this._head=J,this.__hash=void 0,this.__altered=!0,this):We(N,J)},ae.prototype.pop=function(){return this.slice(1)},ae.prototype.unshift=function(){return this.push.apply(this,arguments)},ae.prototype.unshiftAll=function(g){return this.pushAll(g)},ae.prototype.shift=function(){return this.pop.apply(this,arguments)},ae.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ve()},ae.prototype.slice=function(g,N){if(C(g,N,this.size))return this;var J=y(g,this.size),ne=b(N,this.size);if(ne!==this.size)return ht.prototype.slice.call(this,g,N);for(var ce=this.size-J,ye=this._head;J--;)ye=ye.next;return this.__ownerID?(this.size=ce,this._head=ye,this.__hash=void 0,this.__altered=!0,this):We(ce,ye)},ae.prototype.__ensureOwner=function(g){return g===this.__ownerID?this:g?We(this.size,this._head,g,this.__hash):(this.__ownerID=g,this.__altered=!1,this)},ae.prototype.__iterate=function(g,N){if(N)return this.reverse().__iterate(g);for(var J=0,ne=this._head;ne&&g(ne.value,J++,this)!==!1;)ne=ne.next;return J},ae.prototype.__iterator=function(g,N){if(N)return this.reverse().__iterator(g);var J=0,ne=this._head;return new h(function(){if(ne){var ce=ne.value;return ne=ne.next,w(g,J++,ce)}return V()})};function Te(g){return!!(g&&g[Oe])}ae.isStack=Te;var Oe="@@__IMMUTABLE_STACK__@@",ge=ae.prototype;ge[Oe]=!0,ge.withMutations=bt.withMutations,ge.asMutable=bt.asMutable,ge.asImmutable=bt.asImmutable,ge.wasAltered=bt.wasAltered;function We(g,N,J,ne){var ce=Object.create(ge);return ce.size=g,ce._head=N,ce.__ownerID=J,ce.__hash=ne,ce.__altered=!1,ce}var Ce;function Ve(){return Ce||(Ce=We(0))}function Qe(g,N){var J=function(ne){g.prototype[ne]=N[ne]};return Object.keys(N).forEach(J),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(N).forEach(J),g}r.Iterator=h,Qe(r,{toArray:function(){ir(this.size);var g=new Array(this.size||0);return this.valueSeq().__iterate(function(N,J){g[J]=N}),g},toIndexedSeq:function(){return new xr(this)},toJS:function(){return this.toSeq().map(function(g){return g&&typeof g.toJS=="function"?g.toJS():g}).__toJS()},toJSON:function(){return this.toSeq().map(function(g){return g&&typeof g.toJSON=="function"?g.toJSON():g}).__toJS()},toKeyedSeq:function(){return new Wr(this,!0)},toMap:function(){return mt(this.toKeyedSeq())},toObject:function(){ir(this.size);var g={};return this.__iterate(function(N,J){g[J]=N}),g},toOrderedMap:function(){return yr(this.toKeyedSeq())},toOrderedSet:function(){return Jr(n(this)?this.valueSeq():this)},toSet:function(){return br(n(this)?this.valueSeq():this)},toSetSeq:function(){return new kr(this)},toSeq:function(){return o(this)?this.toIndexedSeq():n(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ae(n(this)?this.valueSeq():this)},toList:function(){return Et(n(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(g,N){return this.size===0?g+N:g+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+N},concat:function(){var g=e.call(arguments,0);return sr(this,Rn(this,g))},includes:function(g){return this.some(function(N){return Le(N,g)})},entries:function(){return this.__iterator(A)},every:function(g,N){ir(this.size);var J=!0;return this.__iterate(function(ne,ce,ye){if(!g.call(N,ne,ce,ye))return J=!1,!1}),J},filter:function(g,N){return sr(this,Ln(this,g,N,!0))},find:function(g,N,J){var ne=this.findEntry(g,N);return ne?ne[1]:J},forEach:function(g,N){return ir(this.size),this.__iterate(N?g.bind(N):g)},join:function(g){ir(this.size),g=g!==void 0?""+g:",";var N="",J=!0;return this.__iterate(function(ne){J?J=!1:N+=g,N+=ne!=null?ne.toString():""}),N},keys:function(){return this.__iterator(R)},map:function(g,N){return sr(this,vn(this,g,N))},reduce:function(g,N,J){ir(this.size);var ne,ce;return arguments.length<2?ce=!0:ne=N,this.__iterate(function(ye,Re,Ne){ce?(ce=!1,ne=ye):ne=g.call(J,ne,ye,Re,Ne)}),ne},reduceRight:function(g,N,J){var ne=this.toKeyedSeq().reverse();return ne.reduce.apply(ne,arguments)},reverse:function(){return sr(this,Tn(this,!0))},slice:function(g,N){return sr(this,Dt(this,g,N,!0))},some:function(g,N){return!this.every(Ct(g),N)},sort:function(g){return sr(this,Gr(this,g))},values:function(){return this.__iterator(S)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(g,N){return $(g?this.toSeq().filter(g,N):this)},countBy:function(g,N){return Hn(this,g,N)},equals:function(g){return He(this,g)},entrySeq:function(){var g=this;if(g._cache)return new ee(g._cache);var N=g.toSeq().map(lt).toIndexedSeq();return N.fromEntrySeq=function(){return g.toSeq()},N},filterNot:function(g,N){return this.filter(Ct(g),N)},findEntry:function(g,N,J){var ne=J;return this.__iterate(function(ce,ye,Re){if(g.call(N,ce,ye,Re))return ne=[ye,ce],!1}),ne},findKey:function(g,N){var J=this.findEntry(g,N);return J&&J[0]},findLast:function(g,N,J){return this.toKeyedSeq().reverse().find(g,N,J)},findLastEntry:function(g,N,J){return this.toKeyedSeq().reverse().findEntry(g,N,J)},findLastKey:function(g,N){return this.toKeyedSeq().reverse().findKey(g,N)},first:function(){return this.find(M)},flatMap:function(g,N){return sr(this,yn(this,g,N))},flatten:function(g){return sr(this,Vn(this,g,!0))},fromEntrySeq:function(){return new $r(this)},get:function(g,N){return this.find(function(J,ne){return Le(ne,g)},void 0,N)},getIn:function(g,N){for(var J=this,ne=An(g),ce;!(ce=ne.next()).done;){var ye=ce.value;if(J=J&&J.get?J.get(ye,F):F,J===F)return N}return J},groupBy:function(g,N){return zn(this,g,N)},has:function(g){return this.get(g,F)!==F},hasIn:function(g){return this.getIn(g,F)!==F},isSubset:function(g){return g=typeof g.includes=="function"?g:r(g),this.every(function(N){return g.includes(N)})},isSuperset:function(g){return g=typeof g.isSubset=="function"?g:r(g),g.isSubset(this)},keyOf:function(g){return this.findKey(function(N){return Le(N,g)})},keySeq:function(){return this.toSeq().map(at).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(g){return this.toKeyedSeq().reverse().keyOf(g)},max:function(g){return Hr(this,g)},maxBy:function(g,N){return Hr(this,N,g)},min:function(g){return Hr(this,g?Ut(g):Cr)},minBy:function(g,N){return Hr(this,N?Ut(N):Cr,g)},rest:function(){return this.slice(1)},skip:function(g){return this.slice(Math.max(0,g))},skipLast:function(g){return sr(this,this.toSeq().reverse().skip(g).reverse())},skipWhile:function(g,N){return sr(this,Nn(this,g,N,!0))},skipUntil:function(g,N){return this.skipWhile(Ct(g),N)},sortBy:function(g,N){return sr(this,Gr(this,N,g))},take:function(g){return this.slice(0,Math.max(0,g))},takeLast:function(g){return sr(this,this.toSeq().reverse().take(g).reverse())},takeWhile:function(g,N){return sr(this,mr(this,g,N))},takeUntil:function(g,N){return this.takeWhile(Ct(g),N)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Lr(this))}});var Ze=r.prototype;Ze[u]=!0,Ze[O]=Ze.values,Ze.__toJS=Ze.toArray,Ze.__toStringMapper=zt,Ze.inspect=Ze.toSource=function(){return this.toString()},Ze.chain=Ze.flatMap,Ze.contains=Ze.includes,Qe(c,{flip:function(){return sr(this,Cn(this))},mapEntries:function(g,N){var J=this,ne=0;return sr(this,this.toSeq().map(function(ce,ye){return g.call(N,[ye,ce],ne++,J)}).fromEntrySeq())},mapKeys:function(g,N){var J=this;return sr(this,this.toSeq().flip().map(function(ne,ce){return g.call(N,ne,ce,J)}).flip())}});var it=c.prototype;it[d]=!0,it[O]=Ze.entries,it.__toJS=Ze.toObject,it.__toStringMapper=function(g,N){return JSON.stringify(N)+": "+zt(g)},Qe(f,{toKeyedSeq:function(){return new Wr(this,!1)},filter:function(g,N){return sr(this,Ln(this,g,N,!1))},findIndex:function(g,N){var J=this.findEntry(g,N);return J?J[0]:-1},indexOf:function(g){var N=this.keyOf(g);return N===void 0?-1:N},lastIndexOf:function(g){var N=this.lastKeyOf(g);return N===void 0?-1:N},reverse:function(){return sr(this,Tn(this,!1))},slice:function(g,N){return sr(this,Dt(this,g,N,!1))},splice:function(g,N){var J=arguments.length;if(N=Math.max(N|0,0),J===0||J===2&&!N)return this;g=y(g,g<0?this.count():this.size);var ne=this.slice(0,g);return sr(this,J===1?ne:ne.concat(Y(arguments,2),this.slice(g+N)))},findLastIndex:function(g,N){var J=this.findLastEntry(g,N);return J?J[0]:-1},first:function(){return this.get(0)},flatten:function(g){return sr(this,Vn(this,g,!1))},get:function(g,N){return g=U(this,g),g<0||this.size===1/0||this.size!==void 0&&g>this.size?N:this.find(function(J,ne){return ne===g},void 0,N)},has:function(g){return g=U(this,g),g>=0&&(this.size!==void 0?this.size===1/0||g<this.size:this.indexOf(g)!==-1)},interpose:function(g){return sr(this,un(this,g))},interleave:function(){var g=[this].concat(Y(arguments)),N=Yn(this.toSeq(),re.of,g),J=N.flatten(!0);return N.size&&(J.size=N.size*g.length),sr(this,J)},keySeq:function(){return ke(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(g,N){return sr(this,Nn(this,g,N,!1))},zip:function(){var g=[this].concat(Y(arguments));return sr(this,Yn(this,Ht,g))},zipWith:function(g){var N=Y(arguments);return N[0]=this,sr(this,Yn(this,g,N))}}),f.prototype[v]=!0,f.prototype[p]=!0,Qe(s,{get:function(g,N){return this.has(g)?g:N},includes:function(g){return this.has(g)},keySeq:function(){return this.valueSeq()}}),s.prototype.has=Ze.includes,s.prototype.contains=s.prototype.includes,Qe(k,c.prototype),Qe(re,f.prototype),Qe(q,s.prototype),Qe(Pt,c.prototype),Qe(ht,f.prototype),Qe(Rt,s.prototype);function at(g,N){return N}function lt(g,N){return[N,g]}function Ct(g){return function(){return!g.apply(this,arguments)}}function Ut(g){return function(){return-g.apply(this,arguments)}}function zt(g){return typeof g=="string"?JSON.stringify(g):String(g)}function Ht(){return Y(arguments)}function Cr(g,N){return g<N?1:g>N?-1:0}function Lr(g){if(g.size===1/0)return 0;var N=a(g),J=n(g),ne=N?1:0,ce=g.__iterate(J?N?function(ye,Re){ne=31*ne+zr(Ft(ye),Ft(Re))|0}:function(ye,Re){ne=ne+zr(Ft(ye),Ft(Re))|0}:N?function(ye){ne=31*ne+Ft(ye)|0}:function(ye){ne=ne+Ft(ye)|0});return Kr(ce,ne)}function Kr(g,N){return N=jt(N,3432918353),N=jt(N<<15|N>>>-15,461845907),N=jt(N<<13|N>>>-13,5),N=(N+3864292196|0)^g,N=jt(N^N>>>16,2246822507),N=jt(N^N>>>13,3266489909),N=ut(N^N>>>16),N}function zr(g,N){return g^N+2654435769+(g<<6)+(g>>2)|0}var pn={Iterable:r,Seq:X,Collection:vt,Map:mt,OrderedMap:yr,List:Et,Stack:ae,Set:br,OrderedSet:Jr,Record:Br,Range:ke,Repeat:_e,is:Le,fromJS:gt};return pn})},88671:(z,e)=>{"use strict";var t;/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=60103,c=60106,f=60107,s=60108,l=60114,n=60109,o=60110,i=60112,a=60113,u=60120,d=60115,v=60116,p=60121,m=60122,P=60117,E=60129,L=60131;if(typeof Symbol=="function"&&Symbol.for){var F=Symbol.for;r=F("react.element"),c=F("react.portal"),f=F("react.fragment"),s=F("react.strict_mode"),l=F("react.profiler"),n=F("react.provider"),o=F("react.context"),i=F("react.forward_ref"),a=F("react.suspense"),u=F("react.suspense_list"),d=F("react.memo"),v=F("react.lazy"),p=F("react.block"),m=F("react.server.block"),P=F("react.fundamental"),E=F("react.debug_trace_mode"),L=F("react.legacy_hidden")}function j(b){if(typeof b=="object"&&b!==null){var T=b.$$typeof;switch(T){case r:switch(b=b.type,b){case f:case l:case s:case a:case u:return b;default:switch(b=b&&b.$$typeof,b){case o:case i:case v:case d:case n:return b;default:return T}}case c:return T}}}var D=n,B=r,G=i,K=f,Y=v,$=d,U=c,M=l,C=s,y=a;t=o,t=D,t=B,t=G,t=K,t=Y,t=$,t=U,t=M,t=C,t=y,t=function(){return!1},t=function(){return!1},e.isContextConsumer=function(b){return j(b)===o},t=function(b){return j(b)===n},t=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===r},t=function(b){return j(b)===i},t=function(b){return j(b)===f},t=function(b){return j(b)===v},t=function(b){return j(b)===d},t=function(b){return j(b)===c},t=function(b){return j(b)===l},t=function(b){return j(b)===s},t=function(b){return j(b)===a},t=function(b){return typeof b=="string"||typeof b=="function"||b===f||b===l||b===E||b===s||b===a||b===u||b===L||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===d||b.$$typeof===n||b.$$typeof===o||b.$$typeof===i||b.$$typeof===P||b.$$typeof===p||b[0]===m)},t=j},69339:(z,e,t)=>{"use strict";z.exports=t(88671)},64249:(z,e,t)=>{"use strict";t.r(e),t.d(e,{Provider:()=>p,ReactReduxContext:()=>c,batch:()=>Ot.unstable_batchedUpdates,connect:()=>Be,connectAdvanced:()=>y,createDispatchHook:()=>$e,createSelectorHook:()=>gt,createStoreHook:()=>Ue,shallowEqual:()=>T,useDispatch:()=>qe,useSelector:()=>dt,useStore:()=>Ie});var r=t(96540),c=r.createContext(null);const f=null;function s(Me){Me()}var l=s,n=function(Le){return l=Le},o=function(){return l};function i(){var Me=o(),Le=null,He=null;return{clear:function(){Le=null,He=null},notify:function(){Me(function(){for(var Xe=Le;Xe;)Xe.callback(),Xe=Xe.next})},get:function(){for(var Xe=[],rt=Le;rt;)Xe.push(rt),rt=rt.next;return Xe},subscribe:function(Xe){var rt=!0,ke=He={callback:Xe,next:null,prev:He};return ke.prev?ke.prev.next=ke:Le=ke,function(){!rt||Le===null||(rt=!1,ke.next?ke.next.prev=ke.prev:He=ke.prev,ke.prev?ke.prev.next=ke.next:Le=ke.next)}}}}var a={notify:function(){},get:function(){return[]}};function u(Me,Le){var He,_e=a;function Xe(Rt){return vt(),_e.subscribe(Rt)}function rt(){_e.notify()}function ke(){ht.onStateChange&&ht.onStateChange()}function ft(){return!!He}function vt(){He||(He=Le?Le.addNestedSub(ke):Me.subscribe(ke),_e=i())}function Pt(){He&&(He(),He=void 0,_e.clear(),_e=a)}var ht={addNestedSub:Xe,notifyNestedSubs:rt,handleChangeWrapper:ke,isSubscribed:ft,trySubscribe:vt,tryUnsubscribe:Pt,getListeners:function(){return _e}};return ht}var d=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?r.useLayoutEffect:r.useEffect;function v(Me){var Le=Me.store,He=Me.context,_e=Me.children,Xe=(0,r.useMemo)(function(){var ft=u(Le);return{store:Le,subscription:ft}},[Le]),rt=(0,r.useMemo)(function(){return Le.getState()},[Le]);d(function(){var ft=Xe.subscription;return ft.onStateChange=ft.notifyNestedSubs,ft.trySubscribe(),rt!==Le.getState()&&ft.notifyNestedSubs(),function(){ft.tryUnsubscribe(),ft.onStateChange=null}},[Xe,rt]);var ke=He||c;return r.createElement(ke.Provider,{value:Xe},_e)}const p=v;var m=t(58168),P=t(98587),E=t(4146),L=t.n(E),F=t(69339),j=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],D=["reactReduxForwardedRef"],B=[],G=[null,null],K=function(Le){try{return JSON.stringify(Le)}catch{return String(Le)}};function Y(Me,Le){var He=Me[1];return[Le.payload,He+1]}function $(Me,Le,He){d(function(){return Me.apply(void 0,Le)},He)}function U(Me,Le,He,_e,Xe,rt,ke){Me.current=_e,Le.current=Xe,He.current=!1,rt.current&&(rt.current=null,ke())}function M(Me,Le,He,_e,Xe,rt,ke,ft,vt,Pt){if(Me){var ht=!1,Rt=null,jt=function(){if(!ht){var Wt=Le.getState(),Lt,$t;try{Lt=_e(Wt,Xe.current)}catch(Gt){$t=Gt,Rt=Gt}$t||(Rt=null),Lt===rt.current?ke.current||vt():(rt.current=Lt,ft.current=Lt,ke.current=!0,Pt({type:"STORE_UPDATED",payload:{error:$t}}))}};He.onStateChange=jt,He.trySubscribe(),jt();var ut=function(){if(ht=!0,He.tryUnsubscribe(),He.onStateChange=null,Rt)throw Rt};return ut}}var C=function(){return[null,0]};function y(Me,Le){Le===void 0&&(Le={});var He=Le,_e=He.getDisplayName,Xe=_e===void 0?function(_t){return"ConnectAdvanced("+_t+")"}:_e,rt=He.methodName,ke=rt===void 0?"connectAdvanced":rt,ft=He.renderCountProp,vt=ft===void 0?void 0:ft,Pt=He.shouldHandleStateChanges,ht=Pt===void 0?!0:Pt,Rt=He.storeKey,jt=Rt===void 0?"store":Rt,ut=He.withRef,Ft=ut===void 0?!1:ut,Wt=He.forwardRef,Lt=Wt===void 0?!1:Wt,$t=He.context,Gt=$t===void 0?c:$t,Yt=(0,P.A)(He,j);if(0)var Kt;var nr=Gt;return function(Xt){var ar=Xt.displayName||Xt.name||"Component",cr=Xe(ar),wr=(0,m.A)({},Yt,{getDisplayName:Xe,methodName:ke,renderCountProp:vt,shouldHandleStateChanges:ht,storeKey:jt,displayName:cr,wrappedComponentName:ar,WrappedComponent:Xt}),kt=Yt.pure;function hr(bt){return Me(bt.dispatch,wr)}var ir=kt?r.useMemo:function(bt){return bt()};function mt(bt){var fr=(0,r.useMemo)(function(){var Ir=bt.reactReduxForwardedRef,dr=(0,P.A)(bt,D);return[bt.context,Ir,dr]},[bt]),Or=fr[0],de=fr[1],we=fr[2],Fe=(0,r.useMemo)(function(){return Or&&Or.Consumer&&(0,F.isContextConsumer)(r.createElement(Or.Consumer,null))?Or:nr},[Or,nr]),ze=(0,r.useContext)(Fe),et=!!bt.store&&!!bt.store.getState&&!!bt.store.dispatch,st=!!ze&&!!ze.store,xe=et?bt.store:ze.store,At=(0,r.useMemo)(function(){return hr(xe)},[xe]),pt=(0,r.useMemo)(function(){if(!ht)return G;var Ir=u(xe,et?null:ze.subscription),dr=Ir.notifyNestedSubs.bind(Ir);return[Ir,dr]},[xe,et,ze]),It=pt[0],wt=pt[1],or=(0,r.useMemo)(function(){return et?ze:(0,m.A)({},ze,{subscription:It})},[et,ze,It]),Mt=(0,r.useReducer)(Y,B,C),Zt=Mt[0],Rr=Zt[0],ur=Mt[1];if(Rr&&Rr.error)throw Rr.error;var xt=(0,r.useRef)(),gr=(0,r.useRef)(we),Vt=(0,r.useRef)(),Mr=(0,r.useRef)(!1),Ur=ir(function(){return Vt.current&&we===gr.current?Vt.current:At(xe.getState(),we)},[xe,Rr,we]);$(U,[gr,xt,Mr,we,Ur,Vt,wt]),$(M,[ht,xe,It,At,gr,xt,Mr,Vt,wt,ur],[xe,It,At]);var Dr=(0,r.useMemo)(function(){return r.createElement(Xt,(0,m.A)({},Ur,{ref:de}))},[de,Xt,Ur]),Vr=(0,r.useMemo)(function(){return ht?r.createElement(Fe.Provider,{value:or},Dr):Dr},[Fe,Dr,or]);return Vr}var qt=kt?r.memo(mt):mt;if(qt.WrappedComponent=Xt,qt.displayName=mt.displayName=cr,Lt){var pr=r.forwardRef(function(fr,Or){return r.createElement(qt,(0,m.A)({},fr,{reactReduxForwardedRef:Or}))});return pr.displayName=cr,pr.WrappedComponent=Xt,L()(pr,Xt)}return L()(qt,Xt)}}function b(Me,Le){return Me===Le?Me!==0||Le!==0||1/Me===1/Le:Me!==Me&&Le!==Le}function T(Me,Le){if(b(Me,Le))return!0;if(typeof Me!="object"||Me===null||typeof Le!="object"||Le===null)return!1;var He=Object.keys(Me),_e=Object.keys(Le);if(He.length!==_e.length)return!1;for(var Xe=0;Xe<He.length;Xe++)if(!Object.prototype.hasOwnProperty.call(Le,He[Xe])||!b(Me[He[Xe]],Le[He[Xe]]))return!1;return!0}function R(Me,Le){var He={},_e=function(ke){var ft=Me[ke];typeof ft=="function"&&(He[ke]=function(){return Le(ft.apply(void 0,arguments))})};for(var Xe in Me)_e(Xe);return He}function S(Me){return function(He,_e){var Xe=Me(He,_e);function rt(){return Xe}return rt.dependsOnOwnProps=!1,rt}}function A(Me){return Me.dependsOnOwnProps!==null&&Me.dependsOnOwnProps!==void 0?!!Me.dependsOnOwnProps:Me.length!==1}function W(Me,Le){return function(_e,Xe){var rt=Xe.displayName,ke=function(vt,Pt){return ke.dependsOnOwnProps?ke.mapToProps(vt,Pt):ke.mapToProps(vt)};return ke.dependsOnOwnProps=!0,ke.mapToProps=function(vt,Pt){ke.mapToProps=Me,ke.dependsOnOwnProps=A(Me);var ht=ke(vt,Pt);return typeof ht=="function"&&(ke.mapToProps=ht,ke.dependsOnOwnProps=A(ht),ht=ke(vt,Pt)),ht},ke}}function I(Me){return typeof Me=="function"?W(Me,"mapDispatchToProps"):void 0}function O(Me){return Me?void 0:S(function(Le){return{dispatch:Le}})}function h(Me){return Me&&typeof Me=="object"?S(function(Le){return R(Me,Le)}):void 0}const w=[I,O,h];function V(Me){return typeof Me=="function"?W(Me,"mapStateToProps"):void 0}function H(Me){return Me?void 0:S(function(){return{}})}const _=[V,H];function oe(Me,Le,He){return(0,m.A)({},He,Me,Le)}function te(Me){return function(He,_e){var Xe=_e.displayName,rt=_e.pure,ke=_e.areMergedPropsEqual,ft=!1,vt;return function(ht,Rt,jt){var ut=Me(ht,Rt,jt);return ft?(!rt||!ke(ut,vt))&&(vt=ut):(ft=!0,vt=ut),vt}}}function Q(Me){return typeof Me=="function"?te(Me):void 0}function X(Me){return Me?void 0:function(){return oe}}const k=[Q,X];var re=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function q(Me,Le,He,_e){return function(rt,ke){return He(Me(rt,ke),Le(_e,ke),ke)}}function le(Me,Le,He,_e,Xe){var rt=Xe.areStatesEqual,ke=Xe.areOwnPropsEqual,ft=Xe.areStatePropsEqual,vt=!1,Pt,ht,Rt,jt,ut;function Ft(Yt,Kt){return Pt=Yt,ht=Kt,Rt=Me(Pt,ht),jt=Le(_e,ht),ut=He(Rt,jt,ht),vt=!0,ut}function Wt(){return Rt=Me(Pt,ht),Le.dependsOnOwnProps&&(jt=Le(_e,ht)),ut=He(Rt,jt,ht),ut}function Lt(){return Me.dependsOnOwnProps&&(Rt=Me(Pt,ht)),Le.dependsOnOwnProps&&(jt=Le(_e,ht)),ut=He(Rt,jt,ht),ut}function $t(){var Yt=Me(Pt,ht),Kt=!ft(Yt,Rt);return Rt=Yt,Kt&&(ut=He(Rt,jt,ht)),ut}function Gt(Yt,Kt){var nr=!ke(Kt,ht),_t=!rt(Yt,Pt,Kt,ht);return Pt=Yt,ht=Kt,nr&&_t?Wt():nr?Lt():_t?$t():ut}return function(Kt,nr){return vt?Gt(Kt,nr):Ft(Kt,nr)}}function ee(Me,Le){var He=Le.initMapStateToProps,_e=Le.initMapDispatchToProps,Xe=Le.initMergeProps,rt=(0,P.A)(Le,re),ke=He(Me,rt),ft=_e(Me,rt),vt=Xe(Me,rt),Pt=rt.pure?le:q;return Pt(ke,ft,vt,Me,rt)}var ie=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function he(Me,Le,He){for(var _e=Le.length-1;_e>=0;_e--){var Xe=Le[_e](Me);if(Xe)return Xe}return function(rt,ke){throw new Error("Invalid value of type "+typeof Me+" for "+He+" argument when connecting component "+ke.wrappedComponentName+".")}}function me(Me,Le){return Me===Le}function be(Me){var Le=Me===void 0?{}:Me,He=Le.connectHOC,_e=He===void 0?y:He,Xe=Le.mapStateToPropsFactories,rt=Xe===void 0?_:Xe,ke=Le.mapDispatchToPropsFactories,ft=ke===void 0?w:ke,vt=Le.mergePropsFactories,Pt=vt===void 0?k:vt,ht=Le.selectorFactory,Rt=ht===void 0?ee:ht;return function(ut,Ft,Wt,Lt){Lt===void 0&&(Lt={});var $t=Lt,Gt=$t.pure,Yt=Gt===void 0?!0:Gt,Kt=$t.areStatesEqual,nr=Kt===void 0?me:Kt,_t=$t.areOwnPropsEqual,Xt=_t===void 0?T:_t,ar=$t.areStatePropsEqual,cr=ar===void 0?T:ar,wr=$t.areMergedPropsEqual,kt=wr===void 0?T:wr,hr=(0,P.A)($t,ie),ir=he(ut,rt,"mapStateToProps"),mt=he(Ft,ft,"mapDispatchToProps"),qt=he(Wt,Pt,"mergeProps");return _e(Rt,(0,m.A)({methodName:"connect",getDisplayName:function(bt){return"Connect("+bt+")"},shouldHandleStateChanges:!!ut,initMapStateToProps:ir,initMapDispatchToProps:mt,initMergeProps:qt,pure:Yt,areStatesEqual:nr,areOwnPropsEqual:Xt,areStatePropsEqual:cr,areMergedPropsEqual:kt},hr))}}const Be=be();function je(){var Me=(0,r.useContext)(c);return Me}function Ue(Me){Me===void 0&&(Me=c);var Le=Me===c?je:function(){return(0,r.useContext)(Me)};return function(){var _e=Le(),Xe=_e.store;return Xe}}var Ie=Ue();function $e(Me){Me===void 0&&(Me=c);var Le=Me===c?Ie:Ue(Me);return function(){var _e=Le();return _e.dispatch}}var qe=$e(),tt=function(Le,He){return Le===He};function ct(Me,Le,He,_e){var Xe=(0,r.useReducer)(function(Ft){return Ft+1},0),rt=Xe[1],ke=(0,r.useMemo)(function(){return u(He,_e)},[He,_e]),ft=(0,r.useRef)(),vt=(0,r.useRef)(),Pt=(0,r.useRef)(),ht=(0,r.useRef)(),Rt=He.getState(),jt;try{if(Me!==vt.current||Rt!==Pt.current||ft.current){var ut=Me(Rt);ht.current===void 0||!Le(ut,ht.current)?jt=ut:jt=ht.current}else jt=ht.current}catch(Ft){throw ft.current&&(Ft.message+=`
The error may be correlated with this previous error:
`+ft.current.stack+`

`),Ft}return d(function(){vt.current=Me,Pt.current=Rt,ht.current=jt,ft.current=void 0}),d(function(){function Ft(){try{var Wt=He.getState();if(Wt===Pt.current)return;var Lt=vt.current(Wt);if(Le(Lt,ht.current))return;ht.current=Lt,Pt.current=Wt}catch($t){ft.current=$t}rt()}return ke.onStateChange=Ft,ke.trySubscribe(),Ft(),function(){return ke.tryUnsubscribe()}},[He,ke]),jt}function gt(Me){Me===void 0&&(Me=c);var Le=Me===c?je:function(){return(0,r.useContext)(Me)};return function(_e,Xe){Xe===void 0&&(Xe=tt);var rt=Le(),ke=rt.store,ft=rt.subscription,vt=ct(_e,Xe,ke,ft);return(0,r.useDebugValue)(vt),vt}}var dt=gt(),Ot=t(40961);n(Ot.unstable_batchedUpdates)},32009:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(31635),c=r.__importDefault(t(7092)),f=function(s){var l=!s.prototype;return l?c.default(s):s};e.default=f},98012:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.divWrapper=void 0;var r=t(31635),c=r.__importStar(t(96540)),f=r.__importDefault(t(32009)),s=c.createElement,l=function(o,i,a,u){var d;return s(o,i?r.__assign((d={},d[i]=u,d),a):r.__assign(r.__assign({},u),a))};e.divWrapper=function(o,i,a,u){return s("div",null,l(o,i,a,u))};var n=function(o,i,a){a===void 0&&(a=l);var u=function(d,v,p){v===void 0&&(v=i),p===void 0&&(p=null);var m=typeof d=="string";if(m)return function(E){return u(E,d||i,v)};var P=function(E){return s(o,p,function(L){return a(d,v,E,L)})};return m?f.default(P):P};return u};e.default=n},47975:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(31635),c=r.__importDefault(t(1284)),f=function(l){return[l]},s=function(l,n){return n===void 0&&(n=f),function(o){return c.default(o,l.apply(void 0,n(o)))}};e.default=s},63426:(z,e,t)=>{"use strict";var r;r={value:!0},r=r=r=void 0;var c=t(31635),f=c.__importDefault(t(1284));r=f.default;var s=c.__importDefault(t(98012));r=s.default;var l=c.__importDefault(t(47975));r=l.default},1284:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(31635),c=t(96540),f=parseInt(c.version.substr(0,c.version.indexOf(".")))>15,s=function(n){return typeof n=="function"},l=function(n,o){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];if(0)var u,d;var v=n.render,p=n.children,m=p===void 0?v:p,P=n.component,E=n.comp,L=E===void 0?P:E;return s(m)?m.apply(void 0,r.__spreadArrays([o],i)):L?c.createElement(L,o):m instanceof Array?f?m:c.createElement.apply(void 0,r.__spreadArrays(["div",null],m)):m&&m instanceof Object?typeof m.type=="string"?m:c.cloneElement(m,Object.assign({},m.props,o)):m||null};e.default=l},7092:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(31635),c=r.__importStar(t(96540)),f=function(s){var l=function(n){r.__extends(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return o.prototype.render=function(){return s(this.props,this.context)},o}(c.Component);return l};e.default=f},79364:function(z,e,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(un,Gr,Hr,en){en===void 0&&(en=Hr),Object.defineProperty(un,en,{enumerable:!0,get:function(){return Gr[Hr]}})}:function(un,Gr,Hr,en){en===void 0&&(en=Hr),un[en]=Gr[Hr]}),c=this&&this.__exportStar||function(un,Gr){for(var Hr in un)Hr!=="default"&&!Object.prototype.hasOwnProperty.call(Gr,Hr)&&r(Gr,un,Hr)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var f=t(48051);Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return f.Observable}});var s=t(14359);Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return s.ConnectableObservable}});var l=t(2884);Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return l.observable}});var n=t(44256);Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return n.animationFrames}});var o=t(76808);Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return o.Subject}});var i=t(97314);Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return i.BehaviorSubject}});var a=t(10381);Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return a.ReplaySubject}});var u=t(5130);Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return u.AsyncSubject}});var d=t(22105);Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return d.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return d.asapScheduler}});var v=t(62326);Object.defineProperty(e,"async",{enumerable:!0,get:function(){return v.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return v.asyncScheduler}});var p=t(99245);Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return p.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return p.queueScheduler}});var m=t(15887);Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return m.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return m.animationFrameScheduler}});var P=t(50875);Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return P.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return P.VirtualAction}});var E=t(65881);Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return E.Scheduler}});var L=t(69879);Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return L.Subscription}});var F=t(2708);Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return F.Subscriber}});var j=t(31245);Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return j.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return j.NotificationKind}});var D=t(99517);Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return D.pipe}});var B=t(5717);Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return B.noop}});var G=t(87699);Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return G.identity}});var K=t(62560);Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return K.isObservable}});var Y=t(85761);Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return Y.lastValueFrom}});var $=t(40841);Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return $.firstValueFrom}});var U=t(7024);Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return U.ArgumentOutOfRangeError}});var M=t(59328);Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return M.EmptyError}});var C=t(23506);Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return C.NotFoundError}});var y=t(50839);Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return y.ObjectUnsubscribedError}});var b=t(94708);Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return b.SequenceError}});var T=t(81713);Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return T.TimeoutError}});var R=t(69517);Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return R.UnsubscriptionError}});var S=t(79750);Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return S.bindCallback}});var A=t(21946);Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return A.bindNodeCallback}});var W=t(88246);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return W.combineLatest}});var I=t(39546);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return I.concat}});var O=t(98590);Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return O.connectable}});var h=t(35884);Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return h.defer}});var w=t(44885);Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return w.empty}});var V=t(75266);Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return V.forkJoin}});var H=t(47058);Object.defineProperty(e,"from",{enumerable:!0,get:function(){return H.from}});var _=t(88616);Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return _.fromEvent}});var oe=t(26920);Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return oe.fromEventPattern}});var te=t(87281);Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return te.generate}});var Q=t(99380);Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return Q.iif}});var X=t(62275);Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return X.interval}});var k=t(95936);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return k.merge}});var re=t(11934);Object.defineProperty(e,"never",{enumerable:!0,get:function(){return re.never}});var q=t(61587);Object.defineProperty(e,"of",{enumerable:!0,get:function(){return q.of}});var le=t(1903);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return le.onErrorResumeNext}});var ee=t(88269);Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return ee.pairs}});var ie=t(57406);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return ie.partition}});var he=t(89795);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return he.race}});var me=t(74385);Object.defineProperty(e,"range",{enumerable:!0,get:function(){return me.range}});var be=t(26680);Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return be.throwError}});var Be=t(5825);Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return Be.timer}});var je=t(35904);Object.defineProperty(e,"using",{enumerable:!0,get:function(){return je.using}});var Ue=t(11415);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return Ue.zip}});var Ie=t(30131);Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return Ie.scheduled}});var $e=t(44885);Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return $e.EMPTY}});var qe=t(11934);Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return qe.NEVER}}),c(t(96153),e);var tt=t(93728);Object.defineProperty(e,"config",{enumerable:!0,get:function(){return tt.config}});var ct=t(88877);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return ct.audit}});var gt=t(51608);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return gt.auditTime}});var dt=t(10706);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return dt.buffer}});var Ot=t(31668);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return Ot.bufferCount}});var Me=t(41719);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return Me.bufferTime}});var Le=t(61778);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return Le.bufferToggle}});var He=t(56606);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return He.bufferWhen}});var _e=t(72719);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return _e.catchError}});var Xe=t(89244);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return Xe.combineAll}});var rt=t(90314);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return rt.combineLatestAll}});var ke=t(82044);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return ke.combineLatestWith}});var ft=t(70201);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return ft.concatAll}});var vt=t(29512);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return vt.concatMap}});var Pt=t(19913);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return Pt.concatMapTo}});var ht=t(98032);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return ht.concatWith}});var Rt=t(17812);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return Rt.connect}});var jt=t(10970);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return jt.count}});var ut=t(3143);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return ut.debounce}});var Ft=t(21762);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return Ft.debounceTime}});var Wt=t(58799);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return Wt.defaultIfEmpty}});var Lt=t(5797);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return Lt.delay}});var $t=t(72885);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return $t.delayWhen}});var Gt=t(19818);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return Gt.dematerialize}});var Yt=t(77876);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return Yt.distinct}});var Kt=t(22044);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return Kt.distinctUntilChanged}});var nr=t(76035);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return nr.distinctUntilKeyChanged}});var _t=t(61279);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return _t.elementAt}});var Xt=t(66791);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return Xt.endWith}});var ar=t(21361);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return ar.every}});var cr=t(11464);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return cr.exhaust}});var wr=t(17977);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return wr.exhaustAll}});var kt=t(86632);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return kt.exhaustMap}});var hr=t(75544);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return hr.expand}});var ir=t(85934);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return ir.filter}});var mt=t(17802);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return mt.finalize}});var qt=t(98183);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return qt.find}});var pr=t(29035);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return pr.findIndex}});var bt=t(19980);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return bt.first}});var fr=t(5128);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return fr.groupBy}});var Or=t(2959);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return Or.ignoreElements}});var de=t(69915);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return de.isEmpty}});var we=t(32568);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return we.last}});var Fe=t(26872);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Fe.map}});var ze=t(13337);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return ze.mapTo}});var et=t(75019);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return et.materialize}});var st=t(50096);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return st.max}});var xe=t(68087);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return xe.mergeAll}});var At=t(74613);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return At.flatMap}});var pt=t(67478);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return pt.mergeMap}});var It=t(76075);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return It.mergeMapTo}});var wt=t(16707);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return wt.mergeScan}});var or=t(79694);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return or.mergeWith}});var Mt=t(80142);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return Mt.min}});var Zt=t(18464);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return Zt.multicast}});var Rr=t(32071);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return Rr.observeOn}});var ur=t(95513);Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return ur.onErrorResumeNextWith}});var xt=t(26744);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return xt.pairwise}});var gr=t(66355);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return gr.pluck}});var Vt=t(53197);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return Vt.publish}});var Mr=t(82955);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return Mr.publishBehavior}});var Ur=t(26569);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return Ur.publishLast}});var Dr=t(68710);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Dr.publishReplay}});var Vr=t(6677);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Vr.raceWith}});var Ir=t(92070);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return Ir.reduce}});var dr=t(56131);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return dr.repeat}});var cn=t(82139);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return cn.repeatWhen}});var gn=t(3352);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return gn.retry}});var Xr=t(73956);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Xr.retryWhen}});var Et=t(79224);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return Et.refCount}});var er=t(43434);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return er.sample}});var tr=t(44143);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return tr.sampleTime}});var lr=t(35565);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return lr.scan}});var Pr=t(73929);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Pr.sequenceEqual}});var Yr=t(93405);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Yr.share}});var Zr=t(17782);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return Zr.shareReplay}});var Qr=t(55440);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return Qr.single}});var bn=t(23079);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return bn.skip}});var Sn=t(92359);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Sn.skipLast}});var mn=t(20164);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return mn.skipUntil}});var En=t(65774);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return En.skipWhile}});var nn=t(99054);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return nn.startWith}});var Dn=t(5455);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return Dn.subscribeOn}});var _r=t(16201);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return _r.switchAll}});var fn=t(90680);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return fn.switchMap}});var dn=t(761);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return dn.switchMapTo}});var yr=t(48461);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return yr.switchScan}});var In=t(54383);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return In.take}});var qr=t(65279);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return qr.takeLast}});var Pn=t(66911);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Pn.takeUntil}});var hn=t(60598);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return hn.takeWhile}});var jn=t(15019);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return jn.tap}});var Wr=t(44880);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return Wr.throttle}});var xr=t(7245);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return xr.throttleTime}});var kr=t(30632);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return kr.throwIfEmpty}});var $r=t(32508);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return $r.timeInterval}});var Cn=t(81713);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return Cn.timeout}});var vn=t(72978);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return vn.timeoutWith}});var Tn=t(53866);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return Tn.timestamp}});var Ln=t(73484);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return Ln.toArray}});var Hn=t(78072);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return Hn.window}});var zn=t(62893);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return zn.windowCount}});var Dt=t(90037);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return Dt.windowTime}});var mr=t(28996);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return mr.windowToggle}});var Nn=t(65156);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return Nn.windowWhen}});var Rn=t(66975);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return Rn.withLatestFrom}});var Vn=t(5362);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return Vn.zipAll}});var yn=t(36977);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return yn.zipWith}})},5130:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var s=function(l,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},s(l,n)};return function(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(l,n);function o(){this.constructor=l}l.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncSubject=void 0;var c=t(76808),f=function(s){r(l,s);function l(){var n=s!==null&&s.apply(this,arguments)||this;return n._value=null,n._hasValue=!1,n._isComplete=!1,n}return l.prototype._checkFinalizedStatuses=function(n){var o=this,i=o.hasError,a=o._hasValue,u=o._value,d=o.thrownError,v=o.isStopped,p=o._isComplete;i?n.error(d):(v||p)&&(a&&n.next(u),n.complete())},l.prototype.next=function(n){this.isStopped||(this._value=n,this._hasValue=!0)},l.prototype.complete=function(){var n=this,o=n._hasValue,i=n._value,a=n._isComplete;a||(this._isComplete=!0,o&&s.prototype.next.call(this,i),s.prototype.complete.call(this))},l}(c.Subject);e.AsyncSubject=f},97314:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var s=function(l,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},s(l,n)};return function(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(l,n);function o(){this.constructor=l}l.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.BehaviorSubject=void 0;var c=t(76808),f=function(s){r(l,s);function l(n){var o=s.call(this)||this;return o._value=n,o}return Object.defineProperty(l.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),l.prototype._subscribe=function(n){var o=s.prototype._subscribe.call(this,n);return!o.closed&&n.next(this._value),o},l.prototype.getValue=function(){var n=this,o=n.hasError,i=n.thrownError,a=n._value;if(o)throw i;return this._throwIfClosed(),a},l.prototype.next=function(n){s.prototype.next.call(this,this._value=n)},l}(c.Subject);e.BehaviorSubject=f},31245:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var r=t(44885),c=t(61587),f=t(26680),s=t(10281),l;(function(i){i.NEXT="N",i.ERROR="E",i.COMPLETE="C"})(l=e.NotificationKind||(e.NotificationKind={}));var n=function(){function i(a,u,d){this.kind=a,this.value=u,this.error=d,this.hasValue=a==="N"}return i.prototype.observe=function(a){return o(this,a)},i.prototype.do=function(a,u,d){var v=this,p=v.kind,m=v.value,P=v.error;return p==="N"?a?.(m):p==="E"?u?.(P):d?.()},i.prototype.accept=function(a,u,d){var v;return s.isFunction((v=a)===null||v===void 0?void 0:v.next)?this.observe(a):this.do(a,u,d)},i.prototype.toObservable=function(){var a=this,u=a.kind,d=a.value,v=a.error,p=u==="N"?c.of(d):u==="E"?f.throwError(function(){return v}):u==="C"?r.EMPTY:0;if(!p)throw new TypeError("Unexpected notification kind "+u);return p},i.createNext=function(a){return new i("N",a)},i.createError=function(a){return new i("E",void 0,a)},i.createComplete=function(){return i.completeNotification},i.completeNotification=new i("C"),i}();e.Notification=n;function o(i,a){var u,d,v,p=i,m=p.kind,P=p.value,E=p.error;if(typeof m!="string")throw new TypeError('Invalid notification, missing "kind"');m==="N"?(u=a.next)===null||u===void 0||u.call(a,P):m==="E"?(d=a.error)===null||d===void 0||d.call(a,E):(v=a.complete)===null||v===void 0||v.call(a)}e.observeNotification=o},42767:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=e.nextNotification=e.errorNotification=e.COMPLETE_NOTIFICATION=void 0,e.COMPLETE_NOTIFICATION=function(){return c("C",void 0,void 0)}();function t(f){return c("E",void 0,f)}e.errorNotification=t;function r(f){return c("N",f,void 0)}e.nextNotification=r;function c(f,s,l){return{kind:f,value:s,error:l}}e.createNotification=c},48051:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var r=t(2708),c=t(69879),f=t(2884),s=t(99517),l=t(93728),n=t(10281),o=t(12688),i=function(){function v(p){p&&(this._subscribe=p)}return v.prototype.lift=function(p){var m=new v;return m.source=this,m.operator=p,m},v.prototype.subscribe=function(p,m,P){var E=this,L=d(p)?p:new r.SafeSubscriber(p,m,P);return o.errorContext(function(){var F=E,j=F.operator,D=F.source;L.add(j?j.call(L,D):D?E._subscribe(L):E._trySubscribe(L))}),L},v.prototype._trySubscribe=function(p){try{return this._subscribe(p)}catch(m){p.error(m)}},v.prototype.forEach=function(p,m){var P=this;return m=a(m),new m(function(E,L){var F=new r.SafeSubscriber({next:function(j){try{p(j)}catch(D){L(D),F.unsubscribe()}},error:L,complete:E});P.subscribe(F)})},v.prototype._subscribe=function(p){var m;return(m=this.source)===null||m===void 0?void 0:m.subscribe(p)},v.prototype[f.observable]=function(){return this},v.prototype.pipe=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];return s.pipeFromArray(p)(this)},v.prototype.toPromise=function(p){var m=this;return p=a(p),new p(function(P,E){var L;m.subscribe(function(F){return L=F},function(F){return E(F)},function(){return P(L)})})},v.create=function(p){return new v(p)},v}();e.Observable=i;function a(v){var p;return(p=v??l.config.Promise)!==null&&p!==void 0?p:Promise}function u(v){return v&&n.isFunction(v.next)&&n.isFunction(v.error)&&n.isFunction(v.complete)}function d(v){return v&&v instanceof r.Subscriber||u(v)&&c.isSubscription(v)}},10381:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var l=function(n,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},l(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");l(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaySubject=void 0;var c=t(76808),f=t(93275),s=function(l){r(n,l);function n(o,i,a){o===void 0&&(o=1/0),i===void 0&&(i=1/0),a===void 0&&(a=f.dateTimestampProvider);var u=l.call(this)||this;return u._bufferSize=o,u._windowTime=i,u._timestampProvider=a,u._buffer=[],u._infiniteTimeWindow=!0,u._infiniteTimeWindow=i===1/0,u._bufferSize=Math.max(1,o),u._windowTime=Math.max(1,i),u}return n.prototype.next=function(o){var i=this,a=i.isStopped,u=i._buffer,d=i._infiniteTimeWindow,v=i._timestampProvider,p=i._windowTime;a||(u.push(o),!d&&u.push(v.now()+p)),this._trimBuffer(),l.prototype.next.call(this,o)},n.prototype._subscribe=function(o){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(o),a=this,u=a._infiniteTimeWindow,d=a._buffer,v=d.slice(),p=0;p<v.length&&!o.closed;p+=u?1:2)o.next(v[p]);return this._checkFinalizedStatuses(o),i},n.prototype._trimBuffer=function(){var o=this,i=o._bufferSize,a=o._timestampProvider,u=o._buffer,d=o._infiniteTimeWindow,v=(d?1:2)*i;if(i<1/0&&v<u.length&&u.splice(0,u.length-v),!d){for(var p=a.now(),m=0,P=1;P<u.length&&u[P]<=p;P+=2)m=P;m&&u.splice(0,m+1)}},n}(c.Subject);e.ReplaySubject=s},65881:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scheduler=void 0;var r=t(93275),c=function(){function f(s,l){l===void 0&&(l=f.now),this.schedulerActionCtor=s,this.now=l}return f.prototype.schedule=function(s,l,n){return l===void 0&&(l=0),new this.schedulerActionCtor(this,s).schedule(n,l)},f.now=r.dateTimestampProvider.now,f}();e.Scheduler=c},76808:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var u=function(d,v){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var P in m)Object.prototype.hasOwnProperty.call(m,P)&&(p[P]=m[P])},u(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");u(d,v);function p(){this.constructor=d}d.prototype=v===null?Object.create(v):(p.prototype=v.prototype,new p)}}(),c=this&&this.__values||function(u){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&u[d],p=0;if(v)return v.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&p>=u.length&&(u=void 0),{value:u&&u[p++],done:!u}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AnonymousSubject=e.Subject=void 0;var f=t(48051),s=t(69879),l=t(50839),n=t(54830),o=t(12688),i=function(u){r(d,u);function d(){var v=u.call(this)||this;return v.closed=!1,v.currentObservers=null,v.observers=[],v.isStopped=!1,v.hasError=!1,v.thrownError=null,v}return d.prototype.lift=function(v){var p=new a(this,this);return p.operator=v,p},d.prototype._throwIfClosed=function(){if(this.closed)throw new l.ObjectUnsubscribedError},d.prototype.next=function(v){var p=this;o.errorContext(function(){var m,P;if(p._throwIfClosed(),!p.isStopped){p.currentObservers||(p.currentObservers=Array.from(p.observers));try{for(var E=c(p.currentObservers),L=E.next();!L.done;L=E.next()){var F=L.value;F.next(v)}}catch(j){m={error:j}}finally{try{L&&!L.done&&(P=E.return)&&P.call(E)}finally{if(m)throw m.error}}}})},d.prototype.error=function(v){var p=this;o.errorContext(function(){if(p._throwIfClosed(),!p.isStopped){p.hasError=p.isStopped=!0,p.thrownError=v;for(var m=p.observers;m.length;)m.shift().error(v)}})},d.prototype.complete=function(){var v=this;o.errorContext(function(){if(v._throwIfClosed(),!v.isStopped){v.isStopped=!0;for(var p=v.observers;p.length;)p.shift().complete()}})},d.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(d.prototype,"observed",{get:function(){var v;return((v=this.observers)===null||v===void 0?void 0:v.length)>0},enumerable:!1,configurable:!0}),d.prototype._trySubscribe=function(v){return this._throwIfClosed(),u.prototype._trySubscribe.call(this,v)},d.prototype._subscribe=function(v){return this._throwIfClosed(),this._checkFinalizedStatuses(v),this._innerSubscribe(v)},d.prototype._innerSubscribe=function(v){var p=this,m=this,P=m.hasError,E=m.isStopped,L=m.observers;return P||E?s.EMPTY_SUBSCRIPTION:(this.currentObservers=null,L.push(v),new s.Subscription(function(){p.currentObservers=null,n.arrRemove(L,v)}))},d.prototype._checkFinalizedStatuses=function(v){var p=this,m=p.hasError,P=p.thrownError,E=p.isStopped;m?v.error(P):E&&v.complete()},d.prototype.asObservable=function(){var v=new f.Observable;return v.source=this,v},d.create=function(v,p){return new a(v,p)},d}(f.Observable);e.Subject=i;var a=function(u){r(d,u);function d(v,p){var m=u.call(this)||this;return m.destination=v,m.source=p,m}return d.prototype.next=function(v){var p,m;(m=(p=this.destination)===null||p===void 0?void 0:p.next)===null||m===void 0||m.call(p,v)},d.prototype.error=function(v){var p,m;(m=(p=this.destination)===null||p===void 0?void 0:p.error)===null||m===void 0||m.call(p,v)},d.prototype.complete=function(){var v,p;(p=(v=this.destination)===null||v===void 0?void 0:v.complete)===null||p===void 0||p.call(v)},d.prototype._subscribe=function(v){var p,m;return(m=(p=this.source)===null||p===void 0?void 0:p.subscribe(v))!==null&&m!==void 0?m:s.EMPTY_SUBSCRIPTION},d}(i);e.AnonymousSubject=a},2708:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var F=function(j,D){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,G){B.__proto__=G}||function(B,G){for(var K in G)Object.prototype.hasOwnProperty.call(G,K)&&(B[K]=G[K])},F(j,D)};return function(j,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");F(j,D);function B(){this.constructor=j}j.prototype=D===null?Object.create(D):(B.prototype=D.prototype,new B)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var c=t(10281),f=t(69879),s=t(93728),l=t(32980),n=t(5717),o=t(42767),i=t(94808),a=t(12688),u=function(F){r(j,F);function j(D){var B=F.call(this)||this;return B.isStopped=!1,D?(B.destination=D,f.isSubscription(D)&&D.add(B)):B.destination=e.EMPTY_OBSERVER,B}return j.create=function(D,B,G){return new m(D,B,G)},j.prototype.next=function(D){this.isStopped?L(o.nextNotification(D),this):this._next(D)},j.prototype.error=function(D){this.isStopped?L(o.errorNotification(D),this):(this.isStopped=!0,this._error(D))},j.prototype.complete=function(){this.isStopped?L(o.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},j.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,F.prototype.unsubscribe.call(this),this.destination=null)},j.prototype._next=function(D){this.destination.next(D)},j.prototype._error=function(D){try{this.destination.error(D)}finally{this.unsubscribe()}},j.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},j}(f.Subscription);e.Subscriber=u;var d=Function.prototype.bind;function v(F,j){return d.call(F,j)}var p=function(){function F(j){this.partialObserver=j}return F.prototype.next=function(j){var D=this.partialObserver;if(D.next)try{D.next(j)}catch(B){P(B)}},F.prototype.error=function(j){var D=this.partialObserver;if(D.error)try{D.error(j)}catch(B){P(B)}else P(j)},F.prototype.complete=function(){var j=this.partialObserver;if(j.complete)try{j.complete()}catch(D){P(D)}},F}(),m=function(F){r(j,F);function j(D,B,G){var K=F.call(this)||this,Y;if(c.isFunction(D)||!D)Y={next:D??void 0,error:B??void 0,complete:G??void 0};else{var $;K&&s.config.useDeprecatedNextContext?($=Object.create(D),$.unsubscribe=function(){return K.unsubscribe()},Y={next:D.next&&v(D.next,$),error:D.error&&v(D.error,$),complete:D.complete&&v(D.complete,$)}):Y=D}return K.destination=new p(Y),K}return j}(u);e.SafeSubscriber=m;function P(F){s.config.useDeprecatedSynchronousErrorHandling?a.captureError(F):l.reportUnhandledError(F)}function E(F){throw F}function L(F,j){var D=s.config.onStoppedNotification;D&&i.timeoutProvider.setTimeout(function(){return D(F,j)})}e.EMPTY_OBSERVER={closed:!0,next:n.noop,error:E,complete:n.noop}},69879:function(z,e,t){"use strict";var r=this&&this.__values||function(u){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&u[d],p=0;if(v)return v.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&p>=u.length&&(u=void 0),{value:u&&u[p++],done:!u}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(u,d){var v=typeof Symbol=="function"&&u[Symbol.iterator];if(!v)return u;var p=v.call(u),m,P=[],E;try{for(;(d===void 0||d-- >0)&&!(m=p.next()).done;)P.push(m.value)}catch(L){E={error:L}}finally{try{m&&!m.done&&(v=p.return)&&v.call(p)}finally{if(E)throw E.error}}return P},f=this&&this.__spreadArray||function(u,d){for(var v=0,p=d.length,m=u.length;v<p;v++,m++)u[m]=d[v];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.isSubscription=e.EMPTY_SUBSCRIPTION=e.Subscription=void 0;var s=t(10281),l=t(69517),n=t(54830),o=function(){function u(d){this.initialTeardown=d,this.closed=!1,this._parentage=null,this._finalizers=null}return u.prototype.unsubscribe=function(){var d,v,p,m,P;if(!this.closed){this.closed=!0;var E=this._parentage;if(E)if(this._parentage=null,Array.isArray(E))try{for(var L=r(E),F=L.next();!F.done;F=L.next()){var j=F.value;j.remove(this)}}catch($){d={error:$}}finally{try{F&&!F.done&&(v=L.return)&&v.call(L)}finally{if(d)throw d.error}}else E.remove(this);var D=this.initialTeardown;if(s.isFunction(D))try{D()}catch($){P=$ instanceof l.UnsubscriptionError?$.errors:[$]}var B=this._finalizers;if(B){this._finalizers=null;try{for(var G=r(B),K=G.next();!K.done;K=G.next()){var Y=K.value;try{a(Y)}catch($){P=P??[],$ instanceof l.UnsubscriptionError?P=f(f([],c(P)),c($.errors)):P.push($)}}}catch($){p={error:$}}finally{try{K&&!K.done&&(m=G.return)&&m.call(G)}finally{if(p)throw p.error}}}if(P)throw new l.UnsubscriptionError(P)}},u.prototype.add=function(d){var v;if(d&&d!==this)if(this.closed)a(d);else{if(d instanceof u){if(d.closed||d._hasParent(this))return;d._addParent(this)}(this._finalizers=(v=this._finalizers)!==null&&v!==void 0?v:[]).push(d)}},u.prototype._hasParent=function(d){var v=this._parentage;return v===d||Array.isArray(v)&&v.includes(d)},u.prototype._addParent=function(d){var v=this._parentage;this._parentage=Array.isArray(v)?(v.push(d),v):v?[v,d]:d},u.prototype._removeParent=function(d){var v=this._parentage;v===d?this._parentage=null:Array.isArray(v)&&n.arrRemove(v,d)},u.prototype.remove=function(d){var v=this._finalizers;v&&n.arrRemove(v,d),d instanceof u&&d._removeParent(this)},u.EMPTY=function(){var d=new u;return d.closed=!0,d}(),u}();e.Subscription=o,e.EMPTY_SUBSCRIPTION=o.EMPTY;function i(u){return u instanceof o||u&&"closed"in u&&s.isFunction(u.remove)&&s.isFunction(u.add)&&s.isFunction(u.unsubscribe)}e.isSubscription=i;function a(u){s.isFunction(u)?u():u.unsubscribe()}},93728:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.config=void 0,e.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},40841:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.firstValueFrom=void 0;var r=t(59328),c=t(2708);function f(s,l){var n=typeof l=="object";return new Promise(function(o,i){var a=new c.SafeSubscriber({next:function(u){o(u),a.unsubscribe()},error:i,complete:function(){n?o(l.defaultValue):i(new r.EmptyError)}});s.subscribe(a)})}e.firstValueFrom=f},85761:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lastValueFrom=void 0;var r=t(59328);function c(f,s){var l=typeof s=="object";return new Promise(function(n,o){var i=!1,a;f.subscribe({next:function(u){a=u,i=!0},error:o,complete:function(){i?n(a):l?n(s.defaultValue):o(new r.EmptyError)}})})}e.lastValueFrom=c},14359:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var i=function(a,u){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var p in v)Object.prototype.hasOwnProperty.call(v,p)&&(d[p]=v[p])},i(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");i(a,u);function d(){this.constructor=a}a.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectableObservable=void 0;var c=t(48051),f=t(69879),s=t(79224),l=t(17214),n=t(65212),o=function(i){r(a,i);function a(u,d){var v=i.call(this)||this;return v.source=u,v.subjectFactory=d,v._subject=null,v._refCount=0,v._connection=null,n.hasLift(u)&&(v.lift=u.lift),v}return a.prototype._subscribe=function(u){return this.getSubject().subscribe(u)},a.prototype.getSubject=function(){var u=this._subject;return(!u||u.isStopped)&&(this._subject=this.subjectFactory()),this._subject},a.prototype._teardown=function(){this._refCount=0;var u=this._connection;this._subject=this._connection=null,u?.unsubscribe()},a.prototype.connect=function(){var u=this,d=this._connection;if(!d){d=this._connection=new f.Subscription;var v=this.getSubject();d.add(this.source.subscribe(l.createOperatorSubscriber(v,void 0,function(){u._teardown(),v.complete()},function(p){u._teardown(),v.error(p)},function(){return u._teardown()}))),d.closed&&(this._connection=null,d=f.Subscription.EMPTY)}return d},a.prototype.refCount=function(){return s.refCount()(this)},a}(c.Observable);e.ConnectableObservable=o},79750:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallback=void 0;var r=t(17474);function c(f,s,l){return r.bindCallbackInternals(!1,f,s,l)}e.bindCallback=c},17474:function(z,e,t){"use strict";var r=this&&this.__read||function(u,d){var v=typeof Symbol=="function"&&u[Symbol.iterator];if(!v)return u;var p=v.call(u),m,P=[],E;try{for(;(d===void 0||d-- >0)&&!(m=p.next()).done;)P.push(m.value)}catch(L){E={error:L}}finally{try{m&&!m.done&&(v=p.return)&&v.call(p)}finally{if(E)throw E.error}}return P},c=this&&this.__spreadArray||function(u,d){for(var v=0,p=d.length,m=u.length;v<p;v++,m++)u[m]=d[v];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallbackInternals=void 0;var f=t(68596),s=t(48051),l=t(5455),n=t(13916),o=t(32071),i=t(5130);function a(u,d,v,p){if(v)if(f.isScheduler(v))p=v;else return function(){for(var m=[],P=0;P<arguments.length;P++)m[P]=arguments[P];return a(u,d,p).apply(this,m).pipe(n.mapOneOrManyArgs(v))};return p?function(){for(var m=[],P=0;P<arguments.length;P++)m[P]=arguments[P];return a(u,d).apply(this,m).pipe(l.subscribeOn(p),o.observeOn(p))}:function(){for(var m=this,P=[],E=0;E<arguments.length;E++)P[E]=arguments[E];var L=new i.AsyncSubject,F=!0;return new s.Observable(function(j){var D=L.subscribe(j);if(F){F=!1;var B=!1,G=!1;d.apply(m,c(c([],r(P)),[function(){for(var K=[],Y=0;Y<arguments.length;Y++)K[Y]=arguments[Y];if(u){var $=K.shift();if($!=null){L.error($);return}}L.next(1<K.length?K:K[0]),G=!0,B&&L.complete()}])),G&&L.complete(),B=!0}return D})}}e.bindCallbackInternals=a},21946:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bindNodeCallback=void 0;var r=t(17474);function c(f,s,l){return r.bindCallbackInternals(!0,f,s,l)}e.bindNodeCallback=c},88246:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestInit=e.combineLatest=void 0;var r=t(48051),c=t(50439),f=t(47058),s=t(87699),l=t(13916),n=t(26404),o=t(15810),i=t(17214),a=t(28619);function u(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var P=n.popScheduler(p),E=n.popResultSelector(p),L=c.argsArgArrayOrObject(p),F=L.args,j=L.keys;if(F.length===0)return f.from([],P);var D=new r.Observable(d(F,P,j?function(B){return o.createObject(j,B)}:s.identity));return E?D.pipe(l.mapOneOrManyArgs(E)):D}e.combineLatest=u;function d(p,m,P){return P===void 0&&(P=s.identity),function(E){v(m,function(){for(var L=p.length,F=new Array(L),j=L,D=L,B=function(K){v(m,function(){var Y=f.from(p[K],m),$=!1;Y.subscribe(i.createOperatorSubscriber(E,function(U){F[K]=U,$||($=!0,D--),D||E.next(P(F.slice()))},function(){--j||E.complete()}))},E)},G=0;G<L;G++)B(G)},E)}}e.combineLatestInit=d;function v(p,m,P){p?a.executeSchedule(P,p,m):m()}},39546:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var r=t(70201),c=t(26404),f=t(47058);function s(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return r.concatAll()(f.from(l,c.popScheduler(l)))}e.concat=s},98590:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connectable=void 0;var r=t(76808),c=t(48051),f=t(35884),s={connector:function(){return new r.Subject},resetOnDisconnect:!0};function l(n,o){o===void 0&&(o=s);var i=null,a=o.connector,u=o.resetOnDisconnect,d=u===void 0?!0:u,v=a(),p=new c.Observable(function(m){return v.subscribe(m)});return p.connect=function(){return(!i||i.closed)&&(i=f.defer(function(){return n}).subscribe(v),d&&i.add(function(){return v=a()})),i},p}e.connectable=l},35884:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defer=void 0;var r=t(48051),c=t(19724);function f(s){return new r.Observable(function(l){c.innerFrom(s()).subscribe(l)})}e.defer=f},44256:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrames=void 0;var r=t(48051),c=t(22931),f=t(35726);function s(o){return o?l(o):n}e.animationFrames=s;function l(o){return new r.Observable(function(i){var a=o||c.performanceTimestampProvider,u=a.now(),d=0,v=function(){i.closed||(d=f.animationFrameProvider.requestAnimationFrame(function(p){d=0;var m=a.now();i.next({timestamp:o?m:p,elapsed:m-u}),v()}))};return v(),function(){d&&f.animationFrameProvider.cancelAnimationFrame(d)}})}var n=l()},44885:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var r=t(48051);e.EMPTY=new r.Observable(function(s){return s.complete()});function c(s){return s?f(s):e.EMPTY}e.empty=c;function f(s){return new r.Observable(function(l){return s.schedule(function(){return l.complete()})})}},75266:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forkJoin=void 0;var r=t(48051),c=t(50439),f=t(19724),s=t(26404),l=t(17214),n=t(13916),o=t(15810);function i(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var d=s.popResultSelector(a),v=c.argsArgArrayOrObject(a),p=v.args,m=v.keys,P=new r.Observable(function(E){var L=p.length;if(!L){E.complete();return}for(var F=new Array(L),j=L,D=L,B=function(K){var Y=!1;f.innerFrom(p[K]).subscribe(l.createOperatorSubscriber(E,function($){Y||(Y=!0,D--),F[K]=$},function(){return j--},void 0,function(){(!j||!Y)&&(D||E.next(m?o.createObject(m,F):F),E.complete())}))},G=0;G<L;G++)B(G)});return d?P.pipe(n.mapOneOrManyArgs(d)):P}e.forkJoin=i},47058:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.from=void 0;var r=t(30131),c=t(19724);function f(s,l){return l?r.scheduled(s,l):c.innerFrom(s)}e.from=f},88616:function(z,e,t){"use strict";var r=this&&this.__read||function(E,L){var F=typeof Symbol=="function"&&E[Symbol.iterator];if(!F)return E;var j=F.call(E),D,B=[],G;try{for(;(L===void 0||L-- >0)&&!(D=j.next()).done;)B.push(D.value)}catch(K){G={error:K}}finally{try{D&&!D.done&&(F=j.return)&&F.call(j)}finally{if(G)throw G.error}}return B};Object.defineProperty(e,"__esModule",{value:!0}),e.fromEvent=void 0;var c=t(19724),f=t(48051),s=t(67478),l=t(94975),n=t(10281),o=t(13916),i=["addListener","removeListener"],a=["addEventListener","removeEventListener"],u=["on","off"];function d(E,L,F,j){if(n.isFunction(F)&&(j=F,F=void 0),j)return d(E,L,F).pipe(o.mapOneOrManyArgs(j));var D=r(P(E)?a.map(function(K){return function(Y){return E[K](L,Y,F)}}):p(E)?i.map(v(E,L)):m(E)?u.map(v(E,L)):[],2),B=D[0],G=D[1];if(!B&&l.isArrayLike(E))return s.mergeMap(function(K){return d(K,L,F)})(c.innerFrom(E));if(!B)throw new TypeError("Invalid event target");return new f.Observable(function(K){var Y=function(){for(var $=[],U=0;U<arguments.length;U++)$[U]=arguments[U];return K.next(1<$.length?$:$[0])};return B(Y),function(){return G(Y)}})}e.fromEvent=d;function v(E,L){return function(F){return function(j){return E[F](L,j)}}}function p(E){return n.isFunction(E.addListener)&&n.isFunction(E.removeListener)}function m(E){return n.isFunction(E.on)&&n.isFunction(E.off)}function P(E){return n.isFunction(E.addEventListener)&&n.isFunction(E.removeEventListener)}},26920:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromEventPattern=void 0;var r=t(48051),c=t(10281),f=t(13916);function s(l,n,o){return o?s(l,n).pipe(f.mapOneOrManyArgs(o)):new r.Observable(function(i){var a=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];return i.next(d.length===1?d[0]:d)},u=l(a);return c.isFunction(n)?function(){return n(a,u)}:void 0})}e.fromEventPattern=s},51071:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromSubscribable=void 0;var r=t(48051);function c(f){return new r.Observable(function(s){return f.subscribe(s)})}e.fromSubscribable=c},87281:function(z,e,t){"use strict";var r=this&&this.__generator||function(o,i){var a={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},u,d,v,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(E){return function(L){return P([E,L])}}function P(E){if(u)throw new TypeError("Generator is already executing.");for(;a;)try{if(u=1,d&&(v=E[0]&2?d.return:E[0]?d.throw||((v=d.return)&&v.call(d),0):d.next)&&!(v=v.call(d,E[1])).done)return v;switch(d=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,d=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(v=a.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){a.label=E[1];break}if(E[0]===6&&a.label<v[1]){a.label=v[1],v=E;break}if(v&&a.label<v[2]){a.label=v[2],a.ops.push(E);break}v[2]&&a.ops.pop(),a.trys.pop();continue}E=i.call(o,a)}catch(L){E=[6,L],d=0}finally{u=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.generate=void 0;var c=t(87699),f=t(68596),s=t(35884),l=t(36805);function n(o,i,a,u,d){var v,p,m,P;arguments.length===1?(v=o,P=v.initialState,i=v.condition,a=v.iterate,p=v.resultSelector,m=p===void 0?c.identity:p,d=v.scheduler):(P=o,!u||f.isScheduler(u)?(m=c.identity,d=u):m=u);function E(){var L;return r(this,function(F){switch(F.label){case 0:L=P,F.label=1;case 1:return!i||i(L)?[4,m(L)]:[3,4];case 2:F.sent(),F.label=3;case 3:return L=a(L),[3,1];case 4:return[2]}})}return s.defer(d?function(){return l.scheduleIterable(E(),d)}:E)}e.generate=n},99380:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iif=void 0;var r=t(35884);function c(f,s,l){return r.defer(function(){return f()?s:l})}e.iif=c},19724:function(z,e,t){"use strict";var r=this&&this.__awaiter||function(Y,$,U,M){function C(y){return y instanceof U?y:new U(function(b){b(y)})}return new(U||(U=Promise))(function(y,b){function T(A){try{S(M.next(A))}catch(W){b(W)}}function R(A){try{S(M.throw(A))}catch(W){b(W)}}function S(A){A.done?y(A.value):C(A.value).then(T,R)}S((M=M.apply(Y,$||[])).next())})},c=this&&this.__generator||function(Y,$){var U={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},M,C,y,b;return b={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function T(S){return function(A){return R([S,A])}}function R(S){if(M)throw new TypeError("Generator is already executing.");for(;U;)try{if(M=1,C&&(y=S[0]&2?C.return:S[0]?C.throw||((y=C.return)&&y.call(C),0):C.next)&&!(y=y.call(C,S[1])).done)return y;switch(C=0,y&&(S=[S[0]&2,y.value]),S[0]){case 0:case 1:y=S;break;case 4:return U.label++,{value:S[1],done:!1};case 5:U.label++,C=S[1],S=[0];continue;case 7:S=U.ops.pop(),U.trys.pop();continue;default:if(y=U.trys,!(y=y.length>0&&y[y.length-1])&&(S[0]===6||S[0]===2)){U=0;continue}if(S[0]===3&&(!y||S[1]>y[0]&&S[1]<y[3])){U.label=S[1];break}if(S[0]===6&&U.label<y[1]){U.label=y[1],y=S;break}if(y&&U.label<y[2]){U.label=y[2],U.ops.push(S);break}y[2]&&U.ops.pop(),U.trys.pop();continue}S=$.call(Y,U)}catch(A){S=[6,A],C=0}finally{M=y=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},f=this&&this.__asyncValues||function(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=Y[Symbol.asyncIterator],U;return $?$.call(Y):(Y=typeof s=="function"?s(Y):Y[Symbol.iterator](),U={},M("next"),M("throw"),M("return"),U[Symbol.asyncIterator]=function(){return this},U);function M(y){U[y]=Y[y]&&function(b){return new Promise(function(T,R){b=Y[y](b),C(T,R,b.done,b.value)})}}function C(y,b,T,R){Promise.resolve(R).then(function(S){y({value:S,done:T})},b)}},s=this&&this.__values||function(Y){var $=typeof Symbol=="function"&&Symbol.iterator,U=$&&Y[$],M=0;if(U)return U.call(Y);if(Y&&typeof Y.length=="number")return{next:function(){return Y&&M>=Y.length&&(Y=void 0),{value:Y&&Y[M++],done:!Y}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.fromReadableStreamLike=e.fromAsyncIterable=e.fromIterable=e.fromPromise=e.fromArrayLike=e.fromInteropObservable=e.innerFrom=void 0;var l=t(94975),n=t(67552),o=t(48051),i=t(80629),a=t(78263),u=t(86297),d=t(12187),v=t(95462),p=t(10281),m=t(32980),P=t(2884);function E(Y){if(Y instanceof o.Observable)return Y;if(Y!=null){if(i.isInteropObservable(Y))return L(Y);if(l.isArrayLike(Y))return F(Y);if(n.isPromise(Y))return j(Y);if(a.isAsyncIterable(Y))return B(Y);if(d.isIterable(Y))return D(Y);if(v.isReadableStreamLike(Y))return G(Y)}throw u.createInvalidObservableTypeError(Y)}e.innerFrom=E;function L(Y){return new o.Observable(function($){var U=Y[P.observable]();if(p.isFunction(U.subscribe))return U.subscribe($);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}e.fromInteropObservable=L;function F(Y){return new o.Observable(function($){for(var U=0;U<Y.length&&!$.closed;U++)$.next(Y[U]);$.complete()})}e.fromArrayLike=F;function j(Y){return new o.Observable(function($){Y.then(function(U){$.closed||($.next(U),$.complete())},function(U){return $.error(U)}).then(null,m.reportUnhandledError)})}e.fromPromise=j;function D(Y){return new o.Observable(function($){var U,M;try{for(var C=s(Y),y=C.next();!y.done;y=C.next()){var b=y.value;if($.next(b),$.closed)return}}catch(T){U={error:T}}finally{try{y&&!y.done&&(M=C.return)&&M.call(C)}finally{if(U)throw U.error}}$.complete()})}e.fromIterable=D;function B(Y){return new o.Observable(function($){K(Y,$).catch(function(U){return $.error(U)})})}e.fromAsyncIterable=B;function G(Y){return B(v.readableStreamLikeToAsyncGenerator(Y))}e.fromReadableStreamLike=G;function K(Y,$){var U,M,C,y;return r(this,void 0,void 0,function(){var b,T;return c(this,function(R){switch(R.label){case 0:R.trys.push([0,5,6,11]),U=f(Y),R.label=1;case 1:return[4,U.next()];case 2:if(M=R.sent(),!!M.done)return[3,4];if(b=M.value,$.next(b),$.closed)return[2];R.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return T=R.sent(),C={error:T},[3,11];case 6:return R.trys.push([6,,9,10]),M&&!M.done&&(y=U.return)?[4,y.call(U)]:[3,8];case 7:R.sent(),R.label=8;case 8:return[3,10];case 9:if(C)throw C.error;return[7];case 10:return[7];case 11:return $.complete(),[2]}})})}},62275:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interval=void 0;var r=t(62326),c=t(5825);function f(s,l){return s===void 0&&(s=0),l===void 0&&(l=r.asyncScheduler),s<0&&(s=0),c.timer(s,s,l)}e.interval=f},95936:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var r=t(68087),c=t(19724),f=t(44885),s=t(26404),l=t(47058);function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=s.popScheduler(o),u=s.popNumber(o,1/0),d=o;return d.length?d.length===1?c.innerFrom(d[0]):r.mergeAll(u)(l.from(d,a)):f.EMPTY}e.merge=n},11934:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var r=t(48051),c=t(5717);e.NEVER=new r.Observable(c.noop);function f(){return e.NEVER}e.never=f},61587:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.of=void 0;var r=t(26404),c=t(47058);function f(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var n=r.popScheduler(s);return c.from(s,n)}e.of=f},1903:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=void 0;var r=t(48051),c=t(7652),f=t(17214),s=t(5717),l=t(19724);function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=c.argsOrArgArray(o);return new r.Observable(function(u){var d=0,v=function(){if(d<a.length){var p=void 0;try{p=l.innerFrom(a[d++])}catch{v();return}var m=new f.OperatorSubscriber(u,void 0,s.noop,s.noop);p.subscribe(m),m.add(v)}else u.complete()};v()})}e.onErrorResumeNext=n},88269:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pairs=void 0;var r=t(47058);function c(f,s){return r.from(Object.entries(f),s)}e.pairs=c},57406:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var r=t(14120),c=t(85934),f=t(19724);function s(l,n,o){return[c.filter(n,o)(f.innerFrom(l)),c.filter(r.not(n,o))(f.innerFrom(l))]}e.partition=s},89795:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.raceInit=e.race=void 0;var r=t(48051),c=t(19724),f=t(7652),s=t(17214);function l(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return o=f.argsOrArgArray(o),o.length===1?c.innerFrom(o[0]):new r.Observable(n(o))}e.race=l;function n(o){return function(i){for(var a=[],u=function(v){a.push(c.innerFrom(o[v]).subscribe(s.createOperatorSubscriber(i,function(p){if(a){for(var m=0;m<a.length;m++)m!==v&&a[m].unsubscribe();a=null}i.next(p)})))},d=0;a&&!i.closed&&d<o.length;d++)u(d)}}e.raceInit=n},74385:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.range=void 0;var r=t(48051),c=t(44885);function f(s,l,n){if(l==null&&(l=s,s=0),l<=0)return c.EMPTY;var o=l+s;return new r.Observable(n?function(i){var a=s;return n.schedule(function(){a<o?(i.next(a++),this.schedule()):i.complete()})}:function(i){for(var a=s;a<o&&!i.closed;)i.next(a++);i.complete()})}e.range=f},26680:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throwError=void 0;var r=t(48051),c=t(10281);function f(s,l){var n=c.isFunction(s)?s:function(){return s},o=function(i){return i.error(n())};return new r.Observable(l?function(i){return l.schedule(o,0,i)}:o)}e.throwError=f},5825:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timer=void 0;var r=t(48051),c=t(62326),f=t(68596),s=t(85345);function l(n,o,i){n===void 0&&(n=0),i===void 0&&(i=c.async);var a=-1;return o!=null&&(f.isScheduler(o)?i=o:a=o),new r.Observable(function(u){var d=s.isValidDate(n)?+n-i.now():n;d<0&&(d=0);var v=0;return i.schedule(function(){u.closed||(u.next(v++),0<=a?this.schedule(void 0,a):u.complete())},d)})}e.timer=l},35904:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.using=void 0;var r=t(48051),c=t(19724),f=t(44885);function s(l,n){return new r.Observable(function(o){var i=l(),a=n(i),u=a?c.innerFrom(a):f.EMPTY;return u.subscribe(o),function(){i&&i.unsubscribe()}})}e.using=s},11415:function(z,e,t){"use strict";var r=this&&this.__read||function(u,d){var v=typeof Symbol=="function"&&u[Symbol.iterator];if(!v)return u;var p=v.call(u),m,P=[],E;try{for(;(d===void 0||d-- >0)&&!(m=p.next()).done;)P.push(m.value)}catch(L){E={error:L}}finally{try{m&&!m.done&&(v=p.return)&&v.call(p)}finally{if(E)throw E.error}}return P},c=this&&this.__spreadArray||function(u,d){for(var v=0,p=d.length,m=u.length;v<p;v++,m++)u[m]=d[v];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var f=t(48051),s=t(19724),l=t(7652),n=t(44885),o=t(17214),i=t(26404);function a(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var v=i.popResultSelector(u),p=l.argsOrArgArray(u);return p.length?new f.Observable(function(m){var P=p.map(function(){return[]}),E=p.map(function(){return!1});m.add(function(){P=E=null});for(var L=function(j){s.innerFrom(p[j]).subscribe(o.createOperatorSubscriber(m,function(D){if(P[j].push(D),P.every(function(G){return G.length})){var B=P.map(function(G){return G.shift()});m.next(v?v.apply(void 0,c([],r(B))):B),P.some(function(G,K){return!G.length&&E[K]})&&m.complete()}},function(){E[j]=!0,!P[j].length&&m.complete()}))},F=0;!m.closed&&F<p.length;F++)L(F);return function(){P=E=null}}):n.EMPTY}e.zip=a},17214:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var l=function(n,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},l(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");l(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.OperatorSubscriber=e.createOperatorSubscriber=void 0;var c=t(2708);function f(l,n,o,i,a){return new s(l,n,o,i,a)}e.createOperatorSubscriber=f;var s=function(l){r(n,l);function n(o,i,a,u,d,v){var p=l.call(this,o)||this;return p.onFinalize=d,p.shouldUnsubscribe=v,p._next=i?function(m){try{i(m)}catch(P){o.error(P)}}:l.prototype._next,p._error=u?function(m){try{u(m)}catch(P){o.error(P)}finally{this.unsubscribe()}}:l.prototype._error,p._complete=a?function(){try{a()}catch(m){o.error(m)}finally{this.unsubscribe()}}:l.prototype._complete,p}return n.prototype.unsubscribe=function(){var o;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;l.prototype.unsubscribe.call(this),!i&&((o=this.onFinalize)===null||o===void 0||o.call(this))}},n}(c.Subscriber);e.OperatorSubscriber=s},88877:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.audit=void 0;var r=t(65212),c=t(19724),f=t(17214);function s(l){return r.operate(function(n,o){var i=!1,a=null,u=null,d=!1,v=function(){if(u?.unsubscribe(),u=null,i){i=!1;var m=a;a=null,o.next(m)}d&&o.complete()},p=function(){u=null,d&&o.complete()};n.subscribe(f.createOperatorSubscriber(o,function(m){i=!0,a=m,u||c.innerFrom(l(m)).subscribe(u=f.createOperatorSubscriber(o,v,p))},function(){d=!0,(!i||!u||u.closed)&&o.complete()}))})}e.audit=s},51608:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.auditTime=void 0;var r=t(62326),c=t(88877),f=t(5825);function s(l,n){return n===void 0&&(n=r.asyncScheduler),c.audit(function(){return f.timer(l,n)})}e.auditTime=s},10706:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=void 0;var r=t(65212),c=t(5717),f=t(17214),s=t(19724);function l(n){return r.operate(function(o,i){var a=[];return o.subscribe(f.createOperatorSubscriber(i,function(u){return a.push(u)},function(){i.next(a),i.complete()})),s.innerFrom(n).subscribe(f.createOperatorSubscriber(i,function(){var u=a;a=[],i.next(u)},c.noop)),function(){a=null}})}e.buffer=l},31668:function(z,e,t){"use strict";var r=this&&this.__values||function(n){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&n[o],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferCount=void 0;var c=t(65212),f=t(17214),s=t(54830);function l(n,o){return o===void 0&&(o=null),o=o??n,c.operate(function(i,a){var u=[],d=0;i.subscribe(f.createOperatorSubscriber(a,function(v){var p,m,P,E,L=null;d++%o===0&&u.push([]);try{for(var F=r(u),j=F.next();!j.done;j=F.next()){var D=j.value;D.push(v),n<=D.length&&(L=L??[],L.push(D))}}catch(K){p={error:K}}finally{try{j&&!j.done&&(m=F.return)&&m.call(F)}finally{if(p)throw p.error}}if(L)try{for(var B=r(L),G=B.next();!G.done;G=B.next()){var D=G.value;s.arrRemove(u,D),a.next(D)}}catch(K){P={error:K}}finally{try{G&&!G.done&&(E=B.return)&&E.call(B)}finally{if(P)throw P.error}}},function(){var v,p;try{for(var m=r(u),P=m.next();!P.done;P=m.next()){var E=P.value;a.next(E)}}catch(L){v={error:L}}finally{try{P&&!P.done&&(p=m.return)&&p.call(m)}finally{if(v)throw v.error}}a.complete()},void 0,function(){u=null}))})}e.bufferCount=l},41719:function(z,e,t){"use strict";var r=this&&this.__values||function(u){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&u[d],p=0;if(v)return v.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&p>=u.length&&(u=void 0),{value:u&&u[p++],done:!u}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferTime=void 0;var c=t(69879),f=t(65212),s=t(17214),l=t(54830),n=t(62326),o=t(26404),i=t(28619);function a(u){for(var d,v,p=[],m=1;m<arguments.length;m++)p[m-1]=arguments[m];var P=(d=o.popScheduler(p))!==null&&d!==void 0?d:n.asyncScheduler,E=(v=p[0])!==null&&v!==void 0?v:null,L=p[1]||1/0;return f.operate(function(F,j){var D=[],B=!1,G=function($){var U=$.buffer,M=$.subs;M.unsubscribe(),l.arrRemove(D,$),j.next(U),B&&K()},K=function(){if(D){var $=new c.Subscription;j.add($);var U=[],M={buffer:U,subs:$};D.push(M),i.executeSchedule($,P,function(){return G(M)},u)}};E!==null&&E>=0?i.executeSchedule(j,P,K,E,!0):B=!0,K();var Y=s.createOperatorSubscriber(j,function($){var U,M,C=D.slice();try{for(var y=r(C),b=y.next();!b.done;b=y.next()){var T=b.value,R=T.buffer;R.push($),L<=R.length&&G(T)}}catch(S){U={error:S}}finally{try{b&&!b.done&&(M=y.return)&&M.call(y)}finally{if(U)throw U.error}}},function(){for(;D?.length;)j.next(D.shift().buffer);Y?.unsubscribe(),j.complete(),j.unsubscribe()},void 0,function(){return D=null});F.subscribe(Y)})}e.bufferTime=a},61778:function(z,e,t){"use strict";var r=this&&this.__values||function(a){var u=typeof Symbol=="function"&&Symbol.iterator,d=u&&a[u],v=0;if(d)return d.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&v>=a.length&&(a=void 0),{value:a&&a[v++],done:!a}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferToggle=void 0;var c=t(69879),f=t(65212),s=t(19724),l=t(17214),n=t(5717),o=t(54830);function i(a,u){return f.operate(function(d,v){var p=[];s.innerFrom(a).subscribe(l.createOperatorSubscriber(v,function(m){var P=[];p.push(P);var E=new c.Subscription,L=function(){o.arrRemove(p,P),v.next(P),E.unsubscribe()};E.add(s.innerFrom(u(m)).subscribe(l.createOperatorSubscriber(v,L,n.noop)))},n.noop)),d.subscribe(l.createOperatorSubscriber(v,function(m){var P,E;try{for(var L=r(p),F=L.next();!F.done;F=L.next()){var j=F.value;j.push(m)}}catch(D){P={error:D}}finally{try{F&&!F.done&&(E=L.return)&&E.call(L)}finally{if(P)throw P.error}}},function(){for(;p.length>0;)v.next(p.shift());v.complete()}))})}e.bufferToggle=i},56606:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bufferWhen=void 0;var r=t(65212),c=t(5717),f=t(17214),s=t(19724);function l(n){return r.operate(function(o,i){var a=null,u=null,d=function(){u?.unsubscribe();var v=a;a=[],v&&i.next(v),s.innerFrom(n()).subscribe(u=f.createOperatorSubscriber(i,d,c.noop))};d(),o.subscribe(f.createOperatorSubscriber(i,function(v){return a?.push(v)},function(){a&&i.next(a),i.complete()},void 0,function(){return a=u=null}))})}e.bufferWhen=l},72719:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.catchError=void 0;var r=t(19724),c=t(17214),f=t(65212);function s(l){return f.operate(function(n,o){var i=null,a=!1,u;i=n.subscribe(c.createOperatorSubscriber(o,void 0,void 0,function(d){u=r.innerFrom(l(d,s(l)(n))),i?(i.unsubscribe(),i=null,u.subscribe(o)):a=!0})),a&&(i.unsubscribe(),i=null,u.subscribe(o))})}e.catchError=s},89244:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineAll=void 0;var r=t(90314);e.combineAll=r.combineLatestAll},64948:function(z,e,t){"use strict";var r=this&&this.__read||function(u,d){var v=typeof Symbol=="function"&&u[Symbol.iterator];if(!v)return u;var p=v.call(u),m,P=[],E;try{for(;(d===void 0||d-- >0)&&!(m=p.next()).done;)P.push(m.value)}catch(L){E={error:L}}finally{try{m&&!m.done&&(v=p.return)&&v.call(p)}finally{if(E)throw E.error}}return P},c=this&&this.__spreadArray||function(u,d){for(var v=0,p=d.length,m=u.length;v<p;v++,m++)u[m]=d[v];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatest=void 0;var f=t(88246),s=t(65212),l=t(7652),n=t(13916),o=t(99517),i=t(26404);function a(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var v=i.popResultSelector(u);return v?o.pipe(a.apply(void 0,c([],r(u))),n.mapOneOrManyArgs(v)):s.operate(function(p,m){f.combineLatestInit(c([p],r(l.argsOrArgArray(u))))(m)})}e.combineLatest=a},90314:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestAll=void 0;var r=t(88246),c=t(80719);function f(s){return c.joinAllInternals(r.combineLatest,s)}e.combineLatestAll=f},82044:function(z,e,t){"use strict";var r=this&&this.__read||function(l,n){var o=typeof Symbol=="function"&&l[Symbol.iterator];if(!o)return l;var i=o.call(l),a,u=[],d;try{for(;(n===void 0||n-- >0)&&!(a=i.next()).done;)u.push(a.value)}catch(v){d={error:v}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(d)throw d.error}}return u},c=this&&this.__spreadArray||function(l,n){for(var o=0,i=n.length,a=l.length;o<i;o++,a++)l[a]=n[o];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestWith=void 0;var f=t(64948);function s(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return f.combineLatest.apply(void 0,c([],r(l)))}e.combineLatestWith=s},96328:function(z,e,t){"use strict";var r=this&&this.__read||function(i,a){var u=typeof Symbol=="function"&&i[Symbol.iterator];if(!u)return i;var d=u.call(i),v,p=[],m;try{for(;(a===void 0||a-- >0)&&!(v=d.next()).done;)p.push(v.value)}catch(P){m={error:P}}finally{try{v&&!v.done&&(u=d.return)&&u.call(d)}finally{if(m)throw m.error}}return p},c=this&&this.__spreadArray||function(i,a){for(var u=0,d=a.length,v=i.length;u<d;u++,v++)i[v]=a[u];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var f=t(65212),s=t(70201),l=t(26404),n=t(47058);function o(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var u=l.popScheduler(i);return f.operate(function(d,v){s.concatAll()(n.from(c([d],r(i)),u)).subscribe(v)})}e.concat=o},70201:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concatAll=void 0;var r=t(68087);function c(){return r.mergeAll(1)}e.concatAll=c},29512:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concatMap=void 0;var r=t(67478),c=t(10281);function f(s,l){return c.isFunction(l)?r.mergeMap(s,l,1):r.mergeMap(s,1)}e.concatMap=f},19913:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concatMapTo=void 0;var r=t(29512),c=t(10281);function f(s,l){return c.isFunction(l)?r.concatMap(function(){return s},l):r.concatMap(function(){return s})}e.concatMapTo=f},98032:function(z,e,t){"use strict";var r=this&&this.__read||function(l,n){var o=typeof Symbol=="function"&&l[Symbol.iterator];if(!o)return l;var i=o.call(l),a,u=[],d;try{for(;(n===void 0||n-- >0)&&!(a=i.next()).done;)u.push(a.value)}catch(v){d={error:v}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(d)throw d.error}}return u},c=this&&this.__spreadArray||function(l,n){for(var o=0,i=n.length,a=l.length;o<i;o++,a++)l[a]=n[o];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.concatWith=void 0;var f=t(96328);function s(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return f.concat.apply(void 0,c([],r(l)))}e.concatWith=s},17812:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connect=void 0;var r=t(76808),c=t(19724),f=t(65212),s=t(51071),l={connector:function(){return new r.Subject}};function n(o,i){i===void 0&&(i=l);var a=i.connector;return f.operate(function(u,d){var v=a();c.innerFrom(o(s.fromSubscribable(v))).subscribe(d),d.add(u.subscribe(v))})}e.connect=n},10970:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.count=void 0;var r=t(92070);function c(f){return r.reduce(function(s,l,n){return!f||f(l,n)?s+1:s},0)}e.count=c},3143:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0;var r=t(65212),c=t(5717),f=t(17214),s=t(19724);function l(n){return r.operate(function(o,i){var a=!1,u=null,d=null,v=function(){if(d?.unsubscribe(),d=null,a){a=!1;var p=u;u=null,i.next(p)}};o.subscribe(f.createOperatorSubscriber(i,function(p){d?.unsubscribe(),a=!0,u=p,d=f.createOperatorSubscriber(i,v,c.noop),s.innerFrom(n(p)).subscribe(d)},function(){v(),i.complete()},void 0,function(){u=d=null}))})}e.debounce=l},21762:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debounceTime=void 0;var r=t(62326),c=t(65212),f=t(17214);function s(l,n){return n===void 0&&(n=r.asyncScheduler),c.operate(function(o,i){var a=null,u=null,d=null,v=function(){if(a){a.unsubscribe(),a=null;var m=u;u=null,i.next(m)}};function p(){var m=d+l,P=n.now();if(P<m){a=this.schedule(void 0,m-P),i.add(a);return}v()}o.subscribe(f.createOperatorSubscriber(i,function(m){u=m,d=n.now(),a||(a=n.schedule(p,l),i.add(a))},function(){v(),i.complete()},void 0,function(){u=a=null}))})}e.debounceTime=s},58799:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultIfEmpty=void 0;var r=t(65212),c=t(17214);function f(s){return r.operate(function(l,n){var o=!1;l.subscribe(c.createOperatorSubscriber(n,function(i){o=!0,n.next(i)},function(){o||n.next(s),n.complete()}))})}e.defaultIfEmpty=f},5797:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0;var r=t(62326),c=t(72885),f=t(5825);function s(l,n){n===void 0&&(n=r.asyncScheduler);var o=f.timer(l,n);return c.delayWhen(function(){return o})}e.delay=s},72885:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delayWhen=void 0;var r=t(39546),c=t(54383),f=t(2959),s=t(13337),l=t(67478),n=t(19724);function o(i,a){return a?function(u){return r.concat(a.pipe(c.take(1),f.ignoreElements()),u.pipe(o(i)))}:l.mergeMap(function(u,d){return n.innerFrom(i(u,d)).pipe(c.take(1),s.mapTo(u))})}e.delayWhen=o},19818:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dematerialize=void 0;var r=t(31245),c=t(65212),f=t(17214);function s(){return c.operate(function(l,n){l.subscribe(f.createOperatorSubscriber(n,function(o){return r.observeNotification(o,n)}))})}e.dematerialize=s},77876:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=void 0;var r=t(65212),c=t(17214),f=t(5717),s=t(19724);function l(n,o){return r.operate(function(i,a){var u=new Set;i.subscribe(c.createOperatorSubscriber(a,function(d){var v=n?n(d):d;u.has(v)||(u.add(v),a.next(d))})),o&&s.innerFrom(o).subscribe(c.createOperatorSubscriber(a,function(){return u.clear()},f.noop))})}e.distinct=l},22044:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilChanged=void 0;var r=t(87699),c=t(65212),f=t(17214);function s(n,o){return o===void 0&&(o=r.identity),n=n??l,c.operate(function(i,a){var u,d=!0;i.subscribe(f.createOperatorSubscriber(a,function(v){var p=o(v);(d||!n(u,p))&&(d=!1,u=p,a.next(v))}))})}e.distinctUntilChanged=s;function l(n,o){return n===o}},76035:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilKeyChanged=void 0;var r=t(22044);function c(f,s){return r.distinctUntilChanged(function(l,n){return s?s(l[f],n[f]):l[f]===n[f]})}e.distinctUntilKeyChanged=c},61279:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.elementAt=void 0;var r=t(7024),c=t(85934),f=t(30632),s=t(58799),l=t(54383);function n(o,i){if(o<0)throw new r.ArgumentOutOfRangeError;var a=arguments.length>=2;return function(u){return u.pipe(c.filter(function(d,v){return v===o}),l.take(1),a?s.defaultIfEmpty(i):f.throwIfEmpty(function(){return new r.ArgumentOutOfRangeError}))}}e.elementAt=n},66791:function(z,e,t){"use strict";var r=this&&this.__read||function(n,o){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a=i.call(n),u,d=[],v;try{for(;(o===void 0||o-- >0)&&!(u=a.next()).done;)d.push(u.value)}catch(p){v={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(v)throw v.error}}return d},c=this&&this.__spreadArray||function(n,o){for(var i=0,a=o.length,u=n.length;i<a;i++,u++)n[u]=o[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.endWith=void 0;var f=t(39546),s=t(61587);function l(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return function(i){return f.concat(i,s.of.apply(void 0,c([],r(n))))}}e.endWith=l},21361:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.every=void 0;var r=t(65212),c=t(17214);function f(s,l){return r.operate(function(n,o){var i=0;n.subscribe(c.createOperatorSubscriber(o,function(a){s.call(l,a,i++,n)||(o.next(!1),o.complete())},function(){o.next(!0),o.complete()}))})}e.every=f},11464:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exhaust=void 0;var r=t(17977);e.exhaust=r.exhaustAll},17977:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustAll=void 0;var r=t(86632),c=t(87699);function f(){return r.exhaustMap(c.identity)}e.exhaustAll=f},86632:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustMap=void 0;var r=t(26872),c=t(19724),f=t(65212),s=t(17214);function l(n,o){return o?function(i){return i.pipe(l(function(a,u){return c.innerFrom(n(a,u)).pipe(r.map(function(d,v){return o(a,d,u,v)}))}))}:f.operate(function(i,a){var u=0,d=null,v=!1;i.subscribe(s.createOperatorSubscriber(a,function(p){d||(d=s.createOperatorSubscriber(a,void 0,function(){d=null,v&&a.complete()}),c.innerFrom(n(p,u++)).subscribe(d))},function(){v=!0,!d&&a.complete()}))})}e.exhaustMap=l},75544:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.expand=void 0;var r=t(65212),c=t(2574);function f(s,l,n){return l===void 0&&(l=1/0),l=(l||0)<1?1/0:l,r.operate(function(o,i){return c.mergeInternals(o,i,s,l,void 0,!0,n)})}e.expand=f},85934:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filter=void 0;var r=t(65212),c=t(17214);function f(s,l){return r.operate(function(n,o){var i=0;n.subscribe(c.createOperatorSubscriber(o,function(a){return s.call(l,a,i++)&&o.next(a)}))})}e.filter=f},17802:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.finalize=void 0;var r=t(65212);function c(f){return r.operate(function(s,l){try{s.subscribe(l)}finally{l.add(f)}})}e.finalize=c},98183:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFind=e.find=void 0;var r=t(65212),c=t(17214);function f(l,n){return r.operate(s(l,n,"value"))}e.find=f;function s(l,n,o){var i=o==="index";return function(a,u){var d=0;a.subscribe(c.createOperatorSubscriber(u,function(v){var p=d++;l.call(n,v,p,a)&&(u.next(i?p:v),u.complete())},function(){u.next(i?-1:void 0),u.complete()}))}}e.createFind=s},29035:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findIndex=void 0;var r=t(65212),c=t(98183);function f(s,l){return r.operate(c.createFind(s,l,"index"))}e.findIndex=f},19980:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.first=void 0;var r=t(59328),c=t(85934),f=t(54383),s=t(58799),l=t(30632),n=t(87699);function o(i,a){var u=arguments.length>=2;return function(d){return d.pipe(i?c.filter(function(v,p){return i(v,p,d)}):n.identity,f.take(1),u?s.defaultIfEmpty(a):l.throwIfEmpty(function(){return new r.EmptyError}))}}e.first=o},74613:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.flatMap=void 0;var r=t(67478);e.flatMap=r.mergeMap},5128:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.groupBy=void 0;var r=t(48051),c=t(19724),f=t(76808),s=t(65212),l=t(17214);function n(o,i,a,u){return s.operate(function(d,v){var p;!i||typeof i=="function"?p=i:(a=i.duration,p=i.element,u=i.connector);var m=new Map,P=function(B){m.forEach(B),B(v)},E=function(B){return P(function(G){return G.error(B)})},L=0,F=!1,j=new l.OperatorSubscriber(v,function(B){try{var G=o(B),K=m.get(G);if(!K){m.set(G,K=u?u():new f.Subject);var Y=D(G,K);if(v.next(Y),a){var $=l.createOperatorSubscriber(K,function(){K.complete(),$?.unsubscribe()},void 0,void 0,function(){return m.delete(G)});j.add(c.innerFrom(a(Y)).subscribe($))}}K.next(p?p(B):B)}catch(U){E(U)}},function(){return P(function(B){return B.complete()})},E,function(){return m.clear()},function(){return F=!0,L===0});d.subscribe(j);function D(B,G){var K=new r.Observable(function(Y){L++;var $=G.subscribe(Y);return function(){$.unsubscribe(),--L===0&&F&&j.unsubscribe()}});return K.key=B,K}})}e.groupBy=n},2959:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreElements=void 0;var r=t(65212),c=t(17214),f=t(5717);function s(){return r.operate(function(l,n){l.subscribe(c.createOperatorSubscriber(n,f.noop))})}e.ignoreElements=s},69915:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0;var r=t(65212),c=t(17214);function f(){return r.operate(function(s,l){s.subscribe(c.createOperatorSubscriber(l,function(){l.next(!1),l.complete()},function(){l.next(!0),l.complete()}))})}e.isEmpty=f},80719:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.joinAllInternals=void 0;var r=t(87699),c=t(13916),f=t(99517),s=t(67478),l=t(73484);function n(o,i){return f.pipe(l.toArray(),s.mergeMap(function(a){return o(a)}),i?c.mapOneOrManyArgs(i):r.identity)}e.joinAllInternals=n},32568:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.last=void 0;var r=t(59328),c=t(85934),f=t(65279),s=t(30632),l=t(58799),n=t(87699);function o(i,a){var u=arguments.length>=2;return function(d){return d.pipe(i?c.filter(function(v,p){return i(v,p,d)}):n.identity,f.takeLast(1),u?l.defaultIfEmpty(a):s.throwIfEmpty(function(){return new r.EmptyError}))}}e.last=o},26872:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.map=void 0;var r=t(65212),c=t(17214);function f(s,l){return r.operate(function(n,o){var i=0;n.subscribe(c.createOperatorSubscriber(o,function(a){o.next(s.call(l,a,i++))}))})}e.map=f},13337:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapTo=void 0;var r=t(26872);function c(f){return r.map(function(){return f})}e.mapTo=c},75019:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.materialize=void 0;var r=t(31245),c=t(65212),f=t(17214);function s(){return c.operate(function(l,n){l.subscribe(f.createOperatorSubscriber(n,function(o){n.next(r.Notification.createNext(o))},function(){n.next(r.Notification.createComplete()),n.complete()},function(o){n.next(r.Notification.createError(o)),n.complete()}))})}e.materialize=s},50096:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.max=void 0;var r=t(92070),c=t(10281);function f(s){return r.reduce(c.isFunction(s)?function(l,n){return s(l,n)>0?l:n}:function(l,n){return l>n?l:n})}e.max=f},9330:function(z,e,t){"use strict";var r=this&&this.__read||function(a,u){var d=typeof Symbol=="function"&&a[Symbol.iterator];if(!d)return a;var v=d.call(a),p,m=[],P;try{for(;(u===void 0||u-- >0)&&!(p=v.next()).done;)m.push(p.value)}catch(E){P={error:E}}finally{try{p&&!p.done&&(d=v.return)&&d.call(v)}finally{if(P)throw P.error}}return m},c=this&&this.__spreadArray||function(a,u){for(var d=0,v=u.length,p=a.length;d<v;d++,p++)a[p]=u[d];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var f=t(65212),s=t(7652),l=t(68087),n=t(26404),o=t(47058);function i(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var d=n.popScheduler(a),v=n.popNumber(a,1/0);return a=s.argsOrArgArray(a),f.operate(function(p,m){l.mergeAll(v)(o.from(c([p],r(a)),d)).subscribe(m)})}e.merge=i},68087:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=void 0;var r=t(67478),c=t(87699);function f(s){return s===void 0&&(s=1/0),r.mergeMap(c.identity,s)}e.mergeAll=f},2574:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeInternals=void 0;var r=t(19724),c=t(28619),f=t(17214);function s(l,n,o,i,a,u,d,v){var p=[],m=0,P=0,E=!1,L=function(){E&&!p.length&&!m&&n.complete()},F=function(D){return m<i?j(D):p.push(D)},j=function(D){u&&n.next(D),m++;var B=!1;r.innerFrom(o(D,P++)).subscribe(f.createOperatorSubscriber(n,function(G){a?.(G),u?F(G):n.next(G)},function(){B=!0},void 0,function(){if(B)try{m--;for(var G=function(){var K=p.shift();d?c.executeSchedule(n,d,function(){return j(K)}):j(K)};p.length&&m<i;)G();L()}catch(K){n.error(K)}}))};return l.subscribe(f.createOperatorSubscriber(n,F,function(){E=!0,L()})),function(){v?.()}}e.mergeInternals=s},67478:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMap=void 0;var r=t(26872),c=t(19724),f=t(65212),s=t(2574),l=t(10281);function n(o,i,a){return a===void 0&&(a=1/0),l.isFunction(i)?n(function(u,d){return r.map(function(v,p){return i(u,v,d,p)})(c.innerFrom(o(u,d)))},a):(typeof i=="number"&&(a=i),f.operate(function(u,d){return s.mergeInternals(u,d,o,a)}))}e.mergeMap=n},76075:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMapTo=void 0;var r=t(67478),c=t(10281);function f(s,l,n){return n===void 0&&(n=1/0),c.isFunction(l)?r.mergeMap(function(){return s},l,n):(typeof l=="number"&&(n=l),r.mergeMap(function(){return s},n))}e.mergeMapTo=f},16707:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeScan=void 0;var r=t(65212),c=t(2574);function f(s,l,n){return n===void 0&&(n=1/0),r.operate(function(o,i){var a=l;return c.mergeInternals(o,i,function(u,d){return s(a,u,d)},n,function(u){a=u},!1,void 0,function(){return a=null})})}e.mergeScan=f},79694:function(z,e,t){"use strict";var r=this&&this.__read||function(l,n){var o=typeof Symbol=="function"&&l[Symbol.iterator];if(!o)return l;var i=o.call(l),a,u=[],d;try{for(;(n===void 0||n-- >0)&&!(a=i.next()).done;)u.push(a.value)}catch(v){d={error:v}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(d)throw d.error}}return u},c=this&&this.__spreadArray||function(l,n){for(var o=0,i=n.length,a=l.length;o<i;o++,a++)l[a]=n[o];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.mergeWith=void 0;var f=t(9330);function s(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return f.merge.apply(void 0,c([],r(l)))}e.mergeWith=s},80142:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.min=void 0;var r=t(92070),c=t(10281);function f(s){return r.reduce(c.isFunction(s)?function(l,n){return s(l,n)<0?l:n}:function(l,n){return l<n?l:n})}e.min=f},18464:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multicast=void 0;var r=t(14359),c=t(10281),f=t(17812);function s(l,n){var o=c.isFunction(l)?l:function(){return l};return c.isFunction(n)?f.connect(n,{connector:o}):function(i){return new r.ConnectableObservable(i,o)}}e.multicast=s},32071:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observeOn=void 0;var r=t(28619),c=t(65212),f=t(17214);function s(l,n){return n===void 0&&(n=0),c.operate(function(o,i){o.subscribe(f.createOperatorSubscriber(i,function(a){return r.executeSchedule(i,l,function(){return i.next(a)},n)},function(){return r.executeSchedule(i,l,function(){return i.complete()},n)},function(a){return r.executeSchedule(i,l,function(){return i.error(a)},n)}))})}e.observeOn=s},95513:function(z,e,t){"use strict";var r=this&&this.__read||function(n,o){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a=i.call(n),u,d=[],v;try{for(;(o===void 0||o-- >0)&&!(u=a.next()).done;)d.push(u.value)}catch(p){v={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(v)throw v.error}}return d},c=this&&this.__spreadArray||function(n,o){for(var i=0,a=o.length,u=n.length;i<a;i++,u++)n[u]=o[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=e.onErrorResumeNextWith=void 0;var f=t(7652),s=t(1903);function l(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=f.argsOrArgArray(n);return function(a){return s.onErrorResumeNext.apply(void 0,c([a],r(i)))}}e.onErrorResumeNextWith=l,e.onErrorResumeNext=l},26744:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pairwise=void 0;var r=t(65212),c=t(17214);function f(){return r.operate(function(s,l){var n,o=!1;s.subscribe(c.createOperatorSubscriber(l,function(i){var a=n;n=i,o&&l.next([a,i]),o=!0}))})}e.pairwise=f},99516:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var r=t(14120),c=t(85934);function f(s,l){return function(n){return[c.filter(s,l)(n),c.filter(r.not(s,l))(n)]}}e.partition=f},66355:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pluck=void 0;var r=t(26872);function c(){for(var f=[],s=0;s<arguments.length;s++)f[s]=arguments[s];var l=f.length;if(l===0)throw new Error("list of properties cannot be empty.");return r.map(function(n){for(var o=n,i=0;i<l;i++){var a=o?.[f[i]];if(typeof a<"u")o=a;else return}return o})}e.pluck=c},53197:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.publish=void 0;var r=t(76808),c=t(18464),f=t(17812);function s(l){return l?function(n){return f.connect(l)(n)}:function(n){return c.multicast(new r.Subject)(n)}}e.publish=s},82955:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.publishBehavior=void 0;var r=t(97314),c=t(14359);function f(s){return function(l){var n=new r.BehaviorSubject(s);return new c.ConnectableObservable(l,function(){return n})}}e.publishBehavior=f},26569:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.publishLast=void 0;var r=t(5130),c=t(14359);function f(){return function(s){var l=new r.AsyncSubject;return new c.ConnectableObservable(s,function(){return l})}}e.publishLast=f},68710:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.publishReplay=void 0;var r=t(10381),c=t(18464),f=t(10281);function s(l,n,o,i){o&&!f.isFunction(o)&&(i=o);var a=f.isFunction(o)?o:void 0;return function(u){return c.multicast(new r.ReplaySubject(l,n,i),a)(u)}}e.publishReplay=s},86081:function(z,e,t){"use strict";var r=this&&this.__read||function(n,o){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a=i.call(n),u,d=[],v;try{for(;(o===void 0||o-- >0)&&!(u=a.next()).done;)d.push(u.value)}catch(p){v={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(v)throw v.error}}return d},c=this&&this.__spreadArray||function(n,o){for(var i=0,a=o.length,u=n.length;i<a;i++,u++)n[u]=o[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.race=void 0;var f=t(7652),s=t(6677);function l(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return s.raceWith.apply(void 0,c([],r(f.argsOrArgArray(n))))}e.race=l},6677:function(z,e,t){"use strict";var r=this&&this.__read||function(o,i){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var u=a.call(o),d,v=[],p;try{for(;(i===void 0||i-- >0)&&!(d=u.next()).done;)v.push(d.value)}catch(m){p={error:m}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(p)throw p.error}}return v},c=this&&this.__spreadArray||function(o,i){for(var a=0,u=i.length,d=o.length;a<u;a++,d++)o[d]=i[a];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.raceWith=void 0;var f=t(89795),s=t(65212),l=t(87699);function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return o.length?s.operate(function(a,u){f.raceInit(c([a],r(o)))(u)}):l.identity}e.raceWith=n},92070:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reduce=void 0;var r=t(78531),c=t(65212);function f(s,l){return c.operate(r.scanInternals(s,l,arguments.length>=2,!1,!0))}e.reduce=f},79224:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refCount=void 0;var r=t(65212),c=t(17214);function f(){return r.operate(function(s,l){var n=null;s._refCount++;var o=c.createOperatorSubscriber(l,void 0,void 0,void 0,function(){if(!s||s._refCount<=0||0<--s._refCount){n=null;return}var i=s._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),l.unsubscribe()});s.subscribe(o),o.closed||(n=s.connect())})}e.refCount=f},56131:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.repeat=void 0;var r=t(44885),c=t(65212),f=t(17214),s=t(19724),l=t(5825);function n(o){var i,a=1/0,u;return o!=null&&(typeof o=="object"?(i=o.count,a=i===void 0?1/0:i,u=o.delay):a=o),a<=0?function(){return r.EMPTY}:c.operate(function(d,v){var p=0,m,P=function(){if(m?.unsubscribe(),m=null,u!=null){var L=typeof u=="number"?l.timer(u):s.innerFrom(u(p)),F=f.createOperatorSubscriber(v,function(){F.unsubscribe(),E()});L.subscribe(F)}else E()},E=function(){var L=!1;m=d.subscribe(f.createOperatorSubscriber(v,void 0,function(){++p<a?m?P():L=!0:v.complete()})),L&&P()};E()})}e.repeat=n},82139:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.repeatWhen=void 0;var r=t(19724),c=t(76808),f=t(65212),s=t(17214);function l(n){return f.operate(function(o,i){var a,u=!1,d,v=!1,p=!1,m=function(){return p&&v&&(i.complete(),!0)},P=function(){return d||(d=new c.Subject,r.innerFrom(n(d)).subscribe(s.createOperatorSubscriber(i,function(){a?E():u=!0},function(){v=!0,m()}))),d},E=function(){p=!1,a=o.subscribe(s.createOperatorSubscriber(i,void 0,function(){p=!0,!m()&&P().next()})),u&&(a.unsubscribe(),a=null,u=!1,E())};E()})}e.repeatWhen=l},3352:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.retry=void 0;var r=t(65212),c=t(17214),f=t(87699),s=t(5825),l=t(19724);function n(o){o===void 0&&(o=1/0);var i;o&&typeof o=="object"?i=o:i={count:o};var a=i.count,u=a===void 0?1/0:a,d=i.delay,v=i.resetOnSuccess,p=v===void 0?!1:v;return u<=0?f.identity:r.operate(function(m,P){var E=0,L,F=function(){var j=!1;L=m.subscribe(c.createOperatorSubscriber(P,function(D){p&&(E=0),P.next(D)},void 0,function(D){if(E++<u){var B=function(){L?(L.unsubscribe(),L=null,F()):j=!0};if(d!=null){var G=typeof d=="number"?s.timer(d):l.innerFrom(d(D,E)),K=c.createOperatorSubscriber(P,function(){K.unsubscribe(),B()},function(){P.complete()});G.subscribe(K)}else B()}else P.error(D)})),j&&(L.unsubscribe(),L=null,F())};F()})}e.retry=n},73956:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.retryWhen=void 0;var r=t(19724),c=t(76808),f=t(65212),s=t(17214);function l(n){return f.operate(function(o,i){var a,u=!1,d,v=function(){a=o.subscribe(s.createOperatorSubscriber(i,void 0,void 0,function(p){d||(d=new c.Subject,r.innerFrom(n(d)).subscribe(s.createOperatorSubscriber(i,function(){return a?v():u=!0}))),d&&d.next(p)})),u&&(a.unsubscribe(),a=null,u=!1,v())};v()})}e.retryWhen=l},43434:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sample=void 0;var r=t(19724),c=t(65212),f=t(5717),s=t(17214);function l(n){return c.operate(function(o,i){var a=!1,u=null;o.subscribe(s.createOperatorSubscriber(i,function(d){a=!0,u=d})),r.innerFrom(n).subscribe(s.createOperatorSubscriber(i,function(){if(a){a=!1;var d=u;u=null,i.next(d)}},f.noop))})}e.sample=l},44143:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sampleTime=void 0;var r=t(62326),c=t(43434),f=t(62275);function s(l,n){return n===void 0&&(n=r.asyncScheduler),c.sample(f.interval(l,n))}e.sampleTime=s},35565:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scan=void 0;var r=t(65212),c=t(78531);function f(s,l){return r.operate(c.scanInternals(s,l,arguments.length>=2,!0))}e.scan=f},78531:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scanInternals=void 0;var r=t(17214);function c(f,s,l,n,o){return function(i,a){var u=l,d=s,v=0;i.subscribe(r.createOperatorSubscriber(a,function(p){var m=v++;d=u?f(d,p,m):(u=!0,p),n&&a.next(d)},o&&function(){u&&a.next(d),a.complete()}))}}e.scanInternals=c},73929:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sequenceEqual=void 0;var r=t(65212),c=t(17214),f=t(19724);function s(n,o){return o===void 0&&(o=function(i,a){return i===a}),r.operate(function(i,a){var u=l(),d=l(),v=function(m){a.next(m),a.complete()},p=function(m,P){var E=c.createOperatorSubscriber(a,function(L){var F=P.buffer,j=P.complete;F.length===0?j?v(!1):m.buffer.push(L):!o(L,F.shift())&&v(!1)},function(){m.complete=!0;var L=P.complete,F=P.buffer;L&&v(F.length===0),E?.unsubscribe()});return E};i.subscribe(p(u,d)),f.innerFrom(n).subscribe(p(d,u))})}e.sequenceEqual=s;function l(){return{buffer:[],complete:!1}}},93405:function(z,e,t){"use strict";var r=this&&this.__read||function(a,u){var d=typeof Symbol=="function"&&a[Symbol.iterator];if(!d)return a;var v=d.call(a),p,m=[],P;try{for(;(u===void 0||u-- >0)&&!(p=v.next()).done;)m.push(p.value)}catch(E){P={error:E}}finally{try{p&&!p.done&&(d=v.return)&&d.call(v)}finally{if(P)throw P.error}}return m},c=this&&this.__spreadArray||function(a,u){for(var d=0,v=u.length,p=a.length;d<v;d++,p++)a[p]=u[d];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.share=void 0;var f=t(19724),s=t(76808),l=t(2708),n=t(65212);function o(a){a===void 0&&(a={});var u=a.connector,d=u===void 0?function(){return new s.Subject}:u,v=a.resetOnError,p=v===void 0?!0:v,m=a.resetOnComplete,P=m===void 0?!0:m,E=a.resetOnRefCountZero,L=E===void 0?!0:E;return function(F){var j,D,B,G=0,K=!1,Y=!1,$=function(){D?.unsubscribe(),D=void 0},U=function(){$(),j=B=void 0,K=Y=!1},M=function(){var C=j;U(),C?.unsubscribe()};return n.operate(function(C,y){G++,!Y&&!K&&$();var b=B=B??d();y.add(function(){G--,G===0&&!Y&&!K&&(D=i(M,L))}),b.subscribe(y),!j&&G>0&&(j=new l.SafeSubscriber({next:function(T){return b.next(T)},error:function(T){Y=!0,$(),D=i(U,p,T),b.error(T)},complete:function(){K=!0,$(),D=i(U,P),b.complete()}}),f.innerFrom(C).subscribe(j))})(F)}}e.share=o;function i(a,u){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];if(u===!0){a();return}if(u!==!1){var p=new l.SafeSubscriber({next:function(){p.unsubscribe(),a()}});return f.innerFrom(u.apply(void 0,c([],r(d)))).subscribe(p)}}},17782:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shareReplay=void 0;var r=t(10381),c=t(93405);function f(s,l,n){var o,i,a,u,d=!1;return s&&typeof s=="object"?(o=s.bufferSize,u=o===void 0?1/0:o,i=s.windowTime,l=i===void 0?1/0:i,a=s.refCount,d=a===void 0?!1:a,n=s.scheduler):u=s??1/0,c.share({connector:function(){return new r.ReplaySubject(u,l,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}e.shareReplay=f},55440:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.single=void 0;var r=t(59328),c=t(94708),f=t(23506),s=t(65212),l=t(17214);function n(o){return s.operate(function(i,a){var u=!1,d,v=!1,p=0;i.subscribe(l.createOperatorSubscriber(a,function(m){v=!0,(!o||o(m,p++,i))&&(u&&a.error(new c.SequenceError("Too many matching values")),u=!0,d=m)},function(){u?(a.next(d),a.complete()):a.error(v?new f.NotFoundError("No matching values"):new r.EmptyError)}))})}e.single=n},23079:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.skip=void 0;var r=t(85934);function c(f){return r.filter(function(s,l){return f<=l})}e.skip=c},92359:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.skipLast=void 0;var r=t(87699),c=t(65212),f=t(17214);function s(l){return l<=0?r.identity:c.operate(function(n,o){var i=new Array(l),a=0;return n.subscribe(f.createOperatorSubscriber(o,function(u){var d=a++;if(d<l)i[d]=u;else{var v=d%l,p=i[v];i[v]=u,o.next(p)}})),function(){i=null}})}e.skipLast=s},20164:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.skipUntil=void 0;var r=t(65212),c=t(17214),f=t(19724),s=t(5717);function l(n){return r.operate(function(o,i){var a=!1,u=c.createOperatorSubscriber(i,function(){u?.unsubscribe(),a=!0},s.noop);f.innerFrom(n).subscribe(u),o.subscribe(c.createOperatorSubscriber(i,function(d){return a&&i.next(d)}))})}e.skipUntil=l},65774:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.skipWhile=void 0;var r=t(65212),c=t(17214);function f(s){return r.operate(function(l,n){var o=!1,i=0;l.subscribe(c.createOperatorSubscriber(n,function(a){return(o||(o=!s(a,i++)))&&n.next(a)}))})}e.skipWhile=f},99054:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startWith=void 0;var r=t(39546),c=t(26404),f=t(65212);function s(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];var o=c.popScheduler(l);return f.operate(function(i,a){(o?r.concat(l,i,o):r.concat(l,i)).subscribe(a)})}e.startWith=s},5455:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeOn=void 0;var r=t(65212);function c(f,s){return s===void 0&&(s=0),r.operate(function(l,n){n.add(f.schedule(function(){return l.subscribe(n)},s))})}e.subscribeOn=c},16201:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.switchAll=void 0;var r=t(90680),c=t(87699);function f(){return r.switchMap(c.identity)}e.switchAll=f},90680:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.switchMap=void 0;var r=t(19724),c=t(65212),f=t(17214);function s(l,n){return c.operate(function(o,i){var a=null,u=0,d=!1,v=function(){return d&&!a&&i.complete()};o.subscribe(f.createOperatorSubscriber(i,function(p){a?.unsubscribe();var m=0,P=u++;r.innerFrom(l(p,P)).subscribe(a=f.createOperatorSubscriber(i,function(E){return i.next(n?n(p,E,P,m++):E)},function(){a=null,v()}))},function(){d=!0,v()}))})}e.switchMap=s},761:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.switchMapTo=void 0;var r=t(90680),c=t(10281);function f(s,l){return c.isFunction(l)?r.switchMap(function(){return s},l):r.switchMap(function(){return s})}e.switchMapTo=f},48461:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.switchScan=void 0;var r=t(90680),c=t(65212);function f(s,l){return c.operate(function(n,o){var i=l;return r.switchMap(function(a,u){return s(i,a,u)},function(a,u){return i=u,u})(n).subscribe(o),function(){i=null}})}e.switchScan=f},54383:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.take=void 0;var r=t(44885),c=t(65212),f=t(17214);function s(l){return l<=0?function(){return r.EMPTY}:c.operate(function(n,o){var i=0;n.subscribe(f.createOperatorSubscriber(o,function(a){++i<=l&&(o.next(a),l<=i&&o.complete())}))})}e.take=s},65279:function(z,e,t){"use strict";var r=this&&this.__values||function(n){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&n[o],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.takeLast=void 0;var c=t(44885),f=t(65212),s=t(17214);function l(n){return n<=0?function(){return c.EMPTY}:f.operate(function(o,i){var a=[];o.subscribe(s.createOperatorSubscriber(i,function(u){a.push(u),n<a.length&&a.shift()},function(){var u,d;try{for(var v=r(a),p=v.next();!p.done;p=v.next()){var m=p.value;i.next(m)}}catch(P){u={error:P}}finally{try{p&&!p.done&&(d=v.return)&&d.call(v)}finally{if(u)throw u.error}}i.complete()},void 0,function(){a=null}))})}e.takeLast=l},66911:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.takeUntil=void 0;var r=t(65212),c=t(17214),f=t(19724),s=t(5717);function l(n){return r.operate(function(o,i){f.innerFrom(n).subscribe(c.createOperatorSubscriber(i,function(){return i.complete()},s.noop)),!i.closed&&o.subscribe(i)})}e.takeUntil=l},60598:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.takeWhile=void 0;var r=t(65212),c=t(17214);function f(s,l){return l===void 0&&(l=!1),r.operate(function(n,o){var i=0;n.subscribe(c.createOperatorSubscriber(o,function(a){var u=s(a,i++);(u||l)&&o.next(a),!u&&o.complete()}))})}e.takeWhile=f},15019:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tap=void 0;var r=t(10281),c=t(65212),f=t(17214),s=t(87699);function l(n,o,i){var a=r.isFunction(n)||o||i?{next:n,error:o,complete:i}:n;return a?c.operate(function(u,d){var v;(v=a.subscribe)===null||v===void 0||v.call(a);var p=!0;u.subscribe(f.createOperatorSubscriber(d,function(m){var P;(P=a.next)===null||P===void 0||P.call(a,m),d.next(m)},function(){var m;p=!1,(m=a.complete)===null||m===void 0||m.call(a),d.complete()},function(m){var P;p=!1,(P=a.error)===null||P===void 0||P.call(a,m),d.error(m)},function(){var m,P;p&&((m=a.unsubscribe)===null||m===void 0||m.call(a)),(P=a.finalize)===null||P===void 0||P.call(a)}))}):s.identity}e.tap=l},44880:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=void 0;var r=t(65212),c=t(17214),f=t(19724);function s(l,n){return r.operate(function(o,i){var a=n??{},u=a.leading,d=u===void 0?!0:u,v=a.trailing,p=v===void 0?!1:v,m=!1,P=null,E=null,L=!1,F=function(){E?.unsubscribe(),E=null,p&&(B(),L&&i.complete())},j=function(){E=null,L&&i.complete()},D=function(G){return E=f.innerFrom(l(G)).subscribe(c.createOperatorSubscriber(i,F,j))},B=function(){if(m){m=!1;var G=P;P=null,i.next(G),!L&&D(G)}};o.subscribe(c.createOperatorSubscriber(i,function(G){m=!0,P=G,!(E&&!E.closed)&&(d?B():D(G))},function(){L=!0,!(p&&m&&E&&!E.closed)&&i.complete()}))})}e.throttle=s},7245:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttleTime=void 0;var r=t(62326),c=t(44880),f=t(5825);function s(l,n,o){n===void 0&&(n=r.asyncScheduler);var i=f.timer(l,n);return c.throttle(function(){return i},o)}e.throttleTime=s},30632:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throwIfEmpty=void 0;var r=t(59328),c=t(65212),f=t(17214);function s(n){return n===void 0&&(n=l),c.operate(function(o,i){var a=!1;o.subscribe(f.createOperatorSubscriber(i,function(u){a=!0,i.next(u)},function(){return a?i.complete():i.error(n())}))})}e.throwIfEmpty=s;function l(){return new r.EmptyError}},32508:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeInterval=e.timeInterval=void 0;var r=t(62326),c=t(65212),f=t(17214);function s(n){return n===void 0&&(n=r.asyncScheduler),c.operate(function(o,i){var a=n.now();o.subscribe(f.createOperatorSubscriber(i,function(u){var d=n.now(),v=d-a;a=d,i.next(new l(u,v))}))})}e.timeInterval=s;var l=function(){function n(o,i){this.value=o,this.interval=i}return n}();e.TimeInterval=l},81713:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var r=t(62326),c=t(85345),f=t(65212),s=t(19724),l=t(9619),n=t(17214),o=t(28619);e.TimeoutError=l.createErrorClass(function(u){return function(v){v===void 0&&(v=null),u(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=v}});function i(u,d){var v=c.isValidDate(u)?{first:u}:typeof u=="number"?{each:u}:u,p=v.first,m=v.each,P=v.with,E=P===void 0?a:P,L=v.scheduler,F=L===void 0?d??r.asyncScheduler:L,j=v.meta,D=j===void 0?null:j;if(p==null&&m==null)throw new TypeError("No timeout provided.");return f.operate(function(B,G){var K,Y,$=null,U=0,M=function(C){Y=o.executeSchedule(G,F,function(){try{K.unsubscribe(),s.innerFrom(E({meta:D,lastValue:$,seen:U})).subscribe(G)}catch(y){G.error(y)}},C)};K=B.subscribe(n.createOperatorSubscriber(G,function(C){Y?.unsubscribe(),U++,G.next($=C),m>0&&M(m)},void 0,void 0,function(){Y?.closed||Y?.unsubscribe(),$=null})),!U&&M(p!=null?typeof p=="number"?p:+p-F.now():m)})}e.timeout=i;function a(u){throw new e.TimeoutError(u)}},72978:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutWith=void 0;var r=t(62326),c=t(85345),f=t(81713);function s(l,n,o){var i,a,u;if(o=o??r.async,c.isValidDate(l)?i=l:typeof l=="number"&&(a=l),n)u=function(){return n};else throw new TypeError("No observable provided to switch to");if(i==null&&a==null)throw new TypeError("No timeout provided.");return f.timeout({first:i,each:a,scheduler:o,with:u})}e.timeoutWith=s},53866:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timestamp=void 0;var r=t(93275),c=t(26872);function f(s){return s===void 0&&(s=r.dateTimestampProvider),c.map(function(l){return{value:l,timestamp:s.now()}})}e.timestamp=f},73484:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toArray=void 0;var r=t(92070),c=t(65212),f=function(l,n){return l.push(n),l};function s(){return c.operate(function(l,n){r.reduce(f,[])(l).subscribe(n)})}e.toArray=s},78072:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.window=void 0;var r=t(76808),c=t(65212),f=t(17214),s=t(5717),l=t(19724);function n(o){return c.operate(function(i,a){var u=new r.Subject;a.next(u.asObservable());var d=function(v){u.error(v),a.error(v)};return i.subscribe(f.createOperatorSubscriber(a,function(v){return u?.next(v)},function(){u.complete(),a.complete()},d)),l.innerFrom(o).subscribe(f.createOperatorSubscriber(a,function(){u.complete(),a.next(u=new r.Subject)},s.noop,d)),function(){u?.unsubscribe(),u=null}})}e.window=n},62893:function(z,e,t){"use strict";var r=this&&this.__values||function(n){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&n[o],a=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowCount=void 0;var c=t(76808),f=t(65212),s=t(17214);function l(n,o){o===void 0&&(o=0);var i=o>0?o:n;return f.operate(function(a,u){var d=[new c.Subject],v=[],p=0;u.next(d[0].asObservable()),a.subscribe(s.createOperatorSubscriber(u,function(m){var P,E;try{for(var L=r(d),F=L.next();!F.done;F=L.next()){var j=F.value;j.next(m)}}catch(G){P={error:G}}finally{try{F&&!F.done&&(E=L.return)&&E.call(L)}finally{if(P)throw P.error}}var D=p-n+1;if(D>=0&&D%i===0&&d.shift().complete(),++p%i===0){var B=new c.Subject;d.push(B),u.next(B.asObservable())}},function(){for(;d.length>0;)d.shift().complete();u.complete()},function(m){for(;d.length>0;)d.shift().error(m);u.error(m)},function(){v=null,d=null}))})}e.windowCount=l},90037:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.windowTime=void 0;var r=t(76808),c=t(62326),f=t(69879),s=t(65212),l=t(17214),n=t(54830),o=t(26404),i=t(28619);function a(u){for(var d,v,p=[],m=1;m<arguments.length;m++)p[m-1]=arguments[m];var P=(d=o.popScheduler(p))!==null&&d!==void 0?d:c.asyncScheduler,E=(v=p[0])!==null&&v!==void 0?v:null,L=p[1]||1/0;return s.operate(function(F,j){var D=[],B=!1,G=function(U){var M=U.window,C=U.subs;M.complete(),C.unsubscribe(),n.arrRemove(D,U),B&&K()},K=function(){if(D){var U=new f.Subscription;j.add(U);var M=new r.Subject,C={window:M,subs:U,seen:0};D.push(C),j.next(M.asObservable()),i.executeSchedule(U,P,function(){return G(C)},u)}};E!==null&&E>=0?i.executeSchedule(j,P,K,E,!0):B=!0,K();var Y=function(U){return D.slice().forEach(U)},$=function(U){Y(function(M){var C=M.window;return U(C)}),U(j),j.unsubscribe()};return F.subscribe(l.createOperatorSubscriber(j,function(U){Y(function(M){M.window.next(U),L<=++M.seen&&G(M)})},function(){return $(function(U){return U.complete()})},function(U){return $(function(M){return M.error(U)})})),function(){D=null}})}e.windowTime=a},28996:function(z,e,t){"use strict";var r=this&&this.__values||function(u){var d=typeof Symbol=="function"&&Symbol.iterator,v=d&&u[d],p=0;if(v)return v.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&p>=u.length&&(u=void 0),{value:u&&u[p++],done:!u}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowToggle=void 0;var c=t(76808),f=t(69879),s=t(65212),l=t(19724),n=t(17214),o=t(5717),i=t(54830);function a(u,d){return s.operate(function(v,p){var m=[],P=function(E){for(;0<m.length;)m.shift().error(E);p.error(E)};l.innerFrom(u).subscribe(n.createOperatorSubscriber(p,function(E){var L=new c.Subject;m.push(L);var F=new f.Subscription,j=function(){i.arrRemove(m,L),L.complete(),F.unsubscribe()},D;try{D=l.innerFrom(d(E))}catch(B){P(B);return}p.next(L.asObservable()),F.add(D.subscribe(n.createOperatorSubscriber(p,j,o.noop,P)))},o.noop)),v.subscribe(n.createOperatorSubscriber(p,function(E){var L,F,j=m.slice();try{for(var D=r(j),B=D.next();!B.done;B=D.next()){var G=B.value;G.next(E)}}catch(K){L={error:K}}finally{try{B&&!B.done&&(F=D.return)&&F.call(D)}finally{if(L)throw L.error}}},function(){for(;0<m.length;)m.shift().complete();p.complete()},P,function(){for(;0<m.length;)m.shift().unsubscribe()}))})}e.windowToggle=a},65156:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.windowWhen=void 0;var r=t(76808),c=t(65212),f=t(17214),s=t(19724);function l(n){return c.operate(function(o,i){var a,u,d=function(p){a.error(p),i.error(p)},v=function(){u?.unsubscribe(),a?.complete(),a=new r.Subject,i.next(a.asObservable());var p;try{p=s.innerFrom(n())}catch(m){d(m);return}p.subscribe(u=f.createOperatorSubscriber(i,v,v,d))};v(),o.subscribe(f.createOperatorSubscriber(i,function(p){return a.next(p)},function(){a.complete(),i.complete()},d,function(){u?.unsubscribe(),a=null}))})}e.windowWhen=l},66975:function(z,e,t){"use strict";var r=this&&this.__read||function(u,d){var v=typeof Symbol=="function"&&u[Symbol.iterator];if(!v)return u;var p=v.call(u),m,P=[],E;try{for(;(d===void 0||d-- >0)&&!(m=p.next()).done;)P.push(m.value)}catch(L){E={error:L}}finally{try{m&&!m.done&&(v=p.return)&&v.call(p)}finally{if(E)throw E.error}}return P},c=this&&this.__spreadArray||function(u,d){for(var v=0,p=d.length,m=u.length;v<p;v++,m++)u[m]=d[v];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.withLatestFrom=void 0;var f=t(65212),s=t(17214),l=t(19724),n=t(87699),o=t(5717),i=t(26404);function a(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var v=i.popResultSelector(u);return f.operate(function(p,m){for(var P=u.length,E=new Array(P),L=u.map(function(){return!1}),F=!1,j=function(B){l.innerFrom(u[B]).subscribe(s.createOperatorSubscriber(m,function(G){E[B]=G,!F&&!L[B]&&(L[B]=!0,(F=L.every(n.identity))&&(L=null))},o.noop))},D=0;D<P;D++)j(D);p.subscribe(s.createOperatorSubscriber(m,function(B){if(F){var G=c([B],r(E));m.next(v?v.apply(void 0,c([],r(G))):G)}}))})}e.withLatestFrom=a},26749:function(z,e,t){"use strict";var r=this&&this.__read||function(n,o){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a=i.call(n),u,d=[],v;try{for(;(o===void 0||o-- >0)&&!(u=a.next()).done;)d.push(u.value)}catch(p){v={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(v)throw v.error}}return d},c=this&&this.__spreadArray||function(n,o){for(var i=0,a=o.length,u=n.length;i<a;i++,u++)n[u]=o[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var f=t(11415),s=t(65212);function l(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return s.operate(function(i,a){f.zip.apply(void 0,c([i],r(n))).subscribe(a)})}e.zip=l},5362:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.zipAll=void 0;var r=t(11415),c=t(80719);function f(s){return c.joinAllInternals(r.zip,s)}e.zipAll=f},36977:function(z,e,t){"use strict";var r=this&&this.__read||function(l,n){var o=typeof Symbol=="function"&&l[Symbol.iterator];if(!o)return l;var i=o.call(l),a,u=[],d;try{for(;(n===void 0||n-- >0)&&!(a=i.next()).done;)u.push(a.value)}catch(v){d={error:v}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(d)throw d.error}}return u},c=this&&this.__spreadArray||function(l,n){for(var o=0,i=n.length,a=l.length;o<i;o++,a++)l[a]=n[o];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.zipWith=void 0;var f=t(26749);function s(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return f.zip.apply(void 0,c([],r(l)))}e.zipWith=s},12569:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleArray=void 0;var r=t(48051);function c(f,s){return new r.Observable(function(l){var n=0;return s.schedule(function(){n===f.length?l.complete():(l.next(f[n++]),l.closed||this.schedule())})})}e.scheduleArray=c},17873:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleAsyncIterable=void 0;var r=t(48051),c=t(28619);function f(s,l){if(!s)throw new Error("Iterable cannot be null");return new r.Observable(function(n){c.executeSchedule(n,l,function(){var o=s[Symbol.asyncIterator]();c.executeSchedule(n,l,function(){o.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}e.scheduleAsyncIterable=f},36805:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleIterable=void 0;var r=t(48051),c=t(34891),f=t(10281),s=t(28619);function l(n,o){return new r.Observable(function(i){var a;return s.executeSchedule(i,o,function(){a=n[c.iterator](),s.executeSchedule(i,o,function(){var u,d,v;try{u=a.next(),d=u.value,v=u.done}catch(p){i.error(p);return}v?i.complete():i.next(d)},0,!0)}),function(){return f.isFunction(a?.return)&&a.return()}})}e.scheduleIterable=l},65650:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleObservable=void 0;var r=t(19724),c=t(32071),f=t(5455);function s(l,n){return r.innerFrom(l).pipe(f.subscribeOn(n),c.observeOn(n))}e.scheduleObservable=s},54530:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.schedulePromise=void 0;var r=t(19724),c=t(32071),f=t(5455);function s(l,n){return r.innerFrom(l).pipe(f.subscribeOn(n),c.observeOn(n))}e.schedulePromise=s},30380:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleReadableStreamLike=void 0;var r=t(17873),c=t(95462);function f(s,l){return r.scheduleAsyncIterable(c.readableStreamLikeToAsyncGenerator(s),l)}e.scheduleReadableStreamLike=f},30131:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scheduled=void 0;var r=t(65650),c=t(54530),f=t(12569),s=t(36805),l=t(17873),n=t(80629),o=t(67552),i=t(94975),a=t(12187),u=t(78263),d=t(86297),v=t(95462),p=t(30380);function m(P,E){if(P!=null){if(n.isInteropObservable(P))return r.scheduleObservable(P,E);if(i.isArrayLike(P))return f.scheduleArray(P,E);if(o.isPromise(P))return c.schedulePromise(P,E);if(u.isAsyncIterable(P))return l.scheduleAsyncIterable(P,E);if(a.isIterable(P))return s.scheduleIterable(P,E);if(v.isReadableStreamLike(P))return p.scheduleReadableStreamLike(P,E)}throw d.createInvalidObservableTypeError(P)}e.scheduled=m},71666:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var s=function(l,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},s(l,n)};return function(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(l,n);function o(){this.constructor=l}l.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0;var c=t(69879),f=function(s){r(l,s);function l(n,o){return s.call(this)||this}return l.prototype.schedule=function(n,o){return o===void 0&&(o=0),this},l}(c.Subscription);e.Action=f},6757:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var l=function(n,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},l(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");l(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameAction=void 0;var c=t(64772),f=t(35726),s=function(l){r(n,l);function n(o,i){var a=l.call(this,o,i)||this;return a.scheduler=o,a.work=i,a}return n.prototype.requestAsyncId=function(o,i,a){return a===void 0&&(a=0),a!==null&&a>0?l.prototype.requestAsyncId.call(this,o,i,a):(o.actions.push(this),o._scheduled||(o._scheduled=f.animationFrameProvider.requestAnimationFrame(function(){return o.flush(void 0)})))},n.prototype.recycleAsyncId=function(o,i,a){var u;if(a===void 0&&(a=0),a!=null?a>0:this.delay>0)return l.prototype.recycleAsyncId.call(this,o,i,a);var d=o.actions;i!=null&&((u=d[d.length-1])===null||u===void 0?void 0:u.id)!==i&&(f.animationFrameProvider.cancelAnimationFrame(i),o._scheduled=void 0)},n}(c.AsyncAction);e.AnimationFrameAction=s},74478:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var s=function(l,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},s(l,n)};return function(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(l,n);function o(){this.constructor=l}l.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameScheduler=void 0;var c=t(19533),f=function(s){r(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l.prototype.flush=function(n){this._active=!0;var o=this._scheduled;this._scheduled=void 0;var i=this.actions,a;n=n||i.shift();do if(a=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===o&&i.shift());if(this._active=!1,a){for(;(n=i[0])&&n.id===o&&i.shift();)n.unsubscribe();throw a}},l}(c.AsyncScheduler);e.AnimationFrameScheduler=f},78051:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var l=function(n,o){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(i[u]=a[u])},l(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");l(n,o);function i(){this.constructor=n}n.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsapAction=void 0;var c=t(64772),f=t(16002),s=function(l){r(n,l);function n(o,i){var a=l.call(this,o,i)||this;return a.scheduler=o,a.work=i,a}return n.prototype.requestAsyncId=function(o,i,a){return a===void 0&&(a=0),a!==null&&a>0?l.prototype.requestAsyncId.call(this,o,i,a):(o.actions.push(this),o._scheduled||(o._scheduled=f.immediateProvider.setImmediate(o.flush.bind(o,void 0))))},n.prototype.recycleAsyncId=function(o,i,a){var u;if(a===void 0&&(a=0),a!=null?a>0:this.delay>0)return l.prototype.recycleAsyncId.call(this,o,i,a);var d=o.actions;i!=null&&((u=d[d.length-1])===null||u===void 0?void 0:u.id)!==i&&(f.immediateProvider.clearImmediate(i),o._scheduled===i&&(o._scheduled=void 0))},n}(c.AsyncAction);e.AsapAction=s},23952:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var s=function(l,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},s(l,n)};return function(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(l,n);function o(){this.constructor=l}l.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsapScheduler=void 0;var c=t(19533),f=function(s){r(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l.prototype.flush=function(n){this._active=!0;var o=this._scheduled;this._scheduled=void 0;var i=this.actions,a;n=n||i.shift();do if(a=n.execute(n.state,n.delay))break;while((n=i[0])&&n.id===o&&i.shift());if(this._active=!1,a){for(;(n=i[0])&&n.id===o&&i.shift();)n.unsubscribe();throw a}},l}(c.AsyncScheduler);e.AsapScheduler=f},64772:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var n=function(o,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(a[d]=u[d])},n(o,i)};return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(o,i);function a(){this.constructor=o}o.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncAction=void 0;var c=t(71666),f=t(8284),s=t(54830),l=function(n){r(o,n);function o(i,a){var u=n.call(this,i,a)||this;return u.scheduler=i,u.work=a,u.pending=!1,u}return o.prototype.schedule=function(i,a){var u;if(a===void 0&&(a=0),this.closed)return this;this.state=i;var d=this.id,v=this.scheduler;return d!=null&&(this.id=this.recycleAsyncId(v,d,a)),this.pending=!0,this.delay=a,this.id=(u=this.id)!==null&&u!==void 0?u:this.requestAsyncId(v,this.id,a),this},o.prototype.requestAsyncId=function(i,a,u){return u===void 0&&(u=0),f.intervalProvider.setInterval(i.flush.bind(i,this),u)},o.prototype.recycleAsyncId=function(i,a,u){if(u===void 0&&(u=0),u!=null&&this.delay===u&&this.pending===!1)return a;a!=null&&f.intervalProvider.clearInterval(a)},o.prototype.execute=function(i,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var u=this._execute(i,a);if(u)return u;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},o.prototype._execute=function(i,a){var u=!1,d;try{this.work(i)}catch(v){u=!0,d=v||new Error("Scheduled action threw falsy error")}if(u)return this.unsubscribe(),d},o.prototype.unsubscribe=function(){if(!this.closed){var i=this,a=i.id,u=i.scheduler,d=u.actions;this.work=this.state=this.scheduler=null,this.pending=!1,s.arrRemove(d,this),a!=null&&(this.id=this.recycleAsyncId(u,a,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},o}(c.Action);e.AsyncAction=l},19533:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var s=function(l,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},s(l,n)};return function(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(l,n);function o(){this.constructor=l}l.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScheduler=void 0;var c=t(65881),f=function(s){r(l,s);function l(n,o){o===void 0&&(o=c.Scheduler.now);var i=s.call(this,n,o)||this;return i.actions=[],i._active=!1,i}return l.prototype.flush=function(n){var o=this.actions;if(this._active){o.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=o.shift());if(this._active=!1,i){for(;n=o.shift();)n.unsubscribe();throw i}},l}(c.Scheduler);e.AsyncScheduler=f},31983:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var s=function(l,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},s(l,n)};return function(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(l,n);function o(){this.constructor=l}l.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.QueueAction=void 0;var c=t(64772),f=function(s){r(l,s);function l(n,o){var i=s.call(this,n,o)||this;return i.scheduler=n,i.work=o,i}return l.prototype.schedule=function(n,o){return o===void 0&&(o=0),o>0?s.prototype.schedule.call(this,n,o):(this.delay=o,this.state=n,this.scheduler.flush(this),this)},l.prototype.execute=function(n,o){return o>0||this.closed?s.prototype.execute.call(this,n,o):this._execute(n,o)},l.prototype.requestAsyncId=function(n,o,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?s.prototype.requestAsyncId.call(this,n,o,i):(n.flush(this),0)},l}(c.AsyncAction);e.QueueAction=f},32036:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var s=function(l,n){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])},s(l,n)};return function(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");s(l,n);function o(){this.constructor=l}l.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.QueueScheduler=void 0;var c=t(19533),f=function(s){r(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l}(c.AsyncScheduler);e.QueueScheduler=f},50875:function(z,e,t){"use strict";var r=this&&this.__extends||function(){var o=function(i,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(u[v]=d[v])},o(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(i,a);function u(){this.constructor=i}i.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualAction=e.VirtualTimeScheduler=void 0;var c=t(64772),f=t(69879),s=t(19533),l=function(o){r(i,o);function i(a,u){a===void 0&&(a=n),u===void 0&&(u=1/0);var d=o.call(this,a,function(){return d.frame})||this;return d.maxFrames=u,d.frame=0,d.index=-1,d}return i.prototype.flush=function(){for(var a=this,u=a.actions,d=a.maxFrames,v,p;(p=u[0])&&p.delay<=d&&(u.shift(),this.frame=p.delay,!(v=p.execute(p.state,p.delay))););if(v){for(;p=u.shift();)p.unsubscribe();throw v}},i.frameTimeFactor=10,i}(s.AsyncScheduler);e.VirtualTimeScheduler=l;var n=function(o){r(i,o);function i(a,u,d){d===void 0&&(d=a.index+=1);var v=o.call(this,a,u)||this;return v.scheduler=a,v.work=u,v.index=d,v.active=!0,v.index=a.index=d,v}return i.prototype.schedule=function(a,u){if(u===void 0&&(u=0),Number.isFinite(u)){if(!this.id)return o.prototype.schedule.call(this,a,u);this.active=!1;var d=new i(this.scheduler,this.work);return this.add(d),d.schedule(a,u)}else return f.Subscription.EMPTY},i.prototype.requestAsyncId=function(a,u,d){d===void 0&&(d=0),this.delay=a.frame+d;var v=a.actions;return v.push(this),v.sort(i.sortActions),1},i.prototype.recycleAsyncId=function(a,u,d){d===void 0&&(d=0)},i.prototype._execute=function(a,u){if(this.active===!0)return o.prototype._execute.call(this,a,u)},i.sortActions=function(a,u){return a.delay===u.delay?a.index===u.index?0:a.index>u.index?1:-1:a.delay>u.delay?1:-1},i}(c.AsyncAction);e.VirtualAction=n},15887:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var r=t(6757),c=t(74478);e.animationFrameScheduler=new c.AnimationFrameScheduler(r.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler},35726:function(z,e,t){"use strict";var r=this&&this.__read||function(s,l){var n=typeof Symbol=="function"&&s[Symbol.iterator];if(!n)return s;var o=n.call(s),i,a=[],u;try{for(;(l===void 0||l-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(d){u={error:d}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(u)throw u.error}}return a},c=this&&this.__spreadArray||function(s,l){for(var n=0,o=l.length,i=s.length;n<o;n++,i++)s[i]=l[n];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var f=t(69879);e.animationFrameProvider={schedule:function(s){var l=requestAnimationFrame,n=cancelAnimationFrame,o=e.animationFrameProvider.delegate;o&&(l=o.requestAnimationFrame,n=o.cancelAnimationFrame);var i=l(function(a){n=void 0,s(a)});return new f.Subscription(function(){return n?.(i)})},requestAnimationFrame:function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var n=e.animationFrameProvider.delegate;return(n?.requestAnimationFrame||requestAnimationFrame).apply(void 0,c([],r(s)))},cancelAnimationFrame:function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var n=e.animationFrameProvider.delegate;return(n?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,c([],r(s)))},delegate:void 0}},22105:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var r=t(78051),c=t(23952);e.asapScheduler=new c.AsapScheduler(r.AsapAction),e.asap=e.asapScheduler},62326:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var r=t(64772),c=t(19533);e.asyncScheduler=new c.AsyncScheduler(r.AsyncAction),e.async=e.asyncScheduler},93275:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},16002:function(z,e,t){"use strict";var r=this&&this.__read||function(n,o){var i=typeof Symbol=="function"&&n[Symbol.iterator];if(!i)return n;var a=i.call(n),u,d=[],v;try{for(;(o===void 0||o-- >0)&&!(u=a.next()).done;)d.push(u.value)}catch(p){v={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(v)throw v.error}}return d},c=this&&this.__spreadArray||function(n,o){for(var i=0,a=o.length,u=n.length;i<a;i++,u++)n[u]=o[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var f=t(92052),s=f.Immediate.setImmediate,l=f.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=e.immediateProvider.delegate;return(i?.setImmediate||s).apply(void 0,c([],r(n)))},clearImmediate:function(n){var o=e.immediateProvider.delegate;return(o?.clearImmediate||l)(n)},delegate:void 0}},8284:function(z,e){"use strict";var t=this&&this.__read||function(c,f){var s=typeof Symbol=="function"&&c[Symbol.iterator];if(!s)return c;var l=s.call(c),n,o=[],i;try{for(;(f===void 0||f-- >0)&&!(n=l.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return o},r=this&&this.__spreadArray||function(c,f){for(var s=0,l=f.length,n=c.length;s<l;s++,n++)c[n]=f[s];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(c,f){for(var s=[],l=2;l<arguments.length;l++)s[l-2]=arguments[l];var n=e.intervalProvider.delegate;return n?.setInterval?n.setInterval.apply(n,r([c,f],t(s))):setInterval.apply(void 0,r([c,f],t(s)))},clearInterval:function(c){var f=e.intervalProvider.delegate;return(f?.clearInterval||clearInterval)(c)},delegate:void 0}},22931:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},99245:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var r=t(31983),c=t(32036);e.queueScheduler=new c.QueueScheduler(r.QueueAction),e.queue=e.queueScheduler},94808:function(z,e){"use strict";var t=this&&this.__read||function(c,f){var s=typeof Symbol=="function"&&c[Symbol.iterator];if(!s)return c;var l=s.call(c),n,o=[],i;try{for(;(f===void 0||f-- >0)&&!(n=l.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return o},r=this&&this.__spreadArray||function(c,f){for(var s=0,l=f.length,n=c.length;s<l;s++,n++)c[n]=f[s];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(c,f){for(var s=[],l=2;l<arguments.length;l++)s[l-2]=arguments[l];var n=e.timeoutProvider.delegate;return n?.setTimeout?n.setTimeout.apply(n,r([c,f],t(s))):setTimeout.apply(void 0,r([c,f],t(s)))},clearTimeout:function(c){var f=e.timeoutProvider.delegate;return(f?.clearTimeout||clearTimeout)(c)},delegate:void 0}},34891:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterator=e.getSymbolIterator=void 0;function t(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}e.getSymbolIterator=t,e.iterator=t()},2884:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observable=void 0,e.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()},96153:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},7024:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArgumentOutOfRangeError=void 0;var r=t(9619);e.ArgumentOutOfRangeError=r.createErrorClass(function(c){return function(){c(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},59328:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyError=void 0;var r=t(9619);e.EmptyError=r.createErrorClass(function(c){return function(){c(this),this.name="EmptyError",this.message="no elements in sequence"}})},92052:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestTools=e.Immediate=void 0;var t=1,r,c={};function f(s){return s in c?(delete c[s],!0):!1}e.Immediate={setImmediate:function(s){var l=t++;return c[l]=!0,r||(r=Promise.resolve()),r.then(function(){return f(l)&&s()}),l},clearImmediate:function(s){f(s)}},e.TestTools={pending:function(){return Object.keys(c).length}}},23506:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotFoundError=void 0;var r=t(9619);e.NotFoundError=r.createErrorClass(function(c){return function(s){c(this),this.name="NotFoundError",this.message=s}})},50839:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectUnsubscribedError=void 0;var r=t(9619);e.ObjectUnsubscribedError=r.createErrorClass(function(c){return function(){c(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},94708:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SequenceError=void 0;var r=t(9619);e.SequenceError=r.createErrorClass(function(c){return function(s){c(this),this.name="SequenceError",this.message=s}})},69517:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnsubscriptionError=void 0;var r=t(9619);e.UnsubscriptionError=r.createErrorClass(function(c){return function(s){c(this),this.message=s?s.length+` errors occurred during unsubscription:
`+s.map(function(l,n){return n+1+") "+l.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=s}})},26404:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.popNumber=e.popScheduler=e.popResultSelector=void 0;var r=t(10281),c=t(68596);function f(o){return o[o.length-1]}function s(o){return r.isFunction(f(o))?o.pop():void 0}e.popResultSelector=s;function l(o){return c.isScheduler(f(o))?o.pop():void 0}e.popScheduler=l;function n(o,i){return typeof f(o)=="number"?o.pop():i}e.popNumber=n},50439:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.argsArgArrayOrObject=void 0;var t=Array.isArray,r=Object.getPrototypeOf,c=Object.prototype,f=Object.keys;function s(n){if(n.length===1){var o=n[0];if(t(o))return{args:o,keys:null};if(l(o)){var i=f(o);return{args:i.map(function(a){return o[a]}),keys:i}}}return{args:n,keys:null}}e.argsArgArrayOrObject=s;function l(n){return n&&typeof n=="object"&&r(n)===c}},7652:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.argsOrArgArray=void 0;var t=Array.isArray;function r(c){return c.length===1&&t(c[0])?c[0]:c}e.argsOrArgArray=r},54830:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.arrRemove=void 0;function t(r,c){if(r){var f=r.indexOf(c);0<=f&&r.splice(f,1)}}e.arrRemove=t},9619:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorClass=void 0;function t(r){var c=function(s){Error.call(s),s.stack=new Error().stack},f=r(c);return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f}e.createErrorClass=t},15810:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createObject=void 0;function t(r,c){return r.reduce(function(f,s,l){return f[s]=c[l],f},{})}e.createObject=t},12688:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.captureError=e.errorContext=void 0;var r=t(93728),c=null;function f(l){if(r.config.useDeprecatedSynchronousErrorHandling){var n=!c;if(n&&(c={errorThrown:!1,error:null}),l(),n){var o=c,i=o.errorThrown,a=o.error;if(c=null,i)throw a}}else l()}e.errorContext=f;function s(l){r.config.useDeprecatedSynchronousErrorHandling&&c&&(c.errorThrown=!0,c.error=l)}e.captureError=s},28619:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.executeSchedule=void 0;function t(r,c,f,s,l){s===void 0&&(s=0),l===void 0&&(l=!1);var n=c.schedule(function(){f(),l?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(n),!l)return n}e.executeSchedule=t},87699:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.identity=void 0;function t(r){return r}e.identity=t},94975:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayLike=void 0,e.isArrayLike=function(t){return t&&typeof t.length=="number"&&typeof t!="function"}},78263:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncIterable=void 0;var r=t(10281);function c(f){return Symbol.asyncIterator&&r.isFunction(f?.[Symbol.asyncIterator])}e.isAsyncIterable=c},85345:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidDate=void 0;function t(r){return r instanceof Date&&!isNaN(r)}e.isValidDate=t},10281:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=void 0;function t(r){return typeof r=="function"}e.isFunction=t},80629:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isInteropObservable=void 0;var r=t(2884),c=t(10281);function f(s){return c.isFunction(s[r.observable])}e.isInteropObservable=f},12187:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isIterable=void 0;var r=t(34891),c=t(10281);function f(s){return c.isFunction(s?.[r.iterator])}e.isIterable=f},62560:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isObservable=void 0;var r=t(48051),c=t(10281);function f(s){return!!s&&(s instanceof r.Observable||c.isFunction(s.lift)&&c.isFunction(s.subscribe))}e.isObservable=f},67552:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=void 0;var r=t(10281);function c(f){return r.isFunction(f?.then)}e.isPromise=c},95462:function(z,e,t){"use strict";var r=this&&this.__generator||function(o,i){var a={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},u,d,v,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(E){return function(L){return P([E,L])}}function P(E){if(u)throw new TypeError("Generator is already executing.");for(;a;)try{if(u=1,d&&(v=E[0]&2?d.return:E[0]?d.throw||((v=d.return)&&v.call(d),0):d.next)&&!(v=v.call(d,E[1])).done)return v;switch(d=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return a.label++,{value:E[1],done:!1};case 5:a.label++,d=E[1],E=[0];continue;case 7:E=a.ops.pop(),a.trys.pop();continue;default:if(v=a.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){a=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){a.label=E[1];break}if(E[0]===6&&a.label<v[1]){a.label=v[1],v=E;break}if(v&&a.label<v[2]){a.label=v[2],a.ops.push(E);break}v[2]&&a.ops.pop(),a.trys.pop();continue}E=i.call(o,a)}catch(L){E=[6,L],d=0}finally{u=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},c=this&&this.__await||function(o){return this instanceof c?(this.v=o,this):new c(o)},f=this&&this.__asyncGenerator||function(o,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=a.apply(o,i||[]),d,v=[];return d={},p("next"),p("throw"),p("return"),d[Symbol.asyncIterator]=function(){return this},d;function p(j){u[j]&&(d[j]=function(D){return new Promise(function(B,G){v.push([j,D,B,G])>1||m(j,D)})})}function m(j,D){try{P(u[j](D))}catch(B){F(v[0][3],B)}}function P(j){j.value instanceof c?Promise.resolve(j.value.v).then(E,L):F(v[0][2],j)}function E(j){m("next",j)}function L(j){m("throw",j)}function F(j,D){j(D),v.shift(),v.length&&m(v[0][0],v[0][1])}};Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableStreamLike=e.readableStreamLikeToAsyncGenerator=void 0;var s=t(10281);function l(o){return f(this,arguments,function(){var a,u,d,v;return r(this,function(p){switch(p.label){case 0:a=o.getReader(),p.label=1;case 1:p.trys.push([1,,9,10]),p.label=2;case 2:return[4,c(a.read())];case 3:return u=p.sent(),d=u.value,v=u.done,v?[4,c(void 0)]:[3,5];case 4:return[2,p.sent()];case 5:return[4,c(d)];case 6:return[4,p.sent()];case 7:return p.sent(),[3,2];case 8:return[3,10];case 9:return a.releaseLock(),[7];case 10:return[2]}})})}e.readableStreamLikeToAsyncGenerator=l;function n(o){return s.isFunction(o?.getReader)}e.isReadableStreamLike=n},68596:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isScheduler=void 0;var r=t(10281);function c(f){return f&&r.isFunction(f.schedule)}e.isScheduler=c},65212:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.operate=e.hasLift=void 0;var r=t(10281);function c(s){return r.isFunction(s?.lift)}e.hasLift=c;function f(s){return function(l){if(c(l))return l.lift(function(n){try{return s(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}e.operate=f},13916:function(z,e,t){"use strict";var r=this&&this.__read||function(o,i){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var u=a.call(o),d,v=[],p;try{for(;(i===void 0||i-- >0)&&!(d=u.next()).done;)v.push(d.value)}catch(m){p={error:m}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(p)throw p.error}}return v},c=this&&this.__spreadArray||function(o,i){for(var a=0,u=i.length,d=o.length;a<u;a++,d++)o[d]=i[a];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.mapOneOrManyArgs=void 0;var f=t(26872),s=Array.isArray;function l(o,i){return s(i)?o.apply(void 0,c([],r(i))):o(i)}function n(o){return f.map(function(i){return l(o,i)})}e.mapOneOrManyArgs=n},5717:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noop=void 0;function t(){}e.noop=t},14120:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.not=void 0;function t(r,c){return function(f,s){return!r.call(c,f,s)}}e.not=t},99517:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pipeFromArray=e.pipe=void 0;var r=t(87699);function c(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return f(s)}e.pipe=c;function f(s){return s.length===0?r.identity:s.length===1?s[0]:function(n){return s.reduce(function(o,i){return i(o)},n)}}e.pipeFromArray=f},32980:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reportUnhandledError=void 0;var r=t(93728),c=t(94808);function f(s){c.timeoutProvider.setTimeout(function(){var l=r.config.onUnhandledError;if(l)l(s);else throw s})}e.reportUnhandledError=f},86297:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createInvalidObservableTypeError=void 0;function t(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}e.createInvalidObservableTypeError=t},92794:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=e.merge=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.concat=e.combineLatestWith=e.combineLatest=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=void 0,e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.race=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.partition=e.pairwise=e.onErrorResumeNext=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=void 0,e.zipWith=e.zipAll=e.zip=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=void 0;var r=t(88877);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return r.audit}});var c=t(51608);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return c.auditTime}});var f=t(10706);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return f.buffer}});var s=t(31668);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return s.bufferCount}});var l=t(41719);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return l.bufferTime}});var n=t(61778);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return n.bufferToggle}});var o=t(56606);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return o.bufferWhen}});var i=t(72719);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return i.catchError}});var a=t(89244);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return a.combineAll}});var u=t(90314);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return u.combineLatestAll}});var d=t(64948);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return d.combineLatest}});var v=t(82044);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return v.combineLatestWith}});var p=t(96328);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return p.concat}});var m=t(70201);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return m.concatAll}});var P=t(29512);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return P.concatMap}});var E=t(19913);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return E.concatMapTo}});var L=t(98032);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return L.concatWith}});var F=t(17812);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return F.connect}});var j=t(10970);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return j.count}});var D=t(3143);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return D.debounce}});var B=t(21762);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return B.debounceTime}});var G=t(58799);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return G.defaultIfEmpty}});var K=t(5797);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return K.delay}});var Y=t(72885);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return Y.delayWhen}});var $=t(19818);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return $.dematerialize}});var U=t(77876);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return U.distinct}});var M=t(22044);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return M.distinctUntilChanged}});var C=t(76035);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return C.distinctUntilKeyChanged}});var y=t(61279);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return y.elementAt}});var b=t(66791);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return b.endWith}});var T=t(21361);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return T.every}});var R=t(11464);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return R.exhaust}});var S=t(17977);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return S.exhaustAll}});var A=t(86632);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return A.exhaustMap}});var W=t(75544);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return W.expand}});var I=t(85934);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return I.filter}});var O=t(17802);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return O.finalize}});var h=t(98183);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return h.find}});var w=t(29035);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return w.findIndex}});var V=t(19980);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return V.first}});var H=t(5128);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return H.groupBy}});var _=t(2959);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return _.ignoreElements}});var oe=t(69915);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return oe.isEmpty}});var te=t(32568);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return te.last}});var Q=t(26872);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return Q.map}});var X=t(13337);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return X.mapTo}});var k=t(75019);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return k.materialize}});var re=t(50096);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return re.max}});var q=t(9330);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return q.merge}});var le=t(68087);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return le.mergeAll}});var ee=t(74613);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return ee.flatMap}});var ie=t(67478);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return ie.mergeMap}});var he=t(76075);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return he.mergeMapTo}});var me=t(16707);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return me.mergeScan}});var be=t(79694);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return be.mergeWith}});var Be=t(80142);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return Be.min}});var je=t(18464);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return je.multicast}});var Ue=t(32071);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return Ue.observeOn}});var Ie=t(95513);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Ie.onErrorResumeNext}});var $e=t(26744);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return $e.pairwise}});var qe=t(99516);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return qe.partition}});var tt=t(66355);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return tt.pluck}});var ct=t(53197);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return ct.publish}});var gt=t(82955);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return gt.publishBehavior}});var dt=t(26569);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return dt.publishLast}});var Ot=t(68710);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Ot.publishReplay}});var Me=t(86081);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return Me.race}});var Le=t(6677);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Le.raceWith}});var He=t(92070);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return He.reduce}});var _e=t(56131);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return _e.repeat}});var Xe=t(82139);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Xe.repeatWhen}});var rt=t(3352);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return rt.retry}});var ke=t(73956);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return ke.retryWhen}});var ft=t(79224);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return ft.refCount}});var vt=t(43434);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return vt.sample}});var Pt=t(44143);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return Pt.sampleTime}});var ht=t(35565);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return ht.scan}});var Rt=t(73929);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Rt.sequenceEqual}});var jt=t(93405);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return jt.share}});var ut=t(17782);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return ut.shareReplay}});var Ft=t(55440);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return Ft.single}});var Wt=t(23079);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return Wt.skip}});var Lt=t(92359);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Lt.skipLast}});var $t=t(20164);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return $t.skipUntil}});var Gt=t(65774);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return Gt.skipWhile}});var Yt=t(99054);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return Yt.startWith}});var Kt=t(5455);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return Kt.subscribeOn}});var nr=t(16201);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return nr.switchAll}});var _t=t(90680);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return _t.switchMap}});var Xt=t(761);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return Xt.switchMapTo}});var ar=t(48461);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return ar.switchScan}});var cr=t(54383);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return cr.take}});var wr=t(65279);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return wr.takeLast}});var kt=t(66911);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return kt.takeUntil}});var hr=t(60598);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return hr.takeWhile}});var ir=t(15019);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return ir.tap}});var mt=t(44880);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return mt.throttle}});var qt=t(7245);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return qt.throttleTime}});var pr=t(30632);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return pr.throwIfEmpty}});var bt=t(32508);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return bt.timeInterval}});var fr=t(81713);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return fr.timeout}});var Or=t(72978);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Or.timeoutWith}});var de=t(53866);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return de.timestamp}});var we=t(73484);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return we.toArray}});var Fe=t(78072);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return Fe.window}});var ze=t(62893);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return ze.windowCount}});var et=t(90037);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return et.windowTime}});var st=t(28996);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return st.windowToggle}});var xe=t(65156);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return xe.windowWhen}});var At=t(66975);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return At.withLatestFrom}});var pt=t(26749);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return pt.zip}});var It=t(5362);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return It.zipAll}});var wt=t(36977);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return wt.zipWith}})},51916:z=>{/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/(function(){"use strict";var e=typeof window<"u"&&typeof window.document<"u"?window.document:{},t=z.exports,r=function(){for(var s,l=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,o=l.length,i={};n<o;n++)if(s=l[n],s&&s[1]in e){for(n=0;n<s.length;n++)i[l[0][n]]=s[n];return i}return!1}(),c={change:r.fullscreenchange,error:r.fullscreenerror},f={request:function(s,l){return new Promise(function(n,o){var i=function(){this.off("change",i),n()}.bind(this);this.on("change",i),s=s||e.documentElement;var a=s[r.requestFullscreen](l);a instanceof Promise&&a.then(i).catch(o)}.bind(this))},exit:function(){return new Promise(function(s,l){if(!this.isFullscreen){s();return}var n=function(){this.off("change",n),s()}.bind(this);this.on("change",n);var o=e[r.exitFullscreen]();o instanceof Promise&&o.then(n).catch(l)}.bind(this))},toggle:function(s,l){return this.isFullscreen?this.exit():this.request(s,l)},onchange:function(s){this.on("change",s)},onerror:function(s){this.on("error",s)},on:function(s,l){var n=c[s];n&&e.addEventListener(n,l,!1)},off:function(s,l){var n=c[s];n&&e.removeEventListener(n,l,!1)},raw:r};if(!r){t?z.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(f,{isFullscreen:{get:function(){return!!e[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return e[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!e[r.fullscreenEnabled]}}}),t?z.exports=f:window.screenfull=f})()},63118:(z,e)=>{"use strict";var t;t={value:!0},e.c={linear:function(r){return r},quadratic:function(r){return r*(-(r*r)*r+4*r*r-6*r+4)},cubic:function(r){return r*(4*r*r-9*r+6)},elastic:function(r){return r*(33*r*r*r*r-106*r*r*r+126*r*r-67*r+15)},inQuad:function(r){return r*r},outQuad:function(r){return r*(2-r)},inOutQuad:function(r){return r<.5?2*r*r:-1+(4-2*r)*r},inCubic:function(r){return r*r*r},outCubic:function(r){return--r*r*r+1},inOutCubic:function(r){return r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1},inQuart:function(r){return r*r*r*r},outQuart:function(r){return 1- --r*r*r*r},inOutQuart:function(r){return r<.5?8*r*r*r*r:1-8*--r*r*r*r},inQuint:function(r){return r*r*r*r*r},outQuint:function(r){return 1+--r*r*r*r*r},inOutQuint:function(r){return r<.5?16*r*r*r*r*r:1+16*--r*r*r*r*r},inSine:function(r){return-Math.cos(r*(Math.PI/2))+1},outSine:function(r){return Math.sin(r*(Math.PI/2))},inOutSine:function(r){return-(Math.cos(Math.PI*r)-1)/2},inExpo:function(r){return Math.pow(2,10*(r-1))},outExpo:function(r){return-Math.pow(2,-10*r)+1},inOutExpo:function(r){return r/=.5,r<1?Math.pow(2,10*(r-1))/2:(r--,(-Math.pow(2,-10*r)+2)/2)},inCirc:function(r){return-Math.sqrt(1-r*r)+1},outCirc:function(r){return Math.sqrt(1-(r=r-1)*r)},inOutCirc:function(r){return r/=.5,r<1?-(Math.sqrt(1-r*r)-1)/2:(r-=2,(Math.sqrt(1-r*r)+1)/2)}}},9771:z=>{"use strict";var e=!1,t=function(){};if(e){var r=function(f,s){var l=arguments.length;s=new Array(l>1?l-1:0);for(var n=1;n<l;n++)s[n-1]=arguments[n];var o=0,i="Warning: "+f.replace(/%s/g,function(){return s[o++]});typeof console<"u"&&console.error(i);try{throw new Error(i)}catch{}};t=function(c,f,s){var l=arguments.length;s=new Array(l>2?l-2:0);for(var n=2;n<l;n++)s[n-2]=arguments[n];if(f===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");c||r.apply(null,[f].concat(s))}}z.exports=t},70079:z=>{function e(t,r){(r==null||r>t.length)&&(r=t.length);for(var c=0,f=Array(r);c<r;c++)f[c]=t[c];return f}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},92987:z=>{function e(t){if(Array.isArray(t))return t}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},5901:(z,e,t)=>{var r=t(70079);function c(f){if(Array.isArray(f))return r(f)}z.exports=c,z.exports.__esModule=!0,z.exports.default=z.exports},12475:z=>{function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},29293:z=>{function e(r,c,f,s,l,n,o){try{var i=r[n](o),a=i.value}catch(u){return void f(u)}i.done?c(a):Promise.resolve(a).then(s,l)}function t(r){return function(){var c=this,f=arguments;return new Promise(function(s,l){var n=r.apply(c,f);function o(a){e(n,s,l,o,i,"next",a)}function i(a){e(n,s,l,o,i,"throw",a)}o(void 0)})}}z.exports=t,z.exports.__esModule=!0,z.exports.default=z.exports},17383:z=>{function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},34579:(z,e,t)=>{var r=t(77736);function c(s,l){for(var n=0;n<l.length;n++){var o=l[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(s,r(o.key),o)}}function f(s,l,n){return l&&c(s.prototype,l),n&&c(s,n),Object.defineProperty(s,"prototype",{writable:!1}),s}z.exports=f,z.exports.__esModule=!0,z.exports.default=z.exports},32395:(z,e,t)=>{var r=t(39552);function c(){return z.exports=c=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(f,s,l){var n=r(f,s);if(n){var o=Object.getOwnPropertyDescriptor(n,s);return o.get?o.get.call(arguments.length<3?f:l):o.value}},z.exports.__esModule=!0,z.exports.default=z.exports,c.apply(null,arguments)}z.exports=c,z.exports.__esModule=!0,z.exports.default=z.exports},63072:z=>{function e(t){return z.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z.exports.__esModule=!0,z.exports.default=z.exports,e(t)}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},29511:(z,e,t)=>{var r=t(95636);function c(f,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(s&&s.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),s&&r(f,s)}z.exports=c,z.exports.__esModule=!0,z.exports.default=z.exports},99291:z=>{function e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},81156:z=>{function e(t,r){var c=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(c!=null){var f,s,l,n,o=[],i=!0,a=!1;try{if(l=(c=c.call(t)).next,r===0){if(Object(c)!==c)return;i=!1}else for(;!(i=(f=l.call(c)).done)&&(o.push(f.value),o.length!==r);i=!0);}catch(u){a=!0,s=u}finally{try{if(!i&&c.return!=null&&(n=c.return(),Object(n)!==n))return}finally{if(a)throw s}}return o}}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},47752:z=>{function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},41869:z=>{function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},91847:(z,e,t)=>{var r=t(54893);function c(f,s){if(f==null)return{};var l,n,o=r(f,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(f);for(n=0;n<i.length;n++)l=i[n],s.indexOf(l)===-1&&{}.propertyIsEnumerable.call(f,l)&&(o[l]=f[l])}return o}z.exports=c,z.exports.__esModule=!0,z.exports.default=z.exports},54893:z=>{function e(t,r){if(t==null)return{};var c={};for(var f in t)if({}.hasOwnProperty.call(t,f)){if(r.indexOf(f)!==-1)continue;c[f]=t[f]}return c}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},28452:(z,e,t)=>{var r=t(73738).default,c=t(12475);function f(s,l){if(l&&(r(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(s)}z.exports=f,z.exports.__esModule=!0,z.exports.default=z.exports},95636:z=>{function e(t,r){return z.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,f){return c.__proto__=f,c},z.exports.__esModule=!0,z.exports.default=z.exports,e(t,r)}z.exports=e,z.exports.__esModule=!0,z.exports.default=z.exports},85715:(z,e,t)=>{var r=t(92987),c=t(81156),f=t(17122),s=t(47752);function l(n,o){return r(n)||c(n,o)||f(n,o)||s()}z.exports=l,z.exports.__esModule=!0,z.exports.default=z.exports},39552:(z,e,t)=>{var r=t(63072);function c(f,s){for(;!{}.hasOwnProperty.call(f,s)&&(f=r(f))!==null;);return f}z.exports=c,z.exports.__esModule=!0,z.exports.default=z.exports},8053:(z,e,t)=>{var r=t(92987),c=t(99291),f=t(17122),s=t(47752);function l(n){return r(n)||c(n)||f(n)||s()}z.exports=l,z.exports.__esModule=!0,z.exports.default=z.exports},41132:(z,e,t)=>{var r=t(5901),c=t(99291),f=t(17122),s=t(41869);function l(n){return r(n)||c(n)||f(n)||s()}z.exports=l,z.exports.__esModule=!0,z.exports.default=z.exports},17122:(z,e,t)=>{var r=t(70079);function c(f,s){if(f){if(typeof f=="string")return r(f,s);var l={}.toString.call(f).slice(8,-1);return l==="Object"&&f.constructor&&(l=f.constructor.name),l==="Map"||l==="Set"?Array.from(f):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?r(f,s):void 0}}z.exports=c,z.exports.__esModule=!0,z.exports.default=z.exports},51229:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getISOLocalDateTime=e.getISOLocalDate=e.getISOLocalMonth=e.getHoursMinutesSeconds=e.getHoursMinutes=e.getDaysInMonth=e.getDayRange=e.getNextDayEnd=e.getPreviousDayEnd=e.getDayEnd=e.getNextDayStart=e.getPreviousDayStart=e.getDayStart=e.getMonthRange=e.getNextMonthEnd=e.getPreviousMonthEnd=e.getMonthEnd=e.getNextMonthStart=e.getPreviousMonthStart=e.getMonthStart=e.getYearRange=e.getNextYearEnd=e.getPreviousYearEnd=e.getYearEnd=e.getNextYearStart=e.getPreviousYearStart=e.getYearStart=e.getDecadeRange=e.getNextDecadeEnd=e.getPreviousDecadeEnd=e.getDecadeEnd=e.getNextDecadeStart=e.getPreviousDecadeStart=e.getDecadeStart=e.getCenturyRange=e.getNextCenturyEnd=e.getPreviousCenturyEnd=e.getCenturyEnd=e.getNextCenturyStart=e.getPreviousCenturyStart=e.getCenturyStart=e.getSeconds=e.getMinutes=e.getHours=e.getDate=e.getMonthHuman=e.getMonth=e.getYear=void 0;function t(Y,$,U){return function(C,y){y===void 0&&(y=U);var b=Y(C)+y;return $(b)}}function r(Y){return function(U){return new Date(Y(U).getTime()-1)}}function c(Y,$){return function(M){return[Y(M),$(M)]}}function f(Y){if(Y instanceof Date)return Y.getFullYear();if(typeof Y=="number")return Y;var $=parseInt(Y,10);if(typeof Y=="string"&&!isNaN($))return $;throw new Error("Failed to get year from date: ".concat(Y,"."))}e.getYear=f;function s(Y){if(Y instanceof Date)return Y.getMonth();throw new Error("Failed to get month from date: ".concat(Y,"."))}e.getMonth=s;function l(Y){if(Y instanceof Date)return Y.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(Y,"."))}e.getMonthHuman=l;function n(Y){if(Y instanceof Date)return Y.getDate();throw new Error("Failed to get year from date: ".concat(Y,"."))}e.getDate=n;function o(Y){if(Y instanceof Date)return Y.getHours();if(typeof Y=="string"){var $=Y.split(":");if($.length>=2){var U=$[0];if(U){var M=parseInt(U,10);if(!isNaN(M))return M}}}throw new Error("Failed to get hours from date: ".concat(Y,"."))}e.getHours=o;function i(Y){if(Y instanceof Date)return Y.getMinutes();if(typeof Y=="string"){var $=Y.split(":");if($.length>=2){var U=$[1]||"0",M=parseInt(U,10);if(!isNaN(M))return M}}throw new Error("Failed to get minutes from date: ".concat(Y,"."))}e.getMinutes=i;function a(Y){if(Y instanceof Date)return Y.getSeconds();if(typeof Y=="string"){var $=Y.split(":");if($.length>=2){var U=$[2]||"0",M=parseInt(U,10);if(!isNaN(M))return M}}throw new Error("Failed to get seconds from date: ".concat(Y,"."))}e.getSeconds=a;function u(Y){var $=f(Y),U=$+(-$+1)%100,M=new Date;return M.setFullYear(U,0,1),M.setHours(0,0,0,0),M}e.getCenturyStart=u,e.getPreviousCenturyStart=t(f,u,-100),e.getNextCenturyStart=t(f,u,100),e.getCenturyEnd=r(e.getNextCenturyStart),e.getPreviousCenturyEnd=t(f,e.getCenturyEnd,-100),e.getNextCenturyEnd=t(f,e.getCenturyEnd,100),e.getCenturyRange=c(u,e.getCenturyEnd);function d(Y){var $=f(Y),U=$+(-$+1)%10,M=new Date;return M.setFullYear(U,0,1),M.setHours(0,0,0,0),M}e.getDecadeStart=d,e.getPreviousDecadeStart=t(f,d,-10),e.getNextDecadeStart=t(f,d,10),e.getDecadeEnd=r(e.getNextDecadeStart),e.getPreviousDecadeEnd=t(f,e.getDecadeEnd,-10),e.getNextDecadeEnd=t(f,e.getDecadeEnd,10),e.getDecadeRange=c(d,e.getDecadeEnd);function v(Y){var $=f(Y),U=new Date;return U.setFullYear($,0,1),U.setHours(0,0,0,0),U}e.getYearStart=v,e.getPreviousYearStart=t(f,v,-1),e.getNextYearStart=t(f,v,1),e.getYearEnd=r(e.getNextYearStart),e.getPreviousYearEnd=t(f,e.getYearEnd,-1),e.getNextYearEnd=t(f,e.getYearEnd,1),e.getYearRange=c(v,e.getYearEnd);function p(Y,$){return function(M,C){C===void 0&&(C=$);var y=f(M),b=s(M)+C,T=new Date;return T.setFullYear(y,b,1),T.setHours(0,0,0,0),Y(T)}}function m(Y){var $=f(Y),U=s(Y),M=new Date;return M.setFullYear($,U,1),M.setHours(0,0,0,0),M}e.getMonthStart=m,e.getPreviousMonthStart=p(m,-1),e.getNextMonthStart=p(m,1),e.getMonthEnd=r(e.getNextMonthStart),e.getPreviousMonthEnd=p(e.getMonthEnd,-1),e.getNextMonthEnd=p(e.getMonthEnd,1),e.getMonthRange=c(m,e.getMonthEnd);function P(Y,$){return function(M,C){C===void 0&&(C=$);var y=f(M),b=s(M),T=n(M)+C,R=new Date;return R.setFullYear(y,b,T),R.setHours(0,0,0,0),Y(R)}}function E(Y){var $=f(Y),U=s(Y),M=n(Y),C=new Date;return C.setFullYear($,U,M),C.setHours(0,0,0,0),C}e.getDayStart=E,e.getPreviousDayStart=P(E,-1),e.getNextDayStart=P(E,1),e.getDayEnd=r(e.getNextDayStart),e.getPreviousDayEnd=P(e.getDayEnd,-1),e.getNextDayEnd=P(e.getDayEnd,1),e.getDayRange=c(E,e.getDayEnd);function L(Y){return n((0,e.getMonthEnd)(Y))}e.getDaysInMonth=L;function F(Y,$){$===void 0&&($=2);var U="".concat(Y);return U.length>=$?Y:"0000".concat(U).slice(-$)}function j(Y){var $=F(o(Y)),U=F(i(Y));return"".concat($,":").concat(U)}e.getHoursMinutes=j;function D(Y){var $=F(o(Y)),U=F(i(Y)),M=F(a(Y));return"".concat($,":").concat(U,":").concat(M)}e.getHoursMinutesSeconds=D;function B(Y){var $=F(f(Y),4),U=F(l(Y));return"".concat($,"-").concat(U)}e.getISOLocalMonth=B;function G(Y){var $=F(f(Y),4),U=F(l(Y)),M=F(n(Y));return"".concat($,"-").concat(U,"-").concat(M)}e.getISOLocalDate=G;function K(Y){return"".concat(G(Y),"T").concat(D(Y))}e.getISOLocalDateTime=K},4081:function(z,e,t){"use strict";var r=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.getUserLocale=e.getUserLocales=void 0;var c=r(t(47654));function f(d){return JSON.stringify(d)}function s(d){return typeof d=="string"}function l(d,v,p){return p.indexOf(d)===v}function n(d){return d.toLowerCase()===d}function o(d){return d.indexOf(",")===-1?d:d.split(",")}function i(d){if(!d)return d;if(d==="C"||d==="posix"||d==="POSIX")return"en-US";if(d.indexOf(".")!==-1){var v=d.split(".")[0],p=v===void 0?"":v;return i(p)}if(d.indexOf("@")!==-1){var m=d.split("@")[0],p=m===void 0?"":m;return i(p)}if(d.indexOf("-")===-1||!n(d))return d;var P=d.split("-"),E=P[0],L=P[1],F=L===void 0?"":L;return"".concat(E,"-").concat(F.toUpperCase())}function a(d){var v=d===void 0?{}:d,p=v.useFallbackLocale,m=p===void 0?!0:p,P=v.fallbackLocale,E=P===void 0?"en-US":P,L=[];if(typeof navigator<"u"){for(var F=navigator.languages||[],j=[],D=0,B=F;D<B.length;D++){var G=B[D];j=j.concat(o(G))}var K=navigator.language,Y=K&&o(K);L=L.concat(j,Y)}return m&&L.push(E),L.filter(s).map(i).filter(l)}e.getUserLocales=(0,c.default)(a,f);function u(d){return(0,e.getUserLocales)(d)[0]||null}e.getUserLocale=(0,c.default)(u,f),e.default=e.getUserLocale},32562:function(z,e,t){"use strict";"use client";var r=this&&this.__assign||function(){return r=Object.assign||function(S){for(var A,W=1,I=arguments.length;W<I;W++){A=arguments[W];for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(S[O]=A[O])}return S},r.apply(this,arguments)},c=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(e,"__esModule",{value:!0});var f=t(74848),s=t(96540),l=c(t(71508)),n=c(t(48391)),o=c(t(13863)),i=c(t(31057)),a=c(t(13967)),u=c(t(37869)),d=t(26335),v=t(70479),p="react-calendar",m=["century","decade","year","month"],P=["decade","year","month","day"],E=new Date;E.setFullYear(1,0,1),E.setHours(0,0,0,0);var L=new Date(864e13);function F(S){return S instanceof Date?S:new Date(S)}function j(S,A){return m.slice(m.indexOf(S),m.indexOf(A)+1)}function D(S,A,W){var I=j(A,W);return I.indexOf(S)!==-1}function B(S,A,W){return S&&D(S,A,W)?S:W}function G(S){var A=m.indexOf(S);return P[A]}function K(S,A){var W=Array.isArray(S)?S[A]:S;if(!W)return null;var I=F(W);if(Number.isNaN(I.getTime()))throw new Error("Invalid date: ".concat(S));return I}function Y(S,A){var W=S.value,I=S.minDate,O=S.maxDate,h=S.maxDetail,w=K(W,A);if(!w)return null;var V=G(h),H=function(){switch(A){case 0:return(0,d.getBegin)(V,w);case 1:return(0,d.getEnd)(V,w);default:throw new Error("Invalid index value: ".concat(A))}}();return(0,v.between)(H,I,O)}var $=function(S){return Y(S,0)},U=function(S){return Y(S,1)},M=function(S){return[$,U].map(function(A){return A(S)})};function C(S){var A=S.maxDate,W=S.maxDetail,I=S.minDate,O=S.minDetail,h=S.value,w=S.view,V=B(w,O,W),H=$({value:h,minDate:I,maxDate:A,maxDetail:W})||new Date;return(0,d.getBegin)(V,H)}function y(S){var A=S.activeStartDate,W=S.defaultActiveStartDate,I=S.defaultValue,O=S.defaultView,h=S.maxDate,w=S.maxDetail,V=S.minDate,H=S.minDetail,_=S.value,oe=S.view,te=B(oe,H,w),Q=A||W;return Q?(0,d.getBegin)(te,Q):C({maxDate:h,maxDetail:w,minDate:V,minDetail:H,value:_||I,view:oe||O})}function b(S){return S&&(!Array.isArray(S)||S.length===1)}function T(S,A){return S instanceof Date&&A instanceof Date&&S.getTime()===A.getTime()}var R=(0,s.forwardRef)(function(A,W){var I=A.activeStartDate,O=A.allowPartialRange,h=A.calendarType,w=A.className,V=A.defaultActiveStartDate,H=A.defaultValue,_=A.defaultView,oe=A.formatDay,te=A.formatLongDate,Q=A.formatMonth,X=A.formatMonthYear,k=A.formatShortWeekday,re=A.formatWeekday,q=A.formatYear,le=A.goToRangeStartOnSelect,ee=le===void 0?!0:le,ie=A.inputRef,he=A.locale,me=A.maxDate,be=me===void 0?L:me,Be=A.maxDetail,je=Be===void 0?"month":Be,Ue=A.minDate,Ie=Ue===void 0?E:Ue,$e=A.minDetail,qe=$e===void 0?"century":$e,tt=A.navigationAriaLabel,ct=A.navigationAriaLive,gt=A.navigationLabel,dt=A.next2AriaLabel,Ot=A.next2Label,Me=A.nextAriaLabel,Le=A.nextLabel,He=A.onActiveStartDateChange,_e=A.onChange,Xe=A.onClickDay,rt=A.onClickDecade,ke=A.onClickMonth,ft=A.onClickWeekNumber,vt=A.onClickYear,Pt=A.onDrillDown,ht=A.onDrillUp,Rt=A.onViewChange,jt=A.prev2AriaLabel,ut=A.prev2Label,Ft=A.prevAriaLabel,Wt=A.prevLabel,Lt=A.returnValue,$t=Lt===void 0?"start":Lt,Gt=A.selectRange,Yt=A.showDoubleView,Kt=A.showFixedNumberOfWeeks,nr=A.showNavigation,_t=nr===void 0?!0:nr,Xt=A.showNeighboringCentury,ar=A.showNeighboringDecade,cr=A.showNeighboringMonth,wr=cr===void 0?!0:cr,kt=A.showWeekNumbers,hr=A.tileClassName,ir=A.tileContent,mt=A.tileDisabled,qt=A.value,pr=A.view,bt=(0,s.useState)(V),fr=bt[0],Or=bt[1],de=(0,s.useState)(null),we=de[0],Fe=de[1],ze=(0,s.useState)(Array.isArray(H)?H.map(function(Et){return Et!==null?F(Et):null}):H!=null?F(H):null),et=ze[0],st=ze[1],xe=(0,s.useState)(_),At=xe[0],pt=xe[1],It=I||fr||y({activeStartDate:I,defaultActiveStartDate:V,defaultValue:H,defaultView:_,maxDate:be,maxDetail:je,minDate:Ie,minDetail:qe,value:qt,view:pr}),wt=function(){var Et=function(){return Gt&&b(et)?et:qt!==void 0?qt:et}();return Et?Array.isArray(Et)?Et.map(function(er){return er!==null?F(er):null}):Et!==null?F(Et):null:null}(),or=G(je),Mt=B(pr||At,qe,je),Zt=j(qe,je),Rr=Gt?we:null,ur=Zt.indexOf(Mt)<Zt.length-1,xt=Zt.indexOf(Mt)>0,gr=(0,s.useCallback)(function(Et){var er=function(){switch($t){case"start":return $;case"end":return U;case"range":return M;default:throw new Error("Invalid returnValue.")}}();return er({maxDate:be,maxDetail:je,minDate:Ie,value:Et})},[be,je,Ie,$t]),Vt=(0,s.useCallback)(function(Et,er){Or(Et);var tr={action:er,activeStartDate:Et,value:wt,view:Mt};He&&!T(It,Et)&&He(tr)},[It,He,wt,Mt]),Mr=(0,s.useCallback)(function(Et,er){var tr=function(){switch(Mt){case"century":return rt;case"decade":return vt;case"year":return ke;case"month":return Xe;default:throw new Error("Invalid view: ".concat(Mt,"."))}}();tr&&tr(Et,er)},[Xe,rt,ke,vt,Mt]),Ur=(0,s.useCallback)(function(Et,er){if(ur){Mr(Et,er);var tr=Zt[Zt.indexOf(Mt)+1];if(!tr)throw new Error("Attempted to drill down from the lowest view.");Or(Et),pt(tr);var lr={action:"drillDown",activeStartDate:Et,value:wt,view:tr};He&&!T(It,Et)&&He(lr),Rt&&Mt!==tr&&Rt(lr),Pt&&Pt(lr)}},[It,ur,He,Mr,Pt,Rt,wt,Mt,Zt]),Dr=(0,s.useCallback)(function(){if(xt){var Et=Zt[Zt.indexOf(Mt)-1];if(!Et)throw new Error("Attempted to drill up from the highest view.");var er=(0,d.getBegin)(Et,It);Or(er),pt(Et);var tr={action:"drillUp",activeStartDate:er,value:wt,view:Et};He&&!T(It,er)&&He(tr),Rt&&Mt!==Et&&Rt(tr),ht&&ht(tr)}},[It,xt,He,ht,Rt,wt,Mt,Zt]),Vr=(0,s.useCallback)(function(Et,er){var tr=wt;Mr(Et,er);var lr=Gt&&!b(tr),Pr;if(Gt)if(lr)Pr=(0,d.getBegin)(or,Et);else{if(!tr)throw new Error("previousValue is required");if(Array.isArray(tr))throw new Error("previousValue must not be an array");Pr=(0,d.getValueRange)(or,tr,Et)}else Pr=gr(Et);var Yr=!Gt||lr||ee?C({maxDate:be,maxDetail:je,minDate:Ie,minDetail:qe,value:Pr,view:Mt}):null;er.persist(),Or(Yr),st(Pr);var Zr={action:"onChange",activeStartDate:Yr,value:Pr,view:Mt};if(He&&!T(It,Yr)&&He(Zr),_e)if(Gt){var Qr=b(Pr);if(!Qr)_e(Pr||null,er);else if(O){if(Array.isArray(Pr))throw new Error("value must not be an array");_e([Pr||null,null],er)}}else _e(Pr||null,er)},[It,O,gr,ee,be,je,Ie,qe,He,_e,Mr,Gt,wt,or,Mt]);function Ir(Et){Fe(Et)}function dr(){Fe(null)}(0,s.useImperativeHandle)(W,function(){return{activeStartDate:It,drillDown:Ur,drillUp:Dr,onChange:Vr,setActiveStartDate:Vt,value:wt,view:Mt}},[It,Ur,Dr,Vr,Vt,wt,Mt]);function cn(Et){var er=Et?(0,d.getBeginNext)(Mt,It):(0,d.getBegin)(Mt,It),tr=ur?Ur:Vr,lr={activeStartDate:er,hover:Rr,locale:he,maxDate:be,minDate:Ie,onClick:tr,onMouseOver:Gt?Ir:void 0,tileClassName:hr,tileContent:ir,tileDisabled:mt,value:wt,valueType:or};switch(Mt){case"century":return(0,f.jsx)(o.default,r({formatYear:q,showNeighboringCentury:Xt},lr));case"decade":return(0,f.jsx)(i.default,r({formatYear:q,showNeighboringDecade:ar},lr));case"year":return(0,f.jsx)(a.default,r({formatMonth:Q,formatMonthYear:X},lr));case"month":return(0,f.jsx)(u.default,r({calendarType:h,formatDay:oe,formatLongDate:te,formatShortWeekday:k,formatWeekday:re,onClickWeekNumber:ft,onMouseLeave:Gt?dr:void 0,showFixedNumberOfWeeks:typeof Kt<"u"?Kt:Yt,showNeighboringMonth:wr,showWeekNumbers:kt},lr));default:throw new Error("Invalid view: ".concat(Mt,"."))}}function gn(){return _t?(0,f.jsx)(n.default,{activeStartDate:It,drillUp:Dr,formatMonthYear:X,formatYear:q,locale:he,maxDate:be,minDate:Ie,navigationAriaLabel:tt,navigationAriaLive:ct,navigationLabel:gt,next2AriaLabel:dt,next2Label:Ot,nextAriaLabel:Me,nextLabel:Le,prev2AriaLabel:jt,prev2Label:ut,prevAriaLabel:Ft,prevLabel:Wt,setActiveStartDate:Vt,showDoubleView:Yt,view:Mt,views:Zt}):null}var Xr=Array.isArray(wt)?wt:[wt];return(0,f.jsxs)("div",{className:(0,l.default)(p,Gt&&Xr.length===1&&"".concat(p,"--selectRange"),Yt&&"".concat(p,"--doubleView"),w),ref:ie,children:[gn(),(0,f.jsxs)("div",{className:"".concat(p,"__viewContainer"),onBlur:Gt?dr:void 0,onMouseLeave:Gt?dr:void 0,children:[cn(),Yt?cn(!0):null]})]})});e.default=R},48391:(z,e,t)=>{"use strict";"use client";Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=t(74848),c=t(4081),f=t(26335),s=t(23340),l="react-calendar__navigation";function n(o){var i=o.activeStartDate,a=o.drillUp,u=o.formatMonthYear,d=u===void 0?s.formatMonthYear:u,v=o.formatYear,p=v===void 0?s.formatYear:v,m=o.locale,P=o.maxDate,E=o.minDate,L=o.navigationAriaLabel,F=L===void 0?"":L,j=o.navigationAriaLive,D=o.navigationLabel,B=o.next2AriaLabel,G=B===void 0?"":B,K=o.next2Label,Y=K===void 0?"\xBB":K,$=o.nextAriaLabel,U=$===void 0?"":$,M=o.nextLabel,C=M===void 0?"\u203A":M,y=o.prev2AriaLabel,b=y===void 0?"":y,T=o.prev2Label,R=T===void 0?"\xAB":T,S=o.prevAriaLabel,A=S===void 0?"":S,W=o.prevLabel,I=W===void 0?"\u2039":W,O=o.setActiveStartDate,h=o.showDoubleView,w=o.view,V=o.views,H=V.indexOf(w)>0,_=w!=="century",oe=(0,f.getBeginPrevious)(w,i),te=_?(0,f.getBeginPrevious2)(w,i):void 0,Q=(0,f.getBeginNext)(w,i),X=_?(0,f.getBeginNext2)(w,i):void 0,k=function(){if(oe.getFullYear()<0)return!0;var je=(0,f.getEndPrevious)(w,i);return E&&E>=je}(),re=_&&function(){if(te.getFullYear()<0)return!0;var je=(0,f.getEndPrevious2)(w,i);return E&&E>=je}(),q=P&&P<Q,le=_&&P&&P<X;function ee(){O(oe,"prev")}function ie(){O(te,"prev2")}function he(){O(Q,"next")}function me(){O(X,"next2")}function be(je){var Ue=function(){switch(w){case"century":return(0,f.getCenturyLabel)(m,p,je);case"decade":return(0,f.getDecadeLabel)(m,p,je);case"year":return p(m,je);case"month":return d(m,je);default:throw new Error("Invalid view: ".concat(w,"."))}}();return D?D({date:je,label:Ue,locale:m||(0,c.getUserLocale)()||void 0,view:w}):Ue}function Be(){var je="".concat(l,"__label");return(0,r.jsxs)("button",{"aria-label":F,"aria-live":j,className:je,disabled:!H,onClick:a,style:{flexGrow:1},type:"button",children:[(0,r.jsx)("span",{className:"".concat(je,"__labelText ").concat(je,"__labelText--from"),children:be(i)}),h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"".concat(je,"__divider"),children:" \u2013 "}),(0,r.jsx)("span",{className:"".concat(je,"__labelText ").concat(je,"__labelText--to"),children:be(Q)})]}):null]})}return(0,r.jsxs)("div",{className:l,children:[R!==null&&_?(0,r.jsx)("button",{"aria-label":b,className:"".concat(l,"__arrow ").concat(l,"__prev2-button"),disabled:re,onClick:ie,type:"button",children:R}):null,I!==null&&(0,r.jsx)("button",{"aria-label":A,className:"".concat(l,"__arrow ").concat(l,"__prev-button"),disabled:k,onClick:ee,type:"button",children:I}),Be(),C!==null&&(0,r.jsx)("button",{"aria-label":U,className:"".concat(l,"__arrow ").concat(l,"__next-button"),disabled:q,onClick:he,type:"button",children:C}),Y!==null&&_?(0,r.jsx)("button",{"aria-label":G,className:"".concat(l,"__arrow ").concat(l,"__next2-button"),disabled:le,onClick:me,type:"button",children:Y}):null]})}},13863:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(n){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])}return n},r.apply(this,arguments)},c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=t(74848),s=c(t(31585));function l(n){function o(){return(0,f.jsx)(s.default,r({},n))}return(0,f.jsx)("div",{className:"react-calendar__century-view",children:o()})}},75138:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(d){for(var v,p=1,m=arguments.length;p<m;p++){v=arguments[p];for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(d[P]=v[P])}return d},r.apply(this,arguments)},c=this&&this.__rest||function(d,v){var p={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&v.indexOf(m)<0&&(p[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,m=Object.getOwnPropertySymbols(d);P<m.length;P++)v.indexOf(m[P])<0&&Object.prototype.propertyIsEnumerable.call(d,m[P])&&(p[m[P]]=d[m[P]]);return p},f=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var s=t(74848),l=t(51229),n=f(t(95044)),o=t(26335),i=t(23340),a="react-calendar__century-view__decades__decade";function u(d){var v=d.classes,p=v===void 0?[]:v,m=d.currentCentury,P=d.formatYear,E=P===void 0?i.formatYear:P,L=c(d,["classes","currentCentury","formatYear"]),F=L.date,j=L.locale,D=[];return p&&D.push.apply(D,p),a&&D.push(a),(0,l.getCenturyStart)(F).getFullYear()!==m&&D.push("".concat(a,"--neighboringCentury")),(0,s.jsx)(n.default,r({},L,{classes:D,maxDateTransform:l.getDecadeEnd,minDateTransform:l.getDecadeStart,view:"century",children:(0,o.getDecadeLabel)(j,E,F)}))}},31585:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(u){for(var d,v=1,p=arguments.length;v<p;v++){d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])}return u},r.apply(this,arguments)},c=this&&this.__rest||function(u,d){var v={};for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&d.indexOf(p)<0&&(v[p]=u[p]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,p=Object.getOwnPropertySymbols(u);m<p.length;m++)d.indexOf(p[m])<0&&Object.prototype.propertyIsEnumerable.call(u,p[m])&&(v[p[m]]=u[p[m]]);return v},f=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=t(74848),l=t(51229),n=f(t(14729)),o=f(t(75138)),i=t(26335);function a(u){var d=u.activeStartDate,v=u.hover,p=u.showNeighboringCentury,m=u.value,P=u.valueType,E=c(u,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),L=(0,i.getBeginOfCenturyYear)(d),F=L+(p?119:99);return(0,s.jsx)(n.default,{className:"react-calendar__century-view__decades",dateTransform:l.getDecadeStart,dateType:"decade",end:F,hover:v,renderTile:function(j){var D=j.date,B=c(j,["date"]);return(0,s.jsx)(o.default,r({},E,B,{activeStartDate:d,currentCentury:L,date:D}),D.getTime())},start:L,step:10,value:m,valueType:P})}},31057:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(n){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])}return n},r.apply(this,arguments)},c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=t(74848),s=c(t(50676));function l(n){function o(){return(0,f.jsx)(s.default,r({},n))}return(0,f.jsx)("div",{className:"react-calendar__decade-view",children:o()})}},53185:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(u){for(var d,v=1,p=arguments.length;v<p;v++){d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])}return u},r.apply(this,arguments)},c=this&&this.__rest||function(u,d){var v={};for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&d.indexOf(p)<0&&(v[p]=u[p]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,p=Object.getOwnPropertySymbols(u);m<p.length;m++)d.indexOf(p[m])<0&&Object.prototype.propertyIsEnumerable.call(u,p[m])&&(v[p[m]]=u[p[m]]);return v},f=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=t(74848),l=t(51229),n=f(t(95044)),o=t(23340),i="react-calendar__decade-view__years__year";function a(u){var d=u.classes,v=d===void 0?[]:d,p=u.currentDecade,m=u.formatYear,P=m===void 0?o.formatYear:m,E=c(u,["classes","currentDecade","formatYear"]),L=E.date,F=E.locale,j=[];return v&&j.push.apply(j,v),i&&j.push(i),(0,l.getDecadeStart)(L).getFullYear()!==p&&j.push("".concat(i,"--neighboringDecade")),(0,s.jsx)(n.default,r({},E,{classes:j,maxDateTransform:l.getYearEnd,minDateTransform:l.getYearStart,view:"decade",children:P(F,L)}))}},50676:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(u){for(var d,v=1,p=arguments.length;v<p;v++){d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])}return u},r.apply(this,arguments)},c=this&&this.__rest||function(u,d){var v={};for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&d.indexOf(p)<0&&(v[p]=u[p]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,p=Object.getOwnPropertySymbols(u);m<p.length;m++)d.indexOf(p[m])<0&&Object.prototype.propertyIsEnumerable.call(u,p[m])&&(v[p[m]]=u[p[m]]);return v},f=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=t(74848),l=t(51229),n=f(t(14729)),o=f(t(53185)),i=t(26335);function a(u){var d=u.activeStartDate,v=u.hover,p=u.showNeighboringDecade,m=u.value,P=u.valueType,E=c(u,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),L=(0,i.getBeginOfDecadeYear)(d),F=L+(p?11:9);return(0,s.jsx)(n.default,{className:"react-calendar__decade-view__years",dateTransform:l.getYearStart,dateType:"year",end:F,hover:v,renderTile:function(j){var D=j.date,B=c(j,["date"]);return(0,s.jsx)(o.default,r({},E,B,{activeStartDate:d,currentDecade:L,date:D}),D.getTime())},start:L,value:m,valueType:P})}},77707:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(o){for(var i,a=1,u=arguments.length;a<u;a++){i=arguments[a];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(o[d]=i[d])}return o},r.apply(this,arguments)},c=this&&this.__rest||function(o,i){var a={};for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&i.indexOf(u)<0&&(a[u]=o[u]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,u=Object.getOwnPropertySymbols(o);d<u.length;d++)i.indexOf(u[d])<0&&Object.prototype.propertyIsEnumerable.call(o,u[d])&&(a[u[d]]=o[u[d]]);return a};Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var f=t(74848),s=t(96540);function l(o){return"".concat(o,"%")}function n(o){var i=o.children,a=o.className,u=o.count,d=o.direction,v=o.offset,p=o.style,m=o.wrap,P=c(o,["children","className","count","direction","offset","style","wrap"]);return(0,f.jsx)("div",r({className:a,style:r({display:"flex",flexDirection:d,flexWrap:m?"wrap":"nowrap"},p)},P,{children:s.Children.map(i,function(E,L){var F=v&&L===0?l(100*v/u):null;return(0,s.cloneElement)(E,r(r({},E.props),{style:{flexBasis:l(100/u),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:F,marginInlineStart:F,marginInlineEnd:0}}))})}))}},37869:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(v){for(var p,m=1,P=arguments.length;m<P;m++){p=arguments[m];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(v[E]=p[E])}return v},r.apply(this,arguments)},c=this&&this.__rest||function(v,p){var m={};for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&p.indexOf(P)<0&&(m[P]=v[P]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,P=Object.getOwnPropertySymbols(v);E<P.length;E++)p.indexOf(P[E])<0&&Object.prototype.propertyIsEnumerable.call(v,P[E])&&(m[P[E]]=v[P[E]]);return m},f=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var s=t(74848),l=f(t(71508)),n=f(t(80015)),o=f(t(3871)),i=f(t(12188)),a=t(70821);function u(v){if(v)for(var p=0,m=Object.entries(a.CALENDAR_TYPE_LOCALES);p<m.length;p++){var P=m[p],E=P[0],L=P[1];if(L.includes(v))return E}return a.CALENDAR_TYPES.ISO_8601}function d(v){var p=v.activeStartDate,m=v.locale,P=v.onMouseLeave,E=v.showFixedNumberOfWeeks,L=v.calendarType,F=L===void 0?u(m):L,j=v.formatShortWeekday,D=v.formatWeekday,B=v.onClickWeekNumber,G=v.showWeekNumbers,K=c(v,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function Y(){return(0,s.jsx)(o.default,{calendarType:F,formatShortWeekday:j,formatWeekday:D,locale:m,onMouseLeave:P})}function $(){return G?(0,s.jsx)(i.default,{activeStartDate:p,calendarType:F,onClickWeekNumber:B,onMouseLeave:P,showFixedNumberOfWeeks:E}):null}function U(){return(0,s.jsx)(n.default,r({calendarType:F},K))}var M="react-calendar__month-view";return(0,s.jsx)("div",{className:(0,l.default)(M,G?"".concat(M,"--weekNumbers"):""),children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[$(),(0,s.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[Y(),U()]})]})})}},11088:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(d){for(var v,p=1,m=arguments.length;p<m;p++){v=arguments[p];for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(d[P]=v[P])}return d},r.apply(this,arguments)},c=this&&this.__rest||function(d,v){var p={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&v.indexOf(m)<0&&(p[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,m=Object.getOwnPropertySymbols(d);P<m.length;P++)v.indexOf(m[P])<0&&Object.prototype.propertyIsEnumerable.call(d,m[P])&&(p[m[P]]=d[m[P]]);return p},f=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var s=t(74848),l=t(51229),n=f(t(95044)),o=t(26335),i=t(23340),a="react-calendar__month-view__days__day";function u(d){var v=d.calendarType,p=d.classes,m=p===void 0?[]:p,P=d.currentMonthIndex,E=d.formatDay,L=E===void 0?i.formatDay:E,F=d.formatLongDate,j=F===void 0?i.formatLongDate:F,D=c(d,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),B=D.date,G=D.locale,K=[];return m&&K.push.apply(K,m),a&&K.push(a),(0,o.isWeekend)(B,v)&&K.push("".concat(a,"--weekend")),B.getMonth()!==P&&K.push("".concat(a,"--neighboringMonth")),(0,s.jsx)(n.default,r({},D,{classes:K,formatAbbr:j,maxDateTransform:l.getDayEnd,minDateTransform:l.getDayStart,view:"month",children:L(G,B)}))}},80015:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(u){for(var d,v=1,p=arguments.length;v<p;v++){d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(u[m]=d[m])}return u},r.apply(this,arguments)},c=this&&this.__rest||function(u,d){var v={};for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&d.indexOf(p)<0&&(v[p]=u[p]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,p=Object.getOwnPropertySymbols(u);m<p.length;m++)d.indexOf(p[m])<0&&Object.prototype.propertyIsEnumerable.call(u,p[m])&&(v[p[m]]=u[p[m]]);return v},f=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var s=t(74848),l=t(51229),n=f(t(14729)),o=f(t(11088)),i=t(26335);function a(u){var d=u.activeStartDate,v=u.calendarType,p=u.hover,m=u.showFixedNumberOfWeeks,P=u.showNeighboringMonth,E=u.value,L=u.valueType,F=c(u,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),j=(0,l.getYear)(d),D=(0,l.getMonth)(d),B=m||P,G=(0,i.getDayOfWeek)(d,v),K=B?0:G,Y=(B?-G:0)+1,$=function(){if(m)return Y+6*7-1;var U=(0,l.getDaysInMonth)(d);if(P){var M=new Date;M.setFullYear(j,D,U),M.setHours(0,0,0,0);var C=7-(0,i.getDayOfWeek)(M,v)-1;return U+C}return U}();return(0,s.jsx)(n.default,{className:"react-calendar__month-view__days",count:7,dateTransform:function(U){var M=new Date;return M.setFullYear(j,D,U),(0,l.getDayStart)(M)},dateType:"day",hover:p,end:$,renderTile:function(U){var M=U.date,C=c(U,["date"]);return(0,s.jsx)(o.default,r({},F,C,{activeStartDate:d,calendarType:v,currentMonthIndex:D,date:M}),M.getTime())},offset:K,start:Y,value:E,valueType:L})}},10073:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(n){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])}return n},r.apply(this,arguments)},c=this&&this.__rest||function(n,o){var i={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&o.indexOf(a)<0&&(i[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(n);u<a.length;u++)o.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(n,a[u])&&(i[a[u]]=n[a[u]]);return i};Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=t(74848),s="react-calendar__tile";function l(n){var o=n.onClickWeekNumber,i=n.weekNumber,a=(0,f.jsx)("span",{children:i});if(o){var u=n.date,d=n.onClickWeekNumber,v=n.weekNumber,p=c(n,["date","onClickWeekNumber","weekNumber"]);return(0,f.jsx)("button",r({},p,{className:s,onClick:function(L){return d(v,u,L)},type:"button",children:a}))}else{var m=n.date,P=n.onClickWeekNumber,E=n.weekNumber,p=c(n,["date","onClickWeekNumber","weekNumber"]);return(0,f.jsx)("div",r({},p,{className:s,children:a}))}}},12188:function(z,e,t){"use strict";var r=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var c=t(74848),f=t(51229),s=r(t(10073)),l=r(t(77707)),n=t(26335);function o(i){var a=i.activeStartDate,u=i.calendarType,d=i.onClickWeekNumber,v=i.onMouseLeave,p=i.showFixedNumberOfWeeks,m=function(){if(p)return 6;var L=(0,f.getDaysInMonth)(a),F=(0,n.getDayOfWeek)(a,u),j=L-(7-F);return 1+Math.ceil(j/7)}(),P=function(){for(var L=(0,f.getYear)(a),F=(0,f.getMonth)(a),j=(0,f.getDate)(a),D=[],B=0;B<m;B+=1)D.push((0,n.getBeginOfWeek)(new Date(L,F,j+B*7),u));return D}(),E=P.map(function(L){return(0,n.getWeekNumber)(L,u)});return(0,c.jsx)(l.default,{className:"react-calendar__month-view__weekNumbers",count:m,direction:"column",onFocus:v,onMouseOver:v,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:E.map(function(L,F){var j=P[F];if(!j)throw new Error("date is not defined");return(0,c.jsx)(s.default,{date:j,onClickWeekNumber:d,weekNumber:L},L)})})}},3871:function(z,e,t){"use strict";var r=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var c=t(74848),f=r(t(71508)),s=t(51229),l=r(t(77707)),n=t(26335),o=t(23340),i="react-calendar__month-view__weekdays",a="".concat(i,"__weekday");function u(d){for(var v=d.calendarType,p=d.formatShortWeekday,m=p===void 0?o.formatShortWeekday:p,P=d.formatWeekday,E=P===void 0?o.formatWeekday:P,L=d.locale,F=d.onMouseLeave,j=new Date,D=(0,s.getMonthStart)(j),B=(0,s.getYear)(D),G=(0,s.getMonth)(D),K=[],Y=1;Y<=7;Y+=1){var $=new Date(B,G,Y-(0,n.getDayOfWeek)(D,v)),U=E(L,$);K.push((0,c.jsx)("div",{className:(0,f.default)(a,(0,n.isCurrentDayOfWeek)($)&&"".concat(a,"--current"),(0,n.isWeekend)($,v)&&"".concat(a,"--weekend")),children:(0,c.jsx)("abbr",{"aria-label":U,title:U,children:m(L,$).replace(".","")})},Y))}return(0,c.jsx)(l.default,{className:i,count:7,onFocus:F,onMouseOver:F,children:K})}},95044:function(z,e,t){"use strict";var r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=t(74848),f=t(96540),s=r(t(71508));function l(n){var o=n.activeStartDate,i=n.children,a=n.classes,u=n.date,d=n.formatAbbr,v=n.locale,p=n.maxDate,m=n.maxDateTransform,P=n.minDate,E=n.minDateTransform,L=n.onClick,F=n.onMouseOver,j=n.style,D=n.tileClassName,B=n.tileContent,G=n.tileDisabled,K=n.view,Y=(0,f.useMemo)(function(){var U={activeStartDate:o,date:u,view:K};return typeof D=="function"?D(U):D},[o,u,D,K]),$=(0,f.useMemo)(function(){var U={activeStartDate:o,date:u,view:K};return typeof B=="function"?B(U):B},[o,u,B,K]);return(0,c.jsxs)("button",{className:(0,s.default)(a,Y),disabled:P&&E(P)>u||p&&m(p)<u||G?.({activeStartDate:o,date:u,view:K}),onClick:L?function(U){return L(u,U)}:void 0,onFocus:F?function(){return F(u)}:void 0,onMouseOver:F?function(){return F(u)}:void 0,style:j,type:"button",children:[d?(0,c.jsx)("abbr",{"aria-label":d(v,u),children:i}):i,$]})}},14729:function(z,e,t){"use strict";var r=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=t(74848),f=r(t(77707)),s=t(70479);function l(n){for(var o=n.className,i=n.count,a=i===void 0?3:i,u=n.dateTransform,d=n.dateType,v=n.end,p=n.hover,m=n.offset,P=n.renderTile,E=n.start,L=n.step,F=L===void 0?1:L,j=n.value,D=n.valueType,B=[],G=E;G<=v;G+=F){var K=u(G);B.push(P({classes:(0,s.getTileClasses)({date:K,dateType:d,hover:p,value:j,valueType:D}),date:K}))}return(0,c.jsx)(f.default,{className:o,count:a,offset:m,wrap:!0,children:B})}},13967:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(n){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])}return n},r.apply(this,arguments)},c=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=t(74848),s=c(t(93572));function l(n){function o(){return(0,f.jsx)(s.default,r({},n))}return(0,f.jsx)("div",{className:"react-calendar__year-view",children:o()})}},41169:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(d){for(var v,p=1,m=arguments.length;p<m;p++){v=arguments[p];for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(d[P]=v[P])}return d},r.apply(this,arguments)},c=this&&this.__rest||function(d,v){var p={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&v.indexOf(m)<0&&(p[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,m=Object.getOwnPropertySymbols(d);P<m.length;P++)v.indexOf(m[P])<0&&Object.prototype.propertyIsEnumerable.call(d,m[P])&&(p[m[P]]=d[m[P]]);return p},f=this&&this.__spreadArray||function(d,v,p){if(p||arguments.length===2)for(var m=0,P=v.length,E;m<P;m++)(E||!(m in v))&&(E||(E=Array.prototype.slice.call(v,0,m)),E[m]=v[m]);return d.concat(E||Array.prototype.slice.call(v))},s=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var l=t(74848),n=t(51229),o=s(t(95044)),i=t(23340),a="react-calendar__year-view__months__month";function u(d){var v=d.classes,p=v===void 0?[]:v,m=d.formatMonth,P=m===void 0?i.formatMonth:m,E=d.formatMonthYear,L=E===void 0?i.formatMonthYear:E,F=c(d,["classes","formatMonth","formatMonthYear"]),j=F.date,D=F.locale;return(0,l.jsx)(o.default,r({},F,{classes:f(f([],p,!0),[a],!1),formatAbbr:L,maxDateTransform:n.getMonthEnd,minDateTransform:n.getMonthStart,view:"year",children:P(D,j)}))}},93572:function(z,e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(a){for(var u,d=1,v=arguments.length;d<v;d++){u=arguments[d];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(a[p]=u[p])}return a},r.apply(this,arguments)},c=this&&this.__rest||function(a,u){var d={};for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&u.indexOf(v)<0&&(d[v]=a[v]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,v=Object.getOwnPropertySymbols(a);p<v.length;p++)u.indexOf(v[p])<0&&Object.prototype.propertyIsEnumerable.call(a,v[p])&&(d[v[p]]=a[v[p]]);return d},f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var s=t(74848),l=t(51229),n=f(t(14729)),o=f(t(41169));function i(a){var u=a.activeStartDate,d=a.hover,v=a.value,p=a.valueType,m=c(a,["activeStartDate","hover","value","valueType"]),P=0,E=11,L=(0,l.getYear)(u);return(0,s.jsx)(n.default,{className:"react-calendar__year-view__months",dateTransform:function(F){var j=new Date;return j.setFullYear(L,F,1),(0,l.getMonthStart)(j)},dateType:"month",end:E,hover:d,renderTile:function(F){var j=F.date,D=c(F,["date"]);return(0,s.jsx)(o.default,r({},m,D,{activeStartDate:u,date:j}),j.getTime())},start:P,value:v,valueType:p})}},15741:function(z,e,t){"use strict";var r=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.YearView=e.Navigation=e.MonthView=e.DecadeView=e.CenturyView=e.Calendar=void 0;var c=r(t(32562));e.Calendar=c.default;var f=r(t(13863));e.CenturyView=f.default;var s=r(t(31057));e.DecadeView=s.default;var l=r(t(37869));e.MonthView=l.default;var n=r(t(48391));e.Navigation=n.default;var o=r(t(13967));e.YearView=o.default,e.default=c.default},70821:(z,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WEEKDAYS=e.CALENDAR_TYPE_LOCALES=e.CALENDAR_TYPES=void 0,e.CALENDAR_TYPES={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},e.CALENDAR_TYPE_LOCALES={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},e.WEEKDAYS=[0,1,2,3,4,5,6]},23340:function(z,e,t){"use strict";var r=this&&this.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(e,"__esModule",{value:!0}),e.formatYear=e.formatWeekday=e.formatShortWeekday=e.formatMonthYear=e.formatMonth=e.formatLongDate=e.formatDay=e.formatDate=void 0;var c=r(t(4081)),f=new Map;function s(P){return function(L,F){var j=L||(0,c.default)();f.has(j)||f.set(j,new Map);var D=f.get(j);return D.has(P)||D.set(P,new Intl.DateTimeFormat(j||void 0,P).format),D.get(P)(F)}}function l(P){var E=new Date(P);return new Date(E.setHours(12))}function n(P){return function(E,L){return s(P)(E,l(L))}}var o={day:"numeric",month:"numeric",year:"numeric"},i={day:"numeric"},a={day:"numeric",month:"long",year:"numeric"},u={month:"long"},d={month:"long",year:"numeric"},v={weekday:"short"},p={weekday:"long"},m={year:"numeric"};e.formatDate=n(o),e.formatDay=n(i),e.formatLongDate=n(a),e.formatMonth=n(u),e.formatMonthYear=n(d),e.formatShortWeekday=n(v),e.formatWeekday=n(p),e.formatYear=n(m)},26335:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDayOfWeek=o,e.getBeginOfCenturyYear=i,e.getBeginOfDecadeYear=a,e.getBeginOfWeek=u,e.getWeekNumber=d,e.getBegin=v,e.getBeginPrevious=p,e.getBeginNext=m,e.getBeginPrevious2=P,e.getBeginNext2=E,e.getEnd=L,e.getEndPrevious=F,e.getEndPrevious2=j,e.getRange=D,e.getValueRange=B,e.getCenturyLabel=K,e.getDecadeLabel=Y,e.isCurrentDayOfWeek=$,e.isWeekend=U;var r=t(51229),c=t(70821),f=t(23340),s=c.WEEKDAYS[0],l=c.WEEKDAYS[5],n=c.WEEKDAYS[6];function o(M,C){C===void 0&&(C=c.CALENDAR_TYPES.ISO_8601);var y=M.getDay();switch(C){case c.CALENDAR_TYPES.ISO_8601:return(y+6)%7;case c.CALENDAR_TYPES.ISLAMIC:return(y+1)%7;case c.CALENDAR_TYPES.HEBREW:case c.CALENDAR_TYPES.GREGORY:return y;default:throw new Error("Unsupported calendar type.")}}function i(M){var C=(0,r.getCenturyStart)(M);return(0,r.getYear)(C)}function a(M){var C=(0,r.getDecadeStart)(M);return(0,r.getYear)(C)}function u(M,C){C===void 0&&(C=c.CALENDAR_TYPES.ISO_8601);var y=(0,r.getYear)(M),b=(0,r.getMonth)(M),T=M.getDate()-o(M,C);return new Date(y,b,T)}function d(M,C){C===void 0&&(C=c.CALENDAR_TYPES.ISO_8601);var y=C===c.CALENDAR_TYPES.GREGORY?c.CALENDAR_TYPES.GREGORY:c.CALENDAR_TYPES.ISO_8601,b=u(M,C),T=(0,r.getYear)(M)+1,R,S;do R=new Date(T,0,y===c.CALENDAR_TYPES.ISO_8601?4:1),S=u(R,C),T-=1;while(M<S);return Math.round((b.getTime()-S.getTime())/(864e5*7))+1}function v(M,C){switch(M){case"century":return(0,r.getCenturyStart)(C);case"decade":return(0,r.getDecadeStart)(C);case"year":return(0,r.getYearStart)(C);case"month":return(0,r.getMonthStart)(C);case"day":return(0,r.getDayStart)(C);default:throw new Error("Invalid rangeType: ".concat(M))}}function p(M,C){switch(M){case"century":return(0,r.getPreviousCenturyStart)(C);case"decade":return(0,r.getPreviousDecadeStart)(C);case"year":return(0,r.getPreviousYearStart)(C);case"month":return(0,r.getPreviousMonthStart)(C);default:throw new Error("Invalid rangeType: ".concat(M))}}function m(M,C){switch(M){case"century":return(0,r.getNextCenturyStart)(C);case"decade":return(0,r.getNextDecadeStart)(C);case"year":return(0,r.getNextYearStart)(C);case"month":return(0,r.getNextMonthStart)(C);default:throw new Error("Invalid rangeType: ".concat(M))}}function P(M,C){switch(M){case"decade":return(0,r.getPreviousDecadeStart)(C,-100);case"year":return(0,r.getPreviousYearStart)(C,-10);case"month":return(0,r.getPreviousMonthStart)(C,-12);default:throw new Error("Invalid rangeType: ".concat(M))}}function E(M,C){switch(M){case"decade":return(0,r.getNextDecadeStart)(C,100);case"year":return(0,r.getNextYearStart)(C,10);case"month":return(0,r.getNextMonthStart)(C,12);default:throw new Error("Invalid rangeType: ".concat(M))}}function L(M,C){switch(M){case"century":return(0,r.getCenturyEnd)(C);case"decade":return(0,r.getDecadeEnd)(C);case"year":return(0,r.getYearEnd)(C);case"month":return(0,r.getMonthEnd)(C);case"day":return(0,r.getDayEnd)(C);default:throw new Error("Invalid rangeType: ".concat(M))}}function F(M,C){switch(M){case"century":return(0,r.getPreviousCenturyEnd)(C);case"decade":return(0,r.getPreviousDecadeEnd)(C);case"year":return(0,r.getPreviousYearEnd)(C);case"month":return(0,r.getPreviousMonthEnd)(C);default:throw new Error("Invalid rangeType: ".concat(M))}}function j(M,C){switch(M){case"decade":return(0,r.getPreviousDecadeEnd)(C,-100);case"year":return(0,r.getPreviousYearEnd)(C,-10);case"month":return(0,r.getPreviousMonthEnd)(C,-12);default:throw new Error("Invalid rangeType: ".concat(M))}}function D(M,C){switch(M){case"century":return(0,r.getCenturyRange)(C);case"decade":return(0,r.getDecadeRange)(C);case"year":return(0,r.getYearRange)(C);case"month":return(0,r.getMonthRange)(C);case"day":return(0,r.getDayRange)(C);default:throw new Error("Invalid rangeType: ".concat(M))}}function B(M,C,y){var b=[C,y].sort(function(T,R){return T.getTime()-R.getTime()});return[v(M,b[0]),L(M,b[1])]}function G(M,C,y){return y.map(function(b){return(C||f.formatYear)(M,b)}).join(" \u2013 ")}function K(M,C,y){return G(M,C,(0,r.getCenturyRange)(y))}function Y(M,C,y){return G(M,C,(0,r.getDecadeRange)(y))}function $(M){return M.getDay()===new Date().getDay()}function U(M,C){C===void 0&&(C=c.CALENDAR_TYPES.ISO_8601);var y=M.getDay();switch(C){case c.CALENDAR_TYPES.ISLAMIC:case c.CALENDAR_TYPES.HEBREW:return y===l||y===n;case c.CALENDAR_TYPES.ISO_8601:case c.CALENDAR_TYPES.GREGORY:return y===n||y===s;default:throw new Error("Unsupported calendar type.")}}},70479:(z,e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.between=c,e.isValueWithinRange=f,e.isRangeWithinRange=s,e.doRangesOverlap=l,e.getTileClasses=i;var r=t(26335);function c(a,u,d){return u&&u>a?u:d&&d<a?d:a}function f(a,u){return u[0]<=a&&u[1]>=a}function s(a,u){return a[0]<=u[0]&&a[1]>=u[1]}function l(a,u){return f(a[0],u)||f(a[1],u)}function n(a,u,d){var v=l(u,a),p=[];if(v){p.push(d);var m=f(a[0],u),P=f(a[1],u);m&&p.push("".concat(d,"Start")),P&&p.push("".concat(d,"End")),m&&P&&p.push("".concat(d,"BothEnds"))}return p}function o(a){return Array.isArray(a)?a[0]!==null&&a[1]!==null:a!==null}function i(a){if(!a)throw new Error("args is required");var u=a.value,d=a.date,v=a.hover,p="react-calendar__tile",m=[p];if(!d)return m;var P=new Date,E=function(){if(Array.isArray(d))return d;var G=a.dateType;if(!G)throw new Error("dateType is required when date is not an array of two dates");return(0,r.getRange)(G,d)}();if(f(P,E)&&m.push("".concat(p,"--now")),!u||!o(u))return m;var L=function(){if(Array.isArray(u))return u;var G=a.valueType;if(!G)throw new Error("valueType is required when value is not an array of two dates");return(0,r.getRange)(G,u)}();s(L,E)?m.push("".concat(p,"--active")):l(L,E)&&m.push("".concat(p,"--hasActive"));var F=n(L,E,"".concat(p,"--range"));m.push.apply(m,F);var j=Array.isArray(u)?u:[u];if(v&&j.length===1){var D=v>L[0]?[L[0],v]:[v,L[0]],B=n(D,E,"".concat(p,"--hover"));m.push.apply(m,B)}return m}},28895:z=>{"use strict";var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,f=(b,T)=>{for(var R in T)e(b,R,{get:T[R],enumerable:!0})},s=(b,T,R,S)=>{if(T&&typeof T=="object"||typeof T=="function")for(let A of r(T))!c.call(b,A)&&A!==R&&e(b,A,{get:()=>T[A],enumerable:!(S=t(T,A))||S.enumerable});return b},l=b=>s(e({},"__esModule",{value:!0}),b),n={};f(n,{__DO_NOT_USE__ActionTypes:()=>v,applyMiddleware:()=>C,bindActionCreators:()=>U,combineReducers:()=>Y,compose:()=>M,createStore:()=>j,isAction:()=>y,isPlainObject:()=>p,legacy_createStore:()=>D}),z.exports=l(n);function o(b){return`Minified Redux error #${b}; visit https://redux.js.org/Errors?code=${b} for the full message or use the non-minified dev environment for full errors. `}var i=typeof Symbol=="function"&&Symbol.observable||"@@observable",a=i,u=()=>Math.random().toString(36).substring(7).split("").join("."),d={INIT:`@@redux/INIT${u()}`,REPLACE:`@@redux/REPLACE${u()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${u()}`},v=d;function p(b){if(typeof b!="object"||b===null)return!1;let T=b;for(;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(b)===T||Object.getPrototypeOf(b)===null}function m(b){if(b===void 0)return"undefined";if(b===null)return"null";const T=typeof b;switch(T){case"boolean":case"string":case"number":case"symbol":case"function":return T}if(Array.isArray(b))return"array";if(L(b))return"date";if(E(b))return"error";const R=P(b);switch(R){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return R}return Object.prototype.toString.call(b).slice(8,-1).toLowerCase().replace(/\s/g,"")}function P(b){return typeof b.constructor=="function"?b.constructor.name:null}function E(b){return b instanceof Error||typeof b.message=="string"&&b.constructor&&typeof b.constructor.stackTraceLimit=="number"}function L(b){return b instanceof Date?!0:typeof b.toDateString=="function"&&typeof b.getDate=="function"&&typeof b.setDate=="function"}function F(b){return typeof b}function j(b,T,R){if(typeof b!="function")throw new Error(o(2));if(typeof T=="function"&&typeof R=="function"||typeof R=="function"&&typeof arguments[3]=="function")throw new Error(o(0));if(typeof T=="function"&&typeof R>"u"&&(R=T,T=void 0),typeof R<"u"){if(typeof R!="function")throw new Error(o(1));return R(j)(b,T)}let S=b,A=T,W=new Map,I=W,O=0,h=!1;function w(){I===W&&(I=new Map,W.forEach((X,k)=>{I.set(k,X)}))}function V(){if(h)throw new Error(o(3));return A}function H(X){if(typeof X!="function")throw new Error(o(4));if(h)throw new Error(o(5));let k=!0;w();const re=O++;return I.set(re,X),function(){if(k){if(h)throw new Error(o(6));k=!1,w(),I.delete(re),W=null}}}function _(X){if(!p(X))throw new Error(o(7));if(typeof X.type>"u")throw new Error(o(8));if(typeof X.type!="string")throw new Error(o(17));if(h)throw new Error(o(9));try{h=!0,A=S(A,X)}finally{h=!1}return(W=I).forEach(re=>{re()}),X}function oe(X){if(typeof X!="function")throw new Error(o(10));S=X,_({type:v.REPLACE})}function te(){const X=H;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(o(11));function re(){const le=k;le.next&&le.next(V())}return re(),{unsubscribe:X(re)}},[a](){return this}}}return _({type:v.INIT}),{dispatch:_,subscribe:H,getState:V,replaceReducer:oe,[a]:te}}function D(b,T,R){return j(b,T,R)}function B(b){typeof console<"u"&&typeof console.error=="function"&&console.error(b);try{throw new Error(b)}catch{}}function G(b,T,R,S){const A=Object.keys(T),W=R&&R.type===v.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(A.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!p(b))return`The ${W} has unexpected type of "${F(b)}". Expected argument to be an object with the following keys: "${A.join('", "')}"`;const I=Object.keys(b).filter(O=>!T.hasOwnProperty(O)&&!S[O]);if(I.forEach(O=>{S[O]=!0}),!(R&&R.type===v.REPLACE)&&I.length>0)return`Unexpected ${I.length>1?"keys":"key"} "${I.join('", "')}" found in ${W}. Expected to find one of the known reducer keys instead: "${A.join('", "')}". Unexpected keys will be ignored.`}function K(b){Object.keys(b).forEach(T=>{const R=b[T];if(typeof R(void 0,{type:v.INIT})>"u")throw new Error(o(12));if(typeof R(void 0,{type:v.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(o(13))})}function Y(b){const T=Object.keys(b),R={};for(let I=0;I<T.length;I++){const O=T[I];typeof b[O]=="function"&&(R[O]=b[O])}const S=Object.keys(R);let A,W;try{K(R)}catch(I){W=I}return function(O={},h){if(W)throw W;let w=!1;const V={};for(let H=0;H<S.length;H++){const _=S[H],oe=R[_],te=O[_],Q=oe(te,h);if(typeof Q>"u"){const X=h&&h.type;throw new Error(o(14))}V[_]=Q,w=w||Q!==te}return w=w||S.length!==Object.keys(O).length,w?V:O}}function $(b,T){return function(...R){return T(b.apply(this,R))}}function U(b,T){if(typeof b=="function")return $(b,T);if(typeof b!="object"||b===null)throw new Error(o(16));const R={};for(const S in b){const A=b[S];typeof A=="function"&&(R[S]=$(A,T))}return R}function M(...b){return b.length===0?T=>T:b.length===1?b[0]:b.reduce((T,R)=>(...S)=>T(R(...S)))}function C(...b){return T=>(R,S)=>{const A=T(R,S);let W=()=>{throw new Error(o(15))};const I={getState:A.getState,dispatch:(h,...w)=>W(h,...w)},O=b.map(h=>h(I));return W=M(...O)(A.dispatch),{...A,dispatch:W}}}function y(b){return p(b)&&"type"in b&&typeof b.type=="string"}}}]);

//# sourceMappingURL=5074.67dc6abcfb882483e920.js.map