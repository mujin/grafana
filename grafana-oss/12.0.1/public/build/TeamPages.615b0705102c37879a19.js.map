{"version":3,"file":"TeamPages.615b0705102c37879a19.js","mappings":"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","sources":["webpack://grafana/./public/app/core/components/EmptyListCTA/EmptyListCTA.tsx","webpack://grafana/./public/app/core/components/RolePicker/TeamRolePicker.tsx","webpack://grafana/./public/app/core/components/RolePicker/hooks.ts","webpack://grafana/./public/app/core/components/Upgrade/ProBadge.tsx","webpack://grafana/./public/app/features/admin/utils.ts","webpack://grafana/./public/app/core/components/Upgrade/UpgradeBox.tsx","webpack://grafana/./public/app/features/teams/state/selectors.ts","webpack://grafana/./public/app/features/teams/TeamGroupSync.tsx","webpack://grafana/./public/app/features/teams/TeamPermissions.tsx","webpack://grafana/./public/app/features/teams/TeamSettings.tsx","webpack://grafana/./public/app/features/teams/TeamPages.tsx","webpack://grafana/./public/app/features/teams/state/actions.ts","webpack://grafana/./public/app/features/teams/state/navModel.ts"],"sourcesContent":["import { css } from '@emotion/css';\nimport { MouseEvent } from 'react';\n\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Alert, Button, CallToActionCard, Icon, IconName, LinkButton } from '@grafana/ui';\nimport { Trans } from 'app/core/internationalization';\n\nexport interface Props {\n  title: string;\n  buttonIcon: IconName;\n  buttonLink?: string;\n  buttonTitle: string;\n  buttonDisabled?: boolean;\n  onClick?: (event: MouseEvent) => void;\n  proTip?: string;\n  proTipLink?: string;\n  proTipLinkTitle?: string;\n  proTipTarget?: string;\n  infoBox?: { __html: string };\n  infoBoxTitle?: string;\n}\n\nconst ctaStyle = css({\n  textAlign: 'center',\n});\n\nconst infoBoxStyles = css({\n  maxWidth: '700px',\n  margin: '0 auto',\n});\n\nconst EmptyListCTA = ({\n  title,\n  buttonIcon,\n  buttonLink,\n  buttonTitle,\n  buttonDisabled,\n  onClick,\n  proTip,\n  proTipLink,\n  proTipLinkTitle,\n  proTipTarget,\n  infoBox,\n  infoBoxTitle,\n}: Props) => {\n  const footer = () => {\n    return (\n      <>\n        {proTip ? (\n          <span key=\"proTipFooter\">\n            <Icon name=\"rocket\" />\n            <Trans i18nKey=\"empty-list-cta.pro-tip\">ProTip: {{ proTip }}</Trans>\n            {proTipLink && (\n              <a href={proTipLink} target={proTipTarget} className=\"text-link\">\n                {proTipLinkTitle}\n              </a>\n            )}\n          </span>\n        ) : (\n          ''\n        )}\n        {infoBox ? (\n          <Alert severity=\"info\" title={infoBoxTitle ?? ''} className={infoBoxStyles}>\n            <div dangerouslySetInnerHTML={infoBox} />\n          </Alert>\n        ) : (\n          ''\n        )}\n      </>\n    );\n  };\n\n  const ctaElementClassName = !footer()\n    ? css({\n        marginBottom: '20px',\n      })\n    : '';\n\n  const ButtonEl = buttonLink ? LinkButton : Button;\n  const ctaElement = (\n    <ButtonEl\n      size=\"lg\"\n      onClick={onClick}\n      href={buttonLink}\n      icon={buttonIcon}\n      className={ctaElementClassName}\n      data-testid={selectors.components.CallToActionCard.buttonV2(buttonTitle)}\n      disabled={buttonDisabled}\n    >\n      {buttonTitle}\n    </ButtonEl>\n  );\n\n  return <CallToActionCard className={ctaStyle} message={title} footer={footer()} callToActionElement={ctaElement} />;\n};\n\nexport default EmptyListCTA;\n","import { useEffect } from 'react';\nimport { useAsyncFn } from 'react-use';\n\nimport { contextSrv } from 'app/core/core';\nimport { Role, AccessControlAction } from 'app/types';\n\nimport { RolePicker } from './RolePicker';\nimport { fetchTeamRoles, updateTeamRoles } from './api';\n\nexport interface Props {\n  teamId: number;\n  orgId?: number;\n  roleOptions: Role[];\n  disabled?: boolean;\n  roles?: Role[];\n  onApplyRoles?: (newRoles: Role[]) => void;\n  pendingRoles?: Role[];\n  /**\n   * Set whether the component should send a request with the new roles to the\n   * backend in TeamRolePicker.onRolesChange (apply=false), or call {@link onApplyRoles}\n   * with the updated list of roles (apply=true).\n   *\n   * Besides it sets the RolePickerMenu's Button title to\n   *   * `Update` in case apply equals false\n   *   * `Apply` in case apply equals true\n   *\n   * @default false\n   */\n  apply?: boolean;\n  maxWidth?: string | number;\n  width?: string | number;\n  isLoading?: boolean;\n}\n\nexport const TeamRolePicker = ({\n  teamId,\n  roleOptions,\n  disabled,\n  roles,\n  onApplyRoles,\n  pendingRoles,\n  apply = false,\n  maxWidth,\n  width,\n  isLoading,\n}: Props) => {\n  const [{ loading, value: appliedRoles = roles || [] }, getTeamRoles] = useAsyncFn(async () => {\n    try {\n      if (roles) {\n        return roles;\n      }\n      if (apply && Boolean(pendingRoles?.length)) {\n        return pendingRoles;\n      }\n\n      if (contextSrv.hasPermission(AccessControlAction.ActionTeamsRolesList) && teamId > 0) {\n        return await fetchTeamRoles(teamId);\n      }\n    } catch (e) {\n      console.error('Error loading options', e);\n    }\n    return [];\n  }, [teamId, pendingRoles, roles]);\n\n  useEffect(() => {\n    getTeamRoles();\n  }, [getTeamRoles]);\n\n  const onRolesChange = async (roles: Role[]) => {\n    if (!apply) {\n      await updateTeamRoles(roles, teamId);\n      await getTeamRoles();\n    } else if (onApplyRoles) {\n      onApplyRoles(roles);\n    }\n  };\n\n  const canUpdateRoles =\n    contextSrv.hasPermission(AccessControlAction.ActionTeamsRolesAdd) &&\n    contextSrv.hasPermission(AccessControlAction.ActionTeamsRolesRemove);\n\n  return (\n    <RolePicker\n      apply={apply}\n      onRolesChange={onRolesChange}\n      roleOptions={roleOptions}\n      appliedRoles={appliedRoles}\n      isLoading={loading || isLoading}\n      disabled={disabled}\n      basicRoleDisabled={true}\n      canUpdateRoles={canUpdateRoles}\n      maxWidth={maxWidth}\n      width={width}\n    />\n  );\n};\n","import { difference } from 'lodash';\nimport { useState } from 'react';\nimport { useDeepCompareEffect } from 'react-use';\nimport useAsync from 'react-use/lib/useAsync';\n\nimport { contextSrv } from 'app/core/core';\nimport { Role, AccessControlAction } from 'app/types';\n\nimport { fetchRoleOptions } from './api';\n\ntype MultiOrgRoleOptions = Record<number, Role[]>;\n\nexport const useRoleOptions = (organizationId: number) => {\n  const [orgId, setOrgId] = useState(organizationId);\n\n  const { value = [] } = useAsync(async () => {\n    if (contextSrv.licensedAccessControlEnabled() && contextSrv.hasPermission(AccessControlAction.ActionRolesList)) {\n      return fetchRoleOptions(orgId);\n    }\n    return Promise.resolve([]);\n  }, [orgId]);\n\n  return [{ roleOptions: value }, setOrgId] as const;\n};\n\nexport const useMultiOrgRoleOptions = (orgIDs: number[]): MultiOrgRoleOptions => {\n  const [orgRoleOptions, setOrgRoleOptions] = useState<MultiOrgRoleOptions>({});\n\n  useDeepCompareEffect(() => {\n    if (!contextSrv.licensedAccessControlEnabled() || !contextSrv.hasPermission(AccessControlAction.ActionRolesList)) {\n      return;\n    }\n\n    const currentOrgIDs = Object.keys(orgRoleOptions).map((o) => (typeof o === 'number' ? o : parseInt(o, 10)));\n    const newOrgIDs = difference(orgIDs, currentOrgIDs);\n\n    Promise.all(\n      newOrgIDs.map((orgID) => {\n        return fetchRoleOptions(orgID).then((roleOptions) => [orgID, roleOptions]);\n      })\n    ).then((value) => {\n      setOrgRoleOptions({\n        ...orgRoleOptions,\n        ...Object.fromEntries(value),\n      });\n    });\n  }, [orgIDs]);\n\n  return orgRoleOptions;\n};\n","import { css, cx } from '@emotion/css';\nimport { HTMLAttributes, useEffect } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { reportExperimentView } from '@grafana/runtime';\nimport { useStyles2 } from '@grafana/ui';\n\nexport interface Props extends HTMLAttributes<HTMLSpanElement> {\n  text?: string;\n  experimentId?: string;\n  eventVariant?: string;\n}\n\nexport const ProBadge = ({ text = 'PRO', className, experimentId, eventVariant = '', ...htmlProps }: Props) => {\n  const styles = useStyles2(getStyles);\n\n  useEffect(() => {\n    if (experimentId) {\n      reportExperimentView(experimentId, 'test', eventVariant);\n    }\n  }, [experimentId, eventVariant]);\n\n  return (\n    <span className={cx(styles.badge, className)} {...htmlProps}>\n      {text}\n    </span>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    badge: css({\n      marginLeft: theme.spacing(1.25),\n      borderRadius: theme.shape.borderRadius(5),\n      backgroundColor: theme.colors.success.main,\n      padding: theme.spacing(0.25, 0.75),\n      color: 'white', // use the same color for both themes\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(10),\n    }),\n  };\n};\n","import { config } from '@grafana/runtime';\n\n// https://html.spec.whatwg.org/multipage/input.html#valid-e-mail-address\nexport const w3cStandardEmailValidator =\n  /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\nexport function isTrial() {\n  const expiry = config.licenseInfo?.trialExpiry;\n  return !!(expiry && expiry > 0);\n}\n\nexport const highlightTrial = () => isTrial() && config.featureToggles.featureHighlights;\n","import { css, cx } from '@emotion/css';\nimport { HTMLAttributes, useEffect } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { reportExperimentView } from '@grafana/runtime';\nimport { Button, Icon, LinkButton, useStyles2 } from '@grafana/ui';\nimport { t, Trans } from 'app/core/internationalization';\n\ntype ComponentSize = 'sm' | 'md';\n\nexport interface Props extends HTMLAttributes<HTMLOrSVGElement> {\n  featureName: string;\n  size?: ComponentSize;\n  text?: string;\n  eventVariant?: string;\n  featureId: string;\n}\n\nexport const UpgradeBox = ({\n  featureName,\n  className,\n  children,\n  text,\n  featureId,\n  eventVariant = '',\n  size = 'md',\n  ...htmlProps\n}: Props) => {\n  const styles = useStyles2(getUpgradeBoxStyles, size);\n\n  useEffect(() => {\n    reportExperimentView(`feature-highlights-${featureId}`, 'test', eventVariant);\n  }, [eventVariant, featureId]);\n\n  return (\n    <div className={cx(styles.box, className)} {...htmlProps}>\n      <Icon name={'rocket'} className={styles.icon} />\n      <div className={styles.inner}>\n        <p className={styles.text}>\n          <Trans i18nKey=\"upgrade-box.discovery-text\">Youâ€™ve discovered a Pro feature!</Trans>{' '}\n          {text ||\n            t('upgrade-box.discovery-text-continued', 'Get the Grafana Pro plan to access {{featureName}}.', {\n              featureName,\n            })}\n        </p>\n        <LinkButton\n          variant=\"secondary\"\n          size={size}\n          className={styles.button}\n          href=\"https://grafana.com/profile/org/subscription\"\n          target=\"__blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Trans i18nKey=\"upgrade-box.upgrade-button\">Upgrade</Trans>\n        </LinkButton>\n      </div>\n    </div>\n  );\n};\n\nconst getUpgradeBoxStyles = (theme: GrafanaTheme2, size: ComponentSize) => {\n  const borderRadius = theme.shape.borderRadius(2);\n  const fontBase = size === 'md' ? 'body' : 'bodySmall';\n\n  return {\n    box: css({\n      display: 'flex',\n      alignItems: 'center',\n      position: 'relative',\n      borderRadius: borderRadius,\n      background: theme.colors.success.transparent,\n      padding: theme.spacing(2),\n      color: theme.colors.success.text,\n      fontSize: theme.typography[fontBase].fontSize,\n      textAlign: 'left',\n      lineHeight: '16px',\n      margin: theme.spacing(0, 'auto', 3, 'auto'),\n      maxWidth: `${theme.breakpoints.values.xxl}px`,\n      width: '100%',\n    }),\n    inner: css({\n      display: 'flex',\n      alignItems: 'center',\n      width: '100%',\n      justifyContent: 'space-between',\n    }),\n    text: css({\n      margin: 0,\n    }),\n    button: css({\n      backgroundColor: theme.colors.success.main,\n      fontWeight: theme.typography.fontWeightLight,\n      color: 'white',\n\n      '&:hover': {\n        backgroundColor: theme.colors.success.main,\n      },\n\n      '&:focus-visible': {\n        boxShadow: 'none',\n        color: theme.colors.text.primary,\n        outline: `2px solid ${theme.colors.primary.main}`,\n      },\n    }),\n    icon: css({\n      margin: theme.spacing(0.5, 1, 0.5, 0.5),\n    }),\n  };\n};\n\nexport interface UpgradeContentProps {\n  image: string;\n  featureUrl?: string;\n  featureName: string;\n  description?: string;\n  listItems: string[];\n  caption?: string;\n  action?: {\n    text: string;\n    link?: string;\n    onClick?: () => void;\n  };\n}\n\nexport const UpgradeContent = ({\n  listItems,\n  image,\n  featureUrl,\n  featureName,\n  description,\n  caption,\n  action,\n}: UpgradeContentProps) => {\n  const styles = useStyles2(getUpgradeContentStyles);\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        <h3 className={styles.title}>\n          <Trans i18nKey=\"upgrade-box.get-started\">Get started with {{ featureName }}</Trans>\n        </h3>\n        {description && <h6 className={styles.description}>{description}</h6>}\n        <ul className={styles.list}>\n          {listItems.map((item, index) => (\n            <li key={index}>\n              <Icon name={'check'} size={'xl'} className={styles.icon} /> {item}\n            </li>\n          ))}\n        </ul>\n        {action?.link && (\n          <LinkButton variant={'primary'} href={action.link}>\n            {action.text}\n          </LinkButton>\n        )}\n        {action?.onClick && (\n          <Button variant={'primary'} onClick={action.onClick}>\n            {action.text}\n          </Button>\n        )}\n        {featureUrl && (\n          <LinkButton fill={'text'} href={featureUrl} className={styles.link} target=\"_blank\" rel=\"noreferrer noopener\">\n            <Trans i18nKey=\"upgrade-box.learn-more\">Learn more</Trans>\n          </LinkButton>\n        )}\n      </div>\n      <div className={styles.media}>\n        <img src={getImgUrl(image)} alt={'Feature screenshot'} />\n        {caption && <p className={styles.caption}>{caption}</p>}\n      </div>\n    </div>\n  );\n};\n\nconst getUpgradeContentStyles = (theme: GrafanaTheme2) => {\n  return {\n    container: css({\n      display: 'flex',\n      justifyContent: 'space-between',\n    }),\n    content: css({\n      width: '45%',\n      marginRight: theme.spacing(4),\n    }),\n    media: css({\n      width: '55%',\n\n      img: {\n        width: '100%',\n      },\n    }),\n    title: css({\n      color: theme.colors.text.maxContrast,\n    }),\n    description: css({\n      color: theme.colors.text.primary,\n      fontWeight: theme.typography.fontWeightLight,\n    }),\n    list: css({\n      listStyle: 'none',\n      margin: theme.spacing(4, 0, 2, 0),\n\n      li: {\n        display: 'flex',\n        alignItems: 'flex-start',\n        color: theme.colors.text.primary,\n        padding: theme.spacing(1, 0),\n      },\n    }),\n    icon: css({\n      color: theme.colors.success.main,\n      marginRight: theme.spacing(1),\n    }),\n    link: css({\n      marginLeft: theme.spacing(2),\n    }),\n    caption: css({\n      fontWeight: theme.typography.fontWeightLight,\n      margin: theme.spacing(1, 0, 0),\n    }),\n  };\n};\n\nexport const UpgradeContentVertical = ({\n  featureName,\n  description,\n  featureUrl,\n  image,\n}: Omit<UpgradeContentProps, 'listItems' | 'caption'>) => {\n  const styles = useStyles2(getContentVerticalStyles);\n  return (\n    <div className={styles.container}>\n      <h3 className={styles.title}>\n        <Trans i18nKey=\"upgrade-box.get-started\">Get started with {{ featureName }}</Trans>\n      </h3>\n      {description && <h6 className={styles.description}>{description}</h6>}\n      <LinkButton fill={'text'} href={featureUrl} target=\"_blank\" rel=\"noreferrer noopener\">\n        <Trans i18nKey=\"upgrade-box.learn-more\">Learn more</Trans>\n      </LinkButton>\n      <div className={styles.media}>\n        <img src={getImgUrl(image)} alt={'Feature screenshot'} />\n      </div>\n    </div>\n  );\n};\n\nconst getContentVerticalStyles = (theme: GrafanaTheme2) => {\n  return {\n    container: css({\n      overflow: 'auto',\n      height: '100%',\n    }),\n    title: css({\n      color: theme.colors.text.maxContrast,\n    }),\n    description: css({\n      color: theme.colors.text.primary,\n      fontWeight: theme.typography.fontWeightLight,\n    }),\n    media: css({\n      width: '100%',\n      marginTop: theme.spacing(2),\n\n      img: {\n        width: '100%',\n      },\n    }),\n  };\n};\n\nconst getImgUrl = (urlOrId: string) => {\n  if (urlOrId.startsWith('http')) {\n    return urlOrId;\n  }\n\n  return '/public/img/enterprise/highlights/' + urlOrId;\n};\n","import { Team, TeamState } from 'app/types';\n\nexport const getTeamGroups = (state: TeamState) => state.groups;\n\nexport const getTeam = (state: TeamState, currentTeamUid: string): Team | null => {\n  if (state.team.uid === currentTeamUid) {\n    return state.team;\n  }\n\n  return null;\n};\n","import { css, cx } from '@emotion/css';\nimport { FormEventHandler, PureComponent } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport { Input, Tooltip, Icon, Button, useTheme2, InlineField, InlineFieldRow } from '@grafana/ui';\nimport { SlideDown } from 'app/core/components/Animations/SlideDown';\nimport { CloseButton } from 'app/core/components/CloseButton/CloseButton';\nimport EmptyListCTA from 'app/core/components/EmptyListCTA/EmptyListCTA';\nimport { UpgradeBox, UpgradeContent, UpgradeContentProps } from 'app/core/components/Upgrade/UpgradeBox';\nimport { Trans, t } from 'app/core/internationalization';\nimport { highlightTrial } from 'app/features/admin/utils';\n\nimport { StoreState, TeamGroup } from '../../types';\n\nimport { addTeamGroup, loadTeamGroups, removeTeamGroup } from './state/actions';\nimport { getTeamGroups } from './state/selectors';\n\nfunction mapStateToProps(state: StoreState) {\n  return {\n    groups: getTeamGroups(state.team),\n  };\n}\n\nconst mapDispatchToProps = {\n  loadTeamGroups,\n  addTeamGroup,\n  removeTeamGroup,\n};\n\ninterface OwnProps {\n  isReadOnly: boolean;\n}\n\ninterface State {\n  isAdding: boolean;\n  newGroupId: string;\n}\n\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport type Props = OwnProps & ConnectedProps<typeof connector>;\n\nconst headerTooltip = `Sync LDAP, OAuth or SAML groups with your Grafana teams.`;\n\nexport class TeamGroupSync extends PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { isAdding: false, newGroupId: '' };\n  }\n\n  componentDidMount() {\n    this.fetchTeamGroups();\n  }\n\n  async fetchTeamGroups() {\n    this.props.loadTeamGroups();\n  }\n\n  onToggleAdding = () => {\n    this.setState({ isAdding: !this.state.isAdding });\n  };\n\n  onNewGroupIdChanged: FormEventHandler<HTMLInputElement> = (event) => {\n    this.setState({ newGroupId: event.currentTarget.value });\n  };\n\n  onAddGroup: FormEventHandler<HTMLFormElement> = (event) => {\n    event.preventDefault();\n    this.props.addTeamGroup(this.state.newGroupId);\n    this.setState({ isAdding: false, newGroupId: '' });\n  };\n\n  onRemoveGroup = (group: TeamGroup) => {\n    this.props.removeTeamGroup(group.groupId);\n  };\n\n  isNewGroupValid() {\n    return this.state.newGroupId.length > 1;\n  }\n\n  renderGroup(group: TeamGroup) {\n    const { isReadOnly } = this.props;\n    return (\n      <tr key={group.groupId}>\n        <td>{group.groupId}</td>\n        <td style={{ width: '1%' }}>\n          <Button\n            size=\"sm\"\n            variant=\"destructive\"\n            onClick={() => this.onRemoveGroup(group)}\n            disabled={isReadOnly}\n            aria-label={t('teams.team-group-sync.aria-label-remove', 'Remove group {{groupName}}', {\n              groupName: group.groupId,\n            })}\n          >\n            <Icon name=\"times\" />\n          </Button>\n        </td>\n      </tr>\n    );\n  }\n\n  render() {\n    const { isAdding, newGroupId } = this.state;\n    const { groups, isReadOnly } = this.props;\n    const styles = getStyles();\n    return (\n      <div>\n        {highlightTrial() && (\n          <UpgradeBox\n            featureId={'team-sync'}\n            eventVariant={'trial'}\n            featureName={'team sync'}\n            text={t(\n              'teams.team-group-sync.team-sync-upgrade',\n              'Add a group to enable team sync for free during your trial of Grafana Pro'\n            )}\n          />\n        )}\n        <div className=\"page-action-bar\">\n          {(!highlightTrial() || groups.length > 0) && (\n            <>\n              <h3 className=\"page-sub-heading\">\n                <Trans i18nKey=\"teams.team-group-sync.external-group-sync\">External group sync</Trans>\n              </h3>\n              <Tooltip placement=\"auto\" content={headerTooltip}>\n                <Icon className={cx(styles.icon, 'page-sub-heading-icon')} name=\"question-circle\" />\n              </Tooltip>\n            </>\n          )}\n          <div className=\"page-action-bar__spacer\" />\n          {groups.length > 0 && (\n            <Button onClick={this.onToggleAdding} icon=\"plus\" disabled={isReadOnly}>\n              <Trans i18nKey=\"teams.team-group-sync.add-group-button\">Add group</Trans>\n            </Button>\n          )}\n        </div>\n\n        <SlideDown in={isAdding}>\n          <div className=\"cta-form\">\n            <CloseButton onClick={this.onToggleAdding} />\n            <form onSubmit={this.onAddGroup}>\n              <InlineFieldRow>\n                <InlineField\n                  label={t('teams.team-group-sync.label-add-external-group', 'Add external group')}\n                  tooltip={t('teams.team-group-sync.tooltip-add-external-group', 'LDAP group example: {{example}}', {\n                    example: 'cn=users,ou=groups,dc=grafana,dc=org',\n                  })}\n                >\n                  <Input\n                    type=\"text\"\n                    id={'add-external-group'}\n                    placeholder=\"\"\n                    value={newGroupId}\n                    onChange={this.onNewGroupIdChanged}\n                    disabled={isReadOnly}\n                  />\n                </InlineField>\n                <Button type=\"submit\" disabled={isReadOnly || !this.isNewGroupValid()} style={{ marginLeft: 4 }}>\n                  <Trans i18nKey=\"teams.team-group-sync.add-group\">Add group</Trans>\n                </Button>\n              </InlineFieldRow>\n            </form>\n          </div>\n        </SlideDown>\n\n        {groups.length === 0 &&\n          !isAdding &&\n          (highlightTrial() ? (\n            <TeamSyncUpgradeContent action={{ onClick: this.onToggleAdding, text: 'Add group' }} />\n          ) : (\n            <EmptyListCTA\n              onClick={this.onToggleAdding}\n              buttonIcon=\"users-alt\"\n              title={t(\n                'teams.team-group-sync.title-there-external-groups',\n                'There are no external groups to sync with'\n              )}\n              buttonTitle=\"Add group\"\n              proTip={headerTooltip}\n              proTipLinkTitle=\"Learn more\"\n              proTipLink=\"https://grafana.com/docs/grafana/latest/setup-grafana/configure-security/configure-team-sync/\"\n              proTipTarget=\"_blank\"\n              buttonDisabled={isReadOnly}\n            />\n          ))}\n\n        {groups.length > 0 && (\n          <div className=\"admin-list-table\">\n            <table className=\"filter-table filter-table--hover form-inline\">\n              <thead>\n                <tr>\n                  <th>\n                    <Trans i18nKey=\"teams.team-group-sync.external-group-id\">External Group ID</Trans>\n                  </th>\n                  <th style={{ width: '1%' }} />\n                </tr>\n              </thead>\n              <tbody>{groups.map((group) => this.renderGroup(group))}</tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport const TeamSyncUpgradeContent = ({ action }: { action?: UpgradeContentProps['action'] }) => {\n  const theme = useTheme2();\n  return (\n    <UpgradeContent\n      action={action}\n      listItems={[\n        'Stop managing user access in two places - assign users to groups in SAML, LDAP or Oauth, and manage access at a Team level in Grafana',\n        \"Update users' permissions immediately when you add or remove them from an LDAP group, with no need for them to sign out and back in\",\n      ]}\n      image={`team-sync-${theme.isLight ? 'light' : 'dark'}.png`}\n      featureName={'team sync'}\n      featureUrl={'https://grafana.com/docs/grafana/latest/enterprise/team-sync'}\n      description={t(\n        'teams.team-sync-upgrade-content.description',\n        \"Team Sync makes it easier for you to manage users' access in Grafana, by immediately updating each user's Grafana teams and permissions based on their single sign-on group membership, instead of when users sign in\"\n      )}\n    />\n  );\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(TeamGroupSync);\n\nconst getStyles = () => ({\n  icon: css({\n    opacity: 0.7,\n\n    '&:hover': {\n      opacity: 1,\n    },\n  }),\n});\n","import { Permissions } from 'app/core/components/AccessControl';\nimport { contextSrv } from 'app/core/services/context_srv';\n\nimport { AccessControlAction, Team } from '../../types';\n\ntype TeamPermissionsProps = {\n  team: Team;\n};\n\n// TeamPermissions component replaces TeamMembers component when the accesscontrol feature flag is set\nconst TeamPermissions = (props: TeamPermissionsProps) => {\n  let canSetPermissions = contextSrv.hasPermissionInMetadata(\n    AccessControlAction.ActionTeamsPermissionsWrite,\n    props.team\n  );\n\n  if (props.team.isProvisioned) {\n    canSetPermissions = false;\n  }\n\n  return (\n    <Permissions\n      title=\"\"\n      addPermissionTitle=\"Add member\"\n      buttonLabel=\"Add member\"\n      emptyLabel=\"There are no members in this team or you do not have the permissions to list the current members.\"\n      resource=\"teams\"\n      resourceId={props.team.id}\n      canSetPermissions={canSetPermissions}\n    />\n  );\n};\n\nexport default TeamPermissions;\n","import { useForm } from 'react-hook-form';\nimport { ConnectedProps, connect } from 'react-redux';\n\nimport { Button, Field, FieldSet, Input, Stack } from '@grafana/ui';\nimport { TeamRolePicker } from 'app/core/components/RolePicker/TeamRolePicker';\nimport { useRoleOptions } from 'app/core/components/RolePicker/hooks';\nimport { SharedPreferences } from 'app/core/components/SharedPreferences/SharedPreferences';\nimport { t, Trans } from 'app/core/internationalization';\nimport { contextSrv } from 'app/core/services/context_srv';\nimport { AccessControlAction, Team } from 'app/types';\n\nimport { updateTeam } from './state/actions';\n\nconst mapDispatchToProps = {\n  updateTeam,\n};\n\nconst connector = connect(null, mapDispatchToProps);\n\ninterface OwnProps {\n  team: Team;\n}\nexport type Props = ConnectedProps<typeof connector> & OwnProps;\n\nexport const TeamSettings = ({ team, updateTeam }: Props) => {\n  const canWriteTeamSettings = contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsWrite, team);\n  const currentOrgId = contextSrv.user.orgId;\n\n  const [{ roleOptions }] = useRoleOptions(currentOrgId);\n  const {\n    handleSubmit,\n    register,\n    formState: { errors },\n  } = useForm<Team>({ defaultValues: team });\n\n  const canUpdateRoles =\n    contextSrv.hasPermission(AccessControlAction.ActionTeamsRolesAdd) &&\n    contextSrv.hasPermission(AccessControlAction.ActionTeamsRolesRemove);\n\n  const canListRoles =\n    contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsRolesList, team) &&\n    contextSrv.hasPermission(AccessControlAction.ActionRolesList);\n\n  const onSubmit = async (formTeam: Team) => {\n    updateTeam(formTeam.name, formTeam.email || '');\n  };\n\n  return (\n    <Stack direction={'column'} gap={3}>\n      <form onSubmit={handleSubmit(onSubmit)} style={{ maxWidth: '600px' }}>\n        <FieldSet label={t('teams.team-settings.label-team-details', 'Team details')}>\n          <Field label={t('teams.team-settings.label-numerical-identifier', 'Numerical identifier')} disabled={true}>\n            <Input value={team.id} id=\"id-input\" />\n          </Field>\n          <Field\n            label={t('teams.team-settings.label-name', 'Name')}\n            disabled={!canWriteTeamSettings || !!team.isProvisioned}\n            required\n            invalid={!!errors.name}\n            error=\"Name is required\"\n          >\n            <Input {...register('name', { required: true })} id=\"name-input\" />\n          </Field>\n\n          {contextSrv.licensedAccessControlEnabled() && canListRoles && (\n            <Field label={t('teams.team-settings.label-role', 'Role')}>\n              <TeamRolePicker teamId={team.id} roleOptions={roleOptions} disabled={!canUpdateRoles} maxWidth=\"100%\" />\n            </Field>\n          )}\n\n          <Field\n            label={t('teams.team-settings.label-email', 'Email')}\n            description={t(\n              'teams.team-settings.description-email',\n              'This is optional and is primarily used to set the team profile avatar (via gravatar service)'\n            )}\n            disabled={!canWriteTeamSettings}\n          >\n            {/* eslint-disable-next-line @grafana/no-untranslated-strings */}\n            <Input {...register('email')} placeholder=\"team@email.com\" type=\"email\" id=\"email-input\" />\n          </Field>\n          <Button type=\"submit\" disabled={!canWriteTeamSettings}>\n            <Trans i18nKey=\"teams.team-settings.save\">Save</Trans>\n          </Button>\n        </FieldSet>\n      </form>\n      <SharedPreferences resourceUri={`teams/${team.id}`} disabled={!canWriteTeamSettings} preferenceType=\"team\" />\n    </Stack>\n  );\n};\n\nexport default connector(TeamSettings);\n","import { createSelector } from '@reduxjs/toolkit';\nimport { memo, useRef } from 'react';\nimport { useParams } from 'react-router-dom-v5-compat';\nimport { useAsync } from 'react-use';\n\nimport { featureEnabled } from '@grafana/runtime';\nimport { Page } from 'app/core/components/Page/Page';\nimport { UpgradeBox } from 'app/core/components/Upgrade/UpgradeBox';\nimport config from 'app/core/config';\nimport { getNavModel } from 'app/core/selectors/navModel';\nimport { contextSrv } from 'app/core/services/context_srv';\nimport { AccessControlAction, StoreState, useDispatch, useSelector } from 'app/types';\n\nimport TeamGroupSync, { TeamSyncUpgradeContent } from './TeamGroupSync';\nimport TeamPermissions from './TeamPermissions';\nimport TeamSettings from './TeamSettings';\nimport { loadTeam } from './state/actions';\nimport { getTeamLoadingNav } from './state/navModel';\nimport { getTeam } from './state/selectors';\n\ntype TeamPageRouteParams = {\n  uid: string;\n  page?: string;\n};\n\nenum PageTypes {\n  Members = 'members',\n  Settings = 'settings',\n  GroupSync = 'groupsync',\n}\n\nconst PAGES = ['members', 'settings', 'groupsync'];\n\nconst teamSelector = createSelector(\n  [(state: StoreState) => state.team, (_: StoreState, teamUid: string) => teamUid],\n  (team, teamUid) => getTeam(team, teamUid)\n);\n\nconst pageNavSelector = createSelector(\n  [\n    (state: StoreState) => state.navIndex,\n    (_state: StoreState, pageName: string) => pageName,\n    (_state: StoreState, _pageName: string, teamUid: string) => teamUid,\n  ],\n  (navIndex, pageName, teamUid) => {\n    const teamLoadingNav = getTeamLoadingNav(pageName);\n    return getNavModel(navIndex, `team-${pageName}-${teamUid}`, teamLoadingNav).main;\n  }\n);\n\nconst TeamPages = memo(() => {\n  const isSyncEnabled = useRef(featureEnabled('teamsync'));\n  const { uid: teamUid = '', page } = useParams<TeamPageRouteParams>();\n  const team = useSelector((state) => teamSelector(state, teamUid));\n\n  let defaultPage = 'members';\n  // With RBAC the settings page will always be available\n  if (!team || !contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsPermissionsRead, team)) {\n    defaultPage = 'settings';\n  }\n  const pageName = page ?? defaultPage;\n  const pageNav = useSelector((state) => pageNavSelector(state, pageName, teamUid));\n\n  const dispatch = useDispatch();\n  const { loading: isLoading } = useAsync(async () => dispatch(loadTeam(teamUid)), [teamUid]);\n\n  const renderPage = () => {\n    const currentPage = PAGES.includes(pageName) ? pageName : PAGES[0];\n\n    const canReadTeam = contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsRead, team!);\n    const canReadTeamPermissions = contextSrv.hasPermissionInMetadata(\n      AccessControlAction.ActionTeamsPermissionsRead,\n      team!\n    );\n    const canWriteTeamPermissions = contextSrv.hasPermissionInMetadata(\n      AccessControlAction.ActionTeamsPermissionsWrite,\n      team!\n    );\n\n    switch (currentPage) {\n      case PageTypes.Members:\n        if (canReadTeamPermissions) {\n          return <TeamPermissions team={team!} />;\n        }\n        return null;\n      case PageTypes.Settings:\n        return canReadTeam && <TeamSettings team={team!} />;\n      case PageTypes.GroupSync:\n        if (isSyncEnabled.current) {\n          if (canReadTeamPermissions) {\n            return <TeamGroupSync isReadOnly={!canWriteTeamPermissions} />;\n          }\n        } else if (config.featureToggles.featureHighlights) {\n          return (\n            <>\n              <UpgradeBox featureName={'team sync'} featureId={'team-sync'} />\n              <TeamSyncUpgradeContent />\n            </>\n          );\n        }\n    }\n\n    return null;\n  };\n\n  return (\n    <Page navId=\"teams\" pageNav={pageNav}>\n      <Page.Contents isLoading={isLoading}>{team && Object.keys(team).length !== 0 && renderPage()}</Page.Contents>\n    </Page>\n  );\n});\n\nTeamPages.displayName = 'TeamPages';\n\nexport default TeamPages;\n","import { debounce } from 'lodash';\n\nimport { getBackendSrv } from '@grafana/runtime';\nimport { FetchDataArgs } from '@grafana/ui';\nimport { updateNavIndex } from 'app/core/actions';\nimport { contextSrv } from 'app/core/core';\nimport { accessControlQueryParam } from 'app/core/utils/accessControl';\nimport { AccessControlAction, TeamWithRoles, TeamMember, ThunkResult, Team } from 'app/types';\n\nimport { buildNavModel } from './navModel';\nimport {\n  teamGroupsLoaded,\n  queryChanged,\n  pageChanged,\n  teamLoaded,\n  teamMembersLoaded,\n  teamsLoaded,\n  sortChanged,\n  rolesFetchBegin,\n  rolesFetchEnd,\n} from './reducers';\n\nexport function loadTeams(initial = false): ThunkResult<void> {\n  return async (dispatch, getState) => {\n    const { query, page, perPage, sort } = getState().teams;\n    // Early return if the user cannot list teams\n    if (!contextSrv.hasPermission(AccessControlAction.ActionTeamsRead)) {\n      dispatch(teamsLoaded({ teams: [], totalCount: 0, page: 1, perPage, noTeams: true }));\n      return;\n    }\n\n    const response = await getBackendSrv().get(\n      '/api/teams/search',\n      accessControlQueryParam({ query, page, perpage: perPage, sort })\n    );\n\n    // We only want to check if there is no teams on the initial request.\n    // A query that returns no teams should not render the empty list banner.\n    let noTeams = false;\n    if (initial) {\n      noTeams = response.teams.length === 0;\n    }\n\n    if (\n      contextSrv.licensedAccessControlEnabled() &&\n      contextSrv.hasPermission(AccessControlAction.ActionTeamsRolesList)\n    ) {\n      dispatch(rolesFetchBegin());\n      const teamIds = response?.teams.map((t: TeamWithRoles) => t.id);\n      const roles = await getBackendSrv().post(`/api/access-control/teams/roles/search`, { teamIds });\n      response.teams.forEach((t: TeamWithRoles) => {\n        t.roles = roles ? roles[t.id] || [] : [];\n      });\n      dispatch(rolesFetchEnd());\n    }\n\n    dispatch(teamsLoaded({ noTeams, ...response }));\n  };\n}\n\nconst loadTeamsWithDebounce = debounce((dispatch) => dispatch(loadTeams()), 500);\n\nexport function loadTeam(uid: string): ThunkResult<Promise<void>> {\n  return async (dispatch) => {\n    const response = await getBackendSrv().get(`/api/teams/${uid}`, accessControlQueryParam());\n    dispatch(teamLoaded(response));\n    dispatch(updateNavIndex(buildNavModel(response)));\n  };\n}\n\nexport function deleteTeam(uid: string): ThunkResult<void> {\n  return async (dispatch) => {\n    await getBackendSrv().delete(`/api/teams/${uid}`);\n    // Update users permissions in case they lost teams.read with the deletion\n    await contextSrv.fetchUserPermissions();\n    dispatch(loadTeams());\n  };\n}\n\nexport function changeQuery(query: string): ThunkResult<void> {\n  return async (dispatch) => {\n    dispatch(queryChanged(query));\n    loadTeamsWithDebounce(dispatch);\n  };\n}\n\nexport function changePage(page: number): ThunkResult<void> {\n  return async (dispatch) => {\n    dispatch(pageChanged(page));\n    dispatch(loadTeams());\n  };\n}\n\nexport function changeSort({ sortBy }: FetchDataArgs<Team>): ThunkResult<void> {\n  const sort = sortBy.length ? `${sortBy[0].id}-${sortBy[0].desc ? 'desc' : 'asc'}` : undefined;\n  return async (dispatch) => {\n    dispatch(sortChanged(sort));\n    dispatch(loadTeams());\n  };\n}\n\nexport function loadTeamMembers(): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    const response = await getBackendSrv().get(`/api/teams/${team.uid}/members`);\n    dispatch(teamMembersLoaded(response));\n  };\n}\n\nexport function updateTeam(name: string, email: string): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    await getBackendSrv().put(`/api/teams/${team.uid}`, { name, email });\n    dispatch(loadTeam(team.uid));\n  };\n}\n\nexport function loadTeamGroups(): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    const response = await getBackendSrv().get(`/api/teams/${team.uid}/groups`);\n    dispatch(teamGroupsLoaded(response));\n  };\n}\n\nexport function addTeamGroup(groupId: string): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    await getBackendSrv().post(`/api/teams/${team.uid}/groups`, { groupId: groupId });\n    dispatch(loadTeamGroups());\n  };\n}\n\nexport function removeTeamGroup(groupId: string): ThunkResult<void> {\n  return async (dispatch, getStore) => {\n    const team = getStore().team.team;\n    // need to use query parameter due to escaped characters in the request\n    await getBackendSrv().delete(`/api/teams/${team.uid}/groups?groupId=${encodeURIComponent(groupId)}`);\n    dispatch(loadTeamGroups());\n  };\n}\n\nexport function updateTeamMember(member: TeamMember): ThunkResult<void> {\n  return async (dispatch) => {\n    await getBackendSrv().put(`/api/teams/${member.teamId}/members/${member.userId}`, {\n      permission: member.permission,\n    });\n    dispatch(loadTeamMembers());\n  };\n}\n","import { NavModelItem, NavModel } from '@grafana/data';\nimport { featureEnabled } from '@grafana/runtime';\nimport { ProBadge } from 'app/core/components/Upgrade/ProBadge';\nimport config from 'app/core/config';\nimport { contextSrv } from 'app/core/services/context_srv';\nimport { highlightTrial } from 'app/features/admin/utils';\nimport { AccessControlAction, Team, TeamPermissionLevel } from 'app/types';\n\nconst loadingTeam = {\n  avatarUrl: 'public/img/user_profile.png',\n  id: 1,\n  uid: '',\n  name: 'Loading',\n  email: 'loading',\n  memberCount: 0,\n  permission: TeamPermissionLevel.Member,\n  accessControl: { isEditor: false },\n  orgId: 0,\n  updated: '',\n  isProvisioned: false,\n};\n\nexport function buildNavModel(team: Team): NavModelItem {\n  const navModel: NavModelItem = {\n    img: team.avatarUrl,\n    id: 'team-' + team.uid,\n    subTitle: 'Manage members and settings',\n    url: `org/teams/edit/${team.uid}`,\n    text: team.name,\n    children: [\n      // With RBAC this tab will always be available (but not always editable)\n      // With Legacy it will be hidden by hideTabsFromNonTeamAdmin should the user not be allowed to see it\n      {\n        active: false,\n        icon: 'sliders-v-alt',\n        id: `team-settings-${team.uid}`,\n        text: 'Settings',\n        url: `org/teams/edit/${team.uid}/settings`,\n      },\n    ],\n  };\n\n  // While team is loading we leave the members tab\n  // With RBAC the Members tab is available when user has ActionTeamsPermissionsRead for this team\n  // With Legacy it will always be present\n  if (\n    team === loadingTeam ||\n    contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsPermissionsRead, team)\n  ) {\n    navModel.children!.unshift({\n      active: false,\n      icon: 'users-alt',\n      id: `team-members-${team.uid}`,\n      text: 'Members',\n      url: `org/teams/edit/${team.uid}/members`,\n    });\n  }\n\n  const teamGroupSync: NavModelItem = {\n    active: false,\n    icon: 'sync',\n    id: `team-groupsync-${team.uid}`,\n    text: 'External group sync',\n    url: `org/teams/edit/${team.uid}/groupsync`,\n  };\n\n  const isLoadingTeam = team === loadingTeam;\n\n  if (highlightTrial()) {\n    teamGroupSync.tabSuffix = () =>\n      ProBadge({ experimentId: isLoadingTeam ? '' : 'feature-highlights-team-sync-badge', eventVariant: 'trial' });\n  }\n\n  // With both Legacy and RBAC the tab is protected being featureEnabled\n  // While team is loading we leave the teamsync tab\n  // With RBAC the External Group Sync tab is available when user has ActionTeamsPermissionsRead for this team\n  if (featureEnabled('teamsync')) {\n    if (isLoadingTeam || contextSrv.hasPermissionInMetadata(AccessControlAction.ActionTeamsPermissionsRead, team)) {\n      navModel.children!.push(teamGroupSync);\n    }\n  } else if (config.featureToggles.featureHighlights) {\n    navModel.children!.push({\n      ...teamGroupSync,\n      tabSuffix: () => ProBadge({ experimentId: isLoadingTeam ? '' : 'feature-highlights-team-sync-badge' }),\n    });\n  }\n\n  return navModel;\n}\n\nexport function getTeamLoadingNav(pageName: string): NavModel {\n  const main = buildNavModel(loadingTeam);\n\n  let node: NavModelItem;\n\n  // find active page\n  for (const child of main.children!) {\n    if (child.id!.indexOf(pageName) > 0) {\n      child.active = true;\n      node = child;\n      break;\n    }\n  }\n\n  return {\n    main: main,\n    node: node!,\n  };\n}\n"],"names":["ctaStyle","infoBoxStyles","title","buttonIcon","buttonLink","buttonTitle","buttonDisabled","onClick","proTip","proTipLink","proTipLinkTitle","proTipTarget","infoBox","infoBoxTitle","footer","ctaElementClassName","ButtonEl","ctaElement","TeamRolePicker","teamId","roleOptions","disabled","roles","onApplyRoles","pendingRoles","apply","maxWidth","width","isLoading","loading","appliedRoles","getTeamRoles","e","onRolesChange","canUpdateRoles","useRoleOptions","organizationId","orgId","setOrgId","value","useMultiOrgRoleOptions","orgIDs","orgRoleOptions","setOrgRoleOptions","currentOrgIDs","o","newOrgIDs","orgID","ProBadge","text","className","experimentId","eventVariant","htmlProps","styles","getStyles","theme","w3cStandardEmailValidator","isTrial","expiry","highlightTrial","UpgradeBox","featureName","children","featureId","size","getUpgradeBoxStyles","Icon","borderRadius","fontBase","UpgradeContent","listItems","image","featureUrl","description","caption","action","getUpgradeContentStyles","item","index","Button","getImgUrl","UpgradeContentVertical","getContentVerticalStyles","urlOrId","getTeamGroups","state","getTeam","currentTeamUid","mapStateToProps","mapDispatchToProps","connector","headerTooltip","TeamGroupSync","props","event","group","isReadOnly","isAdding","newGroupId","groups","Tooltip","SlideDown","CloseButton","InlineFieldRow","InlineField","Input","TeamSyncUpgradeContent","EmptyListCTA","canSetPermissions","team","updateTeam","canWriteTeamSettings","currentOrgId","handleSubmit","register","errors","canListRoles","onSubmit","formTeam","Stack","FieldSet","Field","SharedPreferences","PageTypes","PAGES","teamSelector","_","teamUid","pageNavSelector","_state","pageName","_pageName","navIndex","teamLoadingNav","TeamPages","isSyncEnabled","page","defaultPage","pageNav","dispatch","useAsync","renderPage","currentPage","canReadTeam","canReadTeamPermissions","canWriteTeamPermissions","config","Page","loadTeams","initial","getState","query","perPage","sort","response","noTeams","teamIds","t","loadTeamsWithDebounce","loadTeam","uid","deleteTeam","changeQuery","changePage","changeSort","sortBy","loadTeamMembers","getStore","name","email","loadTeamGroups","addTeamGroup","groupId","removeTeamGroup","updateTeamMember","member","loadingTeam","buildNavModel","navModel","teamGroupSync","isLoadingTeam","getTeamLoadingNav","main","node","child"],"sourceRoot":""}