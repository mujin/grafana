{"version":3,"file":"BenchmarksPage.5321bf27e54a7f78cac1.js","mappings":"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","sources":["webpack://grafana/./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js","webpack://grafana/./packages/grafana-ui/src/components/ThemeDemos/EmotionPerfTest.tsx","webpack://grafana/./public/app/features/sandbox/BenchmarksPage.tsx"],"sourcesContent":["import * as ReactJSXRuntime from 'react/jsx-runtime';\nimport { h as hasOwn, E as Emotion, c as createEmotionProps } from '../../dist/emotion-element-f0de968e.browser.esm.js';\nimport 'react';\nimport '@emotion/cache';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport '../../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport 'hoist-non-react-statics';\nimport '@emotion/utils';\nimport '@emotion/serialize';\nimport '@emotion/use-insertion-effect-with-fallbacks';\n\nvar Fragment = ReactJSXRuntime.Fragment;\nvar jsx = function jsx(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsx(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsx(Emotion, createEmotionProps(type, props), key);\n};\nvar jsxs = function jsxs(type, props, key) {\n  if (!hasOwn.call(props, 'css')) {\n    return ReactJSXRuntime.jsxs(type, props, key);\n  }\n\n  return ReactJSXRuntime.jsxs(Emotion, createEmotionProps(type, props), key);\n};\n\nexport { Fragment, jsx, jsxs };\n","/* eslint-disable @grafana/no-untranslated-strings */\n/** @jsxImportSource @emotion/react */\nimport { css, cx } from '@emotion/css';\nimport classnames from 'classnames';\nimport React, { Profiler, ProfilerOnRenderCallback, useState, FC } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2, useTheme2 } from '../../themes';\nimport { Button } from '../Button';\nimport { Stack } from '../Layout/Stack/Stack';\n\nexport function EmotionPerfTest() {\n  console.log('process.env.NODE_ENV', process.env.NODE_ENV);\n\n  return (\n    <Stack direction=\"column\">\n      <div>Emotion performance tests</div>\n      <TestScenario name=\"No styles\" Component={NoStyles} />\n      <TestScenario name=\"inline emotion/css\" Component={InlineEmotionCSS} />\n      <TestScenario name=\"useStyles no cx\" Component={UseStylesNoCX} />\n      <TestScenario name=\"useStyles with conditional cx styles\" Component={UseStylesWithConditionalCX} />\n      <TestScenario name=\"useStyles with css prop\" Component={UseStylesWithCSSProp} />\n      <TestScenario name=\"useStyles with conditional css prop\" Component={UseStylesWithConditionalCSS} />\n      <TestScenario name=\"useStyles with conditional classnames\" Component={UseStylesWithConditionalClassNames} />\n    </Stack>\n  );\n}\n\nexport const TestScenario: FC<{ name: string; Component: FC<TestComponentProps> }> = ({ name, Component }) => {\n  const [render, setRender] = useState(0);\n\n  return (\n    <div>\n      <Button onClick={() => setRender(render > 2 ? 0 : render + 1)}>{name}</Button>\n      {render > 0 && <MeasureRender id={name}>{renderManyComponents(Component)}</MeasureRender>}\n    </div>\n  );\n};\n\nTestScenario.displayName = 'TestScenario';\n\nfunction renderManyComponents(Component: FC<TestComponentProps>) {\n  const elements: React.ReactNode[] = [];\n\n  for (let i = 0; i < 5000; i++) {\n    elements.push(<Component index={i} key={i.toString()} />);\n  }\n\n  return <div style={{ display: 'flex', flexWrap: 'wrap' }}>{elements}</div>;\n}\n\ninterface TestComponentProps {\n  index: number;\n}\n\nfunction UseStylesNoCX({ index }: TestComponentProps) {\n  const styles = useStyles2(getStyles);\n  return (\n    <div className={styles.main}>\n      <div className={styles.child}>{index}</div>\n    </div>\n  );\n}\n\nfunction UseStylesWithConditionalCX({ index }: TestComponentProps) {\n  const styles = useStyles2(getStyles);\n  const mainStyles = cx(styles.main, { [styles.large]: index > 10, [styles.disabed]: index % 10 === 0 });\n\n  return (\n    <div className={mainStyles}>\n      <div className={styles.child}>{index}</div>\n    </div>\n  );\n}\n\nfunction UseStylesWithConditionalClassNames({ index }: TestComponentProps) {\n  const styles = useStyles2(getStyles);\n  const mainStyles = classnames(styles.main, { [styles.large]: index > 10, [styles.disabed]: index % 10 === 0 });\n\n  return (\n    <div className={mainStyles}>\n      <div className={styles.child}>{index}</div>\n    </div>\n  );\n}\n\nfunction UseStylesWithCSSProp({ index }: TestComponentProps) {\n  const styles = useStyles2(getStylesObjects);\n\n  return (\n    <div css={styles.main}>\n      <div css={styles.child}>{index}</div>\n    </div>\n  );\n}\n\nfunction UseStylesWithConditionalCSS({ index }: TestComponentProps) {\n  const styles = useStyles2(getStylesObjects);\n  const mainStyles = [styles.main, index > 10 && styles.large, index % 10 === 0 && styles.disabed];\n  return (\n    <div css={mainStyles}>\n      <div css={styles.child}>{index}</div>\n    </div>\n  );\n}\n\nfunction InlineEmotionCSS({ index }: TestComponentProps) {\n  const theme = useTheme2();\n  const styles = getStyles(theme);\n\n  return (\n    <div className={styles.main}>\n      <div className={styles.child}>{index}</div>\n    </div>\n  );\n}\n\nfunction NoStyles({ index }: TestComponentProps) {\n  return (\n    <div className=\"no-styles-main\">\n      <div className=\"no-styles-child\">{index}</div>\n    </div>\n  );\n}\n\nfunction MeasureRender({ children, id }: { children: React.ReactNode; id: string }) {\n  const onRender: ProfilerOnRenderCallback = (id, phase, actualDuration, baseDuration, startTime, commitTime) => {\n    console.log('Profile ' + id, actualDuration);\n  };\n\n  return (\n    <Profiler id={id} onRender={onRender}>\n      {children}\n    </Profiler>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    main: css(getStylesObjectMain(theme)),\n    large: css({\n      fontSize: '20px',\n      color: 'red',\n    }),\n    disabed: css({\n      fontSize: '10px',\n      color: 'gray',\n    }),\n    child: css(getStylesObjectChild(theme)),\n  };\n};\n\nconst getStylesObjects = (theme: GrafanaTheme2) => {\n  return {\n    main: getStylesObjectMain(theme),\n    large: {\n      fontSize: '20px',\n      color: 'red',\n    },\n    disabed: {\n      fontSize: '10px',\n      color: 'gray',\n    },\n    child: getStylesObjectChild(theme),\n  };\n};\n\nfunction getStylesObjectMain(theme: GrafanaTheme2) {\n  return {\n    background: 'blue',\n    border: '1px solid red',\n    color: 'white',\n    padding: theme.spacing(1),\n    shadow: theme.shadows.z1,\n    ':hover': {\n      background: theme.colors.background.primary,\n    },\n  };\n}\n\nfunction getStylesObjectChild(theme: GrafanaTheme2) {\n  return {\n    padding: '2px',\n    fontSize: '10px',\n    boxShadow: 'none',\n    textAlign: 'center',\n    textDecoration: 'none',\n  } as const;\n}\n","import { EmotionPerfTest } from '@grafana/ui/internal';\n\nexport const BenchmarksPage = () => {\n  return <EmotionPerfTest />;\n};\n\nexport default BenchmarksPage;\n"],"names":["Fragment","jsx","type","props","key","jsxs","EmotionPerfTest","Stack","TestScenario","NoStyles","InlineEmotionCSS","UseStylesNoCX","UseStylesWithConditionalCX","UseStylesWithCSSProp","UseStylesWithConditionalCSS","UseStylesWithConditionalClassNames","name","Component","render","setRender","Button","MeasureRender","renderManyComponents","elements","i","index","styles","getStyles","mainStyles","getStylesObjects","theme","children","id","onRender","phase","actualDuration","baseDuration","startTime","commitTime","getStylesObjectMain","getStylesObjectChild","BenchmarksPage"],"sourceRoot":""}