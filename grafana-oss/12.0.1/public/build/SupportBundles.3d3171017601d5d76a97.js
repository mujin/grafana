"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[123],{236:(D,d,t)=>{t.r(d),t.d(d,{default:()=>f});var n=t(74848),P=t(96540),l=t(71468),c=t(80011),o=t(45861),i=t(68079),x=t(76319),p=t(13791),_=t(73427),a=t(56840),h=t(96673),s=t(65075);const e=(0,n.jsx)(o.z9,{icon:"plus",href:"support-bundles/create",variant:"primary",children:(0,n.jsx)(a.x6,{i18nKey:"support-bundles.new-bundle-button.new-support-bundle",children:"New support bundle"})}),E=u=>({supportBundles:u.supportBundles.supportBundles,isLoading:u.supportBundles.isLoading}),O={loadBundles:s.WJ,removeBundle:s.Hb,checkBundles:s.ac},f=(0,l.connect)(E,O)(({supportBundles:u,isLoading:A,loadBundles:B,removeBundle:M,checkBundles:j})=>{const y=u.some(r=>r.state==="pending");(0,P.useEffect)(()=>{B()},[B]),(0,P.useEffect)(()=>{y&&j()});const v=_.TP.hasPermission(h.AccessControlAction.ActionSupportBundlesCreate),C=_.TP.hasPermission(h.AccessControlAction.ActionSupportBundlesDelete),K=v?e:void 0,T=(0,n.jsx)("span",{children:(0,n.jsx)(a.x6,{i18nKey:"support-bundles.support-bundles-unconnected.sub-title",children:"Support bundles allow you to easily collect and share Grafana logs, configuration, and data with the Grafana Labs team."})});return(0,n.jsx)(p.Y,{navId:"support-bundles",subTitle:T,actions:K,children:(0,n.jsx)(p.Y.Contents,{isLoading:A,children:(0,n.jsxs)("table",{className:"filter-table form-inline",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:(0,n.jsx)(a.x6,{i18nKey:"support-bundles.support-bundles-unconnected.created-on",children:"Created on"})}),(0,n.jsx)("th",{children:(0,n.jsx)(a.x6,{i18nKey:"support-bundles.support-bundles-unconnected.requested-by",children:"Requested by"})}),(0,n.jsx)("th",{children:(0,n.jsx)(a.x6,{i18nKey:"support-bundles.support-bundles-unconnected.expires",children:"Expires"})}),(0,n.jsx)("th",{style:{width:"32px"}}),(0,n.jsx)("th",{style:{width:"1%"}}),(0,n.jsx)("th",{style:{width:"1%"}})]})}),(0,n.jsx)("tbody",{children:u?.map(r=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:(0,c.LE)(r.createdAt*1e3)}),(0,n.jsx)("th",{children:r.creator}),(0,n.jsx)("th",{children:(0,c.LE)(r.expiresAt*1e3)}),(0,n.jsx)("th",{children:r.state==="pending"&&(0,n.jsx)(i.y,{})}),(0,n.jsx)("th",{children:(0,n.jsx)(o.z9,{fill:"outline",disabled:r.state!=="complete",target:"_self",href:`/api/support-bundles/${r.uid}`,children:(0,n.jsx)(a.x6,{i18nKey:"support-bundles.support-bundles-unconnected.download",children:"Download"})})}),(0,n.jsx)("th",{children:C&&(0,n.jsx)(x.K,{onClick:()=>M(r.uid),name:"trash-alt",variant:"destructive",tooltip:(0,a.t)("support-bundles.support-bundles-unconnected.tooltip-remove-bundle","Remove bundle")})})]},r.uid))})]})})})})},65075:(D,d,t)=>{t.d(d,{Hb:()=>_,OS:()=>a,WJ:()=>i,ac:()=>p,iO:()=>h});var n=t(2543),P=t.n(n),l=t(68143),c=t(36490),o=t(69807);function i(s=!1){return async e=>{try{s||e((0,o.sF)());const E=await(0,l.AI)().get("/api/support-bundles");e((0,o.sJ)(E))}finally{e((0,o.kH)())}}}const x=(0,n.throttle)(async s=>{const e=await(0,l.AI)().get("/api/support-bundles");s((0,o.sJ)(e))},1e3);function p(){return async s=>{s(x)}}function _(s){return async e=>{await(0,l.AI)().delete(`/api/support-bundles/${s}`),e(i(!0))}}function a(){return async s=>{try{s((0,o.Y1)());const e=await(0,l.AI)().get("/api/support-bundles/collectors");s((0,o.j7)(e))}catch{s((0,o.pB)("Error loading support bundles data collectors"))}finally{s((0,o.s7)())}}}function h(s){return async e=>{try{await(0,l.AI)().post("/api/support-bundles",s),c.Ny.push("/support-bundles")}catch{e((0,o.NV)("Error creating support bundle"))}}}}}]);

//# sourceMappingURL=SupportBundles.3d3171017601d5d76a97.js.map