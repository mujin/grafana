"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[3818],{81545:(C,m,t)=>{t.r(m),t.d(m,{SendResetMailPage:()=>g,default:()=>E});var n=t(74848),o=t(58102),x=t(22803),f=t(96540),u=t(49785),a=t(68143),p=t(63142),y=t(32881),c=t(45861),h=t(53487),d=t(37386),e=t(63527),i=t(41654),l=t(65642),s=t(56840);const j=r=>(0,x.css)({color:r.colors.text.secondary,fontSize:r.typography.bodySmall.fontSize,fontWeight:r.typography.fontWeightRegular,marginTop:r.spacing(1),display:"block"}),v=()=>{const[r,L]=(0,f.useState)(!1),B=(0,p.of)(j),M=`${l.Ay.appSubUrl}/login`,{handleSubmit:D,register:I,formState:{errors:S}}=(0,u.mN)(),O=async P=>{await(0,a.AI)().post("/api/user/password/send-reset-email",P)&&L(!0)};return r?(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:(0,n.jsx)(s.x6,{i18nKey:"forgot-password.email-sent",children:"An email with a reset link has been sent to the email address. You should receive it shortly."})}),(0,n.jsx)(y.mc,{margin:"md"}),(0,n.jsx)(c.z9,{variant:"primary",href:M,children:(0,n.jsx)(s.x6,{i18nKey:"forgot-password.back-button",children:"Back to login"})})]}):(0,n.jsxs)("form",{onSubmit:D(O),children:[(0,n.jsx)(h.s,{children:(0,n.jsx)(s.x6,{i18nKey:"forgot-password.reset-password-header",children:"Reset password"})}),(0,n.jsx)(d.D,{label:(0,s.t)("forgot-password.user-field-label","User"),description:(0,s.t)("forgot-password.user-field-description","Enter your information to get a reset link sent to you"),invalid:!!S.userOrEmail,error:S?.userOrEmail?.message,children:(0,n.jsx)(e.p,{id:"user-input",placeholder:(0,s.t)("forgot-password.user-field-placeholder","Email or username"),...I("userOrEmail",{required:"Email or username is required"})})}),(0,n.jsxs)(i.B,{children:[(0,n.jsx)(c.$n,{type:"submit",children:(0,n.jsx)(s.x6,{i18nKey:"forgot-password.send-email-button",children:"Send reset email"})}),(0,n.jsx)(c.z9,{fill:"text",href:M,children:(0,n.jsx)(s.x6,{i18nKey:"forgot-password.back-button",children:"Back to login"})})]}),(0,n.jsx)("p",{className:B,children:(0,n.jsx)(s.x6,{i18nKey:"forgot-password.contact-admin",children:"Did you forget your username or email? Contact your Grafana administrator."})})]})},g=()=>(0,n.jsx)(o.GU,{children:(0,n.jsx)(o.qm,{children:(0,n.jsx)(v,{})})}),E=g},58102:(C,m,t)=>{t.d(m,{GU:()=>c,YO:()=>d,qm:()=>y});var n=t(74848),o=t(22803),x=t(96540),f=t(63142),u=t(56840),a=t(92948),p=t(10388);const y=({children:e,enterAnimation:i=!0})=>{const l=(0,f.of)(d);return(0,n.jsx)("div",{className:(0,o.cx)(l.loginInnerBox,i&&l.enterAnimation),children:e})},c=({children:e,branding:i,isChangingPassword:l})=>{const s=(0,f.of)(d),[j,v]=(0,x.useState)(!1),g=i?.loginSubtitle??a.M.GetLoginSubTitle(),E=i?.loginTitle??a.M.LoginTitle,r=i?.loginBoxBackground||a.M.LoginBoxBackground(),L=i?.loginLogo,B=i?.hideEdition??a.M.HideEdition;return(0,x.useEffect)(()=>v(!0),[]),(0,n.jsxs)(a.M.LoginBackground,{className:(0,o.cx)(s.container,j&&s.loginAnim,i?.loginBackground),children:[(0,n.jsx)("div",{className:s.loginMain,children:(0,n.jsxs)("div",{className:(0,o.cx)(s.loginContent,r,"login-content-box"),children:[(0,n.jsxs)("div",{className:s.loginLogoWrapper,children:[(0,n.jsx)(a.M.LoginLogo,{className:s.loginLogo,logo:L}),(0,n.jsx)("div",{className:s.titleWrapper,children:l?(0,n.jsx)("h1",{className:s.mainTitle,children:(0,n.jsx)(u.x6,{i18nKey:"login.layout.update-password",children:"Update your password"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:s.mainTitle,children:E}),g&&(0,n.jsx)("h3",{className:s.subTitle,children:g})]})})]}),(0,n.jsx)("div",{className:s.loginOuterBox,children:e})]})}),i?.hideFooter?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(p.wi,{hideEdition:B,customLinks:i?.footerLinks})]})},h=(0,o.keyframes)`
from{
  opacity: 0;
  transform: translate(-60px, 0px);
}

to{
  opacity: 1;
  transform: translate(0px, 0px);
}`,d=e=>({loginMain:(0,o.css)({flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:"100%"}),container:(0,o.css)({minHeight:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",flex:1,minWidth:"100%",marginLeft:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),loginAnim:(0,o.css)({"&:before":{opacity:1},".login-content-box":{opacity:1}}),submitButton:(0,o.css)({justifyContent:"center",width:"100%"}),loginLogo:(0,o.css)({width:"100%",maxWidth:60,marginBottom:e.spacing(2),[e.breakpoints.up("sm")]:{maxWidth:100}}),loginLogoWrapper:(0,o.css)({display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:e.spacing(3)}),titleWrapper:(0,o.css)({textAlign:"center"}),mainTitle:(0,o.css)({fontSize:22,[e.breakpoints.up("sm")]:{fontSize:32}}),subTitle:(0,o.css)({fontSize:e.typography.size.md,color:e.colors.text.secondary}),loginContent:(0,o.css)({maxWidth:478,width:"calc(100% - 2rem)",display:"flex",alignItems:"stretch",flexDirection:"column",position:"relative",justifyContent:"flex-start",zIndex:1,minHeight:320,borderRadius:e.shape.radius.default,padding:e.spacing(2,0),opacity:0,[e.transitions.handleMotion("no-preference","reduce")]:{transition:"opacity 0.5s ease-in-out"},[e.breakpoints.up("sm")]:{minHeight:e.spacing(40),justifyContent:"center"}}),loginOuterBox:(0,o.css)({display:"flex",overflowY:"hidden",alignItems:"center",justifyContent:"center"}),loginInnerBox:(0,o.css)({padding:e.spacing(0,2,2,2),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexGrow:1,maxWidth:415,width:"100%",transform:"translate(0px, 0px)",[e.transitions.handleMotion("no-preference")]:{transition:"0.25s ease"}}),enterAnimation:(0,o.css)({[e.transitions.handleMotion("no-preference")]:{animation:`${h} ease-out 0.2s`}})})}}]);

//# sourceMappingURL=SendResetMailPage.db64cd01073d67a57665.js.map