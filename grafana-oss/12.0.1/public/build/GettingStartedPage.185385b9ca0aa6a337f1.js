"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[1037],{83673:(K,x,t)=>{t.d(x,{A:()=>te});var e=t(74848),s=t(22803),u=t(96540),p=t(63142),v=t(34999),a=t(41654),E=t(19164),i=t(56840),c=t(66404),h=t(31286),m=t(45861),I=t(6773),P=t(30703);const B=({icon:n,color:r})=>{const o=(0,p.of)(O,r);return(0,e.jsx)("div",{className:o.iconCircle,children:(0,e.jsx)(P.I,{name:n,size:"xl"})})};function O(n,r){const o=n.visualization.getColorByName(r);return{iconCircle:(0,s.css)({borderRadius:n.shape.radius.circle,padding:n.spacing(1),color:o,backgroundColor:I.MV.alpha(o,.2)})}}const D=({hasPublicAccess:n,hasImageRenderer:r,onSetupPublicAccess:o})=>{const l=(0,p.of)(M);return(0,e.jsxs)(a.B,{direction:"column",gap:5,children:[(0,e.jsxs)(a.B,{direction:"column",children:[(0,e.jsx)(c.E,{variant:"h4",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.header",children:"Enhance your GitHub experience"})}),(0,e.jsx)(c.E,{color:"secondary",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.description",children:"Get the most out of your GitHub integration with these optional add-ons"})})]}),(0,e.jsxs)(a.B,{gap:2,direction:"row",height:"100%",children:[(0,e.jsxs)(h.a,{width:"40%",height:"100%",display:"flex",direction:"column",gap:2,alignItems:"flex-start",children:[(0,e.jsxs)(a.B,{gap:2,children:[(0,e.jsx)(B,{icon:"sync",color:"blue"}),(0,e.jsx)(B,{icon:"code-branch",color:"purple"})]}),(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.title-instant-updates-requests-webhooks",children:"Instant updates and pull requests with webhooks."}),(0,e.jsx)(h.a,{display:"flex",flex:"1",minHeight:"50px",children:(0,e.jsx)(c.E,{variant:"body",color:"secondary",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.description-instant-updates",children:"Get instant updates in Grafana as soon as changes are committed. Review and approve changes using pull requests before they go live."})})}),(0,e.jsx)(m.z9,{fill:"outline",variant:"secondary",onClick:o,disabled:n,icon:n?"check":void 0,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.set-up-public-webhooks",children:"Set up public webhooks"})})]}),(0,e.jsx)("div",{className:l.separator}),(0,e.jsxs)(h.a,{width:"40%",height:"100%",paddingLeft:2,display:"flex",direction:"column",gap:2,alignItems:"flex-start",children:[(0,e.jsx)(B,{icon:"camera",color:"orange"}),(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.title-visual-previews-in-pull-requests",children:"Visual previews in pull requests with image rendering"}),(0,e.jsx)(h.a,{display:"flex",flex:"1",minHeight:"50px",children:(0,e.jsx)(c.E,{variant:"body",color:"secondary",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.description-visual-previews-dashboard-updates-directly-requests",children:"See visual previews of dashboard updates directly in pull requests"})})}),(0,e.jsx)(m.z9,{fill:"outline",variant:"secondary",href:"https://grafana.com/grafana/plugins/grafana-image-renderer/",icon:r?"check":"external-link-alt",disabled:r,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.enhanced-features.set-up-image-rendering",children:"Set up image rendering"})})]})]})]})};function M(n){return{separator:(0,s.css)({borderRight:`2px solid ${n.colors.border.weak}`})}}var R=t(3064);const A=({repos:n,hasRequiredFeatures:r,onSetupFeatures:o})=>{const l=(0,p.of)(U);return(0,e.jsxs)(a.B,{direction:"column",gap:3,children:[(0,e.jsx)(c.E,{variant:"h2",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.features-list.manage-your-dashboards-with-remote-provisioning",children:"Get started with GitSync"})}),(0,e.jsxs)("ul",{className:l.featuresList,children:[(0,e.jsx)("li",{children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.features-list.manage-dashboards-provision-updates-automatically",children:"Manage dashboards as code in GitHub and provision updates automatically"})}),(0,e.jsx)("li",{children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.features-list.store-dashboards-in-version-controlled-storage",children:"Store dashboards in version-controlled storage for better organization and history tracking"})})]}),r?(0,e.jsx)(a.B,{direction:"row",alignItems:"center",gap:2,children:(0,e.jsx)(R.N,{items:n})}):(0,e.jsx)(h.a,{children:(0,e.jsx)(m.z9,{fill:"outline",onClick:o,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.features-list.actions.set-up-required-feature-toggles",children:"Set up required feature toggles"})})})]})},U=n=>({featuresList:(0,s.css)({listStyleType:"none",paddingLeft:0,marginLeft:n.spacing(-1),"& li":{position:"relative",paddingLeft:n.spacing(4),marginBottom:n.spacing(1),"&:before":{content:'"\u2713"',position:"absolute",left:n.spacing(1),top:"0",color:n.colors.text.secondary,fontWeight:n.typography.fontWeightBold}}})});var W=t(22787),G=t(32881),F=t(47931),k=t(50992);const N=({code:n,copyCode:r=!0})=>{const o=n.split(`
`).length,l=o*24<=42,g=(0,p.of)(w);return(0,e.jsxs)("div",{className:g.container,children:[r&&(0,e.jsx)(F.b,{className:g.copyButton,variant:"secondary",size:"sm",icon:"copy",getText:()=>n}),(0,e.jsx)(k.B,{value:n,language:"ini",showLineNumbers:!1,showMiniMap:!1,height:l?"42px":`${Math.min(o*24,300)}px`,readOnly:!0,monacoOptions:{scrollBeyondLastLine:!1,scrollbar:{vertical:l?"hidden":"auto",horizontal:"auto"}}})]})},w=n=>({container:(0,s.css)({position:"relative",margin:`${n.spacing(2)} 0`,border:`1px solid ${n.colors.border.medium}`}),copyButton:(0,s.css)({position:"absolute",top:n.spacing(1),right:n.spacing(1),zIndex:1})}),z=({step:n})=>(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(c.E,{element:"h3",variant:"h4",children:n?.title}),n.description&&(0,e.jsx)(G.mc,{margin:"sm",children:(0,e.jsx)(c.E,{element:"p",children:n.description})}),n.code&&(0,e.jsx)(N,{code:n.code,copyCode:n.copyCode})]});var $=t(8073),H=t(76319);const Y=({step:n,index:r,currentStep:o,onStepClick:l,styles:g})=>{const f=r<o,d=r===o,j=r>o,C=()=>f?{icon:"check-circle",color:"success",label:(0,i.t)("provisioning.sidebar-item.label-completed-step","Completed step")}:d?{icon:"circle",color:"primary",label:(0,i.t)("provisioning.sidebar-item.label-current-step","Current step")}:{icon:"circle",color:"secondary",label:(0,i.t)("provisioning.sidebar-item.label-pending-step","Pending step")},{icon:y,color:b,label:S}=C(),L=()=>l(r),T=se=>{se.stopPropagation(),l(r)};return(0,e.jsx)($.Z,{className:`${g.stepItem} ${d?g.activeStep:""} ${g.plainCard}`,onClick:L,children:(0,e.jsxs)(a.B,{direction:"row",alignItems:"center",gap:2,children:[(0,e.jsx)(H.K,{name:y,size:"sm",variant:j?"secondary":"primary",color:b,"aria-label":S,onClick:T}),(0,e.jsx)(c.E,{color:d?"primary":"secondary",weight:d?"medium":"regular",children:n})]})})},V=n=>({stepItem:(0,s.css)({padding:n.spacing(1),cursor:"pointer","&:hover":{background:n.colors.action.hover}}),activeStep:(0,s.css)({color:n.colors.primary.text}),plainCard:(0,s.css)({background:"transparent",border:"none",boxShadow:"none"})}),X=({steps:n,currentStep:r,onStepClick:o})=>{if(n.length===0||n.length===1)return null;const l=(0,p.of)(V);return(0,e.jsx)(h.a,{width:"260px",padding:1,children:(0,e.jsx)(a.B,{direction:"column",gap:1,children:n.map((g,f)=>(0,e.jsx)(Y,{step:g,index:f,currentStep:r,onStepClick:o,styles:l},f))})})},Z=({title:n,description:r,steps:o,isOpen:l,onDismiss:g})=>{const f=(0,p.of)(J),[d,j]=(0,u.useState)(0),C=d===0,y=d===o.length-1,b=o.map(T=>T.title),S=()=>!y&&j(d+1),L=()=>!C&&j(d-1);return(0,e.jsxs)(W.a,{isOpen:l,title:n,onDismiss:g,className:f.modal,children:[(0,e.jsxs)(a.B,{direction:"column",gap:4,children:[(0,e.jsx)(c.E,{variant:"body",color:"secondary",children:r}),(0,e.jsxs)(a.B,{direction:"row",height:"100%",children:[(0,e.jsx)(X,{steps:b,currentStep:d,onStepClick:j}),(0,e.jsx)("div",{className:f.contentWrapper,children:(0,e.jsx)(z,{step:o[d]})})]})]}),(0,e.jsx)(W.a.ButtonRow,{children:(0,e.jsxs)(a.B,{direction:"row",justifyContent:"flex-end",gap:2,children:[(0,e.jsx)(m.$n,{variant:"secondary",onClick:L,disabled:C,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.setup-modal.previous",children:"Previous"})}),y?(0,e.jsx)(m.$n,{variant:"primary",onClick:g,icon:"check-circle",children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.setup-modal.done",children:"Done"})}):(0,e.jsx)(m.$n,{variant:"primary",onClick:S,children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.setup-modal.next",children:"Next"})})]})})]})},J=n=>({modal:(0,s.css)({width:"1100px",maxWidth:"95%"}),description:(0,s.css)({marginBottom:n.spacing(3),padding:n.spacing(0,1)}),contentWrapper:(0,s.css)({flex:1,overflowY:"auto",minWidth:0,padding:n.spacing(2),borderLeft:`1px solid ${n.colors.border.weak}`}),footer:(0,s.css)({padding:n.spacing(2),borderTop:`1px solid ${n.colors.border.weak}`,marginTop:n.spacing(2)})});var Q=t(53247);const _=`# In your custom.ini file

[feature_toggles]
provisioning = true
kubernetesClientDashboardsFolders = true
kubernetesDashboards = true ; use k8s from browser

# If you want easy kubectl setup development mode
grafanaAPIServerEnsureKubectlAccess = true`,q=`ngrok http 3000

Help shape K8s Bindings https://ngrok.com/new-features-update?ref=k8s

Session Status                online
Account                       Roberto Jim\xE9nez S\xE1nchez (Plan: Free)
Version                       3.18.4
Region                        Europe (eu)
Latency                       44ms
Web Interface                 http://127.0.0.1:4040
Forwarding                    https://d60d-83-33-235-27.ngrok-free.app -> http://localhost:3000
Connections                   ttl     opn     rt1     rt5     p50     p90
                              50      2       0.00    0.00    83.03   90.56

HTTP Requests
-------------

09:18:46.147 CET             GET  /favicon.ico                   302 Found
09:18:46.402 CET             GET  /login`,ee=`[server]
root_url = https://d60d-83-33-235-27.ngrok-free.app`,ne=n=>{switch(n){case"public-access":return{title:(0,i.t)("provisioning.getting-started.modal-title-set-up-public-access","Set up public access"),description:(0,i.t)("provisioning.getting-started.modal-description-public-access","Set up public access to your Grafana instance to enable GitHub integration"),steps:[{title:(0,i.t)("provisioning.getting-started.step-title-start-ngrok","Start ngrok for temporary public access"),description:(0,i.t)("provisioning.getting-started.step-description-start-ngrok","Run this command to create a secure tunnel to your local Grafana:"),code:"ngrok http 3000"},{title:(0,i.t)("provisioning.getting-started.step-title-copy-url","Copy your public URL"),description:(0,i.t)("provisioning.getting-started.step-description-copy-url","From the ngrok output, copy the https:// forwarding URL that looks like this:"),code:q,copyCode:!1},{title:(0,i.t)("provisioning.getting-started.step-title-update-grafana-config","Update your Grafana configuration"),description:(0,i.t)("provisioning.getting-started.step-description-update-grafana-config","Add this to your custom.ini file, replacing the URL with your actual ngrok URL:"),code:ee}]};case"required-features":return{title:(0,i.t)("provisioning.getting-started.modal-title-set-up-required-features","Set up required features"),description:(0,i.t)("provisioning.getting-started.modal-description-required-features","Enable required Grafana features for provisioning"),steps:[{title:(0,i.t)("provisioning.getting-started.step-title-enable-feature-toggles","Enable Required Feature Toggles"),description:(0,i.t)("provisioning.getting-started.step-description-enable-feature-toggles","Add these settings to your custom.ini file to enable necessary features:"),code:_}]};default:return{title:"",description:"",steps:[]}}};function te({items:n}){const r=(0,p.of)(ie),o=(0,E.F9)(void 0,{refetchOnMountOrArgChange:!0}),l=o.data?.legacyStorage,g=!!o.data?.items?.length,{hasPublicAccess:f,hasImageRenderer:d,hasRequiredFeatures:j}=(0,Q.NY)(),[C,y]=(0,u.useState)(!1),[b,S]=(0,u.useState)(null);return(0,e.jsxs)(e.Fragment,{children:[l&&(0,e.jsx)(v.F,{severity:"info",title:(0,i.t)("provisioning.getting-started.title-setting-connection-could-cause-temporary-outage","Setting up this connection could cause a temporary outage"),children:(0,e.jsx)(i.x6,{i18nKey:"provisioning.getting-started.alert-temporary-outage",children:"When you connect your whole instance, dashboards will be unavailable while running the migration. We recommend warning your users before starting the process."})}),(0,e.jsxs)(a.B,{direction:"column",gap:6,wrap:"wrap",children:[(0,e.jsxs)(a.B,{gap:10,alignItems:"center",children:[(0,e.jsx)(A,{repos:n,hasRequiredFeatures:j,onSetupFeatures:()=>{S("required-features"),y(!0)}}),(0,e.jsx)("div",{className:r.imageContainer,children:(0,e.jsx)("img",{src:"public/img/provisioning/provisioning.svg",className:r.image,alt:"Grafana provisioning"})})]}),(!f||!d)&&g&&(0,e.jsx)(D,{hasPublicAccess:f,hasImageRenderer:d,onSetupPublicAccess:()=>{S("public-access"),y(!0)}})]}),C&&b&&(0,e.jsx)(Z,{...ne(b),isOpen:C,onDismiss:()=>y(!1)})]})}function ie(n){return{imageContainer:(0,s.css)({height:350,display:"flex",alignItems:"center",justifyContent:"center"}),image:(0,s.css)({borderRadius:n.shape.radius.default,width:"100%",height:"100%"})}}},90886:(K,x,t)=>{t.r(x),t.d(x,{default:()=>i});var e=t(74848),s=t(31286),u=t(66404),p=t(89640),v=t(13791),a=t(56840),E=t(83673);function i({items:h}){return(0,e.jsx)(v.Y,{navId:"provisioning",pageNav:{text:(0,a.t)("provisioning.getting-started-page.header","Provisioning"),subTitle:(0,a.t)("provisioning.getting-started-page.subtitle-provisioning-feature","View and manage your provisioning connections")},children:(0,e.jsxs)(v.Y.Contents,{children:[(0,e.jsx)(c,{}),(0,e.jsx)(E.A,{items:h})]})})}function c(){return(0,e.jsx)(s.a,{display:"flex",backgroundColor:"info",borderRadius:"default",paddingY:2,paddingX:2,marginBottom:3,alignItems:"stretch",children:(0,e.jsx)(u.E,{children:(0,e.jsxs)(a.x6,{i18nKey:"provisioning.banner.message",children:["This feature is currently under active development. For the best experience and latest improvements, we recommend using the"," ",(0,e.jsx)(p.Y,{href:"https://grafana.com/grafana/download/nightly",external:!0,children:"nightly build"})," ","of Grafana."]})})})}},3064:(K,x,t)=>{t.d(x,{N:()=>B});var e=t(74848),s=t(54148),u=t(34999),p=t(88559),v=t(87063),a=t(45861),E=t(41654),i=t(30703),c=t(56840),h=t(91555),m=t(93838);const I=`${h.pd}/github`,P=`${h.pd}/local`;function B({items:O,showDropdown:D=!1}){const M=(0,m.X)(O),R=(0,s.Zp)();return M.instanceConnected?null:M.maxReposReached?(0,e.jsx)(u.F,{title:"",severity:"info",children:(0,e.jsx)(c.x6,{i18nKey:"provisioning.connect-repository-button.repository-limit-info-alert",values:{count:M.repoCount},defaults:"Repository limit reached ({{count}})"})}):D?(0,e.jsx)(p.m,{overlay:(0,e.jsxs)(v.W,{children:[(0,e.jsx)(v.W.Item,{icon:"code-branch",label:(0,c.t)("provisioning.connect-repository-button.configure-git-sync","Configure Git Sync"),onClick:()=>{R(I)}}),(0,e.jsx)(v.W.Item,{icon:"file-alt",label:(0,c.t)("provisioning.connect-repository-button.configure-file","Configure file provisioning"),onClick:()=>{R(P)}})]}),children:(0,e.jsx)(a.$n,{variant:"primary",children:(0,e.jsxs)(E.B,{alignItems:"center",children:[(0,e.jsx)(c.x6,{i18nKey:"provisioning.connect-repository-button.configure",children:"Configure"}),(0,e.jsx)(i.I,{name:"angle-down"})]})})}):(0,e.jsxs)(E.B,{gap:3,children:[(0,e.jsx)(a.z9,{href:I,variant:"primary",children:(0,e.jsx)(c.x6,{i18nKey:"provisioning.connect-repository-button.configure-git-sync",children:"Configure Git Sync"})}),(0,e.jsx)(a.z9,{href:P,variant:"secondary",children:(0,e.jsx)(c.x6,{i18nKey:"provisioning.connect-repository-button.configure-file",children:"Configure file provisioning"})})]})}},93838:(K,x,t)=>{t.d(x,{X:()=>e});function e(s){return s?.length?{instanceConnected:s.some(u=>u.spec?.sync.target==="instance"),folderConnected:s.some(u=>u.spec?.sync.target==="folder"),maxReposReached:(s??[]).length>=10,repoCount:s.length}:{instanceConnected:!1,folderConnected:!1,repoCount:0,maxReposReached:!1}}}}]);

//# sourceMappingURL=GettingStartedPage.185385b9ca0aa6a337f1.js.map