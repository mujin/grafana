"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[362],{70362:(k,K,o)=>{o.d(K,{i:()=>f});var D=o(74848),E=o(22803),I=o(63142),F=o(28134),p=o(77239),C=o(53049);const f=({displayValues:s,links:l,header:m="Exemplar",maxHeight:u})=>{const c=(0,I.of)(y,0,u),T=s.find(x=>x.name==="Time");return s=s.filter(x=>x.name!=="Time"),(0,D.jsxs)("div",{className:c.exemplarWrapper,children:[(0,D.jsxs)("div",{className:c.exemplarHeader,children:[(0,D.jsx)("span",{className:c.title,children:m}),T&&(0,D.jsx)("span",{className:c.time,children:(0,C.A)(T.valueString)})]}),(0,D.jsx)("div",{className:c.exemplarContent,children:s.map((x,H)=>(0,D.jsx)(p.B,{label:x.name,value:(0,C.A)(x.valueString),justify:"space-between",isPinned:!1},H))}),l&&l.length>0&&(0,D.jsx)("div",{className:c.exemplarFooter,children:l.map((x,H)=>(0,D.jsx)(F.R,{link:x,buttonProps:{size:"md"}},H))})]})},y=(s,l=0,m)=>({exemplarWrapper:(0,E.css)({display:"flex",flexDirection:"column",flex:1,gap:4,whiteSpace:"pre",borderRadius:s.shape.radius.default,background:s.colors.background.primary,border:`1px solid ${s.colors.border.weak}`}),exemplarHeader:(0,E.css)({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:s.spacing(.5),color:s.colors.text.secondary,padding:s.spacing(1)}),time:(0,E.css)({color:s.colors.text.primary}),exemplarContent:(0,E.css)({display:"flex",flexDirection:"column",flex:1,gap:4,borderTop:`1px solid ${s.colors.border.medium}`,padding:s.spacing(1),overflowY:"auto",maxHeight:m}),exemplarFooter:(0,E.css)({display:"flex",flexDirection:"column",padding:s.spacing(1),borderTop:`1px solid ${s.colors.border.medium}`,gap:4}),linkButton:(0,E.css)({width:"fit-content"}),label:(0,E.css)({color:s.colors.text.secondary,fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",marginRight:s.spacing(.5)}),value:(0,E.css)({fontWeight:500,textOverflow:"ellipsis",overflow:"hidden"}),title:(0,E.css)({fontWeight:s.typography.fontWeightMedium,overflow:"hidden",display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis",flexGrow:1})})},53497:(k,K,o)=>{o.d(K,{DY:()=>F,G4:()=>f,Sq:()=>s,T5:()=>y,W_:()=>E,_7:()=>I,fX:()=>p,wq:()=>C,yQ:()=>l,yu:()=>m});var D=o(739),E=(u=>(u.Point="point",u.Line="line",u.Polygon="polygon",u.Any="*any*",u))(E||{});const I=5;var F=(u=>(u.Left="left",u.Center="center",u.Right="right",u))(F||{}),p=(u=>(u.Top="top",u.Middle="middle",u.Bottom="bottom",u))(p||{}),C=(u=>(u.Left="left",u.Center="center",u.Right="right",u))(C||{}),f=(u=>(u.Top="top",u.Center="center",u.Bottom="bottom",u))(f||{});const y=Object.freeze({size:{fixed:I,min:2,max:15},color:{fixed:"dark-green"},opacity:.4,symbol:{mode:D.q_.Fixed,fixed:"img/icons/marker/circle.svg"},symbolAlign:{horizontal:"center",vertical:"center"},textConfig:{fontSize:12,textAlign:"center",textBaseline:"middle",offsetX:0,offsetY:0},rotation:{fixed:0,mode:D.WQ.Mod,min:-360,max:360}});var s=(u=>(u.color="fill",u.opacity="fill-opacity",u.lineWidth="stroke-width",u))(s||{}),l=(u=>(u.color="marker-color",u.size="marker-size",u))(l||{}),m=(u=>(u.color="stroke",u.lineWidth="stroke-width",u))(m||{})},53049:(k,K,o)=>{o.d(K,{A:()=>F});var D=o(74848),E=o(22803),I=o(74916);const F=p=>(0,I.gU)(p)?(0,D.jsx)("a",{href:p,target:"_blank",className:(0,E.cx)("external-link"),rel:"noreferrer",children:p}):p},74916:(k,K,o)=>{o.d(K,{rd:()=>Ae,q:()=>Te,G_:()=>ve,ue:()=>ye,o3:()=>Pe,gU:()=>Ie,Bz:()=>Re,cA:()=>Ce});var D=o(34120),E=o(50071),I=o(32135),F=o(90025),p=o(74238),C=o(4087),f=o(9703),y=o(70915),s=o(82241),l=o(60764),m=o(6933);class u extends F.A{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){(0,C.b0)()}calculateMatrices2D(t){const e=t.viewState,r=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;(0,f.Zz)(r,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,f.T9)(a,r)}forEachFeatureAtCoordinate(t,e,r,a,v,A,b,Y){let q;const rt=e.viewState;function Et(et,at,pt,vt){return v.call(A,at,et?pt:null,vt)}const Pt=rt.projection,Me=(0,m.Li)(t.slice(),Pt),Rt=[[0,0]];if(Pt.canWrapX()&&a){const et=Pt.getExtent(),at=(0,y.RG)(et);Rt.push([-at,0],[at,0])}const wt=e.layerStatesArray,Oe=wt.length,yt=[],It=[];for(let et=0;et<Rt.length;et++)for(let at=Oe-1;at>=0;--at){const pt=wt[at],vt=pt.layer;if(vt.hasRenderer()&&(0,l.l)(pt,rt)&&b.call(Y,vt)){const St=vt.getRenderer(),Kt=vt.getSource();if(St&&Kt){const Nt=Kt.getWrapX()?Me:t,De=Et.bind(null,pt.managed);It[0]=Nt[0]+Rt[et][0],It[1]=Nt[1]+Rt[et][1],q=St.forEachFeatureAtCoordinate(It,e,r,De,yt)}if(q)return q}}if(yt.length===0)return;const Le=1/yt.length;return yt.forEach((et,at)=>et.distanceSq+=at*Le),yt.sort((et,at)=>et.distanceSq-at.distanceSq),yt.some(et=>q=et.callback(et.feature,et.layer,et.geometry)),q}hasFeatureAtCoordinate(t,e,r,a,v,A){return this.forEachFeatureAtCoordinate(t,e,r,a,p.rT,this,v,A)!==void 0}getMap(){return this.map_}renderFrame(t){(0,C.b0)()}scheduleExpireIconCache(t){s.u.canExpireCache()&&t.postRenderFunctions.push(c)}}function c(_,t){s.u.expire()}const T=u;var x=o(28450),H=o(9960),O=o(83984),w=o(25176),z=o(38774),N=o(9438),Q=o(68711);class it extends T{constructor(t){super(t),this.fontChangeListenerKey_=(0,N.KT)(z.yY,x.A.PROPERTYCHANGE,t.redrawText.bind(t)),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=w.XI+" ol-layers";const r=t.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const r=this.getMap();if(r.hasListener(t)){const a=new H.A(t,void 0,e);r.dispatchEvent(a)}}disposeInternal(){(0,N.JH)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(O.A.PRECOMPOSE,t);const e=t.layerStatesArray.sort(function(A,b){return A.zIndex-b.zIndex}),r=t.viewState;this.children_.length=0;const a=[];let v=null;for(let A=0,b=e.length;A<b;++A){const Y=e[A];t.layerIndex=A;const q=Y.layer,rt=q.getSourceState();if(!(0,l.l)(Y,r)||rt!="ready"&&rt!="undefined"){q.unrender();continue}const Et=q.render(t,v);Et&&(Et!==v&&(this.children_.push(Et),v=Et),"getDeclutter"in q&&a.push(q))}for(let A=a.length-1;A>=0;--A)a[A].renderDeclutter(t);(0,Q.WM)(this.element_,this.children_),this.dispatchRenderEvent(O.A.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}}const dt=it;var Z=o(6837),B=o(35598),U=o(10277),$=o(73445);const lt={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var ht=o(79332),ct=o(7771);class g extends ht.A{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e===void 0?1:e,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=(0,N.KT)(r,lt.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=(0,N.KT)(r,lt.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Z.A.TOUCHMOVE,this.boundHandleTouchMove_,ct.FT?{passive:!1}:!1)}emulateClick_(t){let e=new U.A($.A.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new U.A($.A.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new U.A($.A.SINGLECLICK,this.map_,t);this.dispatchEvent(r)},250)}updateActivePointers_(t){const e=t,r=e.pointerId;if(e.type==$.A.POINTERUP||e.type==$.A.POINTERCANCEL){delete this.trackedTouches_[r];for(const a in this.trackedTouches_)if(this.trackedTouches_[a].target!==e.target){delete this.trackedTouches_[a];break}}else(e.type==$.A.POINTERDOWN||e.type==$.A.POINTERMOVE)&&(this.trackedTouches_[r]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new U.A($.A.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(N.JH),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const e=new U.A($.A.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,N.KT)(r,$.A.POINTERMOVE,this.handlePointerMove_,this),(0,N.KT)(r,$.A.POINTERUP,this.handlePointerUp_,this),(0,N.KT)(this.element_,$.A.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push((0,N.KT)(this.element_.getRootNode(),$.A.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new U.A($.A.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new U.A($.A.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,N.JH)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Z.A.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,N.JH)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(N.JH),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const n=g;var i=o(95801),h=o(82585);const d={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var R=o(90588),L=o(43530);const S=1/0;class P{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,(0,L.I)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,r=t[0];t.length==1?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const a=this.keyFunction_(r);return delete this.queuedElements_[a],r}enqueue(t){(0,R.v)(!(this.keyFunction_(t)in this.queuedElements_),31);const e=this.priorityFunction_(t);return e!=S?(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,r=this.priorities_,a=e.length,v=e[t],A=r[t],b=t;for(;t<a>>1;){const Y=this.getLeftChildIndex_(t),q=this.getRightChildIndex_(t),rt=q<a&&r[q]<r[Y]?q:Y;e[t]=e[rt],r[t]=r[rt],t=rt}e[t]=v,r[t]=A,this.siftDown_(b,t)}siftDown_(t,e){const r=this.elements_,a=this.priorities_,v=r[e],A=a[e];for(;e>t;){const b=this.getParentIndex_(e);if(a[b]>A)r[e]=r[b],a[e]=a[b],e=b;else break}r[e]=v,a[e]=A}reprioritize(){const t=this.priorityFunction_,e=this.elements_,r=this.priorities_;let a=0;const v=e.length;let A,b,Y;for(b=0;b<v;++b)A=e[b],Y=t(A),Y==S?delete this.queuedElements_[this.keyFunction_(A)]:(r[a]=Y,e[a++]=A);e.length=a,r.length=a,this.heapify_()}}const V=P;var M=o(11078);class W extends V{constructor(t,e){super(function(r){return t.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(Z.A.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,r=e.getState();if(r===M.A.LOADED||r===M.A.ERROR||r===M.A.EMPTY){r!==M.A.ERROR&&e.removeEventListener(Z.A.CHANGE,this.boundHandleTileChange_);const a=e.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let r=0,a,v,A;for(;this.tilesLoading_<t&&r<e&&this.getCount()>0;)v=this.dequeue()[0],A=v.getKey(),a=v.getState(),a===M.A.IDLE&&!(A in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[A]=!0,++this.tilesLoading_,++r,v.load())}}const j=W;function G(_,t,e,r,a){if(!_||!(e in _.wantedTiles)||!_.wantedTiles[e][t.getKey()])return S;const v=_.viewState.center,A=r[0]-v[0],b=r[1]-v[1];return 65536*Math.log(a)+Math.sqrt(A*A+b*b)/a}var X=o(91765),J=o(62703),tt=o(57456),ot=o(10972),st=o(93474);class Ut extends ot.A{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=t.className!==void 0?t.className:"ol-rotate",r=t.label!==void 0?t.label:"\u21E7",a=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=a,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(a));const v=t.tipLabel?t.tipLabel:"Reset rotation",A=document.createElement("button");A.className=e+"-reset",A.setAttribute("type","button"),A.title=v,A.appendChild(this.label_),A.addEventListener(Z.A.CLICK,this.handleClick_.bind(this),!1);const b=e+" "+w.XI+" "+w.$N,Y=this.element;Y.className=b,Y.appendChild(A),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(w.Si)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const r=e.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:st.vT}):e.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const r=e.viewState.rotation;if(r!=this.rotation_){const a="rotate("+r+"rad)";if(this.autoHide_){const v=this.element.classList.contains(w.Si);!v&&r===0?this.element.classList.add(w.Si):v&&r!==0&&this.element.classList.remove(w.Si)}this.label_.style.transform=a}this.rotation_=r}}const Wt=Ut;var Ft=o(69186);function jt(_){_=_||{};const t=new E.A;return(_.zoom!==void 0?_.zoom:!0)&&t.push(new Ft.A(_.zoomOptions)),(_.rotate!==void 0?_.rotate:!0)&&t.push(new Wt(_.rotateOptions)),(_.attribution!==void 0?_.attribution:!0)&&t.push(new tt.A(_.attributionOptions)),t}var ft=o(6292);class Bt extends ft.Ay{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let e=!1;if(t.type==$.A.DBLCLICK){const r=t.originalEvent,a=t.map,v=t.coordinate,A=r.shiftKey?-this.delta_:this.delta_,b=a.getView();(0,ft.D2)(b,A,v,this.duration_),r.preventDefault(),e=!0}return!e}}const zt=Bt;var ut=o(21409),nt=o(58704);class Zt extends ut.A{constructor(t){super({stopDown:p.W8}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:(0,nt.Q7)(nt.TS,nt.fs);this.condition_=t.onFocusOnly?(0,nt.Q7)(nt.eL,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const r=this.targetPointers,a=e.getEventPixel((0,ut.v)(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){const v=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],b=t.map.getView();(0,m.hs)(v,b.getResolution()),(0,m.e$)(v,b.getRotation()),b.adjustCenterInternal(v)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=a,this.lastPointersCount_=r.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,r=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const a=this.kinetic_.getDistance(),v=this.kinetic_.getAngle(),A=r.getCenterInternal(),b=e.getPixelFromCoordinateInternal(A),Y=e.getCoordinateFromPixelInternal([b[0]-a*Math.cos(v),b[1]-a*Math.sin(v)]);r.animateInternal({center:r.getConstrainedCenter(Y),duration:500,easing:st.vT})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const r=t.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const Vt=Zt;var Mt=o(24498);class Ht extends ut.A{constructor(t){t=t||{},super({stopDown:p.W8}),this.condition_=t.condition?t.condition:nt.IO,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!(0,nt.A4)(t))return;const e=t.map,r=e.getView();if(r.getConstraints().rotation===Mt.b8)return;const a=e.getSize(),v=t.pixel,A=Math.atan2(a[1]/2-v[1],v[0]-a[0]/2);if(this.lastAngle_!==void 0){const b=A-this.lastAngle_;r.adjustRotationInternal(-b)}this.lastAngle_=A}handleUpEvent(t){return(0,nt.A4)(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return(0,nt.A4)(t)&&(0,nt.at)(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}const Gt=Ht;var Xt=o(1685),kt=o(71064);class Yt extends F.A{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,r="px",a=this.element_.style;a.left=Math.min(t[0],e[0])+r,a.top=Math.min(t[1],e[1])+r,a.width=Math.abs(e[0]-t[0])+r,a.height=Math.abs(e[1]-t[1])+r}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,a=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new kt.Ay([a])}getGeometry(){return this.geometry_}}const $t=Yt,At={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Tt extends Xt.Ay{constructor(t,e,r){super(t),this.coordinate=e,this.mapBrowserEvent=r}}class Jt extends ut.A{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new $t(t.className||"ol-dragbox"),this.minArea_=t.minArea!==void 0?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:nt.at,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,r){const a=r[0]-e[0],v=r[1]-e[1];return a*a+v*v>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Tt(At.BOXDRAG,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Tt(e?At.BOXEND:At.BOXCANCEL,t.coordinate,t)),!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Tt(At.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}}const Qt=Jt;class qt extends Qt{constructor(t){t=t||{};const e=t.condition?t.condition:nt.Kg;super({condition:e,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const r=this.getMap().getView();let a=this.getGeometry();if(this.out_){const v=r.rotatedExtentForGeometry(a),A=r.getResolutionForExtentInternal(v),b=r.getResolution()/A;a=a.clone(),a.scale(b*b)}r.fitInternal(a,{duration:this.duration_,easing:st.vT})}}const te=qt,gt={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class ee extends ft.Ay{constructor(t){super(),t=t||{},this.defaultCondition_=function(e){return(0,nt.TS)(e)&&(0,nt.tE)(e)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==Z.A.KEYDOWN){const r=t.originalEvent,a=r.key;if(this.condition_(t)&&(a==gt.DOWN||a==gt.LEFT||a==gt.RIGHT||a==gt.UP)){const A=t.map.getView(),b=A.getResolution()*this.pixelDelta_;let Y=0,q=0;a==gt.DOWN?q=-b:a==gt.LEFT?Y=-b:a==gt.RIGHT?Y=b:q=b;const rt=[Y,q];(0,m.e$)(rt,A.getRotation()),(0,ft.e4)(A,rt,this.duration_),r.preventDefault(),e=!0}}return!e}}const ne=ee;class ie extends ft.Ay{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:nt.tE,this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let e=!1;if(t.type==Z.A.KEYDOWN||t.type==Z.A.KEYPRESS){const r=t.originalEvent,a=r.key;if(this.condition_(t)&&(a==="+"||a==="-")){const v=t.map,A=a==="+"?this.delta_:-this.delta_,b=v.getView();(0,ft.D2)(b,A,void 0,this.duration_),r.preventDefault(),e=!0}}return!e}}const se=ie;class re{constructor(t,e,r){this.decay_=t,this.minVelocity_=e,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let r=e-3;for(;r>0&&this.points_[r+2]>t;)r-=3;const a=this.points_[e+2]-this.points_[r+2];if(a<1e3/60)return!1;const v=this.points_[e]-this.points_[r],A=this.points_[e+1]-this.points_[r+1];return this.angle_=Math.atan2(A,v),this.initialVelocity_=Math.sqrt(v*v+A*A)/a,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const oe=re;var ae=o(88751);class le extends ut.A{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=p.W8),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let e=0;const r=this.targetPointers[0],a=this.targetPointers[1],v=Math.atan2(a.clientY-r.clientY,a.clientX-r.clientX);if(this.lastAngle_!==void 0){const Y=v-this.lastAngle_;this.rotationDelta_+=Y,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=Y}this.lastAngle_=v;const A=t.map,b=A.getView();b.getConstraints().rotation!==Mt.b8&&(this.anchor_=A.getCoordinateFromPixelInternal(A.getEventPixel((0,ut.v)(this.targetPointers))),this.rotating_&&(A.render(),b.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}const he=le;class ce extends ut.A{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=p.W8),super(e),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const r=this.targetPointers[0],a=this.targetPointers[1],v=r.clientX-a.clientX,A=r.clientY-a.clientY,b=Math.sqrt(v*v+A*A);this.lastDistance_!==void 0&&(e=this.lastDistance_/b),this.lastDistance_=b;const Y=t.map,q=Y.getView();e!=1&&(this.lastScaleDelta_=e),this.anchor_=Y.getCoordinateFromPixelInternal(Y.getEventPixel((0,ut.v)(this.targetPointers))),Y.render(),q.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const r=t.map.getView(),a=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,a),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}const de=ce;function Ot(_){_=_||{};const t=new E.A,e=new oe(-.005,.05,100);return(_.altShiftDragRotate!==void 0?_.altShiftDragRotate:!0)&&t.push(new Gt),(_.doubleClickZoom!==void 0?_.doubleClickZoom:!0)&&t.push(new zt({delta:_.zoomDelta,duration:_.zoomDuration})),(_.dragPan!==void 0?_.dragPan:!0)&&t.push(new Vt({onFocusOnly:_.onFocusOnly,kinetic:e})),(_.pinchRotate!==void 0?_.pinchRotate:!0)&&t.push(new he),(_.pinchZoom!==void 0?_.pinchZoom:!0)&&t.push(new de({duration:_.zoomDuration})),(_.keyboard!==void 0?_.keyboard:!0)&&(t.push(new ne),t.push(new se({delta:_.zoomDelta,duration:_.zoomDuration}))),(_.mouseWheelZoom!==void 0?_.mouseWheelZoom:!0)&&t.push(new ae.A({onFocusOnly:_.onFocusOnly,duration:_.zoomDuration})),(_.shiftDragZoom!==void 0?_.shiftDragZoom:!0)&&t.push(new te({duration:_.zoomDuration})),t}var ue=o(66514),Lt=o(22796),Dt=o(6782),_e=o(54422);function xt(_){if(_ instanceof l.A){_.setMapInternal(null);return}_ instanceof B.A&&_.getLayers().forEach(xt)}function bt(_,t){if(_ instanceof l.A){_.setMapInternal(t);return}if(_ instanceof B.A){const e=_.getLayers().getArray();for(let r=0,a=e.length;r<a;++r)bt(e[r],t)}}class ge extends D.A{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=fe(t);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:ct.cr,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=(0,f.vt)(),this.pixelToCoordinateTransform_=(0,f.vt)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=e.controls||jt(),this.interactions=e.interactions||Ot({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new j(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(d.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(d.VIEW,this.handleViewChanged_),this.addChangeListener(d.SIZE,this.handleSizeChanged_),this.addChangeListener(d.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const r=this;t.view&&!(t.view instanceof X.Ay)&&t.view.then(function(a){r.setView(new X.Ay(a))}),this.controls.addEventListener(I.A.ADD,a=>{a.element.setMap(this)}),this.controls.addEventListener(I.A.REMOVE,a=>{a.element.setMap(null)}),this.interactions.addEventListener(I.A.ADD,a=>{a.element.setMap(this)}),this.interactions.addEventListener(I.A.REMOVE,a=>{a.element.setMap(null)}),this.overlays_.addEventListener(I.A.ADD,a=>{this.addOverlayInternal_(a.element)}),this.overlays_.addEventListener(I.A.REMOVE,a=>{const v=a.element.getId();v!==void 0&&delete this.overlayIdIndex_[v.toString()],a.element.setMap(null)}),this.controls.forEach(a=>{a.setMap(this)}),this.interactions.forEach(a=>{a.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){bt(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,r){if(!this.frameState_||!this.renderer_)return;const a=this.getCoordinateFromPixelInternal(t);r=r!==void 0?r:{};const v=r.hitTolerance!==void 0?r.hitTolerance:0,A=r.layerFilter!==void 0?r.layerFilter:p.rT,b=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,v,b,e,null,A,null)}getFeaturesAtPixel(t,e){const r=[];return this.forEachFeatureAtPixel(t,function(a){r.push(a)},e),r}getAllLayers(){const t=[];function e(r){r.forEach(function(a){a instanceof B.A?e(a.getLayers()):t.push(a)})}return e(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};const a=e.layerFilter!==void 0?e.layerFilter:p.rT,v=e.hitTolerance!==void 0?e.hitTolerance:0,A=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,v,A,a,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const r=this.viewport_.getBoundingClientRect(),a=this.getSize(),v=r.width/a[0],A=r.height/a[1],b="changedTouches"in t?t.changedTouches[0]:t;return[(b.clientX-r.left)/v,(b.clientY-r.top)/A]}getTarget(){return this.get(d.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return(0,Lt.te)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?(0,f.Bb)(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(d.LAYERGROUP)}setLayers(t){const e=this.getLayerGroup();if(t instanceof E.A){e.setLayers(t);return}const r=e.getLayers();r.clear(),r.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,r=t.length;e<r;++e){const a=t[e];if(!a.visible)continue;const v=a.layer.getRenderer();if(v&&!v.ready)return!0;const A=a.layer.getSource();if(A&&A.loading)return!0}return!1}getPixelFromCoordinate(t){const e=(0,Lt.Ad)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?(0,f.Bb)(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(d.SIZE)}getView(){return this.get(d.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,r,a){return G(this.frameState_,t,e,r,a)}handleBrowserEvent(t,e){e=e||t.type;const r=new U.A(e,this,t);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,r=e.type;if(r===lt.POINTERDOWN||r===Z.A.WHEEL||r===Z.A.KEYDOWN){const a=this.getOwnerDocument(),v=this.viewport_.getRootNode?this.viewport_.getRootNode():a,A=e.target;if(this.overlayContainerStopEvent_.contains(A)||!(v===a?a.documentElement:v).contains(A))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const a=this.getInteractions().getArray().slice();for(let v=a.length-1;v>=0;v--){const A=a[v];if(A.getMap()!==this||!A.getActive()||!this.getTargetElement())continue;if(!A.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let a=this.maxTilesLoading_,v=a;if(t){const A=t.viewHints;if(A[J.A.ANIMATING]||A[J.A.INTERACTING]){const b=Date.now()-t.time>8;a=b?0:8,v=b?0:2}}e.getTilesLoading()<a&&(e.reprioritize(),e.loadMoreTiles(a,v))}t&&this.renderer_&&!t.animate&&(this.renderComplete_===!0?(this.hasListener(O.A.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(O.A.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new i.A(h.A.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new i.A(h.A.LOADSTART,this,t))));const r=this.postRenderFunctions_;for(let a=0,v=r.length;a<v;++a)r[a](this,t);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,a=this.targetChangeHandlerKeys_.length;r<a;++r)(0,N.JH)(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Z.A.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Z.A.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,Q.bf)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const t=this.getTarget(),e=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=e,!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new dt(this)),this.mapBrowserEventHandler_=new n(this,this.moveTolerance_);for(const v in $.A)this.mapBrowserEventHandler_.addEventListener($.A[v],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Z.A.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Z.A.WHEEL,this.boundHandleBrowserEvent_,ct.FT?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.targetChangeHandlerKeys_=[(0,N.KT)(r,Z.A.KEYDOWN,this.handleBrowserEvent,this),(0,N.KT)(r,Z.A.KEYPRESS,this.handleBrowserEvent,this)];const a=e.getRootNode();a instanceof ShadowRoot&&this.resizeObserver_.observe(a.host),this.resizeObserver_.observe(e)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,N.JH)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,N.JH)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,N.KT)(t,x.A.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,N.KT)(t,Z.A.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(N.JH),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new B.i("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,N.KT)(t,x.A.PROPERTYCHANGE,this.render,this),(0,N.KT)(t,Z.A.CHANGE,this.render,this),(0,N.KT)(t,"addlayer",this.handleLayerAdd_,this),(0,N.KT)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,r=t.length;e<r;++e){const a=t[e].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){xt(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),r=this.getView(),a=this.frameState_;let v=null;if(e!==void 0&&(0,Dt.Ie)(e)&&r&&r.isDef()){const A=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),b=r.getState();if(v={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,y.Bg)(b.center,b.resolution,b.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:b,viewHints:A,wantedTiles:{},mapId:(0,C.v6)(this),renderTargets:{}},b.nextCenter&&b.nextResolution){const Y=isNaN(b.nextRotation)?b.rotation:b.nextRotation;v.nextExtent=(0,y.Bg)(b.nextCenter,b.nextResolution,Y,e)}}this.frameState_=v,this.renderer_.renderFrame(v),v&&(v.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,v.postRenderFunctions),a&&(!this.previousExtent_||!(0,y.Im)(this.previousExtent_)&&!(0,y.aI)(v.extent,this.previousExtent_))&&(this.dispatchEvent(new i.A(h.A.MOVESTART,this,a)),this.previousExtent_=(0,y.aZ)(this.previousExtent_)),this.previousExtent_&&!v.viewHints[J.A.ANIMATING]&&!v.viewHints[J.A.INTERACTING]&&!(0,y.aI)(v.extent,this.previousExtent_)&&(this.dispatchEvent(new i.A(h.A.MOVEEND,this,v)),(0,y.o8)(v.extent,this.previousExtent_))),this.dispatchEvent(new i.A(h.A.POSTRENDER,this,v)),this.renderComplete_=this.hasListener(h.A.LOADSTART)||this.hasListener(h.A.LOADEND)||this.hasListener(O.A.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new B.i("removelayer",e)),this.set(d.LAYERGROUP,t)}setSize(t){this.set(d.SIZE,t)}setTarget(t){this.set(d.TARGET,t)}setView(t){if(!t||t instanceof X.Ay){this.set(d.VIEW,t);return}this.set(d.VIEW,new X.Ay);const e=this;t.then(function(r){e.setView(new X.Ay(r))})}updateSize(){const t=this.getTargetElement();let e;if(t){const a=getComputedStyle(t),v=t.offsetWidth-parseFloat(a.borderLeftWidth)-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight)-parseFloat(a.borderRightWidth),A=t.offsetHeight-parseFloat(a.borderTopWidth)-parseFloat(a.paddingTop)-parseFloat(a.paddingBottom)-parseFloat(a.borderBottomWidth);!isNaN(v)&&!isNaN(A)&&(e=[v,A],!(0,Dt.Ie)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&(0,_e.R8)("No map visible because the map container's width or height are 0."))}const r=this.getSize();e&&(!r||!(0,ue.aI)(e,r))&&(this.setSize(e),this.updateViewportSize_())}updateViewportSize_(){const t=this.getView();if(t){let e;const r=getComputedStyle(this.viewport_);r.width&&r.height&&(e=[parseInt(r.width,10),parseInt(r.height,10)]),t.setViewportSize(e)}}}function fe(_){let t=null;_.keyboardEventTarget!==void 0&&(t=typeof _.keyboardEventTarget=="string"?document.getElementById(_.keyboardEventTarget):_.keyboardEventTarget);const e={},r=_.layers&&typeof _.layers.getLayers=="function"?_.layers:new B.A({layers:_.layers});e[d.LAYERGROUP]=r,e[d.TARGET]=_.target,e[d.VIEW]=_.view instanceof X.Ay?_.view:new X.Ay;let a;_.controls!==void 0&&(Array.isArray(_.controls)?a=new E.A(_.controls.slice()):((0,R.v)(typeof _.controls.getArray=="function",47),a=_.controls));let v;_.interactions!==void 0&&(Array.isArray(_.interactions)?v=new E.A(_.interactions.slice()):((0,R.v)(typeof _.interactions.getArray=="function",48),v=_.interactions));let A;return _.overlays!==void 0?Array.isArray(_.overlays)?A=new E.A(_.overlays.slice()):((0,R.v)(typeof _.overlays.getArray=="function",49),A=_.overlays):A=new E.A,{controls:a,interactions:v,keyboardEventTarget:t,overlays:A,values:e}}const me=ge;var _t=o(40665),Ee=o(16310),mt=o(53497);function ye(_,t,e,r){const a={};return r&&Object.keys(r).length?(a.color=(0,_t.getColorDimension)(_,r.color??mt.T5.color,e),a.size=(0,_t.getScaledDimension)(_,r.size??mt.T5.size),a.rotation=(0,_t.getScalarDimension)(_,r.rotation??mt.T5.rotation),r.text&&(r.text.field||r.text.fixed)&&(a.text=(0,_t.getTextDimension)(_,r.text))):t.fields&&(t.fields.color&&(a.color=(0,_t.getColorDimension)(_,t.config.color??mt.T5.color,e)),t.fields.size&&(a.size=(0,_t.getScaledDimension)(_,t.config.size??mt.T5.size)),t.fields.text&&(a.text=(0,_t.getTextDimension)(_,t.config.text)),t.fields.rotation&&(a.rotation=(0,_t.getScalarDimension)(_,t.config.rotation??mt.T5.rotation))),a}let Ct;function ve(){return Ct||(Ct=[],pe()),Ct}async function pe(){const _=await(0,Ee.o)();for(let t of["maps","gazetteer"])_.listFiles(t).subscribe({next:e=>{e.forEach(r=>{if(r.name.endsWith(".geojson")){const a=`public/${t}/${r.name}`;Ct.push({value:a,label:a})}})}})}const Ae=(_,t,e)=>{const r=_.initMapView(t.view);return _.map=new me({view:r,pixelRatio:1,layers:[],controls:[],target:e,interactions:Ot({mouseWheelZoom:!1})})},Ce=(_,t)=>{_.initControls(t.controls),_.forceUpdate()},Re=(_,t,e)=>{_.panelContext&&_.panelContext.onInstanceStateChange&&_.panelContext.onInstanceStateChange({map:_.map,layers:t,selected:e,actions:_.actions})},Te=_=>{let t=_.layers.length;for(;t<100;){const e=`Layer ${t++}`;if(!_.byName.has(e))return e}return`Layer ${Date.now()}`};function Pe(_,t,e,r){const a=_.getPixelFromCoordinate(e),v=_.getPixelFromCoordinate(r),A=Math.abs(a[0]-v[0]),b=Math.abs(a[1]-v[1]);return A>t||b>t}const Ie=_=>{try{return new URL(_).protocol.includes("http")}catch{return!1}}},50071:(k,K,o)=>{o.d(K,{A:()=>y});var D=o(70017),E=o(34120),I=o(32135),F=o(1685);const p={LENGTH:"length"};class C extends F.Ay{constructor(l,m,u){super(l),this.element=m,this.index=u}}class f extends E.A{constructor(l,m){if(super(),this.on,this.once,this.un,m=m||{},this.unique_=!!m.unique,this.array_=l||[],this.unique_)for(let u=0,c=this.array_.length;u<c;++u)this.assertUnique_(this.array_[u],u);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(l){for(let m=0,u=l.length;m<u;++m)this.push(l[m]);return this}forEach(l){const m=this.array_;for(let u=0,c=m.length;u<c;++u)l(m[u],u,m)}getArray(){return this.array_}item(l){return this.array_[l]}getLength(){return this.get(p.LENGTH)}insertAt(l,m){if(l<0||l>this.getLength())throw new Error("Index out of bounds: "+l);this.unique_&&this.assertUnique_(m),this.array_.splice(l,0,m),this.updateLength_(),this.dispatchEvent(new C(I.A.ADD,m,l))}pop(){return this.removeAt(this.getLength()-1)}push(l){this.unique_&&this.assertUnique_(l);const m=this.getLength();return this.insertAt(m,l),this.getLength()}remove(l){const m=this.array_;for(let u=0,c=m.length;u<c;++u)if(m[u]===l)return this.removeAt(u)}removeAt(l){if(l<0||l>=this.getLength())return;const m=this.array_[l];return this.array_.splice(l,1),this.updateLength_(),this.dispatchEvent(new C(I.A.REMOVE,m,l)),m}setAt(l,m){const u=this.getLength();if(l>=u){this.insertAt(l,m);return}if(l<0)throw new Error("Index out of bounds: "+l);this.unique_&&this.assertUnique_(m,l);const c=this.array_[l];this.array_[l]=m,this.dispatchEvent(new C(I.A.REMOVE,c,l)),this.dispatchEvent(new C(I.A.ADD,m,l))}updateLength_(){this.set(p.LENGTH,this.array_.length)}assertUnique_(l,m){for(let u=0,c=this.array_.length;u<c;++u)if(this.array_[u]===l&&u!==m)throw new D.A(58)}}const y=f},32135:(k,K,o)=>{o.d(K,{A:()=>D});const D={ADD:"add",REMOVE:"remove"}},10277:(k,K,o)=>{o.d(K,{A:()=>I});var D=o(95801);class E extends D.A{constructor(p,C,f,y,s,l){super(p,C,s),this.originalEvent=f,this.pixel_=null,this.coordinate_=null,this.dragging=y!==void 0?y:!1,this.activePointers=l}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(p){this.pixel_=p}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(p){this.coordinate_=p}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const I=E},73445:(k,K,o)=>{o.d(K,{A:()=>E});var D=o(6837);const E={SINGLECLICK:"singleclick",CLICK:D.A.CLICK,DBLCLICK:D.A.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},95801:(k,K,o)=>{o.d(K,{A:()=>I});var D=o(1685);class E extends D.Ay{constructor(p,C,f){super(p),this.map=C,this.frameState=f!==void 0?f:null}}const I=E},82585:(k,K,o)=>{o.d(K,{A:()=>D});const D={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},11078:(k,K,o)=>{o.d(K,{A:()=>D});const D={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},91765:(k,K,o)=>{o.d(K,{Ay:()=>ct});var D=o(34120),E=o(62703);const I={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var F=o(57115),p=o(22796),C=o(74238),f=o(6933),y=o(90588),s=o(61597);function l(g,n,i){return function(h,d,R,L,S){if(!h)return;if(!d&&!n)return h;const P=n?0:R[0]*d,V=n?0:R[1]*d,M=S?S[0]:0,W=S?S[1]:0;let j=g[0]+P/2+M,G=g[2]-P/2+M,X=g[1]+V/2+W,J=g[3]-V/2+W;j>G&&(j=(G+j)/2,G=j),X>J&&(X=(J+X)/2,J=X);let tt=(0,s.qE)(h[0],j,G),ot=(0,s.qE)(h[1],X,J);if(L&&i&&d){const st=30*d;tt+=-st*Math.log(1+Math.max(0,j-h[0])/st)+st*Math.log(1+Math.max(0,h[0]-G)/st),ot+=-st*Math.log(1+Math.max(0,X-h[1])/st)+st*Math.log(1+Math.max(0,h[1]-J)/st)}return[tt,ot]}}function m(g){return g}var u=o(70915),c=o(66514);function T(g,n,i,h){const d=(0,u.RG)(n)/i[0],R=(0,u.Oq)(n)/i[1];return h?Math.min(g,Math.max(d,R)):Math.min(g,Math.min(d,R))}function x(g,n,i){let h=Math.min(g,n);const d=50;return h*=Math.log(1+d*Math.max(0,g/n-1))/d+1,i&&(h=Math.max(h,i),h/=Math.log(1+d*Math.max(0,i/g-1))/d+1),(0,s.qE)(h,i/2,n*2)}function H(g,n,i,h){return n=n!==void 0?n:!0,function(d,R,L,S){if(d!==void 0){const P=g[0],V=g[g.length-1],M=i?T(P,i,L,h):P;if(S)return n?x(d,M,V):(0,s.qE)(d,V,M);const W=Math.min(M,d),j=Math.floor((0,c.FT)(g,W,R));return g[j]>M&&j<g.length-1?g[j+1]:g[j]}}}function O(g,n,i,h,d,R){return h=h!==void 0?h:!0,i=i!==void 0?i:0,function(L,S,P,V){if(L!==void 0){const M=d?T(n,d,P,R):n;if(V)return h?x(L,M,i):(0,s.qE)(L,i,M);const W=1e-9,j=Math.ceil(Math.log(n/M)/Math.log(g)-W),G=-S*(.5-W)+.5,X=Math.min(M,L),J=Math.floor(Math.log(n/X)/Math.log(g)+G),tt=Math.max(j,J),ot=n/Math.pow(g,tt);return(0,s.qE)(ot,i,M)}}}function w(g,n,i,h,d){return i=i!==void 0?i:!0,function(R,L,S,P){if(R!==void 0){const V=h?T(g,h,S,d):g;return!i||!P?(0,s.qE)(R,n,V):x(R,V,n)}}}var z=o(24498),N=o(93474),Q=o(71064);const it=0;class dt extends D.A{constructor(n){super(),this.on,this.once,this.un,n=Object.assign({},n),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=(0,p.Av)(n.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,n.projection&&(0,p.RJ)(),n.center&&(n.center=(0,p.Ad)(n.center,this.projection_)),n.extent&&(n.extent=(0,p.SD)(n.extent,this.projection_)),this.applyOptions_(n)}applyOptions_(n){const i=Object.assign({},n);for(const S in I)delete i[S];this.setProperties(i,!0);const h=U(n);this.maxResolution_=h.maxResolution,this.minResolution_=h.minResolution,this.zoomFactor_=h.zoomFactor,this.resolutions_=n.resolutions,this.padding_=n.padding,this.minZoom_=h.minZoom;const d=B(n),R=h.constraint,L=$(n);this.constraints_={center:d,resolution:R,rotation:L},this.setRotation(n.rotation!==void 0?n.rotation:0),this.setCenterInternal(n.center!==void 0?n.center:null),n.resolution!==void 0?this.setResolution(n.resolution):n.zoom!==void 0&&this.setZoom(n.zoom)}get padding(){return this.padding_}set padding(n){let i=this.padding_;this.padding_=n;const h=this.getCenterInternal();if(h){const d=n||[0,0,0,0];i=i||[0,0,0,0];const R=this.getResolution(),L=R/2*(d[3]-i[3]+i[1]-d[1]),S=R/2*(d[0]-i[0]+i[2]-d[2]);this.setCenterInternal([h[0]+L,h[1]-S])}}getUpdatedOptions_(n){const i=this.getProperties();return i.resolution!==void 0?i.resolution=this.getResolution():i.zoom=this.getZoom(),i.center=this.getCenterInternal(),i.rotation=this.getRotation(),Object.assign({},i,n)}animate(n){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const i=new Array(arguments.length);for(let h=0;h<i.length;++h){let d=arguments[h];d.center&&(d=Object.assign({},d),d.center=(0,p.Ad)(d.center,this.getProjection())),d.anchor&&(d=Object.assign({},d),d.anchor=(0,p.Ad)(d.anchor,this.getProjection())),i[h]=d}this.animateInternal.apply(this,i)}animateInternal(n){let i=arguments.length,h;i>1&&typeof arguments[i-1]=="function"&&(h=arguments[i-1],--i);let d=0;for(;d<i&&!this.isDef();++d){const M=arguments[d];M.center&&this.setCenterInternal(M.center),M.zoom!==void 0?this.setZoom(M.zoom):M.resolution&&this.setResolution(M.resolution),M.rotation!==void 0&&this.setRotation(M.rotation)}if(d===i){h&&Z(h,!0);return}let R=Date.now(),L=this.targetCenter_.slice(),S=this.targetResolution_,P=this.targetRotation_;const V=[];for(;d<i;++d){const M=arguments[d],W={start:R,complete:!1,anchor:M.anchor,duration:M.duration!==void 0?M.duration:1e3,easing:M.easing||N.T9,callback:h};if(M.center&&(W.sourceCenter=L,W.targetCenter=M.center.slice(),L=W.targetCenter),M.zoom!==void 0?(W.sourceResolution=S,W.targetResolution=this.getResolutionForZoom(M.zoom),S=W.targetResolution):M.resolution&&(W.sourceResolution=S,W.targetResolution=M.resolution,S=W.targetResolution),M.rotation!==void 0){W.sourceRotation=P;const j=(0,s.xP)(M.rotation-P+Math.PI,2*Math.PI)-Math.PI;W.targetRotation=P+j,P=W.targetRotation}lt(W)?W.complete=!0:R+=W.duration,V.push(W)}this.animations_.push(V),this.setHint(E.A.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[E.A.ANIMATING]>0}getInteracting(){return this.hints_[E.A.INTERACTING]>0}cancelAnimations(){this.setHint(E.A.ANIMATING,-this.hints_[E.A.ANIMATING]);let n;for(let i=0,h=this.animations_.length;i<h;++i){const d=this.animations_[i];if(d[0].callback&&Z(d[0].callback,!1),!n)for(let R=0,L=d.length;R<L;++R){const S=d[R];if(!S.complete){n=S.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=n,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const n=Date.now();let i=!1;for(let h=this.animations_.length-1;h>=0;--h){const d=this.animations_[h];let R=!0;for(let L=0,S=d.length;L<S;++L){const P=d[L];if(P.complete)continue;const V=n-P.start;let M=P.duration>0?V/P.duration:1;M>=1?(P.complete=!0,M=1):R=!1;const W=P.easing(M);if(P.sourceCenter){const j=P.sourceCenter[0],G=P.sourceCenter[1],X=P.targetCenter[0],J=P.targetCenter[1];this.nextCenter_=P.targetCenter;const tt=j+W*(X-j),ot=G+W*(J-G);this.targetCenter_=[tt,ot]}if(P.sourceResolution&&P.targetResolution){const j=W===1?P.targetResolution:P.sourceResolution+W*(P.targetResolution-P.sourceResolution);if(P.anchor){const G=this.getViewportSize_(this.getRotation()),X=this.constraints_.resolution(j,0,G,!0);this.targetCenter_=this.calculateCenterZoom(X,P.anchor)}this.nextResolution_=P.targetResolution,this.targetResolution_=j,this.applyTargetState_(!0)}if(P.sourceRotation!==void 0&&P.targetRotation!==void 0){const j=W===1?(0,s.xP)(P.targetRotation+Math.PI,2*Math.PI)-Math.PI:P.sourceRotation+W*(P.targetRotation-P.sourceRotation);if(P.anchor){const G=this.constraints_.rotation(j,!0);this.targetCenter_=this.calculateCenterRotate(G,P.anchor)}this.nextRotation_=P.targetRotation,this.targetRotation_=j}if(this.applyTargetState_(!0),i=!0,!P.complete)break}if(R){this.animations_[h]=null,this.setHint(E.A.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const L=d[0].callback;L&&Z(L,!0)}}this.animations_=this.animations_.filter(Boolean),i&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(n,i){let h;const d=this.getCenterInternal();return d!==void 0&&(h=[d[0]-i[0],d[1]-i[1]],(0,f.e$)(h,n-this.getRotation()),(0,f.WQ)(h,i)),h}calculateCenterZoom(n,i){let h;const d=this.getCenterInternal(),R=this.getResolution();if(d!==void 0&&R!==void 0){const L=i[0]-n*(i[0]-d[0])/R,S=i[1]-n*(i[1]-d[1])/R;h=[L,S]}return h}getViewportSize_(n){const i=this.viewportSize_;if(n){const h=i[0],d=i[1];return[Math.abs(h*Math.cos(n))+Math.abs(d*Math.sin(n)),Math.abs(h*Math.sin(n))+Math.abs(d*Math.cos(n))]}return i}setViewportSize(n){this.viewportSize_=Array.isArray(n)?n.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const n=this.getCenterInternal();return n&&(0,p.te)(n,this.getProjection())}getCenterInternal(){return this.get(I.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(n){return n!==void 0?(n[0]=this.hints_[0],n[1]=this.hints_[1],n):this.hints_.slice()}calculateExtent(n){const i=this.calculateExtentInternal(n);return(0,p.JR)(i,this.getProjection())}calculateExtentInternal(n){n=n||this.getViewportSizeMinusPadding_();const i=this.getCenterInternal();(0,y.v)(i,1);const h=this.getResolution();(0,y.v)(h!==void 0,2);const d=this.getRotation();return(0,y.v)(d!==void 0,3),(0,u.Bg)(i,h,d,n)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(n){this.applyOptions_(this.getUpdatedOptions_({maxZoom:n}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(n){this.applyOptions_(this.getUpdatedOptions_({minZoom:n}))}setConstrainResolution(n){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:n}))}getProjection(){return this.projection_}getResolution(){return this.get(I.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(n,i){return this.getResolutionForExtentInternal((0,p.SD)(n,this.getProjection()),i)}getResolutionForExtentInternal(n,i){i=i||this.getViewportSizeMinusPadding_();const h=(0,u.RG)(n)/i[0],d=(0,u.Oq)(n)/i[1];return Math.max(h,d)}getResolutionForValueFunction(n){n=n||2;const i=this.getConstrainedResolution(this.maxResolution_),h=this.minResolution_,d=Math.log(i/h)/Math.log(n);return function(R){return i/Math.pow(n,R*d)}}getRotation(){return this.get(I.ROTATION)}getValueForResolutionFunction(n){const i=Math.log(n||2),h=this.getConstrainedResolution(this.maxResolution_),d=this.minResolution_,R=Math.log(h/d)/i;return function(L){return Math.log(h/L)/i/R}}getViewportSizeMinusPadding_(n){let i=this.getViewportSize_(n);const h=this.padding_;return h&&(i=[i[0]-h[1]-h[3],i[1]-h[0]-h[2]]),i}getState(){const n=this.getProjection(),i=this.getResolution(),h=this.getRotation();let d=this.getCenterInternal();const R=this.padding_;if(R){const L=this.getViewportSizeMinusPadding_();d=ht(d,this.getViewportSize_(),[L[0]/2+R[3],L[1]/2+R[0]],i,h)}return{center:d.slice(0),projection:n!==void 0?n:null,resolution:i,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:h,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let n;const i=this.getResolution();return i!==void 0&&(n=this.getZoomForResolution(i)),n}getZoomForResolution(n){let i=this.minZoom_||0,h,d;if(this.resolutions_){const R=(0,c.FT)(this.resolutions_,n,1);i=R,h=this.resolutions_[R],R==this.resolutions_.length-1?d=2:d=h/this.resolutions_[R+1]}else h=this.maxResolution_,d=this.zoomFactor_;return i+Math.log(h/n)/Math.log(d)}getResolutionForZoom(n){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const i=(0,s.qE)(Math.floor(n),0,this.resolutions_.length-2),h=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(h,(0,s.qE)(n-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,n-this.minZoom_)}fit(n,i){let h;if((0,y.v)(Array.isArray(n)||typeof n.getSimplifiedGeometry=="function",24),Array.isArray(n)){(0,y.v)(!(0,u.Im)(n),25);const d=(0,p.SD)(n,this.getProjection());h=(0,Q.VY)(d)}else if(n.getType()==="Circle"){const d=(0,p.SD)(n.getExtent(),this.getProjection());h=(0,Q.VY)(d),h.rotate(this.getRotation(),(0,u.q1)(d))}else{const d=(0,p.Tf)();d?h=n.clone().transform(d,this.getProjection()):h=n}this.fitInternal(h,i)}rotatedExtentForGeometry(n){const i=this.getRotation(),h=Math.cos(i),d=Math.sin(-i),R=n.getFlatCoordinates(),L=n.getStride();let S=1/0,P=1/0,V=-1/0,M=-1/0;for(let W=0,j=R.length;W<j;W+=L){const G=R[W]*h-R[W+1]*d,X=R[W]*d+R[W+1]*h;S=Math.min(S,G),P=Math.min(P,X),V=Math.max(V,G),M=Math.max(M,X)}return[S,P,V,M]}fitInternal(n,i){i=i||{};let h=i.size;h||(h=this.getViewportSizeMinusPadding_());const d=i.padding!==void 0?i.padding:[0,0,0,0],R=i.nearest!==void 0?i.nearest:!1;let L;i.minResolution!==void 0?L=i.minResolution:i.maxZoom!==void 0?L=this.getResolutionForZoom(i.maxZoom):L=0;const S=this.rotatedExtentForGeometry(n);let P=this.getResolutionForExtentInternal(S,[h[0]-d[1]-d[3],h[1]-d[0]-d[2]]);P=isNaN(P)?L:Math.max(P,L),P=this.getConstrainedResolution(P,R?0:1);const V=this.getRotation(),M=Math.sin(V),W=Math.cos(V),j=(0,u.q1)(S);j[0]+=(d[1]-d[3])/2*P,j[1]+=(d[0]-d[2])/2*P;const G=j[0]*W-j[1]*M,X=j[1]*W+j[0]*M,J=this.getConstrainedCenter([G,X],P),tt=i.callback?i.callback:C.tV;i.duration!==void 0?this.animateInternal({resolution:P,center:J,duration:i.duration,easing:i.easing},tt):(this.targetResolution_=P,this.targetCenter_=J,this.applyTargetState_(!1,!0),Z(tt,!0))}centerOn(n,i,h){this.centerOnInternal((0,p.Ad)(n,this.getProjection()),i,h)}centerOnInternal(n,i,h){this.setCenterInternal(ht(n,i,h,this.getResolution(),this.getRotation()))}calculateCenterShift(n,i,h,d){let R;const L=this.padding_;if(L&&n){const S=this.getViewportSizeMinusPadding_(-h),P=ht(n,d,[S[0]/2+L[3],S[1]/2+L[0]],i,h);R=[n[0]-P[0],n[1]-P[1]]}return R}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(n){const i=(0,p.te)(this.targetCenter_,this.getProjection());this.setCenter([i[0]+n[0],i[1]+n[1]])}adjustCenterInternal(n){const i=this.targetCenter_;this.setCenterInternal([i[0]+n[0],i[1]+n[1]])}adjustResolution(n,i){i=i&&(0,p.Ad)(i,this.getProjection()),this.adjustResolutionInternal(n,i)}adjustResolutionInternal(n,i){const h=this.getAnimating()||this.getInteracting(),d=this.getViewportSize_(this.getRotation()),R=this.constraints_.resolution(this.targetResolution_*n,0,d,h);i&&(this.targetCenter_=this.calculateCenterZoom(R,i)),this.targetResolution_*=n,this.applyTargetState_()}adjustZoom(n,i){this.adjustResolution(Math.pow(this.zoomFactor_,-n),i)}adjustRotation(n,i){i&&(i=(0,p.Ad)(i,this.getProjection())),this.adjustRotationInternal(n,i)}adjustRotationInternal(n,i){const h=this.getAnimating()||this.getInteracting(),d=this.constraints_.rotation(this.targetRotation_+n,h);i&&(this.targetCenter_=this.calculateCenterRotate(d,i)),this.targetRotation_+=n,this.applyTargetState_()}setCenter(n){this.setCenterInternal(n&&(0,p.Ad)(n,this.getProjection()))}setCenterInternal(n){this.targetCenter_=n,this.applyTargetState_()}setHint(n,i){return this.hints_[n]+=i,this.changed(),this.hints_[n]}setResolution(n){this.targetResolution_=n,this.applyTargetState_()}setRotation(n){this.targetRotation_=n,this.applyTargetState_()}setZoom(n){this.setResolution(this.getResolutionForZoom(n))}applyTargetState_(n,i){const h=this.getAnimating()||this.getInteracting()||i,d=this.constraints_.rotation(this.targetRotation_,h),R=this.getViewportSize_(d),L=this.constraints_.resolution(this.targetResolution_,0,R,h),S=this.constraints_.center(this.targetCenter_,L,R,h,this.calculateCenterShift(this.targetCenter_,L,d,R));this.get(I.ROTATION)!==d&&this.set(I.ROTATION,d),this.get(I.RESOLUTION)!==L&&(this.set(I.RESOLUTION,L),this.set("zoom",this.getZoom(),!0)),(!S||!this.get(I.CENTER)||!(0,f.aI)(this.get(I.CENTER),S))&&this.set(I.CENTER,S),this.getAnimating()&&!n&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(n,i,h){n=n!==void 0?n:200;const d=i||0,R=this.constraints_.rotation(this.targetRotation_),L=this.getViewportSize_(R),S=this.constraints_.resolution(this.targetResolution_,d,L),P=this.constraints_.center(this.targetCenter_,S,L,!1,this.calculateCenterShift(this.targetCenter_,S,R,L));if(n===0&&!this.cancelAnchor_){this.targetResolution_=S,this.targetRotation_=R,this.targetCenter_=P,this.applyTargetState_();return}h=h||(n===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==S||this.getRotation()!==R||!this.getCenterInternal()||!(0,f.aI)(this.getCenterInternal(),P))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:R,center:P,resolution:S,duration:n,easing:N.vT,anchor:h}))}beginInteraction(){this.resolveConstraints(0),this.setHint(E.A.INTERACTING,1)}endInteraction(n,i,h){h=h&&(0,p.Ad)(h,this.getProjection()),this.endInteractionInternal(n,i,h)}endInteractionInternal(n,i,h){this.getInteracting()&&(this.setHint(E.A.INTERACTING,-1),this.resolveConstraints(n,i,h))}getConstrainedCenter(n,i){const h=this.getViewportSize_(this.getRotation());return this.constraints_.center(n,i||this.getResolution(),h)}getConstrainedZoom(n,i){const h=this.getResolutionForZoom(n);return this.getZoomForResolution(this.getConstrainedResolution(h,i))}getConstrainedResolution(n,i){i=i||0;const h=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(n,i,h)}}function Z(g,n){setTimeout(function(){g(n)},0)}function B(g){if(g.extent!==void 0){const i=g.smoothExtentConstraint!==void 0?g.smoothExtentConstraint:!0;return l(g.extent,g.constrainOnlyCenter,i)}const n=(0,p.Av)(g.projection,"EPSG:3857");if(g.multiWorld!==!0&&n.isGlobal()){const i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,l(i,!1,!1)}return m}function U(g){let n,i,h,L=g.minZoom!==void 0?g.minZoom:it,S=g.maxZoom!==void 0?g.maxZoom:28;const P=g.zoomFactor!==void 0?g.zoomFactor:2,V=g.multiWorld!==void 0?g.multiWorld:!1,M=g.smoothResolutionConstraint!==void 0?g.smoothResolutionConstraint:!0,W=g.showFullExtent!==void 0?g.showFullExtent:!1,j=(0,p.Av)(g.projection,"EPSG:3857"),G=j.getExtent();let X=g.constrainOnlyCenter,J=g.extent;if(!V&&!J&&j.isGlobal()&&(X=!1,J=G),g.resolutions!==void 0){const tt=g.resolutions;i=tt[L],h=tt[S]!==void 0?tt[S]:tt[tt.length-1],g.constrainResolution?n=H(tt,M,!X&&J,W):n=w(i,h,M,!X&&J,W)}else{const ot=(G?Math.max((0,u.RG)(G),(0,u.Oq)(G)):360*p.Ig.degrees/j.getMetersPerUnit())/F.R/Math.pow(2,it),st=ot/Math.pow(2,28-it);i=g.maxResolution,i!==void 0?L=0:i=ot/Math.pow(P,L),h=g.minResolution,h===void 0&&(g.maxZoom!==void 0?g.maxResolution!==void 0?h=i/Math.pow(P,S):h=ot/Math.pow(P,S):h=st),S=L+Math.floor(Math.log(i/h)/Math.log(P)),h=i/Math.pow(P,S-L),g.constrainResolution?n=O(P,i,h,M,!X&&J,W):n=w(i,h,M,!X&&J,W)}return{constraint:n,maxResolution:i,minResolution:h,minZoom:L,zoomFactor:P}}function $(g){if(g.enableRotation!==void 0?g.enableRotation:!0){const i=g.constrainRotation;return i===void 0||i===!0?(0,z.cq)():i===!1?z.dv:typeof i=="number"?(0,z.a$)(i):z.dv}return z.b8}function lt(g){return!(g.sourceCenter&&g.targetCenter&&!(0,f.aI)(g.sourceCenter,g.targetCenter)||g.sourceResolution!==g.targetResolution||g.sourceRotation!==g.targetRotation)}function ht(g,n,i,h,d){const R=Math.cos(-d);let L=Math.sin(-d),S=g[0]*R-g[1]*L,P=g[1]*R+g[0]*L;S+=(n[0]/2-i[0])*h,P+=(i[1]-n[1]/2)*h,L=-L;const V=S*R-P*L,M=P*R+S*L;return[V,M]}const ct=dt},62703:(k,K,o)=>{o.d(K,{A:()=>D});const D={ANIMATING:0,INTERACTING:1}},89352:(k,K,o)=>{o.d(K,{$C:()=>u,_j:()=>y,dI:()=>m,oJ:()=>p,sH:()=>f});var D=o(90588),E=o(61597);const I=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,F=/^([a-z]*)$|^hsla?\(.*\)$/i;function p(c){return typeof c=="string"?c:m(c)}function C(c){const T=document.createElement("div");if(T.style.color=c,T.style.color!==""){document.body.appendChild(T);const x=getComputedStyle(T).color;return document.body.removeChild(T),x}return""}const f=function(){const T={};let x=0;return function(H){let O;if(T.hasOwnProperty(H))O=T[H];else{if(x>=1024){let w=0;for(const z in T)(w++&3)===0&&(delete T[z],--x)}O=s(H),T[H]=O,++x}return O}}();function y(c){return Array.isArray(c)?c:f(c)}function s(c){let T,x,H,O,w;if(F.exec(c)&&(c=C(c)),I.exec(c)){const z=c.length-1;let N;z<=4?N=1:N=2;const Q=z===4||z===8;T=parseInt(c.substr(1+0*N,N),16),x=parseInt(c.substr(1+1*N,N),16),H=parseInt(c.substr(1+2*N,N),16),Q?O=parseInt(c.substr(1+3*N,N),16):O=255,N==1&&(T=(T<<4)+T,x=(x<<4)+x,H=(H<<4)+H,Q&&(O=(O<<4)+O)),w=[T,x,H,O/255]}else c.startsWith("rgba(")?(w=c.slice(5,-1).split(",").map(Number),l(w)):c.startsWith("rgb(")?(w=c.slice(4,-1).split(",").map(Number),w.push(1),l(w)):(0,D.v)(!1,14);return w}function l(c){return c[0]=(0,E.qE)(c[0]+.5|0,0,255),c[1]=(0,E.qE)(c[1]+.5|0,0,255),c[2]=(0,E.qE)(c[2]+.5|0,0,255),c[3]=(0,E.qE)(c[3],0,1),c}function m(c){let T=c[0];T!=(T|0)&&(T=T+.5|0);let x=c[1];x!=(x|0)&&(x=x+.5|0);let H=c[2];H!=(H|0)&&(H=H+.5|0);const O=c[3]===void 0?1:Math.round(c[3]*100)/100;return"rgba("+T+","+x+","+H+","+O+")"}function u(c){return F.test(c)&&(c=C(c)),I.test(c)||c.startsWith("rgba(")||c.startsWith("rgb(")}},57456:(k,K,o)=>{o.d(K,{A:()=>f});var D=o(10972),E=o(6837),I=o(25176),F=o(66514),p=o(68711);class C extends D.A{constructor(s){s=s||{},super({element:document.createElement("div"),render:s.render,target:s.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=s.collapsed!==void 0?s.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=s.collapsible!==void 0,this.collapsible_=s.collapsible!==void 0?s.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const l=s.className!==void 0?s.className:"ol-attribution",m=s.tipLabel!==void 0?s.tipLabel:"Attributions",u=s.expandClassName!==void 0?s.expandClassName:l+"-expand",c=s.collapseLabel!==void 0?s.collapseLabel:"\u203A",T=s.collapseClassName!==void 0?s.collapseClassName:l+"-collapse";typeof c=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=c,this.collapseLabel_.className=T):this.collapseLabel_=c;const x=s.label!==void 0?s.label:"i";typeof x=="string"?(this.label_=document.createElement("span"),this.label_.textContent=x,this.label_.className=u):this.label_=x;const H=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=m,this.toggleButton_.appendChild(H),this.toggleButton_.addEventListener(E.A.CLICK,this.handleClick_.bind(this),!1);const O=l+" "+I.XI+" "+I.$N+(this.collapsed_&&this.collapsible_?" "+I.nT:"")+(this.collapsible_?"":" ol-uncollapsible"),w=this.element;w.className=O,w.appendChild(this.toggleButton_),w.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(s){const l=Array.from(new Set(this.getMap().getAllLayers().flatMap(u=>u.getAttributions(s)))),m=!this.getMap().getAllLayers().some(u=>u.getSource()&&u.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(m),l}updateElement_(s){if(!s){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const l=this.collectSourceAttributions_(s),m=l.length>0;if(this.renderedVisible_!=m&&(this.element.style.display=m?"":"none",this.renderedVisible_=m),!(0,F.aI)(l,this.renderedAttributions_)){(0,p.gS)(this.ulElement_);for(let u=0,c=l.length;u<c;++u){const T=document.createElement("li");T.innerHTML=l[u],this.ulElement_.appendChild(T)}this.renderedAttributions_=l}}handleClick_(s){s.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(I.nT),this.collapsed_?(0,p.fo)(this.collapseLabel_,this.label_):(0,p.fo)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(s){this.collapsible_!==s&&(this.collapsible_=s,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(s){this.userCollapsed_=s,!(!this.collapsible_||this.collapsed_===s)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(s){this.updateElement_(s.frameState)}}const f=C},10972:(k,K,o)=>{o.d(K,{A:()=>f});var D=o(34120),E=o(82585),I=o(74238),F=o(9438),p=o(68711);class C extends D.A{constructor(s){super();const l=s.element;l&&!s.target&&!l.style.pointerEvents&&(l.style.pointerEvents="auto"),this.element=l||null,this.target_=null,this.map_=null,this.listenerKeys=[],s.render&&(this.render=s.render),s.target&&this.setTarget(s.target)}disposeInternal(){(0,p.bf)(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(s){this.map_&&(0,p.bf)(this.element);for(let l=0,m=this.listenerKeys.length;l<m;++l)(0,F.JH)(this.listenerKeys[l]);this.listenerKeys.length=0,this.map_=s,s&&((this.target_?this.target_:s.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==I.tV&&this.listenerKeys.push((0,F.KT)(s,E.A.POSTRENDER,this.render,this)),s.render())}render(s){}setTarget(s){this.target_=typeof s=="string"?document.getElementById(s):s}}const f=C},69186:(k,K,o)=>{o.d(K,{A:()=>C});var D=o(10972),E=o(6837),I=o(25176),F=o(93474);class p extends D.A{constructor(y){y=y||{},super({element:document.createElement("div"),target:y.target});const s=y.className!==void 0?y.className:"ol-zoom",l=y.delta!==void 0?y.delta:1,m=y.zoomInClassName!==void 0?y.zoomInClassName:s+"-in",u=y.zoomOutClassName!==void 0?y.zoomOutClassName:s+"-out",c=y.zoomInLabel!==void 0?y.zoomInLabel:"+",T=y.zoomOutLabel!==void 0?y.zoomOutLabel:"\u2013",x=y.zoomInTipLabel!==void 0?y.zoomInTipLabel:"Zoom in",H=y.zoomOutTipLabel!==void 0?y.zoomOutTipLabel:"Zoom out",O=document.createElement("button");O.className=m,O.setAttribute("type","button"),O.title=x,O.appendChild(typeof c=="string"?document.createTextNode(c):c),O.addEventListener(E.A.CLICK,this.handleClick_.bind(this,l),!1);const w=document.createElement("button");w.className=u,w.setAttribute("type","button"),w.title=H,w.appendChild(typeof T=="string"?document.createTextNode(T):T),w.addEventListener(E.A.CLICK,this.handleClick_.bind(this,-l),!1);const z=s+" "+I.XI+" "+I.$N,N=this.element;N.className=z,N.appendChild(O),N.appendChild(w),this.duration_=y.duration!==void 0?y.duration:250}handleClick_(y,s){s.preventDefault(),this.zoomByDelta_(y)}zoomByDelta_(y){const l=this.getMap().getView();if(!l)return;const m=l.getZoom();if(m!==void 0){const u=l.getConstrainedZoom(m+y);this.duration_>0?(l.getAnimating()&&l.cancelAnimations(),l.animate({zoom:u,duration:this.duration_,easing:F.vT})):l.setZoom(u)}}}const C=p},25176:(k,K,o)=>{o.d(K,{$N:()=>p,K5:()=>s,Si:()=>D,XI:()=>I,nT:()=>C});const D="ol-hidden",E="ol-selectable",I="ol-unselectable",F="ol-unsupported",p="ol-control",C="ol-collapsed",f=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),y=["style","variant","weight","size","lineHeight","family"],s=function(l){const m=l.match(f);if(!m)return null;const u={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let c=0,T=y.length;c<T;++c){const x=m[c+1];x!==void 0&&(u[y[c]]=x)}return u.families=u.family.split(/,\s?/),u}},68711:(k,K,o)=>{o.d(K,{WM:()=>s,Y:()=>E,Yg:()=>I,bf:()=>f,fo:()=>C,gS:()=>y});var D=o(7771);function E(l,m,u,c){let T;return u&&u.length?T=u.shift():D.Wl?T=new OffscreenCanvas(l||300,m||300):T=document.createElement("canvas"),l&&(T.width=l),m&&(T.height=m),T.getContext("2d",c)}function I(l){const m=l.canvas;m.width=1,m.height=1,l.clearRect(0,0,1,1)}function F(l){let m=l.offsetWidth;const u=getComputedStyle(l);return m+=parseInt(u.marginLeft,10)+parseInt(u.marginRight,10),m}function p(l){let m=l.offsetHeight;const u=getComputedStyle(l);return m+=parseInt(u.marginTop,10)+parseInt(u.marginBottom,10),m}function C(l,m){const u=m.parentNode;u&&u.replaceChild(l,m)}function f(l){return l&&l.parentNode?l.parentNode.removeChild(l):null}function y(l){for(;l.lastChild;)l.removeChild(l.lastChild)}function s(l,m){const u=l.childNodes;for(let c=0;;++c){const T=u[c],x=m[c];if(!T&&!x)break;if(T!==x){if(!T){l.appendChild(x);continue}if(!x){l.removeChild(T),--c;continue}l.insertBefore(x,T)}}}},93474:(k,K,o)=>{o.d(K,{T9:()=>I,a6:()=>D,sn:()=>F,vT:()=>E});function D(C){return Math.pow(C,3)}function E(C){return 1-D(1-C)}function I(C){return 3*C*C-2*C*C*C}function F(C){return C}function p(C){return C<.5?I(2*C):1-I(2*(C-.5))}},58704:(k,K,o)=>{o.d(K,{A4:()=>Q,Gk:()=>l,IO:()=>f,Js:()=>C,Kg:()=>z,Q7:()=>p,TS:()=>O,Zm:()=>c,at:()=>u,eL:()=>s,fs:()=>Z,t5:()=>x,tE:()=>N});var D=o(73445),E=o(74238),I=o(7771),F=o(90588);function p(B){const U=arguments;return function($){let lt=!0;for(let ht=0,ct=U.length;ht<ct&&(lt=lt&&U[ht]($),!!lt);++ht);return lt}}const C=function(B){const U=B.originalEvent;return U.altKey&&!(U.metaKey||U.ctrlKey)&&!U.shiftKey},f=function(B){const U=B.originalEvent;return U.altKey&&!(U.metaKey||U.ctrlKey)&&U.shiftKey},y=function(B){const U=B.map.getTargetElement(),$=B.map.getOwnerDocument().activeElement;return U.contains($)},s=function(B){return B.map.getTargetElement().hasAttribute("tabindex")?y(B):!0},l=E.rT,m=function(B){return B.type==MapBrowserEventType.CLICK},u=function(B){const U=B.originalEvent;return U.button==0&&!(I.j&&I.ew&&U.ctrlKey)},c=E.W8,T=function(B){return B.type=="pointermove"},x=function(B){return B.type==D.A.SINGLECLICK},H=function(B){return B.type==MapBrowserEventType.DBLCLICK},O=function(B){const U=B.originalEvent;return!U.altKey&&!(U.metaKey||U.ctrlKey)&&!U.shiftKey},w=function(B){const U=B.originalEvent;return!U.altKey&&(MAC?U.metaKey:U.ctrlKey)&&!U.shiftKey},z=function(B){const U=B.originalEvent;return!U.altKey&&!(U.metaKey||U.ctrlKey)&&U.shiftKey},N=function(B){const U=B.originalEvent,$=U.target.tagName;return $!=="INPUT"&&$!=="SELECT"&&$!=="TEXTAREA"&&!U.target.isContentEditable},Q=function(B){const U=B.originalEvent;return(0,F.v)(U!==void 0,56),U.pointerType=="mouse"},it=function(B){const U=B.originalEvent;return assert(U!==void 0,56),U.pointerType==="touch"},dt=function(B){const U=B.originalEvent;return assert(U!==void 0,56),U.pointerType==="pen"},Z=function(B){const U=B.originalEvent;return(0,F.v)(U!==void 0,56),U.isPrimary&&U.button===0}},6292:(k,K,o)=>{o.d(K,{Ay:()=>f,D2:()=>C,e4:()=>p});var D=o(34120),E=o(82187),I=o(93474);class F extends D.A{constructor(s){super(),this.on,this.once,this.un,s&&s.handleEvent&&(this.handleEvent=s.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(E.A.ACTIVE)}getMap(){return this.map_}handleEvent(s){return!0}setActive(s){this.set(E.A.ACTIVE,s)}setMap(s){this.map_=s}}function p(y,s,l){const m=y.getCenterInternal();if(m){const u=[m[0]+s[0],m[1]+s[1]];y.animateInternal({duration:l!==void 0?l:250,easing:I.sn,center:y.getConstrainedCenter(u)})}}function C(y,s,l,m){const u=y.getZoom();if(u===void 0)return;const c=y.getConstrainedZoom(u+s),T=y.getResolutionForZoom(c);y.getAnimating()&&y.cancelAnimations(),y.animate({resolution:T,anchor:l,duration:m!==void 0?m:250,easing:I.vT})}const f=F},88751:(k,K,o)=>{o.d(K,{A:()=>f});var D=o(6837),E=o(6292),I=o(7771),F=o(58704),p=o(61597);class C extends E.Ay{constructor(s){s=s||{},super(s),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=s.maxDelta!==void 0?s.maxDelta:1,this.duration_=s.duration!==void 0?s.duration:250,this.timeout_=s.timeout!==void 0?s.timeout:80,this.useAnchor_=s.useAnchor!==void 0?s.useAnchor:!0,this.constrainResolution_=s.constrainResolution!==void 0?s.constrainResolution:!1;const l=s.condition?s.condition:F.Gk;this.condition_=s.onFocusOnly?(0,F.Q7)(F.eL,l):l,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const s=this.getMap();if(!s)return;s.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(s){if(!this.condition_(s)||s.type!==D.A.WHEEL)return!0;const m=s.map,u=s.originalEvent;u.preventDefault(),this.useAnchor_&&(this.lastAnchor_=s.coordinate);let c;if(s.type==D.A.WHEEL&&(c=u.deltaY,I._p&&u.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(c/=I.cr),u.deltaMode===WheelEvent.DOM_DELTA_LINE&&(c*=40)),c===0)return!1;this.lastDelta_=c;const T=Date.now();this.startTime_===void 0&&(this.startTime_=T),(!this.mode_||T-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(c)<4?"trackpad":"wheel");const x=m.getView();if(this.mode_==="trackpad"&&!(x.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(x.getAnimating()&&x.cancelAnimations(),x.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),x.adjustZoom(-c/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=T,!1;this.totalDelta_+=c;const H=Math.max(this.timeout_-(T-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,m),H),!1}handleWheelZoom_(s){const l=s.getView();l.getAnimating()&&l.cancelAnimations();let m=-(0,p.qE)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(l.getConstrainResolution()||this.constrainResolution_)&&(m=m?m>0?1:-1:0),(0,E.D2)(l,m,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(s){this.useAnchor_=s,s||(this.lastAnchor_=null)}}const f=C},21409:(k,K,o)=>{o.d(K,{A:()=>p,v:()=>F});var D=o(6292),E=o(73445);class I extends D.Ay{constructor(f){f=f||{},super(f),f.handleDownEvent&&(this.handleDownEvent=f.handleDownEvent),f.handleDragEvent&&(this.handleDragEvent=f.handleDragEvent),f.handleMoveEvent&&(this.handleMoveEvent=f.handleMoveEvent),f.handleUpEvent&&(this.handleUpEvent=f.handleUpEvent),f.stopDown&&(this.stopDown=f.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(f){return!1}handleDragEvent(f){}handleEvent(f){if(!f.originalEvent)return!0;let y=!1;if(this.updateTrackedPointers_(f),this.handlingDownUpSequence){if(f.type==E.A.POINTERDRAG)this.handleDragEvent(f),f.originalEvent.preventDefault();else if(f.type==E.A.POINTERUP){const s=this.handleUpEvent(f);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(f.type==E.A.POINTERDOWN){const s=this.handleDownEvent(f);this.handlingDownUpSequence=s,y=this.stopDown(s)}else f.type==E.A.POINTERMOVE&&this.handleMoveEvent(f);return!y}handleMoveEvent(f){}handleUpEvent(f){return!1}stopDown(f){return f}updateTrackedPointers_(f){f.activePointers&&(this.targetPointers=f.activePointers)}}function F(C){const f=C.length;let y=0,s=0;for(let l=0;l<f;l++)y+=C[l].clientX,s+=C[l].clientY;return{clientX:y/f,clientY:s/f}}const p=I},82187:(k,K,o)=>{o.d(K,{A:()=>D});const D={ACTIVE:"active"}},58620:(k,K,o)=>{o.d(K,{A:()=>f});var D=o(34120),E=o(75332),I=o(4087),F=o(90588),p=o(61597);class C extends D.A{constructor(s){super(),this.on,this.once,this.un,this.background_=s.background;const l=Object.assign({},s);typeof s.properties=="object"&&(delete l.properties,Object.assign(l,s.properties)),l[E.A.OPACITY]=s.opacity!==void 0?s.opacity:1,(0,F.v)(typeof l[E.A.OPACITY]=="number",64),l[E.A.VISIBLE]=s.visible!==void 0?s.visible:!0,l[E.A.Z_INDEX]=s.zIndex,l[E.A.MAX_RESOLUTION]=s.maxResolution!==void 0?s.maxResolution:1/0,l[E.A.MIN_RESOLUTION]=s.minResolution!==void 0?s.minResolution:0,l[E.A.MIN_ZOOM]=s.minZoom!==void 0?s.minZoom:-1/0,l[E.A.MAX_ZOOM]=s.maxZoom!==void 0?s.maxZoom:1/0,this.className_=l.className!==void 0?l.className:"ol-layer",delete l.className,this.setProperties(l),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(s){const l=this.state_||{layer:this,managed:s===void 0?!0:s},m=this.getZIndex();return l.opacity=(0,p.qE)(Math.round(this.getOpacity()*100)/100,0,1),l.visible=this.getVisible(),l.extent=this.getExtent(),l.zIndex=m===void 0&&!l.managed?1/0:m,l.maxResolution=this.getMaxResolution(),l.minResolution=Math.max(this.getMinResolution(),0),l.minZoom=this.getMinZoom(),l.maxZoom=this.getMaxZoom(),this.state_=l,l}getLayersArray(s){return(0,I.b0)()}getLayerStatesArray(s){return(0,I.b0)()}getExtent(){return this.get(E.A.EXTENT)}getMaxResolution(){return this.get(E.A.MAX_RESOLUTION)}getMinResolution(){return this.get(E.A.MIN_RESOLUTION)}getMinZoom(){return this.get(E.A.MIN_ZOOM)}getMaxZoom(){return this.get(E.A.MAX_ZOOM)}getOpacity(){return this.get(E.A.OPACITY)}getSourceState(){return(0,I.b0)()}getVisible(){return this.get(E.A.VISIBLE)}getZIndex(){return this.get(E.A.Z_INDEX)}setBackground(s){this.background_=s,this.changed()}setExtent(s){this.set(E.A.EXTENT,s)}setMaxResolution(s){this.set(E.A.MAX_RESOLUTION,s)}setMinResolution(s){this.set(E.A.MIN_RESOLUTION,s)}setMaxZoom(s){this.set(E.A.MAX_ZOOM,s)}setMinZoom(s){this.set(E.A.MIN_ZOOM,s)}setOpacity(s){(0,F.v)(typeof s=="number",64),this.set(E.A.OPACITY,s)}setVisible(s){this.set(E.A.VISIBLE,s)}setZIndex(s){this.set(E.A.Z_INDEX,s)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const f=C},35598:(k,K,o)=>{o.d(K,{A:()=>x,i:()=>u});var D=o(58620),E=o(50071),I=o(32135),F=o(1685),p=o(6837),C=o(28450),f=o(90588),y=o(43530),s=o(70915),l=o(4087),m=o(9438);class u extends F.Ay{constructor(O,w){super(O),this.layer=w}}const c={LAYERS:"layers"};class T extends D.A{constructor(O){O=O||{};const w=Object.assign({},O);delete w.layers;let z=O.layers;super(w),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(c.LAYERS,this.handleLayersChanged_),z?Array.isArray(z)?z=new E.A(z.slice(),{unique:!0}):(0,f.v)(typeof z.getArray=="function",43):z=new E.A(void 0,{unique:!0}),this.setLayers(z)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(m.JH),this.layersListenerKeys_.length=0;const O=this.getLayers();this.layersListenerKeys_.push((0,m.KT)(O,I.A.ADD,this.handleLayersAdd_,this),(0,m.KT)(O,I.A.REMOVE,this.handleLayersRemove_,this));for(const z in this.listenerKeys_)this.listenerKeys_[z].forEach(m.JH);(0,y.I)(this.listenerKeys_);const w=O.getArray();for(let z=0,N=w.length;z<N;z++){const Q=w[z];this.registerLayerListeners_(Q),this.dispatchEvent(new u("addlayer",Q))}this.changed()}registerLayerListeners_(O){const w=[(0,m.KT)(O,C.A.PROPERTYCHANGE,this.handleLayerChange_,this),(0,m.KT)(O,p.A.CHANGE,this.handleLayerChange_,this)];O instanceof T&&w.push((0,m.KT)(O,"addlayer",this.handleLayerGroupAdd_,this),(0,m.KT)(O,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,l.v6)(O)]=w}handleLayerGroupAdd_(O){this.dispatchEvent(new u("addlayer",O.layer))}handleLayerGroupRemove_(O){this.dispatchEvent(new u("removelayer",O.layer))}handleLayersAdd_(O){const w=O.element;this.registerLayerListeners_(w),this.dispatchEvent(new u("addlayer",w)),this.changed()}handleLayersRemove_(O){const w=O.element,z=(0,l.v6)(w);this.listenerKeys_[z].forEach(m.JH),delete this.listenerKeys_[z],this.dispatchEvent(new u("removelayer",w)),this.changed()}getLayers(){return this.get(c.LAYERS)}setLayers(O){const w=this.getLayers();if(w){const z=w.getArray();for(let N=0,Q=z.length;N<Q;++N)this.dispatchEvent(new u("removelayer",z[N]))}this.set(c.LAYERS,O)}getLayersArray(O){return O=O!==void 0?O:[],this.getLayers().forEach(function(w){w.getLayersArray(O)}),O}getLayerStatesArray(O){const w=O!==void 0?O:[],z=w.length;this.getLayers().forEach(function(it){it.getLayerStatesArray(w)});const N=this.getLayerState();let Q=N.zIndex;!O&&N.zIndex===void 0&&(Q=0);for(let it=z,dt=w.length;it<dt;it++){const Z=w[it];Z.opacity*=N.opacity,Z.visible=Z.visible&&N.visible,Z.maxResolution=Math.min(Z.maxResolution,N.maxResolution),Z.minResolution=Math.max(Z.minResolution,N.minResolution),Z.minZoom=Math.max(Z.minZoom,N.minZoom),Z.maxZoom=Math.min(Z.maxZoom,N.maxZoom),N.extent!==void 0&&(Z.extent!==void 0?Z.extent=(0,s._N)(Z.extent,N.extent):Z.extent=N.extent),Z.zIndex===void 0&&(Z.zIndex=Q)}return w}getSourceState(){return"ready"}}const x=T},60764:(k,K,o)=>{o.d(K,{A:()=>m,l:()=>l});var D=o(58620),E=o(6837),I=o(75332),F=o(83984),p=o(91765),C=o(90588),f=o(70915),y=o(9438);class s extends D.A{constructor(c){const T=Object.assign({},c);delete T.source,super(T),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,c.render&&(this.render=c.render),c.map&&this.setMap(c.map),this.addChangeListener(I.A.SOURCE,this.handleSourcePropertyChange_);const x=c.source?c.source:null;this.setSource(x)}getLayersArray(c){return c=c||[],c.push(this),c}getLayerStatesArray(c){return c=c||[],c.push(this.getLayerState()),c}getSource(){return this.get(I.A.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const c=this.getSource();return c?c.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,y.JH)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const c=this.getSource();c&&(this.sourceChangeKey_=(0,y.KT)(c,E.A.CHANGE,this.handleSourceChange_,this),c.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(c){return this.renderer_?this.renderer_.getFeatures(c):Promise.resolve([])}getData(c){return!this.renderer_||!this.rendered?null:this.renderer_.getData(c)}isVisible(c){let T;const x=this.getMapInternal();!c&&x&&(c=x.getView()),c instanceof p.Ay?T={viewState:c.getState(),extent:c.calculateExtent()}:T=c,!T.layerStatesArray&&x&&(T.layerStatesArray=x.getLayerGroup().getLayerStatesArray());let H;T.layerStatesArray?H=T.layerStatesArray.find(w=>w.layer===this):H=this.getLayerState();const O=this.getExtent();return l(H,T.viewState)&&(!O||(0,f.HY)(O,T.extent))}getAttributions(c){if(!this.isVisible(c))return[];let T;const x=this.getSource();if(x&&(T=x.getAttributions()),!T)return[];const H=c instanceof p.Ay?c.getViewStateAndExtent():c;let O=T(H);return Array.isArray(O)||(O=[O]),O}render(c,T){const x=this.getRenderer();return x.prepareFrame(c)?(this.rendered=!0,x.renderFrame(c,T)):null}unrender(){this.rendered=!1}setMapInternal(c){c||this.unrender(),this.set(I.A.MAP,c)}getMapInternal(){return this.get(I.A.MAP)}setMap(c){this.mapPrecomposeKey_&&((0,y.JH)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),c||this.changed(),this.mapRenderKey_&&((0,y.JH)(this.mapRenderKey_),this.mapRenderKey_=null),c&&(this.mapPrecomposeKey_=(0,y.KT)(c,F.A.PRECOMPOSE,function(T){const H=T.frameState.layerStatesArray,O=this.getLayerState(!1);(0,C.v)(!H.some(function(w){return w.layer===O.layer}),67),H.push(O)},this),this.mapRenderKey_=(0,y.KT)(this,E.A.CHANGE,c.render,c),this.changed())}setSource(c){this.set(I.A.SOURCE,c)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function l(u,c){if(!u.visible)return!1;const T=c.resolution;if(T<u.minResolution||T>=u.maxResolution)return!1;const x=c.zoom;return x>u.minZoom&&x<=u.maxZoom}const m=s},75332:(k,K,o)=>{o.d(K,{A:()=>D});const D={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},9960:(k,K,o)=>{o.d(K,{A:()=>I});var D=o(1685);class E extends D.Ay{constructor(p,C,f,y){super(p),this.inversePixelTransform=C,this.frameState=f,this.context=y}}const I=E},83984:(k,K,o)=>{o.d(K,{A:()=>D});const D={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},38774:(k,K,o)=>{o.d(K,{Jw:()=>ht,M8:()=>x,MY:()=>T,NT:()=>c,Oq:()=>s,TA:()=>U,Tq:()=>H,ZV:()=>C,_K:()=>m,_m:()=>y,aq:()=>O,eL:()=>u,fZ:()=>it,jT:()=>$,qY:()=>f,vk:()=>l,yY:()=>w});var D=o(34120),E=o(7771),I=o(43530),F=o(68711),p=o(25176);const C="10px sans-serif",f="#000",y="round",s=[],l=0,m="round",u=10,c="#000",T="center",x="middle",H=[0,0,0,0],O=1,w=new D.A;let z=null,N;const Q={},it=function(){const n="32px ",i=["monospace","serif"],h=i.length,d="wmytzilWMYTZIL@#/&?$%10\uF013";let R,L;function S(V,M,W){let j=!0;for(let G=0;G<h;++G){const X=i[G];if(L=B(V+" "+M+" "+n+X,d),W!=X){const J=B(V+" "+M+" "+n+W+","+X,d);j=j&&J!=L}}return!!j}function P(){let V=!0;const M=w.getKeys();for(let W=0,j=M.length;W<j;++W){const G=M[W];w.get(G)<100&&(S.apply(this,G.split(`
`))?((0,I.I)(Q),z=null,N=void 0,w.set(G,100)):(w.set(G,w.get(G)+1,!0),V=!1))}V&&(clearInterval(R),R=void 0)}return function(V){const M=(0,p.K5)(V);if(!M)return;const W=M.families;for(let j=0,G=W.length;j<G;++j){const X=W[j],J=M.style+`
`+M.weight+`
`+X;w.get(J)===void 0&&(w.set(J,100,!0),S(M.style,M.weight,X)||(w.set(J,0,!0),R===void 0&&(R=setInterval(P,32))))}}}(),dt=function(){let g;return function(n){let i=Q[n];if(i==null){if(E.Wl){const h=(0,p.K5)(n),d=Z(n,"\u017Dg");i=(isNaN(Number(h.lineHeight))?1.2:Number(h.lineHeight))*(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent)}else g||(g=document.createElement("div"),g.innerHTML="M",g.style.minHeight="0",g.style.maxHeight="none",g.style.height="auto",g.style.padding="0",g.style.border="none",g.style.position="absolute",g.style.display="block",g.style.left="-99999px"),g.style.font=n,document.body.appendChild(g),i=g.offsetHeight,document.body.removeChild(g);Q[n]=i}return i}}();function Z(g,n){return z||(z=(0,F.Y)(1,1)),g!=N&&(z.font=g,N=z.font),z.measureText(n)}function B(g,n){return Z(g,n).width}function U(g,n,i){if(n in i)return i[n];const h=n.split(`
`).reduce((d,R)=>Math.max(d,B(g,R)),0);return i[n]=h,h}function $(g,n){const i=[],h=[],d=[];let R=0,L=0,S=0,P=0;for(let V=0,M=n.length;V<=M;V+=2){const W=n[V];if(W===`
`||V===M){R=Math.max(R,L),d.push(L),L=0,S+=P;continue}const j=n[V+1]||g.font,G=B(j,W);i.push(G),L+=G;const X=dt(j);h.push(X),P=Math.max(P,X)}return{width:R,height:S,widths:i,heights:h,lineWidths:d}}function lt(g,n,i,h){n!==0&&(g.translate(i,h),g.rotate(n),g.translate(-i,-h))}function ht(g,n,i,h,d,R,L,S,P,V,M){g.save(),i!==1&&(g.globalAlpha*=i),n&&g.setTransform.apply(g,n),h.contextInstructions?(g.translate(P,V),g.scale(M[0],M[1]),ct(h,g)):M[0]<0||M[1]<0?(g.translate(P,V),g.scale(M[0],M[1]),g.drawImage(h,d,R,L,S,0,0,L,S)):g.drawImage(h,d,R,L,S,P,V,L*M[0],S*M[1]),g.restore()}function ct(g,n){const i=g.contextInstructions;for(let h=0,d=i.length;h<d;h+=2)Array.isArray(i[h+1])?n[i[h]].apply(n,i[h+1]):n[i[h]]=i[h+1]}},24498:(k,K,o)=>{o.d(K,{a$:()=>F,b8:()=>E,cq:()=>p,dv:()=>I});var D=o(61597);function E(C){if(C!==void 0)return 0}function I(C){if(C!==void 0)return C}function F(C){const f=2*Math.PI/C;return function(y,s){if(s)return y;if(y!==void 0)return y=Math.floor(y/f+.5)*f,y}}function p(C){return C=C||(0,D.eh)(5),function(f,y){if(y)return f;if(f!==void 0)return Math.abs(f)<=C?0:f}}},6782:(k,K,o)=>{o.d(K,{Ie:()=>E,hs:()=>I,xq:()=>F});function D(p,C,f){return f===void 0&&(f=[0,0]),f[0]=p[0]+2*C,f[1]=p[1]+2*C,f}function E(p){return p[0]>0&&p[1]>0}function I(p,C,f){return f===void 0&&(f=[0,0]),f[0]=p[0]*C+.5|0,f[1]=p[1]*C+.5|0,f}function F(p,C){return Array.isArray(p)?p:(C===void 0?C=[p,p]:(C[0]=p,C[1]=p),C)}},82241:(k,K,o)=>{o.d(K,{u:()=>p});var D=o(89352);class E{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let f=0;for(const y in this.cache_){const s=this.cache_[y];(f++&3)===0&&!s.hasListener()&&(delete this.cache_[y],--this.cacheSize_)}}}get(f,y,s){const l=I(f,y,s);return l in this.cache_?this.cache_[l]:null}set(f,y,s,l){const m=I(f,y,s);this.cache_[m]=l,++this.cacheSize_}setSize(f){this.maxCacheSize_=f,this.expire()}}function I(C,f,y){const s=y?(0,D.oJ)(y):"null";return f+":"+C+":"+s}var F=null;const p=new E},57115:(k,K,o)=>{o.d(K,{L:()=>D,R:()=>E});const D=42,E=256}}]);

//# sourceMappingURL=362.e1d473ed08b92949fd78.js.map