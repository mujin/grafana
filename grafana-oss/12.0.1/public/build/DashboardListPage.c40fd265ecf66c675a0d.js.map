{"version":3,"file":"DashboardListPage.c40fd265ecf66c675a0d.js","mappings":"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","sources":["webpack://grafana/./public/app/features/search/state/SearchStateManager.ts","webpack://grafana/./public/app/features/search/tempI18nPhrases.ts","webpack://grafana/./public/app/features/browse-dashboards/components/BrowseActions/BrowseActions.tsx","webpack://grafana/./public/app/features/search/page/components/ActionRow.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/BrowseFilters.tsx","webpack://grafana/./public/app/features/browse-dashboards/types.ts","webpack://grafana/./public/app/features/browse-dashboards/components/CheckboxCell.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/CheckboxHeaderCell.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/NameCell.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/TagsCell.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/DashboardsTree.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/BrowseView.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/NewFolderForm.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/NewProvisionedFolderForm.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/CreateNewButton.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/SearchView.tsx","webpack://grafana/./public/app/features/browse-dashboards/BrowseDashboardsPage.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/BrowseActions/DeleteModal.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/BrowseActions/MoveModal.tsx","webpack://grafana/./public/app/features/browse-dashboards/components/FolderActionsButton.tsx","webpack://grafana/./public/app/features/browse-dashboards/permissions.ts","webpack://grafana/./public/app/features/provisioning/hooks/usePullRequestParam.ts"],"sourcesContent":["import { debounce } from 'lodash';\nimport { FormEvent } from 'react';\n\nimport { locationService } from '@grafana/runtime';\nimport { TermCount } from 'app/core/components/TagFilter/TagFilter';\nimport { StateManagerBase } from 'app/core/services/StateManagerBase';\nimport store from 'app/core/store';\n\nimport { SEARCH_PANELS_LOCAL_STORAGE_KEY, SEARCH_SELECTED_LAYOUT, SEARCH_SELECTED_SORT } from '../constants';\nimport {\n  reportDashboardListViewed,\n  reportSearchFailedQueryInteraction,\n  reportSearchQueryInteraction,\n  reportSearchResultInteraction,\n} from '../page/reporting';\nimport { getGrafanaSearcher } from '../service/searcher';\nimport { SearchQuery } from '../service/types';\nimport { SearchLayout, SearchQueryParams, SearchState } from '../types';\nimport { parseRouteParams } from '../utils';\n\nexport const initialState: SearchState = {\n  query: '',\n  tag: [],\n  starred: false,\n  layout: SearchLayout.Folders,\n  sort: undefined,\n  prevSort: undefined,\n  eventTrackingNamespace: 'dashboard_search',\n  deleted: false,\n};\n\nexport const defaultQueryParams: SearchQueryParams = {\n  sort: null,\n  starred: null,\n  query: null,\n  tag: null,\n  layout: null,\n};\n\nconst getLocalStorageLayout = () => {\n  const selectedLayout = localStorage.getItem(SEARCH_SELECTED_LAYOUT);\n  if (selectedLayout === SearchLayout.List) {\n    return SearchLayout.List;\n  } else {\n    return SearchLayout.Folders;\n  }\n};\nexport class SearchStateManager extends StateManagerBase<SearchState> {\n  updateLocation = debounce((query) => locationService.partial(query, true), 300);\n  doSearchWithDebounce = debounce(() => this.doSearch(), 300);\n  lastQuery?: SearchQuery;\n\n  lastSearchTimestamp = 0;\n\n  initStateFromUrl(folderUid?: string, doInitialSearch = true) {\n    const stateFromUrl = parseRouteParams(locationService.getSearchObject());\n\n    // Force list view when conditions are specified from the URL\n    if (stateFromUrl.query || stateFromUrl.datasource || stateFromUrl.panel_type) {\n      stateFromUrl.layout = SearchLayout.List;\n    }\n\n    const layout = getLocalStorageLayout();\n    const prevSort = localStorage.getItem(SEARCH_SELECTED_SORT) ?? undefined;\n    const sort = layout === SearchLayout.List ? stateFromUrl.sort || prevSort : null;\n\n    this.setState({\n      ...initialState,\n      ...stateFromUrl,\n      layout,\n      sort: sort ?? initialState.sort,\n      prevSort,\n      folderUid: folderUid,\n      eventTrackingNamespace: folderUid ? 'manage_dashboards' : 'dashboard_search',\n      deleted: this.state.deleted,\n    });\n\n    if (doInitialSearch && this.hasSearchFilters()) {\n      this.doSearch();\n    }\n  }\n\n  /**\n   * Updates internal and url state, then triggers a new search\n   */\n  setStateAndDoSearch(state: Partial<SearchState>) {\n    const sort = state.sort || this.state.sort || localStorage.getItem(SEARCH_SELECTED_SORT) || undefined;\n\n    // Set internal state\n    this.setState({ sort, ...state });\n\n    // Update url state\n    this.updateLocation({\n      query: this.state.query.length === 0 ? null : this.state.query,\n      tag: this.state.tag,\n      datasource: this.state.datasource,\n      panel_type: this.state.panel_type,\n      starred: this.state.starred ? this.state.starred : null,\n      sort: this.state.sort,\n    });\n\n    // Prevent searching when user is only clearing the input.\n    // We don't show these results anyway\n    if (this.hasSearchFilters()) {\n      this.doSearchWithDebounce();\n    }\n  }\n\n  onCloseSearch = () => {\n    this.updateLocation({\n      search: null,\n      folder: null,\n      ...defaultQueryParams,\n    });\n  };\n\n  onClearSearchAndFilters = () => {\n    this.setStateAndDoSearch({\n      query: '',\n      datasource: undefined,\n      tag: [],\n      panel_type: undefined,\n      starred: undefined,\n      sort: undefined,\n    });\n  };\n\n  onQueryChange = (query: string) => {\n    this.setStateAndDoSearch({ query });\n  };\n\n  onRemoveTag = (tagToRemove: string) => {\n    this.setStateAndDoSearch({ tag: this.state.tag.filter((tag) => tag !== tagToRemove) });\n  };\n\n  onTagFilterChange = (tags: string[]) => {\n    this.setStateAndDoSearch({ tag: tags });\n  };\n\n  onAddTag = (newTag: string) => {\n    if (this.state.tag && this.state.tag.includes(newTag)) {\n      return;\n    }\n\n    this.setStateAndDoSearch({ tag: [...this.state.tag, newTag] });\n  };\n\n  onDatasourceChange = (datasource: string | undefined) => {\n    this.setStateAndDoSearch({ datasource });\n  };\n\n  onPanelTypeChange = (panel_type?: string) => {\n    this.setStateAndDoSearch({ panel_type });\n  };\n\n  onStarredFilterChange = (e: FormEvent<HTMLInputElement>) => {\n    const starred = e.currentTarget.checked;\n    this.setStateAndDoSearch({ starred });\n  };\n\n  onClearStarred = () => {\n    this.setStateAndDoSearch({ starred: false });\n  };\n\n  onSetStarred = (starred: boolean) => {\n    if (starred !== this.state.starred) {\n      this.setStateAndDoSearch({ starred });\n    }\n  };\n\n  onSortChange = (sort: string | undefined) => {\n    if (sort) {\n      localStorage.setItem(SEARCH_SELECTED_SORT, sort);\n      // Switch to list view if sort is set to preserve sort order when navigating back\n      localStorage.setItem(SEARCH_SELECTED_LAYOUT, SearchLayout.List);\n    } else {\n      localStorage.removeItem(SEARCH_SELECTED_SORT);\n    }\n\n    if (this.state.layout === SearchLayout.Folders) {\n      this.setStateAndDoSearch({ sort, layout: SearchLayout.List });\n    } else {\n      this.setStateAndDoSearch({ sort });\n    }\n  };\n\n  onLayoutChange = (layout: SearchLayout) => {\n    localStorage.setItem(SEARCH_SELECTED_LAYOUT, layout);\n\n    if (this.state.sort && layout === SearchLayout.Folders) {\n      this.setStateAndDoSearch({ layout, prevSort: this.state.sort, sort: undefined });\n    } else {\n      this.setStateAndDoSearch({ layout, sort: this.state.prevSort });\n    }\n  };\n\n  onSetIncludePanels = (includePanels: boolean) => {\n    this.setStateAndDoSearch({ includePanels });\n    store.set(SEARCH_PANELS_LOCAL_STORAGE_KEY, includePanels);\n  };\n\n  hasSearchFilters() {\n    return Boolean(\n      this.state.query ||\n        this.state.tag.length ||\n        this.state.starred ||\n        this.state.panel_type ||\n        this.state.sort ||\n        this.state.deleted ||\n        this.state.layout === SearchLayout.List\n    );\n  }\n\n  getSearchQuery() {\n    const q: SearchQuery = {\n      query: this.state.query,\n      tags: this.state.tag,\n      ds_uid: this.state.datasource,\n      panel_type: this.state.panel_type,\n      location: this.state.folderUid, // This will scope all results to the prefix\n      sort: this.state.sort,\n      explain: this.state.explain,\n      withAllowedActions: this.state.explain, // allowedActions are currently not used for anything on the UI and added only in `explain` mode\n      starred: this.state.starred,\n      deleted: this.state.deleted,\n    };\n\n    // Only dashboards have additional properties\n    if (q.sort?.length && !q.sort.includes('name')) {\n      q.kind = ['dashboard', 'folder']; // skip panels\n    }\n\n    if (!q.query?.length) {\n      q.query = '*';\n      if (!q.location) {\n        q.kind = ['dashboard', 'folder']; // skip panels\n      }\n    }\n\n    if (!this.state.includePanels && !q.kind) {\n      q.kind = ['dashboard', 'folder']; // skip panels\n    }\n\n    if (q.panel_type?.length) {\n      q.kind = ['panel'];\n    }\n\n    return q;\n  }\n\n  private doSearch() {\n    const trackingInfo = {\n      layout: this.state.layout,\n      starred: this.state.starred,\n      sortValue: this.state.sort,\n      query: this.state.query,\n      tagCount: this.state.tag?.length,\n      includePanels: this.state.includePanels,\n      deleted: this.state.deleted,\n    };\n\n    reportSearchQueryInteraction(this.state.eventTrackingNamespace, trackingInfo);\n\n    this.lastQuery = this.getSearchQuery();\n\n    this.setState({ loading: true });\n\n    const searcher = getGrafanaSearcher();\n\n    const searchTimestamp = Date.now();\n    const searchPromise = this.state.starred ? searcher.starred(this.lastQuery) : searcher.search(this.lastQuery);\n\n    searchPromise\n      .then((result) => {\n        // Only keep the results if it's was issued after the most recently resolved search.\n        // This prevents results showing out of order if first request is slower than later ones\n        if (searchTimestamp > this.lastSearchTimestamp) {\n          this.setState({ result, loading: false });\n          this.lastSearchTimestamp = searchTimestamp;\n        }\n      })\n      .catch((error) => {\n        reportSearchFailedQueryInteraction(this.state.eventTrackingNamespace, {\n          ...trackingInfo,\n          error: error?.message,\n        });\n        this.setState({ loading: false });\n      });\n  }\n\n  // This gets the possible tags from within the query results\n  getTagOptions = (): Promise<TermCount[]> => {\n    const query = this.lastQuery ?? {\n      kind: ['dashboard', 'folder'],\n      query: '*',\n    };\n    return getGrafanaSearcher().tags(query);\n  };\n\n  /**\n   * When item is selected clear some filters and report interaction\n   */\n  onSearchItemClicked = (e: React.MouseEvent<HTMLElement>) => {\n    reportSearchResultInteraction(this.state.eventTrackingNamespace, {\n      layout: this.state.layout,\n      starred: this.state.starred,\n      sortValue: this.state.sort,\n      query: this.state.query,\n      tagCount: this.state.tag?.length,\n      includePanels: this.state.includePanels,\n      deleted: this.state.deleted,\n    });\n  };\n\n  /**\n   * Caller should handle debounce\n   */\n  onReportSearchUsage = () => {\n    reportDashboardListViewed(this.state.eventTrackingNamespace, {\n      layout: this.state.layout,\n      starred: this.state.starred,\n      sortValue: this.state.sort,\n      query: this.state.query,\n      tagCount: this.state.tag?.length,\n      includePanels: this.state.includePanels,\n      deleted: this.state.deleted,\n    });\n  };\n}\n\nlet stateManager: SearchStateManager;\n\nexport function getSearchStateManager() {\n  if (!stateManager) {\n    const selectedLayout = localStorage.getItem(SEARCH_SELECTED_LAYOUT) as SearchLayout;\n    const layout = selectedLayout ?? initialState.layout;\n\n    let includePanels = store.getBool(SEARCH_PANELS_LOCAL_STORAGE_KEY, true);\n    if (includePanels) {\n      includePanels = false;\n    }\n\n    stateManager = new SearchStateManager({ ...initialState, layout, includePanels });\n  }\n\n  return stateManager;\n}\n\nexport function useSearchStateManager() {\n  const stateManager = getSearchStateManager();\n  const state = stateManager.useState();\n\n  return [state, stateManager] as const;\n}\n","// Temporary place to collect phrases we reuse between new and old browse/search\n// TODO: remove this when new Browse Dashboards UI is no longer feature flagged\n\nimport { t } from 'app/core/internationalization';\n\nexport function getSearchPlaceholder(includePanels = false) {\n  return includePanels\n    ? t('search.search-input.include-panels-placeholder', 'Search for dashboards, folders, and panels')\n    : t('search.search-input.placeholder', 'Search for dashboards and folders');\n}\n\nexport function getNewDashboardPhrase() {\n  return t('search.dashboard-actions.new-dashboard', 'New dashboard');\n}\n\nexport function getNewFolderPhrase() {\n  return t('search.dashboard-actions.new-folder', 'New folder');\n}\n\nexport function getImportPhrase() {\n  return t('search.dashboard-actions.import', 'Import');\n}\n\nexport function getNewPhrase() {\n  return t('search.dashboard-actions.new', 'New');\n}\n","import { useMemo } from 'react';\n\nimport { config, reportInteraction } from '@grafana/runtime';\nimport { Button, Stack, Tooltip } from '@grafana/ui';\nimport appEvents from 'app/core/app_events';\nimport { t, Trans } from 'app/core/internationalization';\nimport { useSearchStateManager } from 'app/features/search/state/SearchStateManager';\nimport { useDispatch } from 'app/types';\nimport { ShowModalReactEvent } from 'app/types/events';\n\nimport { useDeleteItemsMutation, useMoveItemsMutation } from '../../api/browseDashboardsAPI';\nimport { setAllSelection, useActionSelectionState } from '../../state';\nimport { DashboardTreeSelection } from '../../types';\n\nimport { DeleteModal } from './DeleteModal';\nimport { MoveModal } from './MoveModal';\n\nexport interface Props {}\n\nexport function BrowseActions() {\n  const dispatch = useDispatch();\n  const selectedItems = useActionSelectionState();\n  const [deleteItems] = useDeleteItemsMutation();\n  const [moveItems] = useMoveItemsMutation();\n  const [, stateManager] = useSearchStateManager();\n\n  // Folders can only be moved if nested folders is enabled\n  const moveIsInvalid = useMemo(\n    () => !config.featureToggles.nestedFolders && Object.values(selectedItems.folder).some((v) => v),\n    [selectedItems]\n  );\n\n  const isSearching = stateManager.hasSearchFilters();\n\n  const onActionComplete = () => {\n    dispatch(setAllSelection({ isSelected: false, folderUID: undefined }));\n\n    if (isSearching) {\n      // Redo search query\n      stateManager.doSearchWithDebounce();\n    }\n  };\n\n  const onDelete = async () => {\n    await deleteItems({ selectedItems });\n    trackAction('delete', selectedItems);\n    onActionComplete();\n  };\n\n  const onMove = async (destinationUID: string) => {\n    await moveItems({ selectedItems, destinationUID });\n    trackAction('move', selectedItems);\n    onActionComplete();\n  };\n\n  const showMoveModal = () => {\n    appEvents.publish(\n      new ShowModalReactEvent({\n        component: MoveModal,\n        props: {\n          selectedItems,\n          onConfirm: onMove,\n        },\n      })\n    );\n  };\n\n  const showDeleteModal = () => {\n    appEvents.publish(\n      new ShowModalReactEvent({\n        component: DeleteModal,\n        props: {\n          selectedItems,\n          onConfirm: onDelete,\n        },\n      })\n    );\n  };\n\n  const moveButton = (\n    <Button onClick={showMoveModal} variant=\"secondary\" disabled={moveIsInvalid}>\n      <Trans i18nKey=\"browse-dashboards.action.move-button\">Move</Trans>\n    </Button>\n  );\n\n  return (\n    <Stack gap={1} data-testid=\"manage-actions\">\n      {moveIsInvalid ? (\n        <Tooltip content={t('browse-dashboards.action.cannot-move-folders', 'Folders cannot be moved')}>\n          {moveButton}\n        </Tooltip>\n      ) : (\n        moveButton\n      )}\n\n      <Button onClick={showDeleteModal} variant=\"destructive\">\n        <Trans i18nKey=\"browse-dashboards.action.delete-button\">Delete</Trans>\n      </Button>\n    </Stack>\n  );\n}\n\nconst actionMap = {\n  move: 'grafana_manage_dashboards_item_moved',\n  delete: 'grafana_manage_dashboards_item_deleted',\n} as const;\n\nfunction trackAction(action: keyof typeof actionMap, selectedItems: Omit<DashboardTreeSelection, 'panel' | '$all'>) {\n  const selectedDashboards = Object.keys(selectedItems.dashboard).filter((uid) => selectedItems.dashboard[uid]);\n  const selectedFolders = Object.keys(selectedItems.folder).filter((uid) => selectedItems.folder[uid]);\n\n  reportInteraction(actionMap[action], {\n    item_counts: {\n      folder: selectedFolders.length,\n      dashboard: selectedDashboards.length,\n    },\n    source: 'tree_actions',\n    restore_enabled: false,\n  });\n}\n","import { css } from '@emotion/css';\nimport { FormEvent } from 'react';\n\nimport { GrafanaTheme2, SelectableValue } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport { Button, Checkbox, Stack, RadioButtonGroup, useStyles2 } from '@grafana/ui';\nimport { SortPicker } from 'app/core/components/Select/SortPicker';\nimport { TagFilter, TermCount } from 'app/core/components/TagFilter/TagFilter';\nimport { t, Trans } from 'app/core/internationalization';\n\nimport { SearchLayout, SearchState } from '../../types';\n\nfunction getLayoutOptions() {\n  return [\n    {\n      value: SearchLayout.Folders,\n      icon: 'folder',\n      description: t('search.actions.view-as-folders', 'View by folders'),\n    },\n    { value: SearchLayout.List, icon: 'list-ul', description: t('search.actions.view-as-list', 'View as list') },\n  ];\n}\n\ninterface ActionRowProps {\n  state: SearchState;\n  showStarredFilter?: boolean;\n  showLayout?: boolean;\n  sortPlaceholder?: string;\n\n  onLayoutChange: (layout: SearchLayout) => void;\n  onSortChange: (value?: string) => void;\n  onStarredFilterChange?: (event: FormEvent<HTMLInputElement>) => void;\n  onTagFilterChange: (tags: string[]) => void;\n  getTagOptions: () => Promise<TermCount[]>;\n  getSortOptions: () => Promise<SelectableValue[]>;\n  onDatasourceChange: (ds?: string) => void;\n  onPanelTypeChange: (pt?: string) => void;\n  onSetIncludePanels: (v: boolean) => void;\n}\n\nexport function getValidQueryLayout(q: SearchState): SearchLayout {\n  const layout = q.layout ?? SearchLayout.Folders;\n\n  // Folders is not valid when a query exists\n  if (layout === SearchLayout.Folders) {\n    if (q.query || q.sort || q.starred || q.tag.length > 0) {\n      return SearchLayout.List;\n    }\n  }\n\n  return layout;\n}\n\nexport const ActionRow = ({\n  state,\n  showStarredFilter,\n  showLayout,\n  sortPlaceholder,\n  onLayoutChange,\n  onSortChange,\n  onStarredFilterChange = () => {},\n  onTagFilterChange,\n  getTagOptions,\n  getSortOptions,\n  onDatasourceChange,\n  onPanelTypeChange,\n  onSetIncludePanels,\n}: ActionRowProps) => {\n  const styles = useStyles2(getStyles);\n  const layout = getValidQueryLayout(state);\n\n  // Disabled folder layout option when query is present\n  const disabledOptions =\n    state.tag.length || state.starred || state.query || state.datasource || state.panel_type\n      ? [SearchLayout.Folders]\n      : [];\n\n  return (\n    <Stack justifyContent=\"space-between\" alignItems=\"center\">\n      <Stack gap={2} alignItems=\"center\">\n        <TagFilter isClearable={false} tags={state.tag} tagOptions={getTagOptions} onChange={onTagFilterChange} />\n        {config.featureToggles.panelTitleSearch && (\n          <Checkbox\n            data-testid=\"include-panels\"\n            disabled={layout === SearchLayout.Folders}\n            value={state.includePanels}\n            onChange={() => onSetIncludePanels(!state.includePanels)}\n            label={t('search.actions.include-panels', 'Include panels')}\n          />\n        )}\n\n        {showStarredFilter && (\n          <div className={styles.checkboxWrapper}>\n            <Checkbox\n              label={t('search.actions.starred', 'Starred')}\n              onChange={onStarredFilterChange}\n              value={state.starred}\n            />\n          </div>\n        )}\n        {state.datasource && (\n          <Button icon=\"times\" variant=\"secondary\" onClick={() => onDatasourceChange(undefined)}>\n            <Trans i18nKey=\"search.actions.remove-datasource-filter\">\n              Datasource: {{ datasource: state.datasource }}\n            </Trans>\n          </Button>\n        )}\n        {state.panel_type && (\n          <Button icon=\"times\" variant=\"secondary\" onClick={() => onPanelTypeChange(undefined)}>\n            Panel: {state.panel_type}\n          </Button>\n        )}\n      </Stack>\n\n      <Stack gap={2}>\n        {showLayout && (\n          <RadioButtonGroup\n            options={getLayoutOptions()}\n            disabledOptions={disabledOptions}\n            onChange={onLayoutChange}\n            value={layout}\n          />\n        )}\n        <SortPicker\n          onChange={(change) => onSortChange(change?.value)}\n          value={state.sort}\n          getSortOptions={getSortOptions}\n          placeholder={sortPlaceholder || t('search.actions.sort-placeholder', 'Sort')}\n          isClearable\n        />\n      </Stack>\n    </Stack>\n  );\n};\n\nActionRow.displayName = 'ActionRow';\n\nexport const getStyles = (theme: GrafanaTheme2) => {\n  return {\n    checkboxWrapper: css({\n      label: {\n        lineHeight: '1.2',\n      },\n    }),\n  };\n};\n","import { ActionRow } from 'app/features/search/page/components/ActionRow';\nimport { getGrafanaSearcher } from 'app/features/search/service/searcher';\nimport { useSearchStateManager } from 'app/features/search/state/SearchStateManager';\n\nexport function BrowseFilters() {\n  const [searchState, stateManager] = useSearchStateManager();\n\n  return (\n    <ActionRow\n      showStarredFilter\n      showLayout\n      state={searchState}\n      getTagOptions={stateManager.getTagOptions}\n      getSortOptions={getGrafanaSearcher().getSortOptions}\n      sortPlaceholder={getGrafanaSearcher().sortPlaceholder}\n      onLayoutChange={stateManager.onLayoutChange}\n      onStarredFilterChange={stateManager.onStarredFilterChange}\n      onSortChange={stateManager.onSortChange}\n      onTagFilterChange={stateManager.onTagFilterChange}\n      onDatasourceChange={stateManager.onDatasourceChange}\n      onPanelTypeChange={stateManager.onPanelTypeChange}\n      onSetIncludePanels={stateManager.onSetIncludePanels}\n    />\n  );\n}\n","import { CellProps, Column, HeaderProps } from 'react-table';\n\nimport { DashboardViewItem, DashboardViewItemKind } from 'app/features/search/types';\n\nexport type DashboardTreeSelection = Record<DashboardViewItemKind, Record<string, boolean | undefined>> & {\n  $all: boolean;\n};\n\n/**\n * Stores children at a particular location in the tree, and information\n * required for pagination.\n */\nexport type DashboardViewItemCollection = {\n  items: DashboardViewItem[];\n  lastFetchedKind: 'folder' | 'dashboard';\n  lastFetchedPage: number;\n  lastKindHasMoreItems: boolean;\n  isFullyLoaded: boolean;\n};\n\nexport interface BrowseDashboardsState {\n  rootItems: DashboardViewItemCollection | undefined;\n  childrenByParentUID: Record<string, DashboardViewItemCollection | undefined>;\n  selectedItems: DashboardTreeSelection;\n\n  // Only folders can ever be open or closed, so no need to seperate this by kind\n  openFolders: Record<string, boolean>;\n}\n\nexport interface UIDashboardViewItem {\n  kind: 'ui';\n  uiKind: 'empty-folder' | 'pagination-placeholder' | 'divider';\n  uid: string;\n}\n\nexport type DashboardViewItemWithUIItems = DashboardViewItem | UIDashboardViewItem;\n\nexport interface DashboardsTreeItem<T extends DashboardViewItemWithUIItems = DashboardViewItemWithUIItems> {\n  item: T;\n  level: number;\n  isOpen: boolean;\n  parentUID?: string;\n}\n\ninterface RendererUserProps {\n  // Note: userProps for cell renderers (e.g. second argument in `cell.render('Cell', foo)` )\n  // aren't typed, so we must be careful when accessing this\n  isSelected?: (kind: DashboardViewItem | '$all') => SelectionState;\n  onAllSelectionChange?: (newState: boolean) => void;\n  onItemSelectionChange?: (item: DashboardViewItem, newState: boolean) => void;\n  treeID?: string;\n}\n\nexport type DashboardsTreeColumn = Column<DashboardsTreeItem>;\nexport type DashboardsTreeCellProps = CellProps<DashboardsTreeItem, unknown> & RendererUserProps;\nexport type DashboardTreeHeaderProps = HeaderProps<DashboardsTreeItem> & RendererUserProps;\n\nexport enum SelectionState {\n  Unselected,\n  Selected,\n  Mixed,\n}\n","import { css } from '@emotion/css';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Checkbox, useStyles2 } from '@grafana/ui';\nimport { t } from 'app/core/internationalization';\n\nimport { ManagerKind } from '../../apiserver/types';\nimport { DashboardsTreeCellProps, SelectionState } from '../types';\n\nimport { isSharedWithMe } from './utils';\n\nexport default function CheckboxCell({\n  row: { original: row },\n  isSelected,\n  onItemSelectionChange,\n}: DashboardsTreeCellProps) {\n  const item = row.item;\n\n  if (!isSelected) {\n    return <CheckboxSpacer />;\n  }\n\n  if (item.kind === 'ui') {\n    if (item.uiKind === 'pagination-placeholder') {\n      return <Checkbox disabled value={false} />;\n    } else {\n      return <CheckboxSpacer />;\n    }\n  }\n\n  if (isSharedWithMe(item.uid)) {\n    return <CheckboxSpacer />;\n  }\n\n  const state = isSelected(item);\n\n  return (\n    <Checkbox\n      data-testid={selectors.pages.BrowseDashboards.table.checkbox(item.uid)}\n      aria-label={t('browse-dashboards.dashboards-tree.select-checkbox', 'Select')}\n      value={state === SelectionState.Selected}\n      indeterminate={state === SelectionState.Mixed}\n      onChange={(ev) => onItemSelectionChange?.(item, ev.currentTarget.checked)}\n      disabled={item.managedBy === ManagerKind.Repo}\n    />\n  );\n}\n\nfunction CheckboxSpacer() {\n  const styles = useStyles2(getStyles);\n  return <span className={styles.checkboxSpacer} />;\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  // Should be the same size as the <IconButton /> so Dashboard name is aligned to Folder name siblings\n  checkboxSpacer: css({\n    paddingLeft: theme.spacing(2),\n  }),\n});\n","import { Checkbox } from '@grafana/ui';\nimport { t } from 'app/core/internationalization';\n\nimport { DashboardTreeHeaderProps, SelectionState } from '../types';\n\nexport default function CheckboxHeaderCell({ isSelected, onAllSelectionChange }: DashboardTreeHeaderProps) {\n  const state = isSelected?.('$all') ?? SelectionState.Unselected;\n\n  return (\n    <Checkbox\n      value={state === SelectionState.Selected}\n      indeterminate={state === SelectionState.Mixed}\n      aria-label={t('browse-dashboards.dashboards-tree.select-all-header-checkbox', 'Select all')}\n      onChange={(ev) => {\n        if (state === SelectionState.Mixed) {\n          // Ensure clicking an indeterminate checkbox always clears the selection\n          onAllSelectionChange?.(false);\n        } else {\n          onAllSelectionChange?.(ev.currentTarget.checked);\n        }\n      }}\n    />\n  );\n}\n","import { css } from '@emotion/css';\nimport Skeleton from 'react-loading-skeleton';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { reportInteraction } from '@grafana/runtime';\nimport { Icon, IconButton, Link, Spinner, useStyles2, Text } from '@grafana/ui';\nimport { getSvgSize } from '@grafana/ui/internal';\nimport { t, Trans } from 'app/core/internationalization';\nimport { getIconForItem } from 'app/features/search/service/utils';\n\nimport { Indent } from '../../../core/components/Indent/Indent';\nimport { FolderRepo } from '../../../core/components/NestedFolderPicker/FolderRepo';\nimport { useChildrenByParentUIDState } from '../state';\nimport { DashboardsTreeCellProps } from '../types';\n\nimport { makeRowID } from './utils';\n\nconst CHEVRON_SIZE = 'md';\nconst ICON_SIZE = 'sm';\n\ntype NameCellProps = DashboardsTreeCellProps & {\n  onFolderClick: (uid: string, newOpenState: boolean) => void;\n};\n\nexport function NameCell({ row: { original: data }, onFolderClick, treeID }: NameCellProps) {\n  const styles = useStyles2(getStyles);\n  const { item, level, isOpen } = data;\n  const childrenByParentUID = useChildrenByParentUIDState();\n  const isLoading = isOpen && !childrenByParentUID[item.uid];\n  const iconName = getIconForItem(data.item, isOpen);\n\n  if (item.kind === 'ui') {\n    return (\n      <>\n        <Indent\n          level={level}\n          spacing={{\n            xs: 1,\n            md: 3,\n          }}\n        />\n        <span className={styles.folderButtonSpacer} />\n        {item.uiKind === 'empty-folder' ? (\n          <em className={styles.emptyText}>\n            <Text variant=\"body\" color=\"secondary\" truncate>\n              <Trans i18nKey=\"browse-dashboards.name-cell.no-items\">No items</Trans>\n            </Text>\n          </em>\n        ) : (\n          <Skeleton width={200} />\n        )}\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Indent\n        level={level}\n        spacing={{\n          xs: 1,\n          md: 3,\n        }}\n      />\n\n      {item.kind === 'folder' ? (\n        <IconButton\n          size={CHEVRON_SIZE}\n          className={styles.chevron}\n          onClick={() => {\n            onFolderClick(item.uid, !isOpen);\n          }}\n          name={isOpen ? 'angle-down' : 'angle-right'}\n          aria-label={\n            isOpen\n              ? t('browse-dashboards.dashboards-tree.collapse-folder-button', 'Collapse folder {{title}}', {\n                  title: item.title,\n                })\n              : t('browse-dashboards.dashboards-tree.expand-folder-button', 'Expand folder {{title}}', {\n                  title: item.title,\n                })\n          }\n        />\n      ) : (\n        <span className={styles.folderButtonSpacer} />\n      )}\n\n      <div className={styles.iconNameContainer}>\n        {isLoading ? <Spinner size={ICON_SIZE} /> : <Icon size={ICON_SIZE} name={iconName} />}\n\n        <Text variant=\"body\" truncate id={treeID && makeRowID(treeID, item)}>\n          {item.url ? (\n            <Link\n              onClick={() => {\n                reportInteraction('manage_dashboards_result_clicked');\n              }}\n              href={item.url}\n              className={styles.link}\n            >\n              {item.title}\n            </Link>\n          ) : (\n            item.title\n          )}\n        </Text>\n\n        <FolderRepo folder={item} />\n      </div>\n    </>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    chevron: css({\n      marginRight: theme.spacing(1),\n      width: getSvgSize(CHEVRON_SIZE),\n    }),\n    emptyText: css({\n      // needed for text to truncate correctly\n      overflow: 'hidden',\n    }),\n    // Should be the same size as the <IconButton /> so Dashboard name is aligned to Folder name siblings\n    folderButtonSpacer: css({\n      paddingLeft: `calc(${getSvgSize(CHEVRON_SIZE)}px + ${theme.spacing(1)})`,\n    }),\n    iconNameContainer: css({\n      alignItems: 'center',\n      display: 'flex',\n      gap: theme.spacing(1),\n      overflow: 'hidden',\n    }),\n    link: css({\n      '&:hover': {\n        textDecoration: 'underline',\n      },\n    }),\n  };\n};\n","import { css } from '@emotion/css';\nimport { CellProps } from 'react-table';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { TagList, useStyles2 } from '@grafana/ui';\n\nimport { DashboardsTreeItem } from '../types';\n\nexport function TagsCell({ row: { original: data } }: CellProps<DashboardsTreeItem, unknown>) {\n  const styles = useStyles2(getStyles);\n  const item = data.item;\n\n  if (item.kind === 'ui') {\n    if (item.uiKind === 'pagination-placeholder') {\n      return <TagList.Skeleton />;\n    } else {\n      return null;\n    }\n  }\n\n  if (!item.tags) {\n    return null;\n  }\n\n  return <TagList className={styles.tagList} tags={item.tags} />;\n}\n\nfunction getStyles(theme: GrafanaTheme2) {\n  return {\n    // TagList is annoying and has weird default alignment\n    tagList: css({\n      justifyContent: 'flex-start',\n      flexWrap: 'nowrap',\n    }),\n  };\n}\n","import { css, cx } from '@emotion/css';\nimport { useCallback, useEffect, useId, useMemo, useRef } from 'react';\nimport * as React from 'react';\nimport { TableInstance, useTable } from 'react-table';\nimport { VariableSizeList as List } from 'react-window';\nimport InfiniteLoader from 'react-window-infinite-loader';\n\nimport { GrafanaTheme2, isTruthy } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\nimport { useStyles2 } from '@grafana/ui';\nimport { t, Trans } from 'app/core/internationalization';\nimport { DashboardViewItem } from 'app/features/search/types';\n\nimport { DashboardsTreeCellProps, DashboardsTreeColumn, DashboardsTreeItem, SelectionState } from '../types';\n\nimport CheckboxCell from './CheckboxCell';\nimport CheckboxHeaderCell from './CheckboxHeaderCell';\nimport { NameCell } from './NameCell';\nimport { TagsCell } from './TagsCell';\nimport { useCustomFlexLayout } from './customFlexTableLayout';\nimport { makeRowID } from './utils';\n\ninterface DashboardsTreeProps {\n  items: DashboardsTreeItem[];\n  width: number;\n  height: number;\n  canSelect: boolean;\n  isSelected: (kind: DashboardViewItem | '$all') => SelectionState;\n  onFolderClick: (uid: string, newOpenState: boolean) => void;\n  onAllSelectionChange: (newState: boolean) => void;\n  onItemSelectionChange: (item: DashboardViewItem, newState: boolean) => void;\n\n  isItemLoaded: (itemIndex: number) => boolean;\n  requestLoadMore: (folderUid: string | undefined) => void;\n}\n\nconst HEADER_HEIGHT = 36;\nconst ROW_HEIGHT = 36;\nconst DIVIDER_HEIGHT = 0; // Yes - make it appear as a border on the row rather than a row itself\n\nexport function DashboardsTree({\n  items,\n  width,\n  height,\n  isSelected,\n  onFolderClick,\n  onAllSelectionChange,\n  onItemSelectionChange,\n  isItemLoaded,\n  requestLoadMore,\n  canSelect = false,\n}: DashboardsTreeProps) {\n  const treeID = useId();\n\n  const infiniteLoaderRef = useRef<InfiniteLoader>(null);\n  const listRef = useRef<List | null>(null);\n  const styles = useStyles2(getStyles);\n\n  useEffect(() => {\n    // If the tree changed identity, then some indexes that were previously loaded may now be unloaded,\n    // especially after a refetch after a move/delete.\n    // Clear that cache, and check if we need to trigger another load\n    if (infiniteLoaderRef.current) {\n      infiniteLoaderRef.current.resetloadMoreItemsCache(true);\n    }\n\n    if (listRef.current) {\n      listRef.current.resetAfterIndex(0);\n    }\n  }, [items]);\n\n  const tableColumns = useMemo(() => {\n    const checkboxColumn: DashboardsTreeColumn = {\n      id: 'checkbox',\n      width: 0,\n      Header: CheckboxHeaderCell,\n      Cell: CheckboxCell,\n    };\n\n    const nameColumn: DashboardsTreeColumn = {\n      id: 'name',\n      width: 3,\n      Header: (\n        <span style={{ paddingLeft: 24 }}>\n          <Trans i18nKey=\"browse-dashboards.dashboards-tree.name-column\">Name</Trans>\n        </span>\n      ),\n      Cell: (props: DashboardsTreeCellProps) => <NameCell {...props} onFolderClick={onFolderClick} />,\n    };\n\n    const tagsColumns: DashboardsTreeColumn = {\n      id: 'tags',\n      width: 2,\n      Header: t('browse-dashboards.dashboards-tree.tags-column', 'Tags'),\n      Cell: TagsCell,\n    };\n    const columns = [canSelect && checkboxColumn, nameColumn, tagsColumns].filter(isTruthy);\n\n    return columns;\n  }, [onFolderClick, canSelect]);\n\n  const table = useTable({ columns: tableColumns, data: items }, useCustomFlexLayout);\n  const { getTableProps, getTableBodyProps, headerGroups } = table;\n\n  const virtualData = useMemo(\n    () => ({\n      table,\n      isSelected,\n      onAllSelectionChange,\n      onItemSelectionChange,\n      treeID,\n    }),\n    // we need this to rerender if items changes\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [table, isSelected, onAllSelectionChange, onItemSelectionChange, items, treeID]\n  );\n\n  const handleIsItemLoaded = useCallback(\n    (itemIndex: number) => {\n      return isItemLoaded(itemIndex);\n    },\n    [isItemLoaded]\n  );\n\n  const handleLoadMore = useCallback(\n    (startIndex: number, endIndex: number) => {\n      const { parentUID } = items[startIndex];\n      requestLoadMore(parentUID);\n    },\n    [requestLoadMore, items]\n  );\n\n  const getRowHeight = useCallback(\n    (rowIndex: number) => {\n      const row = items[rowIndex];\n      if (row.item.kind === 'ui' && row.item.uiKind === 'divider') {\n        return DIVIDER_HEIGHT;\n      }\n\n      return ROW_HEIGHT;\n    },\n    [items]\n  );\n\n  return (\n    <div {...getTableProps()} role=\"table\">\n      {headerGroups.map((headerGroup) => {\n        const { key, ...headerGroupProps } = headerGroup.getHeaderGroupProps({\n          style: { width },\n        });\n\n        return (\n          <div key={key} {...headerGroupProps} className={cx(styles.row, styles.headerRow)}>\n            {headerGroup.headers.map((column) => {\n              const { key, ...headerProps } = column.getHeaderProps();\n\n              return (\n                <div key={key} {...headerProps} role=\"columnheader\" className={styles.cell}>\n                  {column.render('Header', { isSelected, onAllSelectionChange })}\n                </div>\n              );\n            })}\n          </div>\n        );\n      })}\n\n      <div {...getTableBodyProps()} data-testid={selectors.pages.BrowseDashboards.table.body}>\n        <InfiniteLoader\n          ref={infiniteLoaderRef}\n          itemCount={items.length}\n          isItemLoaded={handleIsItemLoaded}\n          loadMoreItems={handleLoadMore}\n        >\n          {({ onItemsRendered, ref }) => (\n            <List\n              ref={(elem) => {\n                ref(elem);\n                listRef.current = elem;\n              }}\n              height={height - HEADER_HEIGHT}\n              width={width}\n              itemCount={items.length}\n              itemData={virtualData}\n              estimatedItemSize={ROW_HEIGHT}\n              itemSize={getRowHeight}\n              onItemsRendered={onItemsRendered}\n            >\n              {VirtualListRow}\n            </List>\n          )}\n        </InfiniteLoader>\n      </div>\n    </div>\n  );\n}\n\ninterface VirtualListRowProps {\n  index: number;\n  style: React.CSSProperties;\n  data: {\n    table: TableInstance<DashboardsTreeItem>;\n    isSelected: DashboardsTreeCellProps['isSelected'];\n    onAllSelectionChange: DashboardsTreeCellProps['onAllSelectionChange'];\n    onItemSelectionChange: DashboardsTreeCellProps['onItemSelectionChange'];\n    treeID: string;\n  };\n}\n\nfunction VirtualListRow({ index, style, data }: VirtualListRowProps) {\n  const styles = useStyles2(getStyles);\n  const { table, isSelected, onItemSelectionChange, treeID } = data;\n  const { rows, prepareRow } = table;\n\n  const row = rows[index];\n  prepareRow(row);\n\n  const dashboardItem = row.original.item;\n  const { key, ...rowProps } = row.getRowProps({ style });\n\n  if (dashboardItem.kind === 'ui' && dashboardItem.uiKind === 'divider') {\n    return (\n      <div key={key} {...rowProps}>\n        <hr className={styles.divider} />\n      </div>\n    );\n  }\n\n  return (\n    <div\n      key={key}\n      {...rowProps}\n      className={cx(styles.row, styles.bodyRow)}\n      aria-labelledby={makeRowID(treeID, dashboardItem)}\n      data-testid={selectors.pages.BrowseDashboards.table.row(\n        'title' in dashboardItem ? dashboardItem.title : dashboardItem.uid\n      )}\n    >\n      {row.cells.map((cell) => {\n        const { key, ...cellProps } = cell.getCellProps();\n\n        return (\n          <div key={key} {...cellProps} className={styles.cell}>\n            {cell.render('Cell', { isSelected, onItemSelectionChange, treeID })}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    // Column flex properties (cell sizing) are set by customFlexTableLayout.ts\n\n    row: css({\n      gap: theme.spacing(1),\n    }),\n\n    divider: css({\n      borderTop: `1px solid ${theme.colors.border.weak}`,\n      width: '100%',\n      margin: 0,\n    }),\n\n    headerRow: css({\n      backgroundColor: theme.colors.background.secondary,\n      height: HEADER_HEIGHT,\n    }),\n\n    bodyRow: css({\n      height: ROW_HEIGHT,\n\n      '&:hover': {\n        backgroundColor: theme.colors.action.hover,\n      },\n    }),\n\n    cell: css({\n      padding: theme.spacing(1),\n      overflow: 'hidden', // Required so flex children can do text-overflow: ellipsis\n      display: 'flex',\n      alignItems: 'center',\n    }),\n\n    link: css({\n      '&:hover': {\n        textDecoration: 'underline',\n      },\n    }),\n  };\n};\n","import { useCallback } from 'react';\n\nimport { CallToActionCard, EmptyState, LinkButton, TextLink } from '@grafana/ui';\nimport { Trans, t } from 'app/core/internationalization';\nimport { DashboardViewItem } from 'app/features/search/types';\nimport { useDispatch } from 'app/types';\n\nimport { PAGE_SIZE } from '../api/services';\nimport {\n  useFlatTreeState,\n  useCheckboxSelectionState,\n  setFolderOpenState,\n  setItemSelectionState,\n  useChildrenByParentUIDState,\n  setAllSelection,\n  useBrowseLoadingStatus,\n  useLoadNextChildrenPage,\n  fetchNextChildrenPage,\n} from '../state';\nimport { BrowseDashboardsState, DashboardTreeSelection, SelectionState } from '../types';\n\nimport { DashboardsTree } from './DashboardsTree';\n\ninterface BrowseViewProps {\n  height: number;\n  width: number;\n  folderUID: string | undefined;\n  canSelect: boolean;\n}\n\nexport function BrowseView({ folderUID, width, height, canSelect }: BrowseViewProps) {\n  const status = useBrowseLoadingStatus(folderUID);\n  const dispatch = useDispatch();\n  const flatTree = useFlatTreeState(folderUID);\n  const selectedItems = useCheckboxSelectionState();\n  const childrenByParentUID = useChildrenByParentUIDState();\n\n  const handleFolderClick = useCallback(\n    (clickedFolderUID: string, isOpen: boolean) => {\n      dispatch(setFolderOpenState({ folderUID: clickedFolderUID, isOpen }));\n\n      if (isOpen) {\n        dispatch(fetchNextChildrenPage({ parentUID: clickedFolderUID, pageSize: PAGE_SIZE }));\n      }\n    },\n    [dispatch]\n  );\n\n  const handleItemSelectionChange = useCallback(\n    (item: DashboardViewItem, isSelected: boolean) => {\n      dispatch(setItemSelectionState({ item, isSelected }));\n    },\n    [dispatch]\n  );\n\n  const isSelected = useCallback(\n    (item: DashboardViewItem | '$all'): SelectionState => {\n      if (item === '$all') {\n        // We keep the boolean $all state up to date in redux, so we can short-circut\n        // the logic if we know this has been selected\n        if (selectedItems.$all) {\n          return SelectionState.Selected;\n        }\n\n        // Otherwise, if we have any selected items, then it should be in 'mixed' state\n        for (const selection of Object.values(selectedItems)) {\n          if (typeof selection === 'boolean') {\n            continue;\n          }\n\n          for (const uid in selection) {\n            const isSelected = selection[uid];\n            if (isSelected) {\n              return SelectionState.Mixed;\n            }\n          }\n        }\n\n        // Otherwise otherwise, nothing is selected and header should be unselected\n        return SelectionState.Unselected;\n      }\n\n      const isSelected = selectedItems[item.kind][item.uid];\n      if (isSelected) {\n        return SelectionState.Selected;\n      }\n\n      // Because if _all_ children, then the parent is selected (and bailed in the previous check),\n      // this .some check will only return true if the children are partially selected\n      const isMixed = hasSelectedDescendants(item, childrenByParentUID, selectedItems);\n      if (isMixed) {\n        return SelectionState.Mixed;\n      }\n\n      return SelectionState.Unselected;\n    },\n    [selectedItems, childrenByParentUID]\n  );\n\n  const isItemLoaded = useCallback(\n    (itemIndex: number) => {\n      const treeItem = flatTree[itemIndex];\n      if (!treeItem) {\n        return false;\n      }\n      const item = treeItem.item;\n      const result = !(item.kind === 'ui' && item.uiKind === 'pagination-placeholder');\n\n      return result;\n    },\n    [flatTree]\n  );\n\n  const handleLoadMore = useLoadNextChildrenPage();\n\n  if (status === 'fulfilled' && flatTree.length === 0) {\n    return (\n      <div style={{ width }}>\n        {canSelect ? (\n          <EmptyState\n            variant=\"call-to-action\"\n            button={\n              <LinkButton\n                href={folderUID ? `dashboard/new?folderUid=${folderUID}` : 'dashboard/new'}\n                icon=\"plus\"\n                size=\"lg\"\n              >\n                <Trans i18nKey=\"browse-dashboards.empty-state.button-title\">Create dashboard</Trans>\n              </LinkButton>\n            }\n            message={\n              folderUID\n                ? t('browse-dashboards.empty-state.title-folder', \"This folder doesn't have any dashboards yet\")\n                : t('browse-dashboards.empty-state.title', \"You haven't created any dashboards yet\")\n            }\n          >\n            {folderUID && (\n              <Trans i18nKey=\"browse-dashboards.empty-state.pro-tip\">\n                Add/move dashboards to your folder at{' '}\n                <TextLink external={false} href=\"/dashboards\">\n                  Browse dashboards\n                </TextLink>\n              </Trans>\n            )}\n          </EmptyState>\n        ) : (\n          <CallToActionCard\n            callToActionElement={\n              <span>\n                <Trans i18nKey=\"browse-dashboards.browse-view.this-folder-is-empty\">This folder is empty</Trans>\n              </span>\n            }\n          />\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <DashboardsTree\n      canSelect={canSelect}\n      items={flatTree}\n      width={width}\n      height={height}\n      isSelected={isSelected}\n      onFolderClick={handleFolderClick}\n      onAllSelectionChange={(newState) => dispatch(setAllSelection({ isSelected: newState, folderUID }))}\n      onItemSelectionChange={handleItemSelectionChange}\n      isItemLoaded={isItemLoaded}\n      requestLoadMore={handleLoadMore}\n    />\n  );\n}\n\nfunction hasSelectedDescendants(\n  item: DashboardViewItem,\n  childrenByParentUID: BrowseDashboardsState['childrenByParentUID'],\n  selectedItems: DashboardTreeSelection\n): boolean {\n  const collection = childrenByParentUID[item.uid];\n  if (!collection) {\n    return false;\n  }\n\n  return collection.items.some((v) => {\n    const thisIsSelected = selectedItems[v.kind][v.uid];\n    if (thisIsSelected) {\n      return thisIsSelected;\n    }\n\n    return hasSelectedDescendants(v, childrenByParentUID, selectedItems);\n  });\n}\n","import { useForm } from 'react-hook-form';\n\nimport { selectors } from '@grafana/e2e-selectors';\nimport { Button, Input, Field, Stack } from '@grafana/ui';\nimport { Trans, t } from 'app/core/internationalization';\n\nimport { validationSrv } from '../../manage-dashboards/services/ValidationSrv';\n\ninterface Props {\n  onConfirm: (folderName: string) => void;\n  onCancel: () => void;\n}\n\ninterface FormModel {\n  folderName: string;\n}\n\nconst initialFormModel: FormModel = { folderName: '' };\n\nexport function NewFolderForm({ onCancel, onConfirm }: Props) {\n  const {\n    handleSubmit,\n    register,\n    formState: { errors },\n  } = useForm<FormModel>({ defaultValues: initialFormModel });\n\n  const translatedFolderNameRequiredPhrase = t(\n    'browse-dashboards.action.new-folder-name-required-phrase',\n    'Folder name is required.'\n  );\n  const validateFolderName = async (folderName: string) => {\n    try {\n      await validationSrv.validateNewFolderName(folderName);\n      return true;\n    } catch (e) {\n      if (e instanceof Error) {\n        return e.message;\n      } else {\n        throw e;\n      }\n    }\n  };\n\n  const fieldNameLabel = t('browse-dashboards.new-folder-form.name-label', 'Folder name');\n\n  return (\n    <form\n      name=\"addFolder\"\n      onSubmit={handleSubmit((form) => onConfirm(form.folderName))}\n      data-testid={selectors.pages.BrowseDashboards.NewFolderForm.form}\n    >\n      <Field\n        label={fieldNameLabel}\n        invalid={!!errors.folderName}\n        error={errors.folderName && errors.folderName.message}\n      >\n        <Input\n          data-testid={selectors.pages.BrowseDashboards.NewFolderForm.nameInput}\n          id=\"folder-name-input\"\n          defaultValue={initialFormModel.folderName}\n          {...register('folderName', {\n            required: translatedFolderNameRequiredPhrase,\n            validate: async (v) => await validateFolderName(v),\n          })}\n        />\n      </Field>\n      <Stack>\n        <Button variant=\"secondary\" fill=\"outline\" onClick={onCancel}>\n          <Trans i18nKey=\"browse-dashboards.new-folder-form.cancel-label\">Cancel</Trans>\n        </Button>\n        <Button type=\"submit\">\n          <Trans i18nKey=\"browse-dashboards.new-folder-form.create-label\">Create</Trans>\n        </Button>\n      </Stack>\n    </form>\n  );\n}\n","import { useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { useNavigate } from 'react-router-dom-v5-compat';\n\nimport { AppEvents } from '@grafana/data';\nimport { getAppEvents } from '@grafana/runtime';\nimport { Alert, Button, Field, Input, RadioButtonGroup, Spinner, Stack, TextArea } from '@grafana/ui';\nimport { useCreateRepositoryFilesWithPathMutation } from 'app/api/clients/provisioning';\nimport { t, Trans } from 'app/core/internationalization';\nimport { AnnoKeySourcePath, Resource } from 'app/features/apiserver/types';\nimport { getDefaultWorkflow, getWorkflowOptions } from 'app/features/dashboard-scene/saving/provisioned/defaults';\nimport { validationSrv } from 'app/features/manage-dashboards/services/ValidationSrv';\nimport { BranchValidationError } from 'app/features/provisioning/Shared/BranchValidationError';\nimport { PROVISIONING_URL } from 'app/features/provisioning/constants';\nimport { useGetResourceRepositoryView } from 'app/features/provisioning/hooks/useGetResourceRepositoryView';\nimport { usePullRequestParam } from 'app/features/provisioning/hooks/usePullRequestParam';\nimport { WorkflowOption } from 'app/features/provisioning/types';\nimport { validateBranchName } from 'app/features/provisioning/utils/git';\nimport { FolderDTO } from 'app/types';\n\ntype FormData = {\n  ref?: string;\n  path: string;\n  comment?: string;\n  repo: string;\n  workflow?: WorkflowOption;\n  title: string;\n};\n\ninterface Props {\n  onSubmit: () => void;\n  onCancel: () => void;\n  parentFolder?: FolderDTO;\n}\n\nconst initialFormValues: Partial<FormData> = {\n  title: '',\n  comment: '',\n  ref: `folder/${Date.now()}`,\n};\n\nexport function NewProvisionedFolderForm({ onSubmit, onCancel, parentFolder }: Props) {\n  const { repository, folder, isLoading } = useGetResourceRepositoryView({ folderName: parentFolder?.uid });\n  const prURL = usePullRequestParam();\n  const navigate = useNavigate();\n  const [create, request] = useCreateRepositoryFilesWithPathMutation();\n\n  const isGitHub = Boolean(repository?.type === 'github');\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors },\n    control,\n    setValue,\n  } = useForm<FormData>({ defaultValues: { ...initialFormValues, workflow: getDefaultWorkflow(repository) } });\n\n  const [workflow, ref] = watch(['workflow', 'ref']);\n\n  useEffect(() => {\n    setValue('workflow', getDefaultWorkflow(repository));\n  }, [repository, setValue]);\n\n  useEffect(() => {\n    const appEvents = getAppEvents();\n    if (request.isSuccess && repository) {\n      onSubmit();\n\n      appEvents.publish({\n        type: AppEvents.alertSuccess.name,\n        payload: [\n          t(\n            'browse-dashboards.new-provisioned-folder-form.alert-folder-created-successfully',\n            'Folder created successfully'\n          ),\n        ],\n      });\n\n      // TODO: Update when the upsert type is fixed\n      // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n      const folder = request.data.resource?.upsert as Resource;\n      if (folder?.metadata?.name) {\n        navigate(`/dashboards/f/${folder?.metadata?.name}/`);\n        return;\n      }\n\n      let url = `${PROVISIONING_URL}/${repository.name}/file/${request.data.path}`;\n      if (request.data.ref?.length) {\n        url += '?ref=' + request.data.ref;\n      }\n      navigate(url);\n    } else if (request.isError) {\n      appEvents.publish({\n        type: AppEvents.alertError.name,\n        payload: [\n          t('browse-dashboards.new-provisioned-folder-form.alert-error-creating-folder', 'Error creating folder'),\n          request.error,\n        ],\n      });\n    }\n  }, [request.isSuccess, request.isError, request.error, onSubmit, ref, request.data, workflow, navigate, repository]);\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  if (!repository) {\n    return (\n      <Alert\n        title={t('browse-dashboards.new-provisioned-folder-form.title-repository-not-found', 'Repository not found')}\n        severity=\"error\"\n      />\n    );\n  }\n\n  const validateFolderName = async (folderName: string) => {\n    try {\n      await validationSrv.validateNewFolderName(folderName);\n      return true;\n    } catch (e) {\n      if (e instanceof Error) {\n        return e.message;\n      }\n      return t('browse-dashboards.new-provisioned-folder-form.error-invalid-folder-name', 'Invalid folder name');\n    }\n  };\n\n  const doSave = async ({ ref, title, workflow, comment }: FormData) => {\n    const repoName = repository?.name;\n    if (!title || !repoName) {\n      return;\n    }\n    const basePath = folder?.metadata?.annotations?.[AnnoKeySourcePath] ?? '';\n\n    // Convert folder title to filename format (lowercase, replace spaces with hyphens)\n    const titleInFilenameFormat = title\n      .toLowerCase()\n      .replace(/\\s+/g, '-')\n      .replace(/[^a-z0-9-]/g, '');\n\n    const prefix = basePath ? `${basePath}/` : '';\n    const path = `${prefix}${titleInFilenameFormat}/`;\n\n    const folderModel = {\n      title,\n      type: 'folder',\n    };\n\n    if (workflow === 'write') {\n      ref = undefined;\n    }\n\n    create({\n      ref,\n      name: repoName,\n      path,\n      message: comment || `Create folder: ${title}`,\n      body: folderModel,\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit(doSave)}>\n      <Stack direction=\"column\" gap={2}>\n        {!repository?.workflows?.length && (\n          <Alert\n            title={t(\n              'browse-dashboards.new-provisioned-folder-form.title-this-repository-is-read-only',\n              'This repository is read only'\n            )}\n          >\n            <Trans i18nKey=\"browse-dashboards.text-this-repository-is-read-only\">\n              If you have direct access to the target, copy the JSON and paste it there.\n            </Trans>\n          </Alert>\n        )}\n\n        <Field\n          label={t('browse-dashboards.new-provisioned-folder-form.label-folder-name', 'Folder name')}\n          invalid={!!errors.title}\n          error={errors.title?.message}\n        >\n          <Input\n            {...register('title', {\n              required: t('browse-dashboards.new-provisioned-folder-form.error-required', 'Folder name is required'),\n              validate: validateFolderName,\n            })}\n            placeholder={t(\n              'browse-dashboards.new-provisioned-folder-form.folder-name-input-placeholder-enter-folder-name',\n              'Enter folder name'\n            )}\n            id=\"folder-name-input\"\n          />\n        </Field>\n\n        <Field label={t('browse-dashboards.new-provisioned-folder-form.label-comment', 'Comment')}>\n          <TextArea\n            {...register('comment')}\n            placeholder={t(\n              'browse-dashboards.new-provisioned-folder-form.folder-comment-input-placeholder-describe-changes-optional',\n              'Add a note to describe your changes (optional)'\n            )}\n            id=\"folder-comment-input\"\n            rows={5}\n          />\n        </Field>\n\n        {isGitHub && (\n          <>\n            <Field label={t('browse-dashboards.new-provisioned-folder-form.label-workflow', 'Workflow')}>\n              <Controller\n                control={control}\n                name=\"workflow\"\n                render={({ field: { ref, ...field } }) => (\n                  <RadioButtonGroup {...field} options={getWorkflowOptions(repository)} id={'folder-workflow'} />\n                )}\n              />\n            </Field>\n            {workflow === 'branch' && (\n              <Field\n                label={t('browse-dashboards.new-provisioned-folder-form.label-branch', 'Branch')}\n                description={t(\n                  'browse-dashboards.new-provisioned-folder-form.description-branch-name-in-git-hub',\n                  'Branch name in GitHub'\n                )}\n                invalid={!!errors?.ref}\n                error={errors.ref ? <BranchValidationError /> : ''}\n              >\n                <Input {...register('ref', { validate: validateBranchName })} id=\"branch-name-input\" />\n              </Field>\n            )}\n          </>\n        )}\n\n        {prURL && (\n          <Alert\n            severity=\"info\"\n            title={t(\n              'browse-dashboards.new-provisioned-folder-form.title-pull-request-created',\n              'Pull request created'\n            )}\n          >\n            <Trans i18nKey=\"browse-dashboards.new-provisioned-folder-form.text-pull-request-created\">\n              A pull request has been created with changes to this folder:\n            </Trans>{' '}\n            <a href={prURL} target=\"_blank\" rel=\"noopener noreferrer\">\n              {prURL}\n            </a>\n          </Alert>\n        )}\n\n        <Stack gap={2}>\n          <Button variant=\"secondary\" fill=\"outline\" onClick={onCancel}>\n            <Trans i18nKey=\"browse-dashboards.new-provisioned-folder-form.cancel\">Cancel</Trans>\n          </Button>\n          <Button type=\"submit\" disabled={request.isLoading}>\n            {request.isLoading\n              ? t('browse-dashboards.new-provisioned-folder-form.button-creating', 'Creating...')\n              : t('browse-dashboards.new-provisioned-folder-form.button-create', 'Create')}\n          </Button>\n        </Stack>\n      </Stack>\n    </form>\n  );\n}\n","import { useState } from 'react';\nimport { useLocation } from 'react-router-dom-v5-compat';\n\nimport { locationUtil } from '@grafana/data';\nimport { config, locationService, reportInteraction } from '@grafana/runtime';\nimport { Button, Drawer, Dropdown, Icon, Menu, MenuItem } from '@grafana/ui';\nimport { useAppNotification } from 'app/core/copy/appNotification';\nimport { useIsProvisionedInstance } from 'app/features/provisioning/hooks/useIsProvisionedInstance';\nimport {\n  getImportPhrase,\n  getNewDashboardPhrase,\n  getNewFolderPhrase,\n  getNewPhrase,\n} from 'app/features/search/tempI18nPhrases';\nimport { FolderDTO } from 'app/types';\n\nimport { ManagerKind } from '../../apiserver/types';\nimport { useNewFolderMutation } from '../api/browseDashboardsAPI';\n\nimport { NewFolderForm } from './NewFolderForm';\nimport { NewProvisionedFolderForm } from './NewProvisionedFolderForm';\n\ninterface Props {\n  parentFolder?: FolderDTO;\n  canCreateFolder: boolean;\n  canCreateDashboard: boolean;\n}\n\nexport default function CreateNewButton({ parentFolder, canCreateDashboard, canCreateFolder }: Props) {\n  const [isOpen, setIsOpen] = useState(false);\n  const location = useLocation();\n  const [newFolder] = useNewFolderMutation();\n  const [showNewFolderDrawer, setShowNewFolderDrawer] = useState(false);\n  const notifyApp = useAppNotification();\n  const isProvisionedInstance = useIsProvisionedInstance();\n\n  const onCreateFolder = async (folderName: string) => {\n    try {\n      const folder = await newFolder({\n        title: folderName,\n        parentUid: parentFolder?.uid,\n      });\n\n      const depth = parentFolder?.parents ? parentFolder.parents.length + 1 : 0;\n      reportInteraction('grafana_manage_dashboards_folder_created', {\n        is_subfolder: Boolean(parentFolder?.uid),\n        folder_depth: depth,\n      });\n\n      if (!folder.error) {\n        notifyApp.success('Folder created');\n      } else {\n        notifyApp.error('Failed to create folder');\n      }\n\n      if (folder.data) {\n        locationService.push(locationUtil.stripBaseFromUrl(folder.data.url));\n      }\n    } finally {\n      setShowNewFolderDrawer(false);\n    }\n  };\n\n  const newMenu = (\n    <Menu>\n      {canCreateDashboard && (\n        <MenuItem\n          label={getNewDashboardPhrase()}\n          onClick={() =>\n            reportInteraction('grafana_menu_item_clicked', {\n              url: buildUrl('/dashboard/new', parentFolder?.uid),\n              from: location.pathname,\n            })\n          }\n          url={buildUrl('/dashboard/new', parentFolder?.uid)}\n        />\n      )}\n      {canCreateFolder && <MenuItem onClick={() => setShowNewFolderDrawer(true)} label={getNewFolderPhrase()} />}\n      {canCreateDashboard && (\n        <MenuItem\n          label={getImportPhrase()}\n          onClick={() =>\n            reportInteraction('grafana_menu_item_clicked', {\n              url: buildUrl('/dashboard/import', parentFolder?.uid),\n              from: location.pathname,\n            })\n          }\n          url={buildUrl('/dashboard/import', parentFolder?.uid)}\n        />\n      )}\n    </Menu>\n  );\n\n  return (\n    <>\n      <Dropdown overlay={newMenu} onVisibleChange={setIsOpen}>\n        <Button>\n          {getNewPhrase()}\n          <Icon name={isOpen ? 'angle-up' : 'angle-down'} />\n        </Button>\n      </Dropdown>\n      {showNewFolderDrawer && (\n        <Drawer\n          title={getNewFolderPhrase()}\n          subtitle={parentFolder?.title ? `Location: ${parentFolder.title}` : undefined}\n          onClose={() => setShowNewFolderDrawer(false)}\n          size=\"sm\"\n        >\n          {parentFolder?.managedBy === ManagerKind.Repo || isProvisionedInstance ? (\n            <NewProvisionedFolderForm\n              onSubmit={() => setShowNewFolderDrawer(false)}\n              onCancel={() => setShowNewFolderDrawer(false)}\n              parentFolder={parentFolder}\n            />\n          ) : (\n            <NewFolderForm onConfirm={onCreateFolder} onCancel={() => setShowNewFolderDrawer(false)} />\n          )}\n        </Drawer>\n      )}\n    </>\n  );\n}\n\n/**\n *\n * @param url without any parameters\n * @param folderUid  folder id\n * @returns url with paramter if folder is present\n */\nfunction buildUrl(url: string, folderUid: string | undefined) {\n  const baseUrl = folderUid ? url + '?folderUid=' + folderUid : url;\n  return config.appSubUrl ? config.appSubUrl + baseUrl : baseUrl;\n}\n","import { ReactNode, useCallback } from 'react';\n\nimport { DataFrameView, toDataFrame } from '@grafana/data';\nimport { Button, EmptyState } from '@grafana/ui';\nimport { Trans, t } from 'app/core/internationalization';\nimport { useKeyNavigationListener } from 'app/features/search/hooks/useSearchKeyboardSelection';\nimport { SearchResultsProps, SearchResultsTable } from 'app/features/search/page/components/SearchResultsTable';\nimport { SearchStateManager } from 'app/features/search/state/SearchStateManager';\nimport { DashboardViewItemKind, SearchState } from 'app/features/search/types';\nimport { useDispatch, useSelector } from 'app/types';\n\nimport { setAllSelection, setItemSelectionState, useHasSelection } from '../state';\n\ninterface SearchViewProps {\n  height: number;\n  width: number;\n  canSelect: boolean;\n  searchState: SearchState;\n  searchStateManager: SearchStateManager;\n  emptyState?: ReactNode;\n}\n\nconst NUM_PLACEHOLDER_ROWS = 25;\nconst initialLoadingView = {\n  view: new DataFrameView(\n    toDataFrame({\n      fields: [\n        { name: 'uid', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill(null) },\n        { name: 'kind', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill('dashboard') },\n        { name: 'name', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill('') },\n        { name: 'location', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill('') },\n        { name: 'tags', display: true, values: Array(NUM_PLACEHOLDER_ROWS).fill([]) },\n      ],\n      meta: {\n        custom: {\n          locationInfo: [],\n        },\n      },\n    })\n  ),\n  loadMoreItems: () => Promise.resolve(),\n  // this is key and controls whether to show the skeleton in generateColumns\n  isItemLoaded: () => false,\n  totalRows: NUM_PLACEHOLDER_ROWS,\n};\n\nexport function SearchView({\n  width,\n  height,\n  canSelect,\n  searchState,\n  searchStateManager: stateManager,\n  emptyState: emptyStateProp,\n}: SearchViewProps) {\n  const dispatch = useDispatch();\n  const selectedItems = useSelector((wholeState) => wholeState.browseDashboards.selectedItems);\n  const hasSelection = useHasSelection();\n\n  const { keyboardEvents } = useKeyNavigationListener();\n\n  const value = searchState.result ?? initialLoadingView;\n\n  const selectionChecker = useCallback(\n    (kind: string | undefined, uid: string): boolean => {\n      if (!kind) {\n        return false;\n      }\n\n      // Currently, this indicates _some_ items are selected, not nessicarily all are\n      // selected.\n      if (kind === '*' && uid === '*') {\n        return hasSelection;\n      } else if (kind === '*') {\n        // Unsure how this case can happen\n        return false;\n      }\n\n      return selectedItems[assertDashboardViewItemKind(kind)][uid] ?? false;\n    },\n    [selectedItems, hasSelection]\n  );\n\n  const clearSelection = useCallback(() => {\n    dispatch(setAllSelection({ isSelected: false, folderUID: undefined }));\n  }, [dispatch]);\n\n  const handleItemSelectionChange = useCallback(\n    (kind: string, uid: string) => {\n      const newIsSelected = !selectionChecker(kind, uid);\n\n      dispatch(\n        setItemSelectionState({ item: { kind: assertDashboardViewItemKind(kind), uid }, isSelected: newIsSelected })\n      );\n    },\n    [selectionChecker, dispatch]\n  );\n\n  if (value.totalRows === 0) {\n    const emptyState = emptyStateProp ?? (\n      <EmptyState\n        button={\n          <Button variant=\"secondary\" onClick={stateManager.onClearSearchAndFilters}>\n            <Trans i18nKey=\"browse-dashboards.no-results.clear\">Clear search and filters</Trans>\n          </Button>\n        }\n        message={t('browse-dashboards.no-results.text', 'No results found for your query')}\n        variant=\"not-found\"\n        role=\"alert\"\n      />\n    );\n\n    return <div style={{ width }}>{emptyState}</div>;\n  }\n\n  const props: SearchResultsProps = {\n    response: value,\n    selection: canSelect ? selectionChecker : undefined,\n    selectionToggle: canSelect ? handleItemSelectionChange : undefined,\n    clearSelection,\n    width: width,\n    height: height,\n    onTagSelected: stateManager.onAddTag,\n    keyboardEvents,\n    onDatasourceChange: searchState.datasource ? stateManager.onDatasourceChange : undefined,\n    onClickItem: stateManager.onSearchItemClicked,\n  };\n\n  return <SearchResultsTable {...props} />;\n}\n\nfunction assertDashboardViewItemKind(kind: string): DashboardViewItemKind {\n  switch (kind) {\n    case 'folder':\n      return 'folder';\n    case 'dashboard':\n      return 'dashboard';\n    case 'panel':\n      return 'panel';\n  }\n\n  throw new Error('Unsupported kind' + kind);\n}\n","import { css } from '@emotion/css';\nimport { memo, useEffect, useMemo } from 'react';\nimport { useLocation, useParams } from 'react-router-dom-v5-compat';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { reportInteraction } from '@grafana/runtime';\nimport { LinkButton, FilterInput, useStyles2, Text, Stack } from '@grafana/ui';\nimport { Page } from 'app/core/components/Page/Page';\nimport { getConfig } from 'app/core/config';\nimport { Trans } from 'app/core/internationalization';\nimport { useDispatch } from 'app/types';\n\nimport { FolderRepo } from '../../core/components/NestedFolderPicker/FolderRepo';\nimport { contextSrv } from '../../core/services/context_srv';\nimport { ManagerKind } from '../apiserver/types';\nimport { buildNavModel, getDashboardsTabID } from '../folders/state/navModel';\nimport { useSearchStateManager } from '../search/state/SearchStateManager';\nimport { getSearchPlaceholder } from '../search/tempI18nPhrases';\n\nimport { skipToken, useGetFolderQuery, useSaveFolderMutation } from './api/browseDashboardsAPI';\nimport { BrowseActions } from './components/BrowseActions/BrowseActions';\nimport { BrowseFilters } from './components/BrowseFilters';\nimport { BrowseView } from './components/BrowseView';\nimport CreateNewButton from './components/CreateNewButton';\nimport { FolderActionsButton } from './components/FolderActionsButton';\nimport { SearchView } from './components/SearchView';\nimport { getFolderPermissions } from './permissions';\nimport { setAllSelection, useHasSelection } from './state';\n\n// New Browse/Manage/Search Dashboards views for nested folders\nconst BrowseDashboardsPage = memo(() => {\n  const { uid: folderUID } = useParams();\n  const dispatch = useDispatch();\n\n  const styles = useStyles2(getStyles);\n  const [searchState, stateManager] = useSearchStateManager();\n  const isSearching = stateManager.hasSearchFilters();\n  const location = useLocation();\n  const search = useMemo(() => new URLSearchParams(location.search), [location.search]);\n\n  useEffect(() => {\n    stateManager.initStateFromUrl(folderUID);\n\n    // Clear selected state when folderUID changes\n    dispatch(\n      setAllSelection({\n        isSelected: false,\n        folderUID: undefined,\n      })\n    );\n  }, [dispatch, folderUID, stateManager]);\n\n  // Trigger search when \"starred\" query param changes\n  useEffect(() => {\n    stateManager.onSetStarred(search.has('starred'));\n  }, [search, stateManager]);\n\n  useEffect(() => {\n    // Clear the search results when we leave SearchView to prevent old results flashing\n    // when starting a new search\n    if (!isSearching && searchState.result) {\n      stateManager.setState({ result: undefined, includePanels: undefined });\n    }\n    if (isSearching && searchState.result?.totalRows === 0) {\n      reportInteraction('grafana_empty_state_shown', { source: 'browse_dashboards' });\n    }\n  }, [isSearching, searchState.result, stateManager]);\n\n  const { data: folderDTO } = useGetFolderQuery(folderUID ?? skipToken);\n  const [saveFolder] = useSaveFolderMutation();\n  const navModel = useMemo(() => {\n    if (!folderDTO) {\n      return undefined;\n    }\n    const model = buildNavModel(folderDTO);\n\n    // Set the \"Dashboards\" tab to active\n    const dashboardsTabID = getDashboardsTabID(folderDTO.uid);\n    const dashboardsTab = model.children?.find((child) => child.id === dashboardsTabID);\n    if (dashboardsTab) {\n      dashboardsTab.active = true;\n    }\n    return model;\n  }, [folderDTO]);\n\n  const hasSelection = useHasSelection();\n\n  // Fetch the root (aka general) folder if we're not in a specific folder\n  const { data: rootFolderDTO } = useGetFolderQuery(folderDTO ? skipToken : 'general');\n  const folder = folderDTO ?? rootFolderDTO;\n\n  const { canEditFolders, canEditDashboards, canCreateDashboards, canCreateFolders } = getFolderPermissions(folder);\n  const hasAdminRights = contextSrv.hasRole('Admin') || contextSrv.isGrafanaAdmin;\n  const isProvisionedFolder = folder?.managedBy === ManagerKind.Repo;\n  const showEditTitle = canEditFolders && folderUID && !isProvisionedFolder;\n  const canSelect = (canEditFolders || canEditDashboards) && !isProvisionedFolder;\n  const onEditTitle = async (newValue: string) => {\n    if (folderDTO) {\n      const result = await saveFolder({\n        ...folderDTO,\n        title: newValue,\n      });\n      if ('error' in result) {\n        reportInteraction('grafana_browse_dashboards_page_edit_folder_name', {\n          status: 'failed_with_error',\n        });\n        throw result.error;\n      } else {\n        reportInteraction('grafana_browse_dashboards_page_edit_folder_name', { status: 'success' });\n      }\n    } else {\n      reportInteraction('grafana_browse_dashboards_page_edit_folder_name', { status: 'failed_no_folderDTO' });\n    }\n  };\n\n  const handleButtonClickToRecentlyDeleted = () => {\n    reportInteraction('grafana_browse_dashboards_page_button_to_recently_deleted', {\n      origin: window.location.pathname === getConfig().appSubUrl + '/dashboards' ? 'Dashboards' : 'Folder view',\n    });\n  };\n\n  const renderTitle = (title: string) => {\n    return (\n      <Stack alignItems={'center'} gap={2}>\n        <Text element={'h1'}>{title}</Text> <FolderRepo folder={folder} />\n      </Stack>\n    );\n  };\n\n  return (\n    <Page\n      navId=\"dashboards/browse\"\n      pageNav={navModel}\n      onEditTitle={showEditTitle ? onEditTitle : undefined}\n      renderTitle={renderTitle}\n      actions={\n        <>\n          {false &&\n            hasAdminRights && ( // TODO: change this to a feature flag when dashboard restore is reworked\n              <LinkButton\n                variant=\"secondary\"\n                href={getConfig().appSubUrl + '/dashboard/recently-deleted'}\n                onClick={handleButtonClickToRecentlyDeleted}\n              >\n                <Trans i18nKey=\"browse-dashboards.actions.button-to-recently-deleted\">Recently deleted</Trans>\n              </LinkButton>\n            )}\n          {folderDTO && <FolderActionsButton folder={folderDTO} />}\n          {(canCreateDashboards || canCreateFolders) && (\n            <CreateNewButton\n              parentFolder={folderDTO}\n              canCreateDashboard={canCreateDashboards}\n              canCreateFolder={canCreateFolders}\n            />\n          )}\n        </>\n      }\n    >\n      <Page.Contents className={styles.pageContents}>\n        <div>\n          <FilterInput\n            placeholder={getSearchPlaceholder(searchState.includePanels)}\n            value={searchState.query}\n            escapeRegex={false}\n            onChange={(e) => stateManager.onQueryChange(e)}\n          />\n        </div>\n\n        {hasSelection ? (\n          <BrowseActions />\n        ) : (\n          <div className={styles.filters}>\n            <BrowseFilters />\n          </div>\n        )}\n\n        <div className={styles.subView}>\n          <AutoSizer>\n            {({ width, height }) =>\n              isSearching ? (\n                <SearchView\n                  canSelect={canSelect}\n                  width={width}\n                  height={height}\n                  searchState={searchState}\n                  searchStateManager={stateManager}\n                />\n              ) : (\n                <BrowseView canSelect={canSelect} width={width} height={height} folderUID={folderUID} />\n              )\n            }\n          </AutoSizer>\n        </div>\n      </Page.Contents>\n    </Page>\n  );\n});\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  pageContents: css({\n    display: 'flex',\n    flexDirection: 'column',\n    gap: theme.spacing(1),\n    height: '100%',\n  }),\n\n  // AutoSizer needs an element to measure the full height available\n  subView: css({\n    height: '100%',\n  }),\n\n  filters: css({\n    display: 'none',\n\n    [theme.breakpoints.up('md')]: {\n      display: 'block',\n    },\n  }),\n});\n\nBrowseDashboardsPage.displayName = 'BrowseDashboardsPage';\nexport default BrowseDashboardsPage;\n","import { useState } from 'react';\n\nimport { reportInteraction } from '@grafana/runtime';\nimport { Alert, ConfirmModal, Text, Space } from '@grafana/ui';\nimport { Trans, t } from 'app/core/internationalization';\n\nimport { useGetAffectedItemsQuery } from '../../api/browseDashboardsAPI';\nimport { DashboardTreeSelection } from '../../types';\n\nimport { DescendantCount } from './DescendantCount';\n\nexport interface Props {\n  isOpen: boolean;\n  onConfirm: () => Promise<void>;\n  onDismiss: () => void;\n  selectedItems: DashboardTreeSelection;\n}\n\nexport const DeleteModal = ({ onConfirm, onDismiss, selectedItems, ...props }: Props) => {\n  const { data } = useGetAffectedItemsQuery(selectedItems);\n  const deleteIsInvalid = Boolean(data && (data.alertRule || data.libraryPanel));\n  const [isDeleting, setIsDeleting] = useState(false);\n  const onDelete = async () => {\n    reportInteraction('grafana_manage_dashboards_delete_clicked', {\n      item_counts: {\n        dashboard: Object.keys(selectedItems.dashboard).length,\n        folder: Object.keys(selectedItems.folder).length,\n      },\n      source: 'browse_dashboards',\n      restore_enabled: false,\n    });\n    setIsDeleting(true);\n    try {\n      await onConfirm();\n      setIsDeleting(false);\n      onDismiss();\n    } catch {\n      setIsDeleting(false);\n    }\n  };\n\n  return (\n    <ConfirmModal\n      body={\n        <>\n          {false && ( // TODO: change this to a feature flag when dashboard restore is reworked\n            <>\n              <Text element=\"p\">\n                <Trans i18nKey=\"browse-dashboards.action.delete-modal-restore-dashboards-text\">\n                  This action will delete the selected folders immediately but the selected dashboards will be marked\n                  for deletion in 30 days. Your organization administrator can restore the dashboards anytime before the\n                  30 days expire. Folders cannot be restored.\n                </Trans>\n              </Text>\n              <Space v={2} />\n            </>\n          )}\n          <Text element=\"p\">\n            <Trans i18nKey=\"browse-dashboards.action.delete-modal-text\">\n              This action will delete the following content:\n            </Trans>\n          </Text>\n          <DescendantCount selectedItems={selectedItems} />\n          <Space v={2} />\n        </>\n      }\n      description={\n        <>\n          {deleteIsInvalid ? (\n            <Alert\n              severity=\"warning\"\n              title={t('browse-dashboards.action.delete-modal-invalid-title', 'Cannot delete folder')}\n            >\n              <Trans i18nKey=\"browse-dashboards.action.delete-modal-invalid-text\">\n                One or more folders contain library panels or alert rules. Delete these first in order to proceed.\n              </Trans>\n            </Alert>\n          ) : null}\n        </>\n      }\n      confirmationText={t('browse-dashboards.action.confirmation-text', 'Delete')}\n      confirmText={\n        isDeleting\n          ? t('browse-dashboards.action.deleting', 'Deleting...')\n          : t('browse-dashboards.action.delete-button', 'Delete')\n      }\n      onDismiss={onDismiss}\n      onConfirm={onDelete}\n      title={t('browse-dashboards.action.delete-modal-title', 'Delete')}\n      {...props}\n      disabled={deleteIsInvalid}\n    />\n  );\n};\n","import { useState } from 'react';\n\nimport { Alert, Button, Field, Modal, Text, Space } from '@grafana/ui';\nimport { FolderPicker } from 'app/core/components/Select/FolderPicker';\nimport { t, Trans } from 'app/core/internationalization';\n\nimport { DashboardTreeSelection } from '../../types';\n\nimport { DescendantCount } from './DescendantCount';\n\nexport interface Props {\n  isOpen: boolean;\n  onConfirm: (targetFolderUid: string) => Promise<void>;\n  onDismiss: () => void;\n  selectedItems: DashboardTreeSelection;\n}\n\nexport const MoveModal = ({ onConfirm, onDismiss, selectedItems, ...props }: Props) => {\n  const [moveTarget, setMoveTarget] = useState<string>();\n  const [isMoving, setIsMoving] = useState(false);\n  const selectedFolders = Object.keys(selectedItems.folder).filter((uid) => selectedItems.folder[uid]);\n\n  const onMove = async () => {\n    if (moveTarget !== undefined) {\n      setIsMoving(true);\n      try {\n        await onConfirm(moveTarget);\n        setIsMoving(false);\n        onDismiss();\n      } catch {\n        setIsMoving(false);\n      }\n    }\n  };\n\n  return (\n    <Modal title={t('browse-dashboards.action.move-modal-title', 'Move')} onDismiss={onDismiss} {...props}>\n      {selectedFolders.length > 0 && (\n        <Alert\n          severity=\"info\"\n          title={t('browse-dashboards.action.move-modal-alert', 'Moving this item may change its permissions.')}\n        />\n      )}\n\n      <Text element=\"p\">\n        <Trans i18nKey=\"browse-dashboards.action.move-modal-text\">This action will move the following content:</Trans>\n      </Text>\n\n      <DescendantCount selectedItems={selectedItems} />\n\n      <Space v={3} />\n\n      <Field label={t('browse-dashboards.action.move-modal-field-label', 'Folder name')}>\n        <FolderPicker value={moveTarget} excludeUIDs={selectedFolders} onChange={setMoveTarget} />\n      </Field>\n\n      <Modal.ButtonRow>\n        <Button onClick={onDismiss} variant=\"secondary\" fill=\"outline\">\n          <Trans i18nKey=\"browse-dashboards.action.cancel-button\">Cancel</Trans>\n        </Button>\n        <Button disabled={moveTarget === undefined || isMoving} onClick={onMove} variant=\"primary\">\n          {isMoving\n            ? t('browse-dashboards.action.moving', 'Moving...')\n            : t('browse-dashboards.action.move-button', 'Move')}\n        </Button>\n      </Modal.ButtonRow>\n    </Modal>\n  );\n};\n","import { useState } from 'react';\n\nimport { config, locationService, reportInteraction } from '@grafana/runtime';\nimport { Button, Drawer, Dropdown, Icon, Menu, MenuItem } from '@grafana/ui';\nimport { Permissions } from 'app/core/components/AccessControl';\nimport { appEvents } from 'app/core/core';\nimport { t, Trans } from 'app/core/internationalization';\nimport { ProvisionedResourceDeleteModal } from 'app/features/dashboard-scene/saving/provisioned/ProvisionedResourceDeleteModal';\nimport { FolderDTO } from 'app/types';\nimport { ShowModalReactEvent } from 'app/types/events';\n\nimport { ManagerKind } from '../../apiserver/types';\nimport { useDeleteFolderMutation, useMoveFolderMutation } from '../api/browseDashboardsAPI';\nimport { getFolderPermissions } from '../permissions';\n\nimport { DeleteModal } from './BrowseActions/DeleteModal';\nimport { MoveModal } from './BrowseActions/MoveModal';\n\ninterface Props {\n  folder: FolderDTO;\n}\n\nexport function FolderActionsButton({ folder }: Props) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [showPermissionsDrawer, setShowPermissionsDrawer] = useState(false);\n  const [moveFolder] = useMoveFolderMutation();\n  const [deleteFolder] = useDeleteFolderMutation();\n  const { canEditFolders, canDeleteFolders, canViewPermissions, canSetPermissions } = getFolderPermissions(folder);\n  const isProvisionedFolder = folder.managedBy === ManagerKind.Repo;\n  // Can only move folders when nestedFolders is enabled and the folder is not provisioned\n  const canMoveFolder = config.featureToggles.nestedFolders && canEditFolders && !isProvisionedFolder;\n\n  const onMove = async (destinationUID: string) => {\n    await moveFolder({ folder, destinationUID });\n    reportInteraction('grafana_manage_dashboards_item_moved', {\n      item_counts: {\n        folder: 1,\n        dashboard: 0,\n      },\n      source: 'folder_actions',\n    });\n  };\n\n  const onDelete = async () => {\n    await deleteFolder(folder);\n    reportInteraction('grafana_manage_dashboards_item_deleted', {\n      item_counts: {\n        folder: 1,\n        dashboard: 0,\n      },\n      source: 'folder_actions',\n    });\n    const { parents } = folder;\n    const parentUrl = parents && parents.length ? parents[parents.length - 1].url : '/dashboards';\n    locationService.push(parentUrl);\n  };\n\n  const showMoveModal = () => {\n    appEvents.publish(\n      new ShowModalReactEvent({\n        component: MoveModal,\n        props: {\n          selectedItems: {\n            folder: { [folder.uid]: true },\n            dashboard: {},\n            panel: {},\n            $all: false,\n          },\n          onConfirm: onMove,\n        },\n      })\n    );\n  };\n\n  const showDeleteModal = () => {\n    appEvents.publish(\n      new ShowModalReactEvent({\n        component: DeleteModal,\n        props: {\n          selectedItems: {\n            folder: { [folder.uid]: true },\n            dashboard: {},\n            panel: {},\n            $all: false,\n          },\n          onConfirm: onDelete,\n        },\n      })\n    );\n  };\n\n  const showDeleteProvisionedModal = () => {\n    appEvents.publish(\n      new ShowModalReactEvent({\n        component: ProvisionedResourceDeleteModal,\n        props: {\n          resource: folder,\n        },\n      })\n    );\n  };\n\n  const managePermissionsLabel = t('browse-dashboards.folder-actions-button.manage-permissions', 'Manage permissions');\n  const moveLabel = t('browse-dashboards.folder-actions-button.move', 'Move');\n  const deleteLabel = t('browse-dashboards.folder-actions-button.delete', 'Delete');\n\n  const menu = (\n    <Menu>\n      {canViewPermissions && <MenuItem onClick={() => setShowPermissionsDrawer(true)} label={managePermissionsLabel} />}\n      {canMoveFolder && <MenuItem onClick={showMoveModal} label={moveLabel} />}\n      {canDeleteFolders && (\n        <MenuItem\n          destructive\n          onClick={isProvisionedFolder ? showDeleteProvisionedModal : showDeleteModal}\n          label={deleteLabel}\n        />\n      )}\n    </Menu>\n  );\n\n  if (!canViewPermissions && !canMoveFolder && !canDeleteFolders) {\n    return null;\n  }\n\n  return (\n    <>\n      <Dropdown overlay={menu} onVisibleChange={setIsOpen}>\n        <Button variant=\"secondary\">\n          <Trans i18nKey=\"browse-dashboards.folder-actions-button.folder-actions\">Folder actions</Trans>\n          <Icon name={isOpen ? 'angle-up' : 'angle-down'} />\n        </Button>\n      </Dropdown>\n      {showPermissionsDrawer && (\n        <Drawer\n          title={t('browse-dashboards.action.manage-permissions-button', 'Manage permissions')}\n          subtitle={folder.title}\n          onClose={() => setShowPermissionsDrawer(false)}\n          size=\"md\"\n        >\n          <Permissions resource=\"folders\" resourceId={folder.uid} canSetPermissions={canSetPermissions} />\n        </Drawer>\n      )}\n    </>\n  );\n}\n","import { config } from '@grafana/runtime';\nimport { contextSrv } from 'app/core/core';\nimport { AccessControlAction, FolderDTO } from 'app/types';\n\nfunction checkFolderPermission(action: AccessControlAction, folderDTO?: FolderDTO) {\n  return folderDTO ? contextSrv.hasPermissionInMetadata(action, folderDTO) : contextSrv.hasPermission(action);\n}\n\nfunction checkCanCreateFolders(folderDTO?: FolderDTO) {\n  // Can only create a folder if we have permissions and either we're at root or nestedFolders is enabled\n  if (folderDTO && folderDTO.uid !== 'general' && !config.featureToggles.nestedFolders) {\n    return false;\n  }\n\n  return checkFolderPermission(AccessControlAction.FoldersCreate, folderDTO);\n}\n\nexport function getFolderPermissions(folderDTO?: FolderDTO) {\n  const canCreateDashboards = checkFolderPermission(AccessControlAction.DashboardsCreate, folderDTO);\n  const canCreateFolders = checkCanCreateFolders(folderDTO);\n  const canDeleteFolders = checkFolderPermission(AccessControlAction.FoldersDelete, folderDTO);\n  const canEditDashboards = checkFolderPermission(AccessControlAction.DashboardsWrite, folderDTO);\n  const canEditFolders = checkFolderPermission(AccessControlAction.FoldersWrite, folderDTO);\n  const canSetPermissions = checkFolderPermission(AccessControlAction.FoldersPermissionsWrite, folderDTO);\n  const canViewPermissions = checkFolderPermission(AccessControlAction.FoldersPermissionsRead, folderDTO);\n\n  return {\n    canCreateDashboards,\n    canCreateFolders,\n    canDeleteFolders,\n    canEditDashboards,\n    canEditFolders,\n    canSetPermissions,\n    canViewPermissions,\n  };\n}\n","import { textUtil } from '@grafana/data';\nimport { useUrlParams } from 'app/core/navigation/hooks';\n\nexport const usePullRequestParam = () => {\n  const [params] = useUrlParams();\n  const prParam = params.get('pull_request_url');\n\n  if (!prParam) {\n    return undefined;\n  }\n\n  return textUtil.sanitizeUrl(decodeURIComponent(prParam));\n};\n"],"names":["initialState","defaultQueryParams","getLocalStorageLayout","SearchStateManager","StateManagerBase","query","tagToRemove","tag","tags","newTag","datasource","panel_type","e","starred","sort","layout","includePanels","store","folderUid","doInitialSearch","stateFromUrl","prevSort","state","q","trackingInfo","searcher","searchTimestamp","result","error","stateManager","getSearchStateManager","useSearchStateManager","getSearchPlaceholder","getNewDashboardPhrase","getNewFolderPhrase","getImportPhrase","getNewPhrase","BrowseActions","dispatch","selectedItems","deleteItems","moveItems","moveIsInvalid","v","isSearching","onActionComplete","onDelete","trackAction","onMove","destinationUID","showMoveModal","MoveModal","showDeleteModal","DeleteModal","moveButton","Button","Stack","Tooltip","actionMap","action","selectedDashboards","uid","selectedFolders","getLayoutOptions","getValidQueryLayout","ActionRow","showStarredFilter","showLayout","sortPlaceholder","onLayoutChange","onSortChange","onStarredFilterChange","onTagFilterChange","getTagOptions","getSortOptions","onDatasourceChange","onPanelTypeChange","onSetIncludePanels","styles","getStyles","disabledOptions","TagFilter","Checkbox","RadioButtonGroup","SortPicker","change","theme","BrowseFilters","searchState","SelectionState","CheckboxCell","row","isSelected","onItemSelectionChange","item","CheckboxSpacer","selectors","ev","CheckboxHeaderCell","onAllSelectionChange","CHEVRON_SIZE","ICON_SIZE","NameCell","data","onFolderClick","treeID","level","isOpen","childrenByParentUID","isLoading","iconName","Indent","Text","IconButton","Spinner","Icon","Link","FolderRepo","TagsCell","TagList","HEADER_HEIGHT","ROW_HEIGHT","DIVIDER_HEIGHT","DashboardsTree","items","width","height","isItemLoaded","requestLoadMore","canSelect","infiniteLoaderRef","listRef","tableColumns","checkboxColumn","nameColumn","props","tagsColumns","table","getTableProps","getTableBodyProps","headerGroups","virtualData","handleIsItemLoaded","itemIndex","handleLoadMore","startIndex","endIndex","parentUID","getRowHeight","rowIndex","headerGroup","key","headerGroupProps","column","headerProps","onItemsRendered","ref","elem","VirtualListRow","index","style","rows","prepareRow","dashboardItem","rowProps","cell","cellProps","BrowseView","folderUID","status","flatTree","handleFolderClick","clickedFolderUID","handleItemSelectionChange","selection","hasSelectedDescendants","treeItem","EmptyState","TextLink","CallToActionCard","newState","collection","thisIsSelected","initialFormModel","NewFolderForm","onCancel","onConfirm","handleSubmit","register","errors","translatedFolderNameRequiredPhrase","validateFolderName","folderName","fieldNameLabel","form","Field","Input","initialFormValues","NewProvisionedFolderForm","onSubmit","parentFolder","repository","folder","useGetResourceRepositoryView","prURL","usePullRequestParam","navigate","create","request","isGitHub","watch","control","setValue","workflow","appEvents","url","Alert","doSave","title","comment","repoName","basePath","titleInFilenameFormat","path","folderModel","TextArea","field","BranchValidationError","CreateNewButton","canCreateDashboard","canCreateFolder","setIsOpen","location","newFolder","showNewFolderDrawer","setShowNewFolderDrawer","notifyApp","isProvisionedInstance","useIsProvisionedInstance","onCreateFolder","depth","newMenu","Menu","MenuItem","buildUrl","Dropdown","Drawer","baseUrl","NUM_PLACEHOLDER_ROWS","initialLoadingView","DataFrameView","SearchView","emptyStateProp","wholeState","hasSelection","keyboardEvents","value","selectionChecker","kind","assertDashboardViewItemKind","clearSelection","newIsSelected","emptyState","SearchResultsTable","BrowseDashboardsPage","search","folderDTO","saveFolder","navModel","model","dashboardsTabID","dashboardsTab","child","rootFolderDTO","canEditFolders","canEditDashboards","canCreateDashboards","canCreateFolders","hasAdminRights","isProvisionedFolder","showEditTitle","onEditTitle","newValue","handleButtonClickToRecentlyDeleted","renderTitle","Page","FolderActionsButton","FilterInput","onDismiss","deleteIsInvalid","isDeleting","setIsDeleting","moveTarget","setMoveTarget","isMoving","setIsMoving","showPermissionsDrawer","setShowPermissionsDrawer","moveFolder","deleteFolder","canDeleteFolders","canViewPermissions","canSetPermissions","canMoveFolder","parents","parentUrl","showDeleteProvisionedModal","managePermissionsLabel","moveLabel","deleteLabel","menu","checkFolderPermission","checkCanCreateFolders","getFolderPermissions","params","prParam"],"sourceRoot":""}