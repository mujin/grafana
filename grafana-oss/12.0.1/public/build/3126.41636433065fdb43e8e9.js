"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[3126],{13126:(Y,T,n)=>{n.d(T,{u:()=>B,A:()=>M});var a=n(74848),v=n(22803),F=n(96540),D=n(1906),h=n(85629),c=n(27489),g=n(43173),j=n(16780),i=n(37386),L=n(89640),p=n(43243),f=n(72636),z=n(59310),y=n(5857),S=n(991),O=n(45861),I=n(65240),K=n(95506),u=n(56840),A=n(29662);const P=[{name:"Afrikaans",code:"af"},{name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",code:"ar"},{name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629 (\u0627\u0644\u062C\u0632\u0627\u0626\u0631)",code:"ar-dz"},{name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629 (\u0627\u0644\u0643\u0648\u064A\u062A)",code:"ar-kw"},{name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629 (\u0644\u064A\u0628\u064A\u0627)",code:"ar-ly"},{name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629 (\u0627\u0644\u0645\u063A\u0631\u0628)",code:"ar-ma"},{name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629 (\u0641\u0644\u0633\u0637\u064A\u0646)",code:"ar-ps"},{name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629 (\u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629)",code:"ar-sa"},{name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629 (\u062A\u0648\u0646\u0633)",code:"ar-tn"},{name:"Az\u0259rbaycanca",code:"az"},{name:"\u0411\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F",code:"be"},{name:"\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A",code:"bg"},{name:"Bamanankan",code:"bm"},{name:"Bengali",code:"bn"},{name:"Bengali (Bangladesh)",code:"bn-bd"},{name:"Tibetan",code:"bo"},{name:"Brezhoneg",code:"br"},{name:"\u0411\u043E\u0441\u0430\u043D\u0441\u043A\u0438",code:"bs"},{name:"Catal\xE1n",code:"ca"},{name:"\u010Ce\u0161tina",code:"cs"},{name:"Cymraeg",code:"cy"},{name:"\u0427\u04D1\u0432\u0430\u0448\u043B\u0430",code:"cv"},{name:"Dansk",code:"da"},{name:"Deutsch",code:"de"},{name:"Deutsch (\xD6sterreich)",code:"de-at"},{name:"Deutsch (Schweiz)",code:"de-ch"},{name:"\u078B\u07A8\u0788\u07AC\u0780\u07A8",code:"dv"},{name:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",code:"el"},{name:"English (Australia)",code:"en-au"},{name:"English (Canada)",code:"en-ca"},{name:"English (United Kingdom)",code:"en-gb"},{name:"English (Ireland)",code:"en-ie"},{name:"English (Israel)",code:"en-il"},{name:"English (India)",code:"en-in"},{name:"English (New Zealand)",code:"en-nz"},{name:"English (Singapore)",code:"en-sg"},{name:"English (United States)",code:"en"},{name:"Esperanto",code:"eo"},{name:"Espa\xF1ol",code:"es"},{name:"Espa\xF1ol (Rep\xFAblica Dominicana)",code:"es-do"},{name:"Espa\xF1ol (M\xE9xico)",code:"es-mx"},{name:"Espa\xF1ol (Estados Unidos)",code:"es-us"},{name:"Eesti keel",code:"et"},{name:"Euskara",code:"eu"},{name:"\u0641\u0627\u0631\u0633\u06CC",code:"fa"},{name:"Filipino",code:"fil"},{name:"Suomi",code:"fi"},{name:"F\xF8royskt",code:"fo"},{name:"Fran\xE7ais",code:"fr"},{name:"Fran\xE7ais (Canada)",code:"fr-ca"},{name:"Fran\xE7ais (Suisse)",code:"fr-ch"},{name:"Frisian",code:"fy"},{name:"Gaeilge",code:"ga"},{name:"G\xE0idhlig",code:"gd"},{name:"Galego",code:"gl"},{name:"Konkani Devanagari",code:"gom-deva"},{name:"Konkani Latin",code:"gom-latn"},{name:"\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0",code:"gu"},{name:"\u05E2\u05D1\u05E8\u05D9\u05EA",code:"he"},{name:"\u0939\u093F\u0928\u094D\u0926\u0940",code:"hi"},{name:"Hrvatski",code:"hr"},{name:"Magyar",code:"hu"},{name:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",code:"hy-am"},{name:"Bahasa Indonesia",code:"id"},{name:"\xCDslenska",code:"is"},{name:"Italiano",code:"it"},{name:"Italiano (Switzerland)",code:"it-ch"},{name:"\u65E5\u672C\u8A9E",code:"ja"},{name:"\uA9A7\uA9B1\uA997\uA9AE",code:"jv"},{name:"\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8",code:"ka"},{name:"\u049A\u0430\u0437\u0430\u049B T\u0456\u043B\u0456",code:"kk"},{name:"Cambodian",code:"km"},{name:"\u0C95\u0CA8\u0CCD\u0CA8\u0CA1",code:"kn"},{name:"\uD55C\uAD6D\uC5B4",code:"ko"},{name:"Kurdish",code:"ku"},{name:"Northern Kurdish",code:"ku"},{name:"\u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438",code:"ky"},{name:"L\xEBtzebuergesch",code:"lb"},{name:"\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7",code:"lo"},{name:"Lietuvi\u0173",code:"lt"},{name:"latvie\u0161u",code:"lv"},{name:"M\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438",code:"mk"},{name:"\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02",code:"ml"},{name:"te Reo M\u0101ori",code:"mi"},{name:"crnogorski",code:"me"},{name:"\u092E\u0930\u093E\u0920\u0940",code:"mr"},{name:"Bahasa Melayu",code:"ms"},{name:"Malti",code:"mt"},{name:"\u041C\u043E\u043D\u0433\u043E\u043B \u0425\u044D\u043B",code:"mn"},{name:"Burmese",code:"my"},{name:"Norwegian Bokm\xE5l",code:"nb"},{name:"\u0928\u0947\u092A\u093E\u0932\u0940",code:"ne"},{name:"Nederlands",code:"nl"},{name:"Nederlands (Belgi\xEB)",code:"nl-be"},{name:"Ninorks",code:"nn"},{name:"Occitan (Lengadocian)",code:"oc-lnc"},{name:"\u092A\u0902\u091C\u093E\u092C\u0940 (\u0A2D\u0A3E\u0A30\u0A24)",code:"pa-in"},{name:"Polski",code:"pl"},{name:"Portugu\xEAs",code:"pt"},{name:"Portugu\xEAs (Brasil)",code:"pt-br"},{name:"Rom\xE2n\u0103",code:"ro"},{name:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",code:"ru"},{name:"Nothern Sami",code:"se"},{name:"\u0633\u0646\u068C\u064A",code:"sd"},{name:"\u0DC3\u0DD2\u0D82\u0DC4\u0DBD",code:"si"},{name:"Sloven\u010Dina",code:"sk"},{name:"Sloven\u0161\u010Dina",code:"sl"},{name:"Shqip",code:"sq"},{name:"\u0421\u0440\u043F\u0441\u043A\u0438",code:"sr"},{name:"Serbian Cyrillic",code:"sr-cyrl"},{name:"siSwati",code:"ss"},{name:"Kiswahili",code:"sw"},{name:"Svenska",code:"sv"},{name:"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD",code:"ta"},{name:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",code:"te"},{name:"Lia-Tetun",code:"tet"},{name:"\u0422\u043E\u04B7\u0438\u043A\u04E3",code:"tg"},{name:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22",code:"th"},{name:"T\xFCrkmen\xE7e",code:"tk"},{name:"Tagalog (Philippines)",code:"tl-ph"},{name:"tlhIngan Hol",code:"tlh"},{name:"T\xFCrk\xE7e",code:"tr"},{name:"Talossan",code:"tzl"},{name:"\u0623\u0645\u0627\u0632\u064A\u063A\u064A\u0629 \u0623\u0637\u0644\u0633 \u0627\u0644\u0623\u0648\u0633\u0637",code:"tzm"},{name:"Central Atlas Tamazight Latin",code:"tzm-latn"},{name:"\u0626\u06C7\u064A\u063A\u06C7\u0631 \u062A\u0649\u0644\u0649",code:"ug-cn"},{name:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",code:"uk"},{name:"\u0627\u064F\u0631\u062F\u064F\u0648",code:"ur"},{name:"\u040E\u0437\u0431\u0435\u043A",code:"uz"},{name:"Uzbek (Latin)",code:"uz-latn"},{name:"ti\u1EBFng Vi\u1EC7t",code:"vi"},{name:"Chinese (China)",code:"zh-cn"},{name:"Chinese (Hong Kong)",code:"zh-hk"},{name:"Chinese (Macau)",code:"zh-mo"},{name:"Chinese (Taiwan)",code:"zh-tw"},{name:"\xC8d\xE8 Yor\xF9b\xE1",code:"yo-ng"}];var U=n(69738),w=n(44410),N=n(61074);function R(){const d=A.Yj.map(s=>({value:s.code,label:s.name})).sort((s,e)=>s.value===A.wi?1:e.value===A.wi?-1:s.label.localeCompare(e.label));return[{value:"",label:(0,u.t)("common.locale.default","Default")},...d]}function H(){const d=P.map(s=>({value:s.code,label:s.name})).sort((s,e)=>s.label.localeCompare(e.label));return[{value:"",label:(0,u.t)("common.locale.default","Default")},...d]}class B extends F.PureComponent{constructor(o){super(o),this.onSubmitForm=async e=>{if(e.preventDefault(),this.props.onConfirm?await this.props.onConfirm():!0){const{homeDashboardUID:x,theme:t,timezone:C,weekStart:E,language:m,locale:l,queryHistory:b,navbar:r}=this.state;(0,c.rR)("grafana_preferences_save_button_clicked",{preferenceType:this.props.preferenceType,theme:t,language:m}),this.setState({isSubmitting:!0}),await this.service.update({homeDashboardUID:x,theme:t,timezone:C,weekStart:E,language:m,locale:l,queryHistory:b,navbar:r}).finally(()=>{this.setState({isSubmitting:!1})}),window.location.reload()}},this.onThemeChanged=e=>{this.setState({theme:e.value}),(0,c.rR)("grafana_preferences_theme_changed",{toTheme:e.value,preferenceType:this.props.preferenceType}),e.value&&(0,w.K)(e.value,!0)},this.onTimeZoneChanged=e=>{typeof e=="string"&&this.setState({timezone:e})},this.onWeekStartChanged=e=>{this.setState({weekStart:e??""})},this.onHomeDashboardChanged=e=>{this.setState({homeDashboardUID:e})},this.onLanguageChanged=e=>{this.setState({language:e}),(0,c.rR)("grafana_preferences_language_changed",{toLanguage:e,preferenceType:this.props.preferenceType})},this.onLocaleChanged=e=>{this.setState({locale:e}),(0,c.rR)("grafana_preferences_locale_changed",{toLocale:e,preferenceType:this.props.preferenceType})},this.service=new U.W(o.resourceUri),this.state={isLoading:!1,isSubmitting:!1,theme:"",timezone:"",weekStart:"",language:"",locale:"",queryHistory:{homeTab:""},navbar:{bookmarkUrls:[]}};const s=(0,N.F)();this.themeOptions=s.map(e=>({value:e.id,label:G(e),group:e.isExtra?(0,u.t)("shared-preferences.theme.experimental","Experimental"):void 0})),this.languageOptions=R(),this.localeOptions=H(),this.themeOptions.unshift({value:"",label:(0,u.t)("shared-preferences.theme.default-label","Default")})}async componentDidMount(){this.setState({isLoading:!0});const o=await this.service.load();this.setState({isLoading:!1,homeDashboardUID:o.homeDashboardUID,theme:o.theme,timezone:o.timezone,weekStart:o.weekStart,language:o.language,locale:o.locale,queryHistory:o.queryHistory,navbar:o.navbar})}render(){const{theme:o,timezone:s,weekStart:e,homeDashboardUID:k,language:x,isLoading:t,isSubmitting:C,locale:E}=this.state,{disabled:m}=this.props,l=W(),b=this.themeOptions.find(r=>r.value===o)??this.themeOptions[0];return(0,a.jsxs)("form",{onSubmit:this.onSubmitForm,className:l.form,children:[(0,a.jsxs)(j.n,{label:(0,a.jsx)(u.x6,{i18nKey:"shared-preferences.title",children:"Preferences"}),disabled:m,children:[(0,a.jsx)(i.D,{loading:t,disabled:t,label:(0,u.t)("shared-preferences.fields.theme-label","Interface theme"),description:g.$.featureToggles.grafanaconThemes&&g.$.feedbackLinksEnabled?(0,a.jsxs)(u.x6,{i18nKey:"shared-preferences.fields.theme-description",children:["Enjoying the experimental themes? Tell us what you'd like to see"," ",(0,a.jsx)(L.Y,{variant:"bodySmall",external:!0,href:"https://docs.google.com/forms/d/e/1FAIpQLSeRKAY8nUMEVIKSYJ99uOO-dimF6Y69_If1Q1jTLOZRWqK1cw/viewform?usp=dialog",children:"here."})]}):void 0,children:(0,a.jsx)(p.G,{options:this.themeOptions,value:b.value,onChange:this.onThemeChanged,id:"shared-preferences-theme-select"})}),(0,a.jsx)(i.D,{loading:t,disabled:t,label:(0,a.jsx)(f.J,{htmlFor:"home-dashboard-select",children:(0,a.jsx)("span",{className:l.labelText,children:(0,a.jsx)(u.x6,{i18nKey:"shared-preferences.fields.home-dashboard-label",children:"Home Dashboard"})})}),"data-testid":"User preferences home dashboard drop down",children:(0,a.jsx)(K.b,{value:k,onChange:r=>this.onHomeDashboardChanged(r?.uid??""),defaultOptions:!0,isClearable:!0,placeholder:(0,u.t)("shared-preferences.fields.home-dashboard-placeholder","Default dashboard"),inputId:"home-dashboard-select"})}),(0,a.jsx)(i.D,{loading:t,disabled:t,label:(0,u.t)("shared-dashboard.fields.timezone-label","Timezone"),"data-testid":h.Tp.components.TimeZonePicker.containerV2,children:(0,a.jsx)(z.U,{includeInternal:!0,value:s,onChange:this.onTimeZoneChanged,inputId:"shared-preferences-timezone-picker"})}),(0,a.jsx)(i.D,{loading:t,disabled:t,label:(0,u.t)("shared-preferences.fields.week-start-label","Week start"),"data-testid":h.Tp.components.WeekStartPicker.containerV2,children:(0,a.jsx)(y.l6,{value:e&&(0,y.rE)(e)?e:void 0,onChange:this.onWeekStartChanged,inputId:"shared-preferences-week-start-picker"})}),(0,a.jsx)(i.D,{loading:t,disabled:t,label:(0,a.jsxs)(f.J,{htmlFor:"language-preference-select",children:[(0,a.jsx)("span",{className:l.labelText,children:(0,a.jsx)(u.x6,{i18nKey:"shared-preferences.fields.language-preference-label",children:"Language"})}),(0,a.jsx)(S.y,{featureState:D.Ay.preview})]}),"data-testid":"User preferences language drop down",children:(0,a.jsx)(p.G,{value:this.languageOptions.find(r=>r.value===x)?.value||"",onChange:r=>this.onLanguageChanged(r?.value??""),options:this.languageOptions,placeholder:(0,u.t)("shared-preferences.fields.language-preference-placeholder","Choose language"),id:"language-preference-select"})}),g.$.featureToggles.localeFormatPreference&&(0,a.jsx)(i.D,{loading:t,disabled:t,label:(0,a.jsxs)(f.J,{htmlFor:"locale-preference",children:[(0,a.jsx)("span",{className:l.labelText,children:(0,a.jsx)(u.x6,{i18nKey:"shared-preferences.fields.locale-preference-label",children:"Region format"})}),(0,a.jsx)(S.y,{featureState:D.Ay.experimental})]}),description:(0,u.t)("shared-preferences.fields.locale-preference-description","Choose your region to see the corresponding date, time, and number format"),"data-testid":"User preferences locale drop down",children:(0,a.jsx)(p.G,{value:this.localeOptions.find(r=>r.value===E)?.value||"",onChange:r=>this.onLocaleChanged(r?.value??""),options:this.localeOptions,placeholder:(0,u.t)("shared-preferences.fields.locale-preference-placeholder","Choose region"),id:"locale-preference-select"})})]}),(0,a.jsx)(O.$n,{disabled:C,type:"submit",variant:"primary","data-testid":h.Tp.components.UserProfile.preferencesSaveButton,children:(0,a.jsx)(u.x6,{i18nKey:"common.save",children:"Save"})})]})}}const M=B,W=(0,I.N)(()=>({labelText:(0,v.css)({marginRight:"6px"}),form:(0,v.css)({width:"100%",maxWidth:"600px"})}));function G(d){switch(d.id){case"dark":return(0,u.t)("shared.preferences.theme.dark-label","Dark");case"light":return(0,u.t)("shared.preferences.theme.light-label","Light");case"system":return(0,u.t)("shared.preferences.theme.system-label","System preference");default:return d.name}}}}]);

//# sourceMappingURL=3126.41636433065fdb43e8e9.js.map