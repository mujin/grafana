"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[2212],{19192:(B,E,s)=>{s.d(E,{A:()=>l});var e=s(74848),T=s(22803),u=s(85629),A=s(30703),x=s(34999),y=s(45861),v=s(43951),c=s(56840);const h=(0,T.css)({textAlign:"center"}),r=(0,T.css)({maxWidth:"700px",margin:"0 auto"}),l=({title:o,buttonIcon:D,buttonLink:P,buttonTitle:R,buttonDisabled:b,onClick:G,proTip:L,proTipLink:W,proTipLinkTitle:U,proTipTarget:$,infoBox:a,infoBoxTitle:n})=>{const p=()=>(0,e.jsxs)(e.Fragment,{children:[L?(0,e.jsxs)("span",{children:[(0,e.jsx)(A.I,{name:"rocket"}),(0,e.jsxs)(c.x6,{i18nKey:"empty-list-cta.pro-tip",children:["ProTip: ",{proTip:L}]}),W&&(0,e.jsx)("a",{href:W,target:$,className:"text-link",children:U})]},"proTipFooter"):"",a?(0,e.jsx)(x.F,{severity:"info",title:n??"",className:r,children:(0,e.jsx)("div",{dangerouslySetInnerHTML:a})}):""]}),C=p()?"":(0,T.css)({marginBottom:"20px"}),K=P?y.z9:y.$n,_=(0,e.jsx)(K,{size:"lg",onClick:G,href:P,icon:D,className:C,"data-testid":u.Tp.components.CallToActionCard.buttonV2(R),disabled:b,children:R});return(0,e.jsx)(v.c,{className:h,message:o,footer:p(),callToActionElement:_})}},99929:(B,E,s)=>{s.d(E,{Y:()=>c});var e=s(74848),T=s(96540),u=s(41053),A=s(73427),x=s(96673),y=s(59812),v=s(12037);const c=({teamId:h,roleOptions:r,disabled:m,roles:l,onApplyRoles:o,pendingRoles:D,apply:P=!1,maxWidth:R,width:b,isLoading:G})=>{const[{loading:L,value:W=l||[]},U]=(0,u.A)(async()=>{try{if(l)return l;if(P&&D?.length)return D;if(A.TP.hasPermission(x.AccessControlAction.ActionTeamsRolesList)&&h>0)return await(0,v.xN)(h)}catch(n){console.error("Error loading options",n)}return[]},[h,D,l]);(0,T.useEffect)(()=>{U()},[U]);const $=async n=>{P?o&&o(n):(await(0,v.G3)(n,h),await U())},a=A.TP.hasPermission(x.AccessControlAction.ActionTeamsRolesAdd)&&A.TP.hasPermission(x.AccessControlAction.ActionTeamsRolesRemove);return(0,e.jsx)(y.n,{apply:P,onRolesChange:$,roleOptions:r,appliedRoles:W,isLoading:L||G,disabled:m,basicRoleDisabled:!0,canUpdateRoles:a,maxWidth:R,width:b})}},99686:(B,E,s)=>{s.d(E,{o:()=>c});var e=s(2543),T=s.n(e),u=s(96540),A=s(24705),x=s(73427),y=s(96673),v=s(12037);const c=r=>{const[m,l]=(0,u.useState)(r),{value:o=[]}=(0,A.A)(async()=>x.TP.licensedAccessControlEnabled()&&x.TP.hasPermission(y.AccessControlAction.ActionRolesList)?(0,v.RL)(m):Promise.resolve([]),[m]);return[{roleOptions:o},l]},h=r=>{const[m,l]=useState({});return useDeepCompareEffect(()=>{if(!contextSrv.licensedAccessControlEnabled()||!contextSrv.hasPermission(AccessControlAction.ActionRolesList))return;const o=Object.keys(m).map(P=>typeof P=="number"?P:parseInt(P,10)),D=difference(r,o);Promise.all(D.map(P=>fetchRoleOptions(P).then(R=>[P,R]))).then(P=>{l({...m,...Object.fromEntries(P)})})},[r]),m}},25096:(B,E,s)=>{s.d(E,{J:()=>y});var e=s(74848),T=s(22803),u=s(96540),A=s(27489),x=s(63142);const y=({text:c="PRO",className:h,experimentId:r,eventVariant:m="",...l})=>{const o=(0,x.of)(v);return(0,u.useEffect)(()=>{r&&(0,A.Xp)(r,"test",m)},[r,m]),(0,e.jsx)("span",{className:(0,T.cx)(o.badge,h),...l,children:c})},v=c=>({badge:(0,T.css)({marginLeft:c.spacing(1.25),borderRadius:c.shape.borderRadius(5),backgroundColor:c.colors.success.main,padding:c.spacing(.25,.75),color:"white",fontWeight:c.typography.fontWeightMedium,fontSize:c.typography.pxToRem(10)})})},42939:(B,E,s)=>{s.d(E,{pL:()=>T,z5:()=>A});var e=s(43173);const T=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function u(){const x=e.$.licenseInfo?.trialExpiry;return!!(x&&x>0)}const A=()=>u()&&e.$.featureToggles.featureHighlights},76172:(B,E,s)=>{s.r(E),s.d(E,{default:()=>ye});var e=s(74848),T=s(25508),u=s(96540),A=s(54148),x=s(16817),y=s(62061),v=s(13791),c=s(22803),h=s(27489),r=s(63142),m=s(30703),l=s(45861),o=s(56840);const D=({featureName:t,className:i,children:d,text:g,featureId:f,eventVariant:O="",size:M="md",...j})=>{const I=(0,r.of)(P,M);return(0,u.useEffect)(()=>{(0,h.Xp)(`feature-highlights-${f}`,"test",O)},[O,f]),(0,e.jsxs)("div",{className:(0,c.cx)(I.box,i),...j,children:[(0,e.jsx)(m.I,{name:"rocket",className:I.icon}),(0,e.jsxs)("div",{className:I.inner,children:[(0,e.jsxs)("p",{className:I.text,children:[(0,e.jsx)(o.x6,{i18nKey:"upgrade-box.discovery-text",children:"You\u2019ve discovered a Pro feature!"})," ",g||(0,o.t)("upgrade-box.discovery-text-continued","Get the Grafana Pro plan to access {{featureName}}.",{featureName:t})]}),(0,e.jsx)(l.z9,{variant:"secondary",size:M,className:I.button,href:"https://grafana.com/profile/org/subscription",target:"__blank",rel:"noopener noreferrer",children:(0,e.jsx)(o.x6,{i18nKey:"upgrade-box.upgrade-button",children:"Upgrade"})})]})]})},P=(t,i)=>{const d=t.shape.borderRadius(2),g=i==="md"?"body":"bodySmall";return{box:(0,c.css)({display:"flex",alignItems:"center",position:"relative",borderRadius:d,background:t.colors.success.transparent,padding:t.spacing(2),color:t.colors.success.text,fontSize:t.typography[g].fontSize,textAlign:"left",lineHeight:"16px",margin:t.spacing(0,"auto",3,"auto"),maxWidth:`${t.breakpoints.values.xxl}px`,width:"100%"}),inner:(0,c.css)({display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"}),text:(0,c.css)({margin:0}),button:(0,c.css)({backgroundColor:t.colors.success.main,fontWeight:t.typography.fontWeightLight,color:"white","&:hover":{backgroundColor:t.colors.success.main},"&:focus-visible":{boxShadow:"none",color:t.colors.text.primary,outline:`2px solid ${t.colors.primary.main}`}}),icon:(0,c.css)({margin:t.spacing(.5,1,.5,.5)})}},R=({listItems:t,image:i,featureUrl:d,featureName:g,description:f,caption:O,action:M})=>{const j=(0,r.of)(b);return(0,e.jsxs)("div",{className:j.container,children:[(0,e.jsxs)("div",{className:j.content,children:[(0,e.jsx)("h3",{className:j.title,children:(0,e.jsxs)(o.x6,{i18nKey:"upgrade-box.get-started",children:["Get started with ",{featureName:g}]})}),f&&(0,e.jsx)("h6",{className:j.description,children:f}),(0,e.jsx)("ul",{className:j.list,children:t.map((I,Z)=>(0,e.jsxs)("li",{children:[(0,e.jsx)(m.I,{name:"check",size:"xl",className:j.icon})," ",I]},Z))}),M?.link&&(0,e.jsx)(l.z9,{variant:"primary",href:M.link,children:M.text}),M?.onClick&&(0,e.jsx)(l.$n,{variant:"primary",onClick:M.onClick,children:M.text}),d&&(0,e.jsx)(l.z9,{fill:"text",href:d,className:j.link,target:"_blank",rel:"noreferrer noopener",children:(0,e.jsx)(o.x6,{i18nKey:"upgrade-box.learn-more",children:"Learn more"})})]}),(0,e.jsxs)("div",{className:j.media,children:[(0,e.jsx)("img",{src:W(i),alt:"Feature screenshot"}),O&&(0,e.jsx)("p",{className:j.caption,children:O})]})]})},b=t=>({container:(0,c.css)({display:"flex",justifyContent:"space-between"}),content:(0,c.css)({width:"45%",marginRight:t.spacing(4)}),media:(0,c.css)({width:"55%",img:{width:"100%"}}),title:(0,c.css)({color:t.colors.text.maxContrast}),description:(0,c.css)({color:t.colors.text.primary,fontWeight:t.typography.fontWeightLight}),list:(0,c.css)({listStyle:"none",margin:t.spacing(4,0,2,0),li:{display:"flex",alignItems:"flex-start",color:t.colors.text.primary,padding:t.spacing(1,0)}}),icon:(0,c.css)({color:t.colors.success.main,marginRight:t.spacing(1)}),link:(0,c.css)({marginLeft:t.spacing(2)}),caption:(0,c.css)({fontWeight:t.typography.fontWeightLight,margin:t.spacing(1,0,0)})}),G=({featureName:t,description:i,featureUrl:d,image:g})=>{const f=useStyles2(L);return jsxs("div",{className:f.container,children:[jsx("h3",{className:f.title,children:jsxs(Trans,{i18nKey:"upgrade-box.get-started",children:["Get started with ",{featureName:t}]})}),i&&jsx("h6",{className:f.description,children:i}),jsx(LinkButton,{fill:"text",href:d,target:"_blank",rel:"noreferrer noopener",children:jsx(Trans,{i18nKey:"upgrade-box.learn-more",children:"Learn more"})}),jsx("div",{className:f.media,children:jsx("img",{src:W(g),alt:"Feature screenshot"})})]})},L=t=>({container:css({overflow:"auto",height:"100%"}),title:css({color:t.colors.text.maxContrast}),description:css({color:t.colors.text.primary,fontWeight:t.typography.fontWeightLight}),media:css({width:"100%",marginTop:t.spacing(2),img:{width:"100%"}})}),W=t=>t.startsWith("http")?t:"/public/img/enterprise/highlights/"+t;var U=s(65642),$=s(84057),a=s(15130),n=s(96673),p=s(71468),C=s(45967),K=s(97095),_=s(18027),z=s(63527),F=s(63722),H=s(15840),Y=s(19192),V=s(42939),S=s(77174);const ne=t=>t.groups,ae=(t,i)=>t.team.uid===i?t.team:null;function Q(t){return{groups:ne(t.team)}}const w={loadTeamGroups:S.aK,addTeamGroup:S.It,removeTeamGroup:S.nC},Me=(0,p.connect)(Q,w),k="Sync LDAP, OAuth or SAML groups with your Grafana teams.";class oe extends u.PureComponent{constructor(i){super(i),this.onToggleAdding=()=>{this.setState({isAdding:!this.state.isAdding})},this.onNewGroupIdChanged=d=>{this.setState({newGroupId:d.currentTarget.value})},this.onAddGroup=d=>{d.preventDefault(),this.props.addTeamGroup(this.state.newGroupId),this.setState({isAdding:!1,newGroupId:""})},this.onRemoveGroup=d=>{this.props.removeTeamGroup(d.groupId)},this.state={isAdding:!1,newGroupId:""}}componentDidMount(){this.fetchTeamGroups()}async fetchTeamGroups(){this.props.loadTeamGroups()}isNewGroupValid(){return this.state.newGroupId.length>1}renderGroup(i){const{isReadOnly:d}=this.props;return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:i.groupId}),(0,e.jsx)("td",{style:{width:"1%"},children:(0,e.jsx)(l.$n,{size:"sm",variant:"destructive",onClick:()=>this.onRemoveGroup(i),disabled:d,"aria-label":(0,o.t)("teams.team-group-sync.aria-label-remove","Remove group {{groupName}}",{groupName:i.groupId}),children:(0,e.jsx)(m.I,{name:"times"})})})]},i.groupId)}render(){const{isAdding:i,newGroupId:d}=this.state,{groups:g,isReadOnly:f}=this.props,O=re();return(0,e.jsxs)("div",{children:[(0,V.z5)()&&(0,e.jsx)(D,{featureId:"team-sync",eventVariant:"trial",featureName:"team sync",text:(0,o.t)("teams.team-group-sync.team-sync-upgrade","Add a group to enable team sync for free during your trial of Grafana Pro")}),(0,e.jsxs)("div",{className:"page-action-bar",children:[(!(0,V.z5)()||g.length>0)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h3",{className:"page-sub-heading",children:(0,e.jsx)(o.x6,{i18nKey:"teams.team-group-sync.external-group-sync",children:"External group sync"})}),(0,e.jsx)(C.m,{placement:"auto",content:k,children:(0,e.jsx)(m.I,{className:(0,c.cx)(O.icon,"page-sub-heading-icon"),name:"question-circle"})})]}),(0,e.jsx)("div",{className:"page-action-bar__spacer"}),g.length>0&&(0,e.jsx)(l.$n,{onClick:this.onToggleAdding,icon:"plus",disabled:f,children:(0,e.jsx)(o.x6,{i18nKey:"teams.team-group-sync.add-group-button",children:"Add group"})})]}),(0,e.jsx)(F.a,{in:i,children:(0,e.jsxs)("div",{className:"cta-form",children:[(0,e.jsx)(H.J,{onClick:this.onToggleAdding}),(0,e.jsx)("form",{onSubmit:this.onAddGroup,children:(0,e.jsxs)(K.C,{children:[(0,e.jsx)(_.I,{label:(0,o.t)("teams.team-group-sync.label-add-external-group","Add external group"),tooltip:(0,o.t)("teams.team-group-sync.tooltip-add-external-group","LDAP group example: {{example}}",{example:"cn=users,ou=groups,dc=grafana,dc=org"}),children:(0,e.jsx)(z.p,{type:"text",id:"add-external-group",placeholder:"",value:d,onChange:this.onNewGroupIdChanged,disabled:f})}),(0,e.jsx)(l.$n,{type:"submit",disabled:f||!this.isNewGroupValid(),style:{marginLeft:4},children:(0,e.jsx)(o.x6,{i18nKey:"teams.team-group-sync.add-group",children:"Add group"})})]})})]})}),g.length===0&&!i&&((0,V.z5)()?(0,e.jsx)(q,{action:{onClick:this.onToggleAdding,text:"Add group"}}):(0,e.jsx)(Y.A,{onClick:this.onToggleAdding,buttonIcon:"users-alt",title:(0,o.t)("teams.team-group-sync.title-there-external-groups","There are no external groups to sync with"),buttonTitle:"Add group",proTip:k,proTipLinkTitle:"Learn more",proTipLink:"https://grafana.com/docs/grafana/latest/setup-grafana/configure-security/configure-team-sync/",proTipTarget:"_blank",buttonDisabled:f})),g.length>0&&(0,e.jsx)("div",{className:"admin-list-table",children:(0,e.jsxs)("table",{className:"filter-table filter-table--hover form-inline",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:(0,e.jsx)(o.x6,{i18nKey:"teams.team-group-sync.external-group-id",children:"External Group ID"})}),(0,e.jsx)("th",{style:{width:"1%"}})]})}),(0,e.jsx)("tbody",{children:g.map(M=>this.renderGroup(M))})]})})]})}}const q=({action:t})=>{const i=(0,r.$j)();return(0,e.jsx)(R,{action:t,listItems:["Stop managing user access in two places - assign users to groups in SAML, LDAP or Oauth, and manage access at a Team level in Grafana","Update users' permissions immediately when you add or remove them from an LDAP group, with no need for them to sign out and back in"],image:`team-sync-${i.isLight?"light":"dark"}.png`,featureName:"team sync",featureUrl:"https://grafana.com/docs/grafana/latest/enterprise/team-sync",description:(0,o.t)("teams.team-sync-upgrade-content.description","Team Sync makes it easier for you to manage users' access in Grafana, by immediately updating each user's Grafana teams and permissions based on their single sign-on group membership, instead of when users sign in")})},ie=(0,p.connect)(Q,w)(oe),re=()=>({icon:(0,c.css)({opacity:.7,"&:hover":{opacity:1}})});var ce=s(54384);const le=t=>{let i=a.TP.hasPermissionInMetadata(n.AccessControlAction.ActionTeamsPermissionsWrite,t.team);return t.team.isProvisioned&&(i=!1),(0,e.jsx)(ce.x,{title:"",addPermissionTitle:"Add member",buttonLabel:"Add member",emptyLabel:"There are no members in this team or you do not have the permissions to list the current members.",resource:"teams",resourceId:t.team.id,canSetPermissions:i})};var de=s(49785),me=s(41654),ge=s(16780),J=s(37386),ue=s(99929),pe=s(99686),he=s(13126);const xe={updateTeam:S.n7},fe=(0,p.connect)(null,xe)(({team:t,updateTeam:i})=>{const d=a.TP.hasPermissionInMetadata(n.AccessControlAction.ActionTeamsWrite,t),g=a.TP.user.orgId,[{roleOptions:f}]=(0,pe.o)(g),{handleSubmit:O,register:M,formState:{errors:j}}=(0,de.mN)({defaultValues:t}),I=a.TP.hasPermission(n.AccessControlAction.ActionTeamsRolesAdd)&&a.TP.hasPermission(n.AccessControlAction.ActionTeamsRolesRemove),Z=a.TP.hasPermissionInMetadata(n.AccessControlAction.ActionTeamsRolesList,t)&&a.TP.hasPermission(n.AccessControlAction.ActionRolesList),N=async X=>{i(X.name,X.email||"")};return(0,e.jsxs)(me.B,{direction:"column",gap:3,children:[(0,e.jsx)("form",{onSubmit:O(N),style:{maxWidth:"600px"},children:(0,e.jsxs)(ge.n,{label:(0,o.t)("teams.team-settings.label-team-details","Team details"),children:[(0,e.jsx)(J.D,{label:(0,o.t)("teams.team-settings.label-numerical-identifier","Numerical identifier"),disabled:!0,children:(0,e.jsx)(z.p,{value:t.id,id:"id-input"})}),(0,e.jsx)(J.D,{label:(0,o.t)("teams.team-settings.label-name","Name"),disabled:!d||!!t.isProvisioned,required:!0,invalid:!!j.name,error:"Name is required",children:(0,e.jsx)(z.p,{...M("name",{required:!0}),id:"name-input"})}),a.TP.licensedAccessControlEnabled()&&Z&&(0,e.jsx)(J.D,{label:(0,o.t)("teams.team-settings.label-role","Role"),children:(0,e.jsx)(ue.Y,{teamId:t.id,roleOptions:f,disabled:!I,maxWidth:"100%"})}),(0,e.jsx)(J.D,{label:(0,o.t)("teams.team-settings.label-email","Email"),description:(0,o.t)("teams.team-settings.description-email","This is optional and is primarily used to set the team profile avatar (via gravatar service)"),disabled:!d,children:(0,e.jsx)(z.p,{...M("email"),placeholder:"team@email.com",type:"email",id:"email-input"})}),(0,e.jsx)(l.$n,{type:"submit",disabled:!d,children:(0,e.jsx)(o.x6,{i18nKey:"teams.team-settings.save",children:"Save"})})]})}),(0,e.jsx)(he.u,{resourceUri:`teams/${t.id}`,disabled:!d,preferenceType:"team"})]})});var Pe=s(66191),Te=(t=>(t.Members="members",t.Settings="settings",t.GroupSync="groupsync",t))(Te||{});const ee=["members","settings","groupsync"],Ae=(0,T.Mz)([t=>t.team,(t,i)=>i],(t,i)=>ae(t,i)),ve=(0,T.Mz)([t=>t.navIndex,(t,i)=>i,(t,i,d)=>d],(t,i,d)=>{const g=(0,Pe.X)(i);return(0,$.tc)(t,`team-${i}-${d}`,g).main}),se=(0,u.memo)(()=>{const t=(0,u.useRef)((0,y.a)("teamsync")),{uid:i="",page:d}=(0,A.g)(),g=(0,n.useSelector)(N=>Ae(N,i));let f="members";(!g||!a.TP.hasPermissionInMetadata(n.AccessControlAction.ActionTeamsPermissionsRead,g))&&(f="settings");const O=d??f,M=(0,n.useSelector)(N=>ve(N,O,i)),j=(0,n.useDispatch)(),{loading:I}=(0,x.A)(async()=>j((0,S.eo)(i)),[i]),Z=()=>{const N=ee.includes(O)?O:ee[0],X=a.TP.hasPermissionInMetadata(n.AccessControlAction.ActionTeamsRead,g),te=a.TP.hasPermissionInMetadata(n.AccessControlAction.ActionTeamsPermissionsRead,g),Ee=a.TP.hasPermissionInMetadata(n.AccessControlAction.ActionTeamsPermissionsWrite,g);switch(N){case"members":return te?(0,e.jsx)(le,{team:g}):null;case"settings":return X&&(0,e.jsx)(fe,{team:g});case"groupsync":if(t.current){if(te)return(0,e.jsx)(ie,{isReadOnly:!Ee})}else if(U.Ay.featureToggles.featureHighlights)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(D,{featureName:"team sync",featureId:"team-sync"}),(0,e.jsx)(q,{})]})}return null};return(0,e.jsx)(v.Y,{navId:"teams",pageNav:M,children:(0,e.jsx)(v.Y.Contents,{isLoading:I,children:g&&Object.keys(g).length!==0&&Z()})})});se.displayName="TeamPages";const ye=se},77174:(B,E,s)=>{s.d(E,{Bu:()=>r,It:()=>W,To:()=>o,Vk:()=>R,aK:()=>L,eo:()=>l,n7:()=>G,nC:()=>U,nM:()=>D,yd:()=>P});var e=s(2543),T=s.n(e),u=s(68143),A=s(6890),x=s(73427),y=s(81871),v=s(96673),c=s(66191),h=s(27104);function r(a=!1){return async(n,p)=>{const{query:C,page:K,perPage:_,sort:z}=p().teams;if(!x.TP.hasPermission(v.AccessControlAction.ActionTeamsRead)){n((0,h.Q9)({teams:[],totalCount:0,page:1,perPage:_,noTeams:!0}));return}const F=await(0,u.AI)().get("/api/teams/search",(0,y.F)({query:C,page:K,perpage:_,sort:z}));let H=!1;if(a&&(H=F.teams.length===0),x.TP.licensedAccessControlEnabled()&&x.TP.hasPermission(v.AccessControlAction.ActionTeamsRolesList)){n((0,h.dJ)());const Y=F?.teams.map(S=>S.id),V=await(0,u.AI)().post("/api/access-control/teams/roles/search",{teamIds:Y});F.teams.forEach(S=>{S.roles=V?V[S.id]||[]:[]}),n((0,h.jE)())}n((0,h.Q9)({noTeams:H,...F}))}}const m=(0,e.debounce)(a=>a(r()),500);function l(a){return async n=>{const p=await(0,u.AI)().get(`/api/teams/${a}`,(0,y.F)());n((0,h.$T)(p)),n((0,A.Vz)((0,c.R)(p)))}}function o(a){return async n=>{await(0,u.AI)().delete(`/api/teams/${a}`),await x.TP.fetchUserPermissions(),n(r())}}function D(a){return async n=>{n((0,h.L5)(a)),m(n)}}function P(a){return async n=>{n((0,h.EC)(a)),n(r())}}function R({sortBy:a}){const n=a.length?`${a[0].id}-${a[0].desc?"desc":"asc"}`:void 0;return async p=>{p((0,h.$u)(n)),p(r())}}function b(){return async(a,n)=>{const p=n().team.team,C=await getBackendSrv().get(`/api/teams/${p.uid}/members`);a(teamMembersLoaded(C))}}function G(a,n){return async(p,C)=>{const K=C().team.team;await(0,u.AI)().put(`/api/teams/${K.uid}`,{name:a,email:n}),p(l(K.uid))}}function L(){return async(a,n)=>{const p=n().team.team,C=await(0,u.AI)().get(`/api/teams/${p.uid}/groups`);a((0,h.tC)(C))}}function W(a){return async(n,p)=>{const C=p().team.team;await(0,u.AI)().post(`/api/teams/${C.uid}/groups`,{groupId:a}),n(L())}}function U(a){return async(n,p)=>{const C=p().team.team;await(0,u.AI)().delete(`/api/teams/${C.uid}/groups?groupId=${encodeURIComponent(a)}`),n(L())}}function $(a){return async n=>{await getBackendSrv().put(`/api/teams/${a.teamId}/members/${a.userId}`,{permission:a.permission}),n(b())}}},66191:(B,E,s)=>{s.d(E,{R:()=>c,X:()=>h});var e=s(62061),T=s(25096),u=s(65642),A=s(15130),x=s(42939),y=s(96673);const v={avatarUrl:"public/img/user_profile.png",id:1,uid:"",name:"Loading",email:"loading",memberCount:0,permission:y.TeamPermissionLevel.Member,accessControl:{isEditor:!1},orgId:0,updated:"",isProvisioned:!1};function c(r){const m={img:r.avatarUrl,id:"team-"+r.uid,subTitle:"Manage members and settings",url:`org/teams/edit/${r.uid}`,text:r.name,children:[{active:!1,icon:"sliders-v-alt",id:`team-settings-${r.uid}`,text:"Settings",url:`org/teams/edit/${r.uid}/settings`}]};(r===v||A.TP.hasPermissionInMetadata(y.AccessControlAction.ActionTeamsPermissionsRead,r))&&m.children.unshift({active:!1,icon:"users-alt",id:`team-members-${r.uid}`,text:"Members",url:`org/teams/edit/${r.uid}/members`});const l={active:!1,icon:"sync",id:`team-groupsync-${r.uid}`,text:"External group sync",url:`org/teams/edit/${r.uid}/groupsync`},o=r===v;return(0,x.z5)()&&(l.tabSuffix=()=>(0,T.J)({experimentId:o?"":"feature-highlights-team-sync-badge",eventVariant:"trial"})),(0,e.a)("teamsync")?(o||A.TP.hasPermissionInMetadata(y.AccessControlAction.ActionTeamsPermissionsRead,r))&&m.children.push(l):u.Ay.featureToggles.featureHighlights&&m.children.push({...l,tabSuffix:()=>(0,T.J)({experimentId:o?"":"feature-highlights-team-sync-badge"})}),m}function h(r){const m=c(v);let l;for(const o of m.children)if(o.id.indexOf(r)>0){o.active=!0,l=o;break}return{main:m,node:l}}}}]);

//# sourceMappingURL=TeamPages.615b0705102c37879a19.js.map