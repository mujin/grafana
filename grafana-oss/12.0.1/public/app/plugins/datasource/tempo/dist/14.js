"use strict";(globalThis.webpackChunktempo=globalThis.webpackChunktempo||[]).push([[14],{14:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Qe});var o=n(9728),r=n(6089),a=n(5959),i=n(364),s=n(8290),l=n(8531),c=n(2007),u=n(8580);const p=/^(-?\d+(?:\.\d+)?)(ms|[Mwdhmsy])$/,d=(e,t=p)=>!(e.match(t)||!e);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=e=>{const[t,n]=(0,a.useState)((()=>!!e.value&&d(e.value,e.validationRegex)));var r;(0,u.A)((()=>{n(d(e.value,e.validationRegex))}),500,[e.value]);const i={labelWidth:26,disabled:null!==(r=e.disabled)&&void 0!==r&&r,invalid:t,error:e.isInvalidError};return e.label&&(i.label=e.label,i.tooltip=e.tooltip||""),(0,o.jsx)(c.InlineField,(s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){h(e,t,n[t])}))}return e}({},i),l=null!=(l={children:(0,o.jsx)(c.Input,{type:"text",placeholder:e.placeholder||"0",width:e.width||40,onChange:t=>{e.onChange(t.currentTarget.value)},value:e.value,"aria-label":e.ariaLabel||"interval input"})})?l:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(l)).forEach((function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(l,e))})),s));var s,l};function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){f(e,t,n[t])}))}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const j=({values:e,onChange:t,id:n})=>{const a=(0,c.useStyles2)(v);return(0,o.jsx)("div",{className:a.wrapper,children:e.length?e.map(((i,s)=>(0,o.jsxs)("div",{className:a.pair,children:[(0,o.jsx)(c.SegmentInput,{id:`${n}-key-${s}`,placeholder:"Tag name",value:i.key,onChange:n=>{t(e.map(((e,t)=>t===s?y(b({},e),{key:String(n)}):e)))}}),(0,o.jsx)(c.InlineLabel,{"aria-label":"equals",className:a.operator,children:"as"}),(0,o.jsx)(c.SegmentInput,{id:`${n}-value-${s}`,placeholder:"New name (optional)",value:i.value||"",onChange:n=>{t(e.map(((e,t)=>t===s?y(b({},e),{value:String(n)}):e)))}}),(0,o.jsx)(c.ToolbarButton,{onClick:()=>t([...e.slice(0,s),...e.slice(s+1)]),className:(0,r.cx)(a.removeTag,"query-part"),"aria-label":"Remove tag",type:"button",icon:"times"}),s===e.length-1?(0,o.jsx)(c.ToolbarButton,{onClick:()=>t([...e,{key:"",value:""}]),className:"query-part","aria-label":"Add tag",type:"button",icon:"plus"}):null]},s))):(0,o.jsx)(c.ToolbarButton,{icon:"plus",onClick:()=>t([...e,{key:"",value:""}]),className:"query-part","aria-label":"Add tag",type:"button"})})},v=e=>({wrapper:(0,r.css)({display:"flex",flexDirection:"column",gap:`${e.spacing(.5)} 0`}),pair:(0,r.css)({display:"flex",justifyContent:"start",alignItems:"center"}),operator:(0,r.css)({color:e.v1.palette.orange,width:"auto"}),removeTag:(0,r.css)({marginRight:e.spacing(.5)})});function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){O(e,t,n[t])}))}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function D({options:e,onOptionsChange:t}){const n=["loki","elasticsearch","grafana-splunk-datasource","grafana-opensearch-datasource","grafana-falconlogscale-datasource","googlecloud-logging-datasource"],i=(0,a.useMemo)((()=>function(e){var t;if(null==e?void 0:e.tracesToLogsV2)return e.tracesToLogsV2;if(!(null==e?void 0:e.tracesToLogs))return;const n={customQuery:!1};return n.datasourceUid=e.tracesToLogs.datasourceUid,n.tags=e.tracesToLogs.mapTagNamesEnabled?e.tracesToLogs.mappedTags:null===(t=e.tracesToLogs.tags)||void 0===t?void 0:t.map((e=>({key:e}))),n.filterByTraceID=e.tracesToLogs.filterByTraceID,n.filterBySpanID=e.tracesToLogs.filterBySpanID,n.spanStartTimeShift=e.tracesToLogs.spanStartTimeShift,n.spanEndTimeShift=e.tracesToLogs.spanEndTimeShift,n}(e.jsonData)||{customQuery:!1}),[e.jsonData]),{query:s="",tags:u,customQuery:p}=i,d=(0,a.useCallback)((n=>{t(w(m({},e),{jsonData:w(m({},e.jsonData),{tracesToLogsV2:m({},i,n),tracesToLogs:void 0})}))}),[t,e,i]);return(0,o.jsxs)("div",{className:(0,r.css)({width:"100%"}),children:[(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:"The logs data source the trace is going to navigate to",label:"Data source",labelWidth:26,children:(0,o.jsx)(l.DataSourcePicker,{inputId:"trace-to-logs-data-source-picker",filter:e=>n.includes(e.type),current:i.datasourceUid,noDefault:!0,width:40,onChange:e=>d({datasourceUid:e.uid}),onClear:()=>d({datasourceUid:void 0})})})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(g,{label:P("start"),tooltip:T("start","0"),value:i.spanStartTimeShift||"",onChange:e=>{d({spanStartTimeShift:e})},isInvalidError:S})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(g,{label:P("end"),tooltip:T("end","0"),value:i.spanEndTimeShift||"",onChange:e=>{d({spanEndTimeShift:e})},isInvalidError:S})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:"Tags that will be used in the query. Default tags: 'cluster', 'hostname', 'namespace', 'pod', 'service.name', 'service.namespace'",label:"Tags",labelWidth:26,children:(0,o.jsx)(j,{values:null!=u?u:[],onChange:e=>d({tags:e})})})}),(0,o.jsx)(x,{disabled:p,type:"trace",id:"filterByTraceID",value:Boolean(i.filterByTraceID),onChange:e=>d({filterByTraceID:e})}),(0,o.jsx)(x,{disabled:p,type:"span",id:"filterBySpanID",value:Boolean(i.filterBySpanID),onChange:e=>d({filterBySpanID:e})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:"Use a custom query with the possibility to interpolate variables from the trace or span",label:"Use custom query",labelWidth:26,children:(0,o.jsx)(c.InlineSwitch,{id:"customQuerySwitch",value:p,onChange:e=>d({customQuery:e.currentTarget.checked})})})}),p&&(0,o.jsx)(c.InlineField,{label:"Query",labelWidth:26,tooltip:"The query that will run when navigating from a trace to logs data source. Interpolate tags using the `$__tags` keyword",grow:!0,children:(0,o.jsx)(c.Input,{label:"Query",type:"text",allowFullScreen:!0,value:s,onChange:e=>d({query:e.currentTarget.value})})})]})}function x(e){return(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{disabled:e.disabled,label:`Filter by ${e.type} ID`,labelWidth:26,grow:!0,tooltip:`Filters logs by ${e.type} ID, where the ${e.type} ID should be part of the log line`,children:(0,o.jsx)(c.InlineSwitch,{id:e.id,value:e.value,onChange:t=>e.onChange(t.currentTarget.checked)})})})}const P=e=>`Span ${e} time shift`,T=(e,t)=>`Shifts the ${e} time of the span. Default: ${t} (Time units can be used here, for example: 5s, -1m, 3h)`,S="Invalid time shift. See tooltip for examples.",C=({options:e,onOptionsChange:t})=>{let n=e.type;return n+="tempo"===e.type?"/configure-tempo-data-source/#trace-to-logs":"/#trace-to-logs",(0,o.jsx)(i.A,{title:"Trace to logs",description:(0,o.jsx)(s.H,{description:"Navigate from a trace span to the selected data source's logs.",suffix:n,feature:"trace to logs"}),isCollapsible:!0,isInitiallyOpen:!0,children:(0,o.jsx)(D,{options:e,onOptionsChange:t})})};var I=n(7781);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){k(e,t,n[t])}))}return e}function F(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function q({options:e,onOptionsChange:t}){var n,a,i,s,u,p;const d=(0,c.useStyles2)(N);var h;return(0,o.jsxs)("div",{className:(0,r.css)({width:"100%"}),children:[(0,o.jsx)(c.InlineFieldRow,{className:d.row,children:(0,o.jsx)(c.InlineField,{tooltip:"The Prometheus data source the trace is going to navigate to",label:"Data source",labelWidth:26,children:(0,o.jsx)(l.DataSourcePicker,{inputId:"trace-to-metrics-data-source-picker",pluginId:"prometheus",current:null===(n=e.jsonData.tracesToMetrics)||void 0===n?void 0:n.datasourceUid,noDefault:!0,width:40,onChange:n=>(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToMetrics",F(E({},e.jsonData.tracesToMetrics),{datasourceUid:n.uid})),onClear:()=>(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToMetrics",F(E({},e.jsonData.tracesToMetrics),{datasourceUid:void 0}))})})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(g,{label:P("start"),tooltip:T("start","-2m"),value:(null===(a=e.jsonData.tracesToMetrics)||void 0===a?void 0:a.spanStartTimeShift)||"",onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToMetrics",F(E({},e.jsonData.tracesToMetrics),{spanStartTimeShift:n}))},placeholder:"-2m",isInvalidError:S})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(g,{label:P("end"),tooltip:T("end","2m"),value:(null===(i=e.jsonData.tracesToMetrics)||void 0===i?void 0:i.spanEndTimeShift)||"",onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToMetrics",F(E({},e.jsonData.tracesToMetrics),{spanEndTimeShift:n}))},placeholder:"2m",isInvalidError:S})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:"Tags that will be used in the metrics query",label:"Tags",labelWidth:26,children:(0,o.jsx)(j,{values:null!==(h=null===(s=e.jsonData.tracesToMetrics)||void 0===s?void 0:s.tags)&&void 0!==h?h:[],onChange:n=>(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToMetrics",F(E({},e.jsonData.tracesToMetrics),{tags:n}))})})}),null===(p=e.jsonData.tracesToMetrics)||void 0===p||null===(u=p.queries)||void 0===u?void 0:u.map(((n,r)=>(0,o.jsxs)("div",{className:d.queryRow,children:[(0,o.jsx)(c.InlineField,{label:"Link Label",labelWidth:26,tooltip:"Descriptive label for the linked query",children:(0,o.jsx)(c.Input,{label:"Link Label",type:"text",allowFullScreen:!0,value:n.name,width:40,onChange:n=>{var o,a;const i=(null!==(a=null===(o=e.jsonData.tracesToMetrics)||void 0===o?void 0:o.queries)&&void 0!==a?a:[]).map(((e,t)=>t===r?F(E({},e),{name:n.currentTarget.value}):e));(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToMetrics",F(E({},e.jsonData.tracesToMetrics),{queries:i}))}})}),(0,o.jsx)(c.InlineField,{label:"Query",labelWidth:10,tooltip:"The Prometheus query that will run when navigating from a trace to metrics. Interpolate tags using the `$__tags` keyword",grow:!0,children:(0,o.jsx)(c.Input,{label:"Query",type:"text",allowFullScreen:!0,value:n.query,onChange:n=>{var o,a;const i=(null!==(a=null===(o=e.jsonData.tracesToMetrics)||void 0===o?void 0:o.queries)&&void 0!==a?a:[]).map(((e,t)=>t===r?F(E({},e),{query:n.currentTarget.value}):e));(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToMetrics",F(E({},e.jsonData.tracesToMetrics),{queries:i}))}})}),(0,o.jsx)(c.Button,{variant:"destructive",title:"Remove query",icon:"times",type:"button",onClick:()=>{var n;const o=null===(n=e.jsonData.tracesToMetrics)||void 0===n?void 0:n.queries.filter(((e,t)=>t!==r));(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToMetrics",F(E({},e.jsonData.tracesToMetrics),{queries:o}))}})]},r))),(0,o.jsx)(c.Button,{variant:"secondary",title:"Add query",icon:"plus",type:"button",onClick:()=>{var n,o;(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToMetrics",F(E({},e.jsonData.tracesToMetrics),{queries:[...null!==(o=null===(n=e.jsonData.tracesToMetrics)||void 0===n?void 0:n.queries)&&void 0!==o?o:[],{query:""}]}))},children:"Add query"})]})}const M=({options:e,onOptionsChange:t})=>{let n=e.type;return n+="tempo"===e.type?"/configure-tempo-data-source/#trace-to-metrics":"/#trace-to-metrics",(0,o.jsx)(i.A,{title:"Trace to metrics",description:(0,o.jsx)(s.H,{description:"Navigate from a trace span to the selected data source's metrics.",suffix:n,feature:"trace to metrics"}),isCollapsible:!0,isInitiallyOpen:!0,children:(0,o.jsx)(q,{options:e,onOptionsChange:t})})},N=e=>({infoText:{paddingBottom:e.spacing(2),color:e.colors.text.secondary},row:(0,r.css)({label:"row",alignItems:"baseline"}),queryRow:(0,r.css)({label:"queryRow",display:"flex",flexFlow:"wrap"})});var R=n(6321);function B(e){const t=(n=e.profileTypes,(0,a.useMemo)((()=>{if(!n)return[];let e=new Map;for(let o of n){var t;let n=[];o.id.indexOf(":")>-1&&(n=o.id.split(":"));const[r,a]=n;e.has(r)||e.set(r,{label:r,value:r,items:[]}),null===(t=e.get(r))||void 0===t||t.items.push({label:a,value:o.id})}return Array.from(e.values())}),[n]));var n,r;return(0,o.jsx)(c.Cascader,{placeholder:e.placeholder,separator:"-",displayAllSelectedLevels:!0,initialValue:e.initialProfileTypeId,allowCustomValue:!0,onSelect:e.onChange,options:t,changeOnSelect:!1,width:null!==(r=e.width)&&void 0!==r?r:26})}function J(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function U(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){J(a,o,r,i,s,"next",e)}function s(e){J(a,o,r,i,s,"throw",e)}i(void 0)}))}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){L(e,t,n[t])}))}return e}function W(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function A({options:e,onOptionsChange:t}){var n,i,s,u,p,d,h,g;const f=(0,a.useMemo)((()=>["grafana-pyroscope-datasource"]),[]),[b,y]=(0,a.useState)([]),v=(0,a.useMemo)((()=>{var t;let n=0===b.length?"No profile types found":"Select profile type";return(null===(t=e.jsonData.tracesToProfiles)||void 0===t?void 0:t.datasourceUid)||(n="Please select profiling data source"),n}),[null===(n=e.jsonData.tracesToProfiles)||void 0===n?void 0:n.datasourceUid,b]),{value:O}=(0,R.A)(U((function*(){var t;return yield(0,l.getDataSourceSrv)().get(null===(t=e.jsonData.tracesToProfiles)||void 0===t?void 0:t.datasourceUid)})),[null===(i=e.jsonData.tracesToProfiles)||void 0===i?void 0:i.datasourceUid]),{value:m}=(0,R.A)(U((function*(){var t;if(O instanceof l.DataSourceWithBackend&&f.includes(O.type)&&O.uid===(null===(t=e.jsonData.tracesToProfiles)||void 0===t?void 0:t.datasourceUid))return yield null==O?void 0:O.getResource("profileTypes")})),[O]);var w;return(0,a.useEffect)((()=>{y(null!=m?m:[])}),[m]),(0,o.jsxs)("div",{className:(0,r.css)({width:"100%"}),children:[(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:"The profiles data source the trace is going to navigate to",label:"Data source",labelWidth:26,children:(0,o.jsx)(l.DataSourcePicker,{inputId:"trace-to-profiles-data-source-picker",filter:e=>f.includes(e.type),current:null===(s=e.jsonData.tracesToProfiles)||void 0===s?void 0:s.datasourceUid,noDefault:!0,width:40,onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToProfiles",W(Q({},e.jsonData.tracesToProfiles),{datasourceUid:n.uid}))},onClear:()=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToProfiles",W(Q({},e.jsonData.tracesToProfiles),{datasourceUid:void 0}))}})})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:"Tags that will be used in the query. Default tags: 'service.name', 'service.namespace'",label:"Tags",labelWidth:26,children:(0,o.jsx)(j,{values:null!==(w=null===(u=e.jsonData.tracesToProfiles)||void 0===u?void 0:u.tags)&&void 0!==w?w:[],onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToProfiles",W(Q({},e.jsonData.tracesToProfiles),{tags:n}))}})})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:"Profile type that will be used in the query",label:"Profile type",labelWidth:26,children:(0,o.jsx)(B,{profileTypes:b,placeholder:v,initialProfileTypeId:null===(p=e.jsonData.tracesToProfiles)||void 0===p?void 0:p.profileTypeId,onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToProfiles",W(Q({},e.jsonData.tracesToProfiles),{profileTypeId:n}))},width:40})})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:"Use a custom query with the possibility to interpolate variables from the trace or span",label:"Use custom query",labelWidth:26,children:(0,o.jsx)(c.InlineSwitch,{id:"profilesCustomQuerySwitch",value:null===(d=e.jsonData.tracesToProfiles)||void 0===d?void 0:d.customQuery,onChange:n=>(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToProfiles",W(Q({},e.jsonData.tracesToProfiles),{customQuery:n.currentTarget.checked}))})})}),(null===(h=e.jsonData.tracesToProfiles)||void 0===h?void 0:h.customQuery)&&(0,o.jsx)(c.InlineField,{label:"Query",labelWidth:26,tooltip:"The query that will run when navigating from a trace to profiles data source. Interpolate tags using the `$__tags` keyword",grow:!0,children:(0,o.jsx)(c.Input,{label:"Query",type:"text",allowFullScreen:!0,value:(null===(g=e.jsonData.tracesToProfiles)||void 0===g?void 0:g.query)||"",onChange:n=>(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tracesToProfiles",W(Q({},e.jsonData.tracesToProfiles),{query:n.currentTarget.value}))})})]})}const $=({options:e,onOptionsChange:t})=>(0,o.jsx)(i.A,{title:"Trace to profiles",description:(0,o.jsx)(s.H,{description:"Navigate from a trace span to the selected data source's profiles.",suffix:`${e.type}/configure-tempo-data-source/#trace-to-profiles`,feature:"trace to profiles"}),isCollapsible:!0,isInitiallyOpen:!0,children:(0,o.jsx)(A,{options:e,onOptionsChange:t})});var H=n(838);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V({options:e,onOptionsChange:t}){var n;const r=(0,c.useStyles2)(z);return(0,o.jsx)("div",{className:r.container,children:(0,o.jsx)(c.InlineFieldRow,{className:r.row,children:(0,o.jsx)(c.InlineField,{tooltip:"Displays the node graph above the trace view. Default: disabled",label:"Enable node graph",labelWidth:26,children:(0,o.jsx)(c.InlineSwitch,{id:"enableNodeGraph",value:null===(n=e.jsonData.nodeGraph)||void 0===n?void 0:n.enabled,onChange:n=>{return(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"nodeGraph",(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){_(e,t,n[t])}))}return e}({},e.jsonData.nodeGraph),r=null!=(r={enabled:n.currentTarget.checked})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(r)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})),o));var o,r}})})})})}const G=({options:e,onOptionsChange:t})=>{let n=e.type;return n+="tempo"===e.type?"/configure-tempo-data-source/#node-graph":"/#node-graph",(0,o.jsx)(H.I,{title:"Node graph",description:(0,o.jsx)(s.H,{description:"Show or hide the node graph visualization.",suffix:n,feature:"the node graph"}),children:(0,o.jsx)(V,{options:e,onOptionsChange:t})})},z=e=>({infoText:(0,r.css)({label:"infoText",paddingBottom:e.spacing(2),color:e.colors.text.secondary}),container:(0,r.css)({label:"container",width:"100%"}),row:(0,r.css)({label:"row",alignItems:"baseline"})});function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){K(e,t,n[t])}))}return e}function Y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Z="None",ee="Duration",te="Tag";function ne({options:e,onOptionsChange:t}){var n,a,i;const s=(0,c.useStyles2)(re),l=[Z,ee,te].map(I.toOption);return(0,o.jsxs)("div",{className:(0,r.css)({width:"100%"}),children:[(0,o.jsx)(c.InlineFieldRow,{className:s.row,children:(0,o.jsx)(c.InlineField,{label:"Label",labelWidth:26,tooltip:"Default: duration",grow:!0,children:(0,o.jsx)(c.Select,{inputId:"label",options:l,value:(null===(n=e.jsonData.spanBar)||void 0===n?void 0:n.type)||"",onChange:n=>{var o;(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"spanBar",Y(X({},e.jsonData.spanBar),{type:null!==(o=null==n?void 0:n.value)&&void 0!==o?o:""}))},placeholder:"Duration",isClearable:!0,"aria-label":"select-label-name",width:40})})}),(null===(a=e.jsonData.spanBar)||void 0===a?void 0:a.type)===te&&(0,o.jsx)(c.InlineFieldRow,{className:s.row,children:(0,o.jsx)(c.InlineField,{label:"Tag key",labelWidth:26,tooltip:"Tag key which will be used to get the tag value. A span's attributes and resources will be searched for the tag key",children:(0,o.jsx)(c.Input,{type:"text",placeholder:"Enter tag key",onChange:n=>(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"spanBar",Y(X({},e.jsonData.spanBar),{tag:n.currentTarget.value})),value:(null===(i=e.jsonData.spanBar)||void 0===i?void 0:i.tag)||"",width:40})})})]})}const oe=({options:e,onOptionsChange:t})=>{let n=e.type;return n+="tempo"===e.type?"/configure-tempo-data-source/#span-bar":"/#span-bar",(0,o.jsx)(H.I,{title:"Span bar",description:(0,o.jsx)(s.H,{description:"Add additional info next to the service and operation on a span bar row in the trace view.",suffix:n,feature:"the span bar"}),children:(0,o.jsx)(ne,{options:e,onOptionsChange:t})})},re=e=>({infoText:(0,r.css)({label:"infoText",paddingBottom:e.spacing(2),color:e.colors.text.secondary}),row:(0,r.css)({label:"row",alignItems:"baseline"})});var ae=n(4305),ie=n(1535),se=n(3260),le=n(8455),ce=n(1080);function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ue(e,t,n[t])}))}return e}function de(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function he({options:e,onOptionsChange:t}){var n,r,a,i,s;const l=(0,c.useStyles2)(ge),u=e=>`Time shift for ${e} of search`,p=e=>`Shifts the ${e} of the time range when searching by TraceID. Searching can return traces that do not fully fall into the search time range, so we recommend using higher time shifts for longer traces. Default: 30m (Time units can be used here, for example: 5s, 1m, 3h`;return(0,o.jsxs)("div",{className:l.container,children:[(0,o.jsx)(c.InlineField,{label:"Use time range in query",tooltip:"The time range can be used when there are performance issues or timeouts since it will narrow down the search to the defined range. Default: disabled",labelWidth:26,children:(0,o.jsx)(c.InlineSwitch,{id:"enable-time-shift",value:(null===(n=e.jsonData.traceQuery)||void 0===n?void 0:n.timeShiftEnabled)||!1,onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"traceQuery",de(pe({},e.jsonData.traceQuery),{timeShiftEnabled:n.currentTarget.checked}))}})}),(0,o.jsx)(g,{label:u("start"),tooltip:p("start"),value:(null===(r=e.jsonData.traceQuery)||void 0===r?void 0:r.spanStartTimeShift)||"",disabled:!(null===(a=e.jsonData.traceQuery)||void 0===a?void 0:a.timeShiftEnabled),onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"traceQuery",de(pe({},e.jsonData.traceQuery),{spanStartTimeShift:n}))},isInvalidError:S}),(0,o.jsx)(g,{label:u("end"),tooltip:p("end"),value:(null===(i=e.jsonData.traceQuery)||void 0===i?void 0:i.spanEndTimeShift)||"",disabled:!(null===(s=e.jsonData.traceQuery)||void 0===s?void 0:s.timeShiftEnabled),onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"traceQuery",de(pe({},e.jsonData.traceQuery),{spanEndTimeShift:n}))},isInvalidError:S})]})}const ge=e=>({infoText:(0,r.css)({paddingBottom:e.spacing(2),color:e.colors.text.secondary}),container:(0,r.css)({width:"100%"}),row:(0,r.css)({alignItems:"baseline"})});function fe({options:e,onOptionsChange:t}){var n,r;const a=(0,c.useStyles2)(ge);return(0,o.jsx)("div",{className:a.container,children:(0,o.jsxs)(c.InlineFieldRow,{className:a.row,children:[(0,o.jsx)(c.InlineField,{tooltip:"The Prometheus data source with the service graph data",label:"Data source",labelWidth:26,children:(0,o.jsx)(l.DataSourcePicker,{inputId:"service-graph-data-source-picker",pluginId:"prometheus",current:null===(n=e.jsonData.serviceMap)||void 0===n?void 0:n.datasourceUid,noDefault:!0,width:40,onChange:n=>(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"serviceMap",{datasourceUid:n.uid})})}),(null===(r=e.jsonData.serviceMap)||void 0===r?void 0:r.datasourceUid)?(0,o.jsx)(c.Button,{type:"button",variant:"secondary",size:"sm",fill:"text",onClick:()=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"serviceMap",{datasourceUid:void 0})},children:"Clear"}):null]})})}var be=n(5572);function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ye(e,t,n[t])}))}return e}function ve(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Oe=({options:e,onOptionsChange:t})=>{var n,r;const a=(0,c.useStyles2)(me);return(0,o.jsxs)(i.A,{title:"Streaming",isCollapsible:!1,description:(0,o.jsxs)(c.Stack,{gap:.5,children:[(0,o.jsx)("div",{children:"Enable streaming for different Tempo features."}),(0,o.jsx)("a",{href:"https://grafana.com/docs/tempo/latest/traceql/#stream-query-results",target:"_blank",rel:"noreferrer",className:a.a,children:"Learn more"})]}),children:[(0,o.jsx)(c.Alert,{severity:"info",title:"Streaming and self-managed Tempo instances",children:"If your Tempo instance is behind a load balancer or proxy that does not supporting gRPC or HTTP2, streaming will probably not work and should be disabled."}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:`Enable streaming for search queries. Minimum required version for Tempo: ${be.yJ[be.SD.searchStreaming]}.`,label:"Search queries",labelWidth:26,children:(0,o.jsx)(c.InlineSwitch,{id:"streamingEnabled.search",value:(null===(n=e.jsonData.streamingEnabled)||void 0===n?void 0:n.search)||!1,onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"streamingEnabled",ve(je({},e.jsonData.streamingEnabled),{search:n.currentTarget.checked}))}})})}),(0,o.jsx)(c.InlineFieldRow,{children:(0,o.jsx)(c.InlineField,{tooltip:`Enable streaming for metrics queries. Minimum required version for Tempo: ${be.yJ[be.SD.metricsStreaming]}.`,label:"Metrics queries",labelWidth:26,children:(0,o.jsx)(c.InlineSwitch,{id:"streamingEnabled.metrics",value:(null===(r=e.jsonData.streamingEnabled)||void 0===r?void 0:r.metrics)||!1,onChange:n=>{(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"streamingEnabled",ve(je({},e.jsonData.streamingEnabled),{metrics:n.currentTarget.checked}))}})})})]})},me=e=>({a:(0,r.css)({color:e.colors.text.link,textDecoration:"underline",marginLeft:"5px","&:hover":{textDecoration:"none"}})});function we({options:e,onOptionsChange:t}){const n=(0,c.useStyles2)(xe);return(0,o.jsx)("div",{className:(0,r.css)({width:"100%"}),children:(0,o.jsx)(c.InlineFieldRow,{className:n.row,children:(0,o.jsx)(c.InlineField,{label:"Max tags and tag values",labelWidth:26,tooltip:"Specify the max number of tags and tag values to display in the Tempo editor. Default: 5000",children:(0,o.jsx)(c.Input,{type:"number",placeholder:"5000",onChange:n=>(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"tagLimit",n.currentTarget.value),value:e.jsonData.tagLimit||"",width:40})})})})}const De=({options:e,onOptionsChange:t})=>(0,o.jsx)(H.I,{title:"Tag limit",description:(0,o.jsx)(s.H,{description:"Specify the limit for tags and tag values.",suffix:"/#tag-limit",feature:"the tag limit"}),children:(0,o.jsx)(we,{options:e,onOptionsChange:t})}),xe=e=>({infoText:(0,r.css)({label:"infoText",paddingBottom:e.spacing(2),color:e.colors.text.secondary}),row:(0,r.css)({label:"row",alignItems:"baseline"})});var Pe=n(1777),Te=n(6569),Se=n(2862),Ce=n(3557),Ie=n(4340);function ke(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Ee(e,t,n[t])}))}return e}function qe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Me({options:e,onOptionsChange:t,datasource:n}){var r,i,s;const l=function(){var e,t=(e=function*(){if(!n)throw new Error("Unable to retrieve datasource");try{yield n.languageProvider.start()}catch(e){throw new Error((0,Ie.u1)(e.data.message,"Unable to query Tempo"))}},function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){ke(a,o,r,i,s,"next",e)}function s(e){ke(a,o,r,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),{error:u,loading:p}=(0,Pe.A)(l,[n,e]),d=(0,a.useCallback)((n=>{var o;let r=null===(o=e.jsonData.search)||void 0===o?void 0:o.filters;r||(r=[]);const a=r.findIndex((e=>e.id===n.id));a>=0?r=(0,Se._D)(r,a,n):r.push(n),(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"search",qe(Fe({},e.jsonData.search),{filters:r}))}),[t,e]);(0,a.useEffect)((()=>{var n;(null===(n=e.jsonData.search)||void 0===n?void 0:n.filters)||(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"search",qe(Fe({},e.jsonData.search),{filters:[{id:"service-name",tag:"service.name",operator:"=",scope:Ce.d.Resource},{id:"span-name",tag:"name",operator:"=",scope:Ce.d.Span}]}))}),[t,e]);const h=null===(i=e.jsonData.search)||void 0===i||null===(r=i.filters)||void 0===r?void 0:r.find((e=>!e.tag));return(0,o.jsxs)(o.Fragment,{children:[n?(0,o.jsx)(Te.A,{updateFilter:d,deleteFilter:n=>{var o,r;(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"search",qe(Fe({},e.jsonData.search),{filters:null===(r=e.jsonData.search)||void 0===r||null===(o=r.filters)||void 0===o?void 0:o.filter((e=>e.id!==n.id))}))},filters:(null===(s=e.jsonData.search)||void 0===s?void 0:s.filters)||[],datasource:n,setError:()=>{},staticTags:["duration"],isTagsLoading:p,hideValues:!0,generateQueryWithoutFilter:()=>"{}"}):(0,o.jsx)("div",{children:"Invalid data source, please create a valid data source and try again"}),u&&(0,o.jsx)(c.Alert,{title:"Unable to fetch TraceQL tags",severity:"error",topSpacing:1,children:u.message}),h&&(0,o.jsx)(c.Alert,{title:"Please ensure each filter has a selected tag",severity:"warning",topSpacing:1})]})}function Ne(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be({options:e,onOptionsChange:t}){var n;const r=(0,c.useStyles2)(ge),a=(0,l.getDataSourceSrv)(),i=function(){var t,n=(t=function*(){return yield a.get({type:e.type,uid:e.uid})},function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(e){Ne(a,o,r,i,s,"next",e)}function s(e){Ne(a,o,r,i,s,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),{value:s}=(0,Pe.A)(i,[a,e]);return(0,o.jsxs)("div",{className:r.container,children:[(0,o.jsx)(c.InlineFieldRow,{className:r.row,children:(0,o.jsx)(c.InlineField,{tooltip:"Removes the search tab from the query editor",label:"Hide search",labelWidth:26,children:(0,o.jsx)(c.InlineSwitch,{id:"hideSearch",value:null===(n=e.jsonData.search)||void 0===n?void 0:n.hide,onChange:n=>{return(0,I.updateDatasourcePluginJsonDataOption)({onOptionsChange:t,options:e},"search",(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Re(e,t,n[t])}))}return e}({},e.jsonData.search),r=null!=(r={hide:n.currentTarget.checked})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(r)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})),o));var o,r}})})}),(0,o.jsx)(c.InlineFieldRow,{className:r.row,children:(0,o.jsx)(c.InlineField,{tooltip:"Configures which fields are available in the UI",label:"Static filters",labelWidth:26,children:(0,o.jsx)(Me,{datasource:s,options:e,onOptionsChange:t})})})]})}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){Je(e,t,n[t])}))}return e}const Le=e=>({container:(0,r.css)({marginBottom:e.spacing(2),maxWidth:"900px"})}),Qe=({options:e,onOptionsChange:t})=>{const n=(0,c.useStyles2)(Le);return(0,o.jsxs)("div",{className:n.container,children:[(0,o.jsx)(ae.I,{dataSourceName:"Tempo",docsLink:"https://grafana.com/docs/grafana/latest/datasources/tempo",hasRequiredFields:!1}),(0,o.jsx)(c.Divider,{spacing:4}),(0,o.jsx)(ie.u,{config:e,onChange:t,urlPlaceholder:"http://localhost:3200"}),(0,o.jsx)(c.Divider,{spacing:4}),(0,o.jsx)(se.N,Ue({},(0,le.pe)({config:e,onChange:t}))),(0,o.jsx)(c.Divider,{spacing:4}),(0,o.jsx)(Oe,{options:e,onOptionsChange:t}),(0,o.jsx)(c.Divider,{spacing:4}),(0,o.jsx)(C,{options:e,onOptionsChange:t}),(0,o.jsx)(c.Divider,{spacing:4}),(0,o.jsx)(M,{options:e,onOptionsChange:t}),(0,o.jsx)(c.Divider,{spacing:4}),(0,o.jsx)($,{options:e,onOptionsChange:t}),(0,o.jsx)(c.Divider,{spacing:4}),(0,o.jsx)(i.A,{title:"Additional settings",description:"Additional settings are optional settings that can be configured for more control over your data source.",isCollapsible:!0,isInitiallyOpen:!1,children:(0,o.jsxs)(c.Stack,{gap:5,direction:"column",children:[(0,o.jsx)(ce.g,{config:e,onChange:t}),l.config.secureSocksDSProxyEnabled&&(0,o.jsx)(c.SecureSocksProxySettings,{options:e,onOptionsChange:t}),(0,o.jsx)(H.I,{title:"Service graph",description:(0,o.jsx)(s.H,{description:"Select a Prometheus data source that contains the service graph data.",suffix:"tempo/configure-tempo-data-source/#service-graph",feature:"the service graph"}),children:(0,o.jsx)(fe,{options:e,onOptionsChange:t})}),(0,o.jsx)(G,{options:e,onOptionsChange:t}),(0,o.jsx)(H.I,{title:"Tempo search",description:(0,o.jsx)(s.H,{description:"Modify how traces are searched.",suffix:"tempo/configure-tempo-data-source/#tempo-search",feature:"Tempo search"}),children:(0,o.jsx)(Be,{options:e,onOptionsChange:t})}),(0,o.jsx)(H.I,{title:"TraceID query",description:(0,o.jsx)(s.H,{description:"Modify how TraceID queries are run.",suffix:"tempo/configure-tempo-data-source/#traceid-query",feature:"the TraceID query"}),children:(0,o.jsx)(he,{options:e,onOptionsChange:t})}),(0,o.jsx)(oe,{options:e,onOptionsChange:t}),(0,o.jsx)(De,{options:e,onOptionsChange:t})]})})]})}}}]);
//# sourceMappingURL=14.js.map